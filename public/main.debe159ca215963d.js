"use strict";var dI=Object.defineProperty,hI=Object.defineProperties,fI=Object.getOwnPropertyDescriptors,zE=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable,GE=(Ft,$e,B)=>$e in Ft?dI(Ft,$e,{enumerable:!0,configurable:!0,writable:!0,value:B}):Ft[$e]=B,jy=(Ft,$e)=>{for(var B in $e||($e={}))pI.call($e,B)&&GE(Ft,B,$e[B]);if(zE)for(var B of zE($e))gI.call($e,B)&&GE(Ft,B,$e[B]);return Ft},$y=(Ft,$e)=>hI(Ft,fI($e));(self.webpackChunktuSalaJuegosFerrero=self.webpackChunktuSalaJuegosFerrero||[]).push([[179],{2313:(Ft,$e,B)=>{B.d($e,{nm:()=>J});var m=B(4976),oe=(B(5e3),B(3692),B(259),B(5861)),De=B(6881),Me=B(4859),ce=B(2090),Ge=B(1877);const ae=new Map,fe={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function st(ke){return ae.get(ke)||Object.assign({},fe)}function Qe(){return Oe}class Ye{constructor(Ae,Be,ht,At,wn){if(this.operation=Ae,this.retryPolicy=Be,this.getWaitDuration=ht,this.lowerBound=At,this.upperBound=wn,this.pending=null,this.nextErrorWaitInterval=At,At>wn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ae){var Be=this;return(0,oe.Z)(function*(){Be.stop();try{Be.pending=new ce.BH,yield function dt(ke){return new Promise(Ae=>{setTimeout(Ae,ke)})}(Be.getNextRun(Ae)),Be.pending.resolve(),yield Be.pending.promise,Be.pending=new ce.BH,yield Be.operation(),Be.pending.resolve(),yield Be.pending.promise,Be.process(!0).catch(()=>{})}catch(ht){Be.retryPolicy(ht)?Be.process(!1).catch(()=>{}):Be.stop()}})()}getNextRun(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Be}}}const yt=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(ke){if(!st(ke).activated)throw yt.create("use-before-activation",{appName:ke.name})}function Ze(ke,Ae){return at.apply(this,arguments)}function at(){return(at=(0,oe.Z)(function*({url:ke,body:Ae},Be){const ht={"Content-Type":"application/json"},At=Be.getImmediate({optional:!0});if(At){const Mr=yield At.getHeartbeatsHeader();Mr&&(ht["X-Firebase-Client"]=Mr)}const wn={method:"POST",body:JSON.stringify(Ae),headers:ht};let rr,Jn;try{rr=yield fetch(ke,wn)}catch(Mr){throw yt.create("fetch-network-error",{originalErrorMessage:null==Mr?void 0:Mr.message})}if(200!==rr.status)throw yt.create("fetch-status-error",{httpStatus:rr.status});try{Jn=yield rr.json()}catch(Mr){throw yt.create("fetch-parse-error",{originalErrorMessage:null==Mr?void 0:Mr.message})}const or=Jn.ttl.match(/^([\d.]+)(s)$/);if(!or||!or[2]||isNaN(Number(or[1])))throw yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Jn.ttl}`});const Wi=1e3*Number(or[1]),Ns=Date.now();return{token:Jn.token,expireTimeMillis:Ns+Wi,issuedAtTimeMillis:Ns}})).apply(this,arguments)}function Lt(ke,Ae){const{projectId:Be,appId:ht,apiKey:At}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Be}/apps/${ht}:exchangeDebugToken?key=${At}`,body:{debug_token:Ae}}}const ft="firebase-app-check-store";let rn=null;function Kt(){return rn||(rn=new Promise((ke,Ae)=>{try{const Be=indexedDB.open("firebase-app-check-database",1);Be.onsuccess=ht=>{ke(ht.target.result)},Be.onerror=ht=>{var At;Ae(yt.create("storage-open",{originalErrorMessage:null===(At=ht.target.error)||void 0===At?void 0:At.message}))},Be.onupgradeneeded=ht=>{0===ht.oldVersion&&ht.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(Be){Ae(yt.create("storage-open",{originalErrorMessage:null==Be?void 0:Be.message}))}}),rn)}function fr(){return(fr=(0,oe.Z)(function*(ke,Ae){const ht=(yield Kt()).transaction(ft,"readwrite"),wn=ht.objectStore(ft).put({compositeKey:ke,value:Ae});return new Promise((rr,Jn)=>{wn.onsuccess=or=>{rr()},ht.onerror=or=>{var Wi;Jn(yt.create("storage-set",{originalErrorMessage:null===(Wi=or.target.error)||void 0===Wi?void 0:Wi.message}))}})})).apply(this,arguments)}const $n=new Ge.Yd("@firebase/app-check");function sn(ke,Ae){return(0,ce.hl)()?function bn(ke,Ae){return function jn(ke,Ae){return fr.apply(this,arguments)}(function Cr(ke){return`${ke.options.appId}-${ke.name}`}(ke),Ae)}(ke,Ae).catch(Be=>{$n.warn(`Failed to write token to IndexedDB. Error: ${Be}`)}):Promise.resolve()}function an(){return Qe().enabled}function ti(){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,oe.Z)(function*(){const ke=Qe();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rr={error:"UNKNOWN_ERROR"};function Gr(ke){return ce.US.encodeString(JSON.stringify(ke),!1)}function Zn(ke){return kt.apply(this,arguments)}function kt(){return(kt=(0,oe.Z)(function*(ke,Ae=!1){const Be=ke.app;Tt(Be);const ht=st(Be);let wn,At=ht.token;if(At&&!Gn(At)&&(ht.token=void 0,At=void 0),!At){const or=yield ht.cachedTokenPromise;or&&(Gn(or)?At=or:yield sn(Be,void 0))}if(!Ae&&At&&Gn(At))return{token:At.token};let Jn,rr=!1;if(an()){ht.exchangeTokenPromise||(ht.exchangeTokenPromise=Ze(Lt(Be,yield ti()),ke.heartbeatServiceProvider).finally(()=>{ht.exchangeTokenPromise=void 0}),rr=!0);const or=yield ht.exchangeTokenPromise;return yield sn(Be,or),ht.token=or,{token:or.token}}try{ht.exchangeTokenPromise||(ht.exchangeTokenPromise=ht.provider.getToken().finally(()=>{ht.exchangeTokenPromise=void 0}),rr=!0),At=yield st(Be).exchangeTokenPromise}catch(or){"appCheck/throttled"===or.code?$n.warn(or.message):$n.error(or),wn=or}return At?wn?Jn=Gn(At)?{token:At.token,internalError:wn}:gn(wn):(Jn={token:At.token},ht.token=At,yield sn(Be,At)):Jn=gn(wn),rr&&mr(Be,Jn),Jn})).apply(this,arguments)}function si(ke,Ae){const Be=st(ke),ht=Be.tokenObservers.filter(At=>At.next!==Ae);0===ht.length&&Be.tokenRefresher&&Be.tokenRefresher.isRunning()&&Be.tokenRefresher.stop(),Be.tokenObservers=ht}function Hn(ke){const{app:Ae}=ke,Be=st(Ae);let ht=Be.tokenRefresher;ht||(ht=function _i(ke){const{app:Ae}=ke;return new Ye((0,oe.Z)(function*(){let ht;if(ht=st(Ae).token?yield Zn(ke,!0):yield Zn(ke),ht.error)throw ht.error;if(ht.internalError)throw ht.internalError}),()=>!0,()=>{const Be=st(Ae);if(Be.token){let ht=Be.token.issuedAtTimeMillis+.5*(Be.token.expireTimeMillis-Be.token.issuedAtTimeMillis)+3e5;return ht=Math.min(ht,Be.token.expireTimeMillis-3e5),Math.max(0,ht-Date.now())}return 0},3e4,96e4)}(ke),Be.tokenRefresher=ht),!ht.isRunning()&&Be.isTokenAutoRefreshEnabled&&ht.start()}function mr(ke,Ae){const Be=st(ke).tokenObservers;for(const ht of Be)try{"EXTERNAL"===ht.type&&null!=Ae.error?ht.error(Ae.error):ht.next(Ae)}catch(At){}}function Gn(ke){return ke.expireTimeMillis-Date.now()>0}function gn(ke){return{token:Gr(Rr),error:ke}}class vi{constructor(Ae,Be){this.app=Ae,this.heartbeatServiceProvider=Be}_delete(){const{tokenObservers:Ae}=st(this.app);for(const Be of Ae)si(this.app,Be.next);return Promise.resolve()}}const et="app-check-internal";!function Nt(){(0,De._registerComponent)(new Me.wA("app-check",ke=>function Un(ke,Ae){return new vi(ke,Ae)}(ke.getProvider("app").getImmediate(),ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,Ae,Be)=>{ke.getProvider(et).initialize()})),(0,De._registerComponent)(new Me.wA(et,ke=>function Nr(ke){return{getToken:Ae=>Zn(ke,Ae),addTokenListener:Ae=>function Hr(ke,Ae,Be,ht){const{app:At}=ke,wn=st(At);if(wn.tokenObservers=[...wn.tokenObservers,{next:Be,error:ht,type:Ae}],wn.token&&Gn(wn.token)){const Jn=wn.token;Promise.resolve().then(()=>{Be({token:Jn.token}),Hn(ke)}).catch(()=>{})}wn.cachedTokenPromise.then(()=>Hn(ke))}(ke,"INTERNAL",Ae),removeTokenListener:Ae=>si(ke.app,Ae)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.7.0")}();class J{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Ft,$e,B)=>{B.d($e,{Ot:()=>we,ZF:()=>Re,hX:()=>st,z6:()=>oe});var m=B(259),v=B(5e3),x=B(4976);class we{constructor(Ye){return Ye}}class oe{constructor(){return(0,m.C6)()}}const ce=new v.OlP("angularfire2._apps"),Ge={provide:we,useFactory:function Me(ze){return ze&&1===ze.length?ze[0]:new we((0,m.Mq)())},deps:[[new v.FiY,ce]]},ae={provide:oe,deps:[[new v.FiY,ce]]};function fe(ze){return(Ye,dt)=>{const Xe=Ye.runOutsideAngular(()=>ze(dt));return new we(Xe)}}let Oe=(()=>{class ze{constructor(dt){(0,m.KN)("angularfire",x.q4.full,"core"),(0,m.KN)("angularfire",x.q4.full,"app"),(0,m.KN)("angular",v.q4F.full,dt.toString())}}return ze.\u0275fac=function(dt){return new(dt||ze)(v.LFG(v.Lbi))},ze.\u0275mod=v.oAB({type:ze}),ze.\u0275inj=v.cJS({providers:[Ge,ae]}),ze})();function st(ze,...Ye){return{ngModule:Oe,providers:[{provide:ce,useFactory:fe(ze),multi:!0,deps:[v.R0b,v.zs3,x.HU,...Ye]}]}}const Re=(0,x.u3)(m.ZF,!0)},7246:(Ft,$e,B)=>{B.d($e,{dh:()=>st,v0:()=>Lt,AR:()=>ze});var m=B(4976),v=B(5e3),x=B(3692),we=B(259),oe=B(2313),De=B(1389);B(2090),B(6881),B(1877),B(4859);class Oe{constructor(Pn){return Pn}}class st{constructor(){return(0,m.vb)("auth")}}const Qe=new v.OlP("angularfire2.auth-instances");function Re(yn){return(Pn,On)=>{const Kn=Pn.runOutsideAngular(()=>yn(On));return new Oe(Kn)}}const nt={provide:st,deps:[[new v.FiY,Qe]]},bt={provide:Oe,useFactory:function _t(yn,Pn){const On=(0,m.JM)("auth",yn,Pn);return On&&new Oe(On)},deps:[[new v.FiY,Qe],x.Ot]};let Pt=(()=>{class yn{constructor(){(0,we.KN)("angularfire",m.q4.full,"auth")}}return yn.\u0275fac=function(On){return new(On||yn)},yn.\u0275mod=v.oAB({type:yn}),yn.\u0275inj=v.cJS({providers:[bt,nt]}),yn})();function ze(yn,...Pn){return{ngModule:Pt,providers:[{provide:Qe,useFactory:Re(yn),multi:!0,deps:[v.R0b,v.zs3,m.HU,x.z6,[new v.FiY,oe.nm],...Pn]}]}}const Lt=(0,m.u3)(De.o,!0)},1205:(Ft,$e,B)=>{B.d($e,{zQ:()=>it,rT:()=>Ne,f7:()=>Ze,L6:()=>ye,_Q:()=>Tt,lh:()=>je,Qv:()=>yt,nw:()=>at});var m=B(5e3),v=B(7579),x=B(9646),we=B(8306),oe=B(8996),De=B(6451),Me=B(6063);class ce extends v.x{constructor(tn=1/0,fn=1/0,ft=Me.l){super(),this._bufferSize=tn,this._windowTime=fn,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=fn===1/0,this._bufferSize=Math.max(1,tn),this._windowTime=Math.max(1,fn)}next(tn){const{isStopped:fn,_buffer:ft,_infiniteTimeWindow:Dn,_timestampProvider:rn,_windowTime:Kt}=this;fn||(ft.push(tn),!Dn&&ft.push(rn.now()+Kt)),this._trimBuffer(),super.next(tn)}_subscribe(tn){this._throwIfClosed(),this._trimBuffer();const fn=this._innerSubscribe(tn),{_infiniteTimeWindow:ft,_buffer:Dn}=this,rn=Dn.slice();for(let Kt=0;Kt<rn.length&&!tn.closed;Kt+=ft?1:2)tn.next(rn[Kt]);return this._checkFinalizedStatuses(tn),fn}_trimBuffer(){const{_bufferSize:tn,_timestampProvider:fn,_buffer:ft,_infiniteTimeWindow:Dn}=this,rn=(Dn?1:2)*tn;if(tn<1/0&&rn<ft.length&&ft.splice(0,ft.length-rn),!Dn){const Kt=fn.now();let An=0;for(let bn=1;bn<ft.length&&ft[bn]<=Kt;bn+=2)An=bn;An&&ft.splice(0,An+1)}}}var Ge=B(3099);function ae(Lt,tn,fn){let ft,Dn=!1;return Lt&&"object"==typeof Lt?({bufferSize:ft=1/0,windowTime:tn=1/0,refCount:Dn=!1,scheduler:fn}=Lt):ft=null!=Lt?Lt:1/0,(0,Ge.B)({connector:()=>new ce(ft,tn,fn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Dn})}var fe=B(3900),Oe=B(576);function st(Lt,tn){return(0,Oe.m)(tn)?(0,fe.w)(()=>Lt,tn):(0,fe.w)(()=>Lt)}var ot=B(5363),Qe=B(4004),_t=B(590),Re=B(9468),nt=B(9300),bt=B(4976),Pt=B(2011),ze=B(9808),Ye=B(2313);B(9260);const yt=new m.OlP("angularfire2.auth.use-emulator"),ye=new m.OlP("angularfire2.auth.settings"),Tt=new m.OlP("angularfire2.auth.tenant-id"),Ne=new m.OlP("angularfire2.auth.langugage-code"),je=new m.OlP("angularfire2.auth.use-device-language"),Ze=new m.OlP("angularfire.auth.persistence"),at=(Lt,tn,fn,ft,Dn,rn,Kt,An)=>(0,Pt.cc)(`${Lt.name}.auth`,"AngularFireAuth",Lt.name,()=>{const bn=tn.runOutsideAngular(()=>Lt.auth());if(fn&&bn.useEmulator(...fn),ft&&(bn.tenantId=ft),bn.languageCode=Dn,rn&&bn.useDeviceLanguage(),Kt)for(const[Fn,En]of Object.entries(Kt))bn.settings[Fn]=En;return An&&bn.setPersistence(An),bn},[fn,ft,Dn,rn,Kt,An]);let it=(()=>{class Lt{constructor(fn,ft,Dn,rn,Kt,An,bn,Fn,En,jn,fr,bi){const wr=new v.x,Cr=(0,x.of)(void 0).pipe((0,ot.Q)(Kt.outsideAngular),(0,fe.w)(()=>rn.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,9568)))),(0,Qe.U)(()=>(0,Pt.on)(fn,rn,ft)),(0,Qe.U)($n=>at($n,rn,An,Fn,En,jn,bn,fr)),ae({bufferSize:1,refCount:!1}));if((0,ze.PM)(Dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,x.of)(null);else{Cr.pipe((0,_t.P)()).subscribe();const Fr=Cr.pipe((0,fe.w)(zn=>zn.getRedirectResult().then(Ln=>Ln,()=>null)),bt.iC,ae({bufferSize:1,refCount:!1})),Lr=Cr.pipe((0,fe.w)(zn=>new we.y(Ln=>({unsubscribe:rn.runOutsideAngular(()=>zn.onAuthStateChanged(an=>Ln.next(an),an=>Ln.error(an),()=>Ln.complete()))})))),sn=Cr.pipe((0,fe.w)(zn=>new we.y(Ln=>({unsubscribe:rn.runOutsideAngular(()=>zn.onIdTokenChanged(an=>Ln.next(an),an=>Ln.error(an),()=>Ln.complete()))}))));this.authState=Fr.pipe(st(Lr),(0,Re.R)(Kt.outsideAngular),(0,ot.Q)(Kt.insideAngular)),this.user=Fr.pipe(st(sn),(0,Re.R)(Kt.outsideAngular),(0,ot.Q)(Kt.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(zn=>zn?(0,oe.D)(zn.getIdToken()):(0,x.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(zn=>zn?(0,oe.D)(zn.getIdTokenResult()):(0,x.of)(null))),this.credential=(0,De.T)(Fr,wr,this.authState.pipe((0,nt.h)(zn=>!zn))).pipe((0,Qe.U)(zn=>(null==zn?void 0:zn.user)?zn:null),(0,Re.R)(Kt.outsideAngular),(0,ot.Q)(Kt.insideAngular))}return(0,Pt.pX)(this,Cr,rn,{spy:{apply:($n,Fr,Lr)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&Lr.then(sn=>wr.next(sn))}}})}}return Lt.\u0275fac=function(fn){return new(fn||Lt)(m.LFG(Pt.Dh),m.LFG(Pt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(bt.HU),m.LFG(yt,8),m.LFG(ye,8),m.LFG(Tt,8),m.LFG(Ne,8),m.LFG(je,8),m.LFG(Ze,8),m.LFG(Ye.nm,8))},Lt.\u0275prov=m.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"any"}),Lt})()},2011:(Ft,$e,B)=>{B.d($e,{Dh:()=>ce,GT:()=>De,cc:()=>ot,hO:()=>st,on:()=>ae,pX:()=>oe,xv:()=>Ge});var m=B(5e3),v=B(9260),x=B(4976);Ft=B.hmd(Ft);const we=["ngOnDestroy"],oe=(nt,bt,Pt,ze={})=>new Proxy(nt,{get:(Ye,dt)=>Pt.runOutsideAngular(()=>{var Xe;if(nt[dt])return(null===(Xe=null==ze?void 0:ze.spy)||void 0===Xe?void 0:Xe.get)&&ze.spy.get(dt,nt[dt]),nt[dt];if(we.indexOf(dt)>-1)return()=>{};const yt=bt.toPromise().then(ye=>{const Tt=ye&&ye[dt];return"function"==typeof Tt?Tt.bind(ye):Tt&&Tt.then?Tt.then(Ne=>Pt.run(()=>Ne)):Pt.run(()=>Tt)});return new Proxy(()=>{},{get:(ye,Tt)=>yt[Tt],apply:(ye,Tt,Ne)=>yt.then(je=>{var Ze;const at=je&&je(...Ne);return(null===(Ze=null==ze?void 0:ze.spy)||void 0===Ze?void 0:Ze.apply)&&ze.spy.apply(dt,Ne,at),at})})})}),De=(nt,bt)=>{bt.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(ze=>{Object.defineProperty(nt.prototype,ze,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,ze))})})};class Me{constructor(bt){return bt}}const ce=new m.OlP("angularfire2.app.options"),Ge=new m.OlP("angularfire2.app.name");function ae(nt,bt,Pt){const Ye="object"==typeof Pt&&Pt||{};Ye.name=Ye.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const Xe=v.Z.apps.filter(yt=>yt&&yt.name===Ye.name)[0]||bt.runOutsideAngular(()=>v.Z.initializeApp(nt,Ye));try{JSON.stringify(nt)!==JSON.stringify(Xe.options)&&fe("error",`${Xe.name} Firebase App already initialized with different options${Ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new Me(Xe)}const fe=(nt,...bt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[nt](...bt)},Oe={provide:Me,useFactory:ae,deps:[ce,m.R0b,[new m.FiY,Ge]]};let st=(()=>{class nt{constructor(Pt){v.Z.registerVersion("angularfire",x.q4.full,"core"),v.Z.registerVersion("angularfire",x.q4.full,"app-compat"),v.Z.registerVersion("angular",m.q4F.full,Pt.toString())}static initializeApp(Pt,ze){return{ngModule:nt,providers:[{provide:ce,useValue:Pt},{provide:Ge,useValue:ze}]}}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(m.LFG(m.Lbi))},nt.\u0275mod=m.oAB({type:nt}),nt.\u0275inj=m.cJS({providers:[Oe]}),nt})();function ot(nt,bt,Pt,ze,Ye){const[,dt,Xe]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===nt)||[];if(dt)return function Qe(nt,bt){try{return nt.toString()===bt.toString()}catch(Pt){return nt===bt}}(Ye,Xe)||(Re("error",`${bt} was already initialized on the ${Pt} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:Ye,was:Xe})),dt;{const yt=ze();return globalThis.\u0275AngularfireInstanceCache.push([nt,yt,Ye]),yt}}const _t=!!Ft.hot,Re=(nt,...bt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[nt](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Ft,$e,B)=>{B.d($e,{gg:()=>Ne,ET:()=>wr,hJ:()=>Lr,BS:()=>Fn,PL:()=>Hn,ad:()=>Gn,b9:()=>Un,Xo:()=>ni,Cm:()=>Dn,IO:()=>Yr});var m=B(4976),v=B(5e3),x=B(7246),we=B(3692),oe=B(259),De=B(2313),Me=B(2810),ce=B(8306),Ge=B(4004),ae={includeMetadataChanges:!1};function Tt(vt,Dt){return void 0===Dt&&(Dt={}),function Xe(vt){return function fe(vt,Dt){return void 0===Dt&&(Dt=ae),new ce.y(function(Gt){return{unsubscribe:(0,Me.cf)(vt,Dt,{next:Gt.next.bind(Gt),error:Gt.error.bind(Gt),complete:Gt.complete.bind(Gt)})}})}(vt,{includeMetadataChanges:!0}).pipe((0,Ge.U)(function(Dt){return Dt.docs}))}(vt).pipe((0,Ge.U)(function(Gt){return Gt.map(function(Le){return function ot(vt,Dt){void 0===Dt&&(Dt={});var Gt=vt.data();return!vt.exists()||"object"!=typeof Gt||null===Gt||Dt.idField&&(Gt[Dt.idField]=vt.id),Gt}(Le,Dt)})}))}class Ne{constructor(Dt){return Dt}}const je="firestore",it=new v.OlP("angularfire2.firestore-instances");function Lt(vt){return(Dt,Gt)=>{const Le=Dt.runOutsideAngular(()=>vt(Gt));return new Ne(Le)}}const tn={provide:class Ze{constructor(){return(0,m.vb)(je)}},deps:[[new v.FiY,it]]},fn={provide:Ne,useFactory:function Ct(vt,Dt){const Gt=(0,m.JM)(je,vt,Dt);return Gt&&new Ne(Gt)},deps:[[new v.FiY,it],we.Ot]};let ft=(()=>{class vt{constructor(){(0,oe.KN)("angularfire",m.q4.full,"fst")}}return vt.\u0275fac=function(Gt){return new(Gt||vt)},vt.\u0275mod=v.oAB({type:vt}),vt.\u0275inj=v.cJS({providers:[fn,tn]}),vt})();function Dn(vt,...Dt){return{ngModule:ft,providers:[{provide:it,useFactory:Lt(vt),multi:!0,deps:[v.R0b,v.zs3,m.HU,we.z6,[new v.FiY,x.dh],[new v.FiY,De.nm],...Dt]}]}}const Fn=(0,m.u3)(Tt,!0),wr=(0,m.u3)(Me.ET,!0),Lr=(0,m.u3)(Me.hJ,!0),Hn=(0,m.u3)(Me.PL,!0),Gn=(0,m.u3)(Me.ad,!0),Un=(0,m.u3)(Me.b9,!0),ni=(0,m.u3)(Me.Xo,!0),Yr=(0,m.u3)(Me.IO,!0)},4976:(Ft,$e,B)=>{B.d($e,{q4:()=>yo,iC:()=>Cn,HU:()=>pt,vb:()=>Z,JM:()=>N,u3:()=>mi});var m=B(5e3),v=B(259),x=B(5861),we=B(6881),oe=B(2090),De=B(4859),Me=B(1877);let Ge,ae;const st=new WeakMap,ot=new WeakMap,Qe=new WeakMap,_t=new WeakMap,Re=new WeakMap;let Pt={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return ot.get(T);if("objectStoreNames"===P)return T.objectStoreNames||Qe.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Xe(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function dt(T){return"function"==typeof T?function Ye(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(yt(this),P),Xe(st.get(this))}:function(...P){return Xe(T.apply(yt(this),P))}:function(P,...H){const ue=T.call(yt(this),P,...H);return Qe.set(ue,P.sort?P.sort():[P]),Xe(ue)}}(T):(T instanceof IDBTransaction&&function bt(T){if(ot.has(T))return;const P=new Promise((H,ue)=>{const Ie=()=>{T.removeEventListener("complete",Te),T.removeEventListener("error",We),T.removeEventListener("abort",We)},Te=()=>{H(),Ie()},We=()=>{ue(T.error||new DOMException("AbortError","AbortError")),Ie()};T.addEventListener("complete",Te),T.addEventListener("error",We),T.addEventListener("abort",We)});ot.set(T,P)}(T),((T,P)=>P.some(H=>T instanceof H))(T,function fe(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Pt):T)}function Xe(T){if(T instanceof IDBRequest)return function nt(T){const P=new Promise((H,ue)=>{const Ie=()=>{T.removeEventListener("success",Te),T.removeEventListener("error",We)},Te=()=>{H(Xe(T.result)),Ie()},We=()=>{ue(T.error),Ie()};T.addEventListener("success",Te),T.addEventListener("error",We)});return P.then(H=>{H instanceof IDBCursor&&st.set(H,T)}).catch(()=>{}),Re.set(P,T),P}(T);if(_t.has(T))return _t.get(T);const P=dt(T);return P!==T&&(_t.set(T,P),Re.set(P,T)),P}const yt=T=>Re.get(T),Ne=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],Ze=new Map;function at(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Ze.get(P))return Ze.get(P);const H=P.replace(/FromIndex$/,""),ue=P!==H,Ie=je.includes(H);if(!(H in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Ne.includes(H))return;const Te=function(){var We=(0,x.Z)(function*(Vt,...zt){const ln=this.transaction(Vt,Ie?"readwrite":"readonly");let Bn=ln.store;return ue&&(Bn=Bn.index(zt.shift())),(yield Promise.all([Bn[H](...zt),Ie&&ln.done]))[0]});return function(zt){return We.apply(this,arguments)}}();return Ze.set(P,Te),Te}!function ze(T){Pt=T(Pt)}(T=>$y(jy({},T),{get:(P,H,ue)=>at(P,H)||T.get(P,H,ue),has:(P,H)=>!!at(P,H)||T.has(P,H)}));const it="@firebase/installations",tn="w:0.6.4",fn="FIS_v2",bn=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fn(T){return T instanceof oe.ZR&&T.code.includes("request-failed")}function En({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function jn(T){return{token:T.token,requestStatus:2,expiresIn:Lr(T.expiresIn),creationTime:Date.now()}}function fr(T,P){return bi.apply(this,arguments)}function bi(){return(bi=(0,x.Z)(function*(T,P){const ue=(yield P.json()).error;return bn.create("request-failed",{requestName:T,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function wr({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Cr(T,{refreshToken:P}){const H=wr(T);return H.append("Authorization",function sn(T){return`${fn} ${T}`}(P)),H}function $n(T){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,x.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Lr(T){return Number(T.replace("s","000"))}function zn(T,P){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,x.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:H}){const ue=En(T),Ie=wr(T),Te=P.getImmediate({optional:!0});if(Te){const ln=yield Te.getHeartbeatsHeader();ln&&Ie.append("x-firebase-client",ln)}const Vt={method:"POST",headers:Ie,body:JSON.stringify({fid:H,authVersion:fn,appId:T.appId,sdkVersion:tn})},zt=yield $n(()=>fetch(ue,Vt));if(zt.ok){const ln=yield zt.json();return{fid:ln.fid||H,registrationStatus:2,refreshToken:ln.refreshToken,authToken:jn(ln.authToken)}}throw yield fr("Create Installation",zt)})).apply(this,arguments)}function an(T){return new Promise(P=>{setTimeout(P,T)})}const Pi=/^[cdef][\w-]{21}$/;function Rr(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const H=function Gr(T){return function ti(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Pi.test(H)?H:""}catch(T){return""}}function Zn(T){return`${T.appName}!${T.appId}`}const kt=new Map;function pn(T,P){const H=Zn(T);si(H,P),function Hn(T,P){const H=function mr(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=T=>{si(T.data.key,T.data.fid)}),_i}();H&&H.postMessage({key:T,fid:P}),function Gn(){0===kt.size&&_i&&(_i.close(),_i=null)}()}(H,P)}function si(T,P){const H=kt.get(T);if(H)for(const ue of H)ue(P)}let _i=null;const Un="firebase-installations-store";let Nr=null;function yn(){return Nr||(Nr=function ye(T,P,{blocked:H,upgrade:ue,blocking:Ie,terminated:Te}={}){const We=indexedDB.open(T,P),Vt=Xe(We);return ue&&We.addEventListener("upgradeneeded",zt=>{ue(Xe(We.result),zt.oldVersion,zt.newVersion,Xe(We.transaction))}),H&&We.addEventListener("blocked",()=>H()),Vt.then(zt=>{Te&&zt.addEventListener("close",()=>Te()),Ie&&zt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),Vt}("firebase-installations-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Un)}})),Nr}function Pn(T,P){return On.apply(this,arguments)}function On(){return(On=(0,x.Z)(function*(T,P){const H=Zn(T),Ie=(yield yn()).transaction(Un,"readwrite"),Te=Ie.objectStore(Un),We=yield Te.get(H);return yield Te.put(P,H),yield Ie.done,(!We||We.fid!==P.fid)&&pn(T,P.fid),P})).apply(this,arguments)}function Kn(T){return ni.apply(this,arguments)}function ni(){return(ni=(0,x.Z)(function*(T){const P=Zn(T),ue=(yield yn()).transaction(Un,"readwrite");yield ue.objectStore(Un).delete(P),yield ue.done})).apply(this,arguments)}function Yr(T,P){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,x.Z)(function*(T,P){const H=Zn(T),Ie=(yield yn()).transaction(Un,"readwrite"),Te=Ie.objectStore(Un),We=yield Te.get(H),Vt=P(We);return void 0===Vt?yield Te.delete(H):yield Te.put(Vt,H),yield Ie.done,Vt&&(!We||We.fid!==Vt.fid)&&pn(T,Vt.fid),Vt})).apply(this,arguments)}function ve(T){return ge.apply(this,arguments)}function ge(){return(ge=(0,x.Z)(function*(T){let P;const H=yield Yr(T.appConfig,ue=>{const Ie=ie(ue),Te=se(T,Ie);return P=Te.registrationPromise,Te.installationEntry});return""===H.fid?{installationEntry:yield P}:{installationEntry:H,registrationPromise:P}})).apply(this,arguments)}function ie(T){return nn(T||{fid:Rr(),registrationStatus:0})}function se(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(bn.create("app-offline"))};const H={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ue=function K(T,P){return Pe.apply(this,arguments)}(T,H);return{installationEntry:H,registrationPromise:ue}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:qe(T)}:{installationEntry:P}}function Pe(){return(Pe=(0,x.Z)(function*(T,P){try{const H=yield zn(T,P);return Pn(T.appConfig,H)}catch(H){throw Fn(H)&&409===H.customData.serverCode?yield Kn(T.appConfig):yield Pn(T.appConfig,{fid:P.fid,registrationStatus:0}),H}})).apply(this,arguments)}function qe(T){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,x.Z)(function*(T){let P=yield _n(T.appConfig);for(;1===P.registrationStatus;)yield an(100),P=yield _n(T.appConfig);if(0===P.registrationStatus){const{installationEntry:H,registrationPromise:ue}=yield ve(T);return ue||H}return P})).apply(this,arguments)}function _n(T){return Yr(T,P=>{if(!P)throw bn.create("installation-not-found");return nn(P)})}function nn(T){return function Sn(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function un(T,P){return lr.apply(this,arguments)}function lr(){return(lr=(0,x.Z)(function*({appConfig:T,heartbeatServiceProvider:P},H){const ue=vt(T,H),Ie=Cr(T,H),Te=P.getImmediate({optional:!0});if(Te){const ln=yield Te.getHeartbeatsHeader();ln&&Ie.append("x-firebase-client",ln)}const Vt={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:tn,appId:T.appId}})},zt=yield $n(()=>fetch(ue,Vt));if(zt.ok)return jn(yield zt.json());throw yield fr("Generate Auth Token",zt)})).apply(this,arguments)}function vt(T,{fid:P}){return`${En(T)}/${P}/authTokens:generate`}function Dt(T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,x.Z)(function*(T,P=!1){let H;const ue=yield Yr(T.appConfig,Te=>{if(!pe(Te))throw bn.create("not-registered");const We=Te.authToken;if(!P&&q(We))return Te;if(1===We.requestStatus)return H=Le(T,P),Te;{if(!navigator.onLine)throw bn.create("app-offline");const Vt=Ce(Te);return H=et(T,Vt),Vt}});return H?yield H:ue.authToken})).apply(this,arguments)}function Le(T,P){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,x.Z)(function*(T,P){let H=yield gt(T.appConfig);for(;1===H.authToken.requestStatus;)yield an(100),H=yield gt(T.appConfig);const ue=H.authToken;return 0===ue.requestStatus?Dt(T,P):ue})).apply(this,arguments)}function gt(T){return Yr(T,P=>{if(!pe(P))throw bn.create("not-registered");return function ut(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function et(T,P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,x.Z)(function*(T,P){try{const H=yield un(T,P),ue=Object.assign(Object.assign({},P),{authToken:H});return yield Pn(T.appConfig,ue),H}catch(H){if(!Fn(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const ue=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Pn(T.appConfig,ue)}else yield Kn(T.appConfig);throw H}})).apply(this,arguments)}function pe(T){return void 0!==T&&2===T.registrationStatus}function q(T){return 2===T.requestStatus&&!function J(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+36e5}(T)}function Ce(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}function cr(){return(cr=(0,x.Z)(function*(T){const P=T,{installationEntry:H,registrationPromise:ue}=yield ve(P);return ue?ue.catch(console.error):Dt(P).catch(console.error),H.fid})).apply(this,arguments)}function on(){return(on=(0,x.Z)(function*(T,P=!1){const H=T;return yield oi(H),(yield Dt(H,P)).token})).apply(this,arguments)}function oi(T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,x.Z)(function*(T){const{registrationPromise:P}=yield ve(T);P&&(yield P)})).apply(this,arguments)}function Ae(T){return bn.create("missing-app-config-values",{valueName:T})}const Be="installations",At=T=>{const P=T.getProvider("app").getImmediate(),H=function ke(T){if(!T||!T.options)throw Ae("App Configuration");if(!T.name)throw Ae("App Name");const P=["projectId","apiKey","appId"];for(const H of P)if(!T.options[H])throw Ae(H);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:H,heartbeatServiceProvider:(0,we._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},wn=T=>{const P=T.getProvider("app").getImmediate(),H=(0,we._getProvider)(P,Be).getImmediate();return{getId:()=>function $t(T){return cr.apply(this,arguments)}(H),getToken:Ie=>function xr(T){return on.apply(this,arguments)}(H,Ie)}};(function rr(){(0,we._registerComponent)(new De.wA(Be,At,"PUBLIC")),(0,we._registerComponent)(new De.wA("installations-internal",wn,"PRIVATE"))})(),(0,we.registerVersion)(it,"0.6.4"),(0,we.registerVersion)(it,"0.6.4","esm2017");const Jn="@firebase/remote-config",ki=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bo{constructor(P,H,ue,Ie){this.client=P,this.storage=H,this.storageCache=ue,this.logger=Ie}isCachedDataFresh(P,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-H,Ie=ue<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ie}.`),Ie}fetch(P){var H=this;return(0,x.Z)(function*(){const[ue,Ie]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Ie&&H.isCachedDataFresh(P.cacheMaxAgeMillis,ue))return Ie;P.eTag=Ie&&Ie.eTag;const Te=yield H.client.fetch(P),We=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&We.push(H.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(We),Te})()}}function cs(T=navigator){return T.languages&&T.languages[0]||T.language}class Is{constructor(P,H,ue,Ie,Te,We){this.firebaseInstallations=P,this.sdkVersion=H,this.namespace=ue,this.projectId=Ie,this.apiKey=Te,this.appId=We}fetch(P){var H=this;return(0,x.Z)(function*(){const[ue,Ie]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},zt={sdk_version:H.sdkVersion,app_instance_id:ue,app_instance_id_token:Ie,app_id:H.appId,language_code:cs()},ln={method:"POST",headers:Vt,body:JSON.stringify(zt)},Bn=fetch(We,ln),Mn=new Promise((yi,Yi)=>{P.signal.addEventListener(()=>{const Ps=new Error("The operation was aborted.");Ps.name="AbortError",Yi(Ps)})});let zi;try{yield Promise.race([Bn,Mn]),zi=yield Bn}catch(yi){let Yi="fetch-client-network";throw"AbortError"===(null==yi?void 0:yi.name)&&(Yi="fetch-timeout"),ki.create(Yi,{originalErrorMessage:null==yi?void 0:yi.message})}let Qt=zi.status;const Tn=zi.headers.get("ETag")||void 0;let Qn,Sr;if(200===zi.status){let yi;try{yi=yield zi.json()}catch(Yi){throw ki.create("fetch-client-parse",{originalErrorMessage:null==Yi?void 0:Yi.message})}Qn=yi.entries,Sr=yi.state}if("INSTANCE_STATE_UNSPECIFIED"===Sr?Qt=500:"NO_CHANGE"===Sr?Qt=304:("NO_TEMPLATE"===Sr||"EMPTY_CONFIG"===Sr)&&(Qn={}),304!==Qt&&200!==Qt)throw ki.create("fetch-status",{httpStatus:Qt});return{status:Qt,eTag:Tn,config:Qn}})()}}class $o{constructor(P,H){this.client=P,this.storage=H}fetch(P){var H=this;return(0,x.Z)(function*(){const ue=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(P,ue)})()}attemptFetch(P,{throttleEndTimeMillis:H,backoffCount:ue}){var Ie=this;return(0,x.Z)(function*(){yield function ao(T,P){return new Promise((H,ue)=>{const Ie=Math.max(P-Date.now(),0),Te=setTimeout(H,Ie);T.addEventListener(()=>{clearTimeout(Te),ue(ki.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,H);try{const Te=yield Ie.client.fetch(P);return yield Ie.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function Fs(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Te))throw Te;const We={throttleEndTimeMillis:Date.now()+(0,oe.$s)(ue),backoffCount:ue+1};return yield Ie.storage.setThrottleMetadata(We),Ie.attemptFetch(P,We)}})()}}class To{constructor(P,H,ue,Ie,Te){this.app=P,this._client=H,this._storageCache=ue,this._storage=Ie,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vi(T,P){const H=T.target.error||void 0;return ki.create(P,{originalErrorMessage:H&&(null==H?void 0:H.message)})}const ri="app_namespace_store";class es{constructor(P,H,ue,Ie=function wa(){return new Promise((T,P)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ue=>{P(Vi(ue,"storage-open"))},H.onsuccess=ue=>{T(ue.target.result)},H.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(ri,{keyPath:"compositeKey"})}}catch(H){P(ki.create("storage-open",{originalErrorMessage:null==H?void 0:H.message}))}})}()){this.appId=P,this.appName=H,this.namespace=ue,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var H=this;return(0,x.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((Ie,Te)=>{const Vt=ue.transaction([ri],"readonly").objectStore(ri),zt=H.createCompositeKey(P);try{const ln=Vt.get(zt);ln.onerror=Bn=>{Te(Vi(Bn,"storage-get"))},ln.onsuccess=Bn=>{const Mn=Bn.target.result;Ie(Mn?Mn.value:void 0)}}catch(ln){Te(ki.create("storage-get",{originalErrorMessage:null==ln?void 0:ln.message}))}})})()}set(P,H){var ue=this;return(0,x.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((Te,We)=>{const zt=Ie.transaction([ri],"readwrite").objectStore(ri),ln=ue.createCompositeKey(P);try{const Bn=zt.put({compositeKey:ln,value:H});Bn.onerror=Mn=>{We(Vi(Mn,"storage-set"))},Bn.onsuccess=()=>{Te()}}catch(Bn){We(ki.create("storage-set",{originalErrorMessage:null==Bn?void 0:Bn.message}))}})})()}delete(P){var H=this;return(0,x.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((Ie,Te)=>{const Vt=ue.transaction([ri],"readwrite").objectStore(ri),zt=H.createCompositeKey(P);try{const ln=Vt.delete(zt);ln.onerror=Bn=>{Te(Vi(Bn,"storage-delete"))},ln.onsuccess=()=>{Ie()}}catch(ln){Te(ki.create("storage-delete",{originalErrorMessage:null==ln?void 0:ln.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Wn{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,x.Z)(function*(){const H=P.storage.getLastFetchStatus(),ue=P.storage.getLastSuccessfulFetchTimestampMillis(),Ie=P.storage.getActiveConfig(),Te=yield H;Te&&(P.lastFetchStatus=Te);const We=yield ue;We&&(P.lastSuccessfulFetchTimestampMillis=We);const Vt=yield Ie;Vt&&(P.activeConfig=Vt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Ra(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,x.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}let Y,L;!function ts(){(0,we._registerComponent)(new De.wA("remote-config",function T(P,{instanceIdentifier:H}){const ue=P.getProvider("app").getImmediate(),Ie=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ki.create("registration-window");if(!(0,oe.hl)())throw ki.create("indexed-db-unavailable");const{projectId:Te,apiKey:We,appId:Vt}=ue.options;if(!Te)throw ki.create("registration-project-id");if(!We)throw ki.create("registration-api-key");if(!Vt)throw ki.create("registration-app-id");const zt=new es(Vt,ue.name,H=H||"firebase"),ln=new Wn(zt),Bn=new Me.Yd(Jn);Bn.logLevel=Me.in.ERROR;const Mn=new Is(Ie,we.SDK_VERSION,H,Te,We,Vt),zi=new $o(Mn,zt),Qt=new bo(zi,zt,ln,Bn),Tn=new To(ue,Qt,ln,zt,Bn);return function ta(T){const P=(0,oe.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Tn),Tn},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Jn,"0.4.4"),(0,we.registerVersion)(Jn,"0.4.4","esm2017")}();const lt=new WeakMap,Et=new WeakMap,Xt=new WeakMap,_r=new WeakMap,pr=new WeakMap;let ii={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return Et.get(T);if("objectStoreNames"===P)return T.objectStoreNames||Xt.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return nr(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function hs(T){return"function"==typeof T?function Wr(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(Rn(this),P),nr(lt.get(this))}:function(...P){return nr(T.apply(Rn(this),P))}:function(P,...H){const ue=T.call(Rn(this),P,...H);return Xt.set(ue,P.sort?P.sort():[P]),nr(ue)}}(T):(T instanceof IDBTransaction&&function ar(T){if(Et.has(T))return;const P=new Promise((H,ue)=>{const Ie=()=>{T.removeEventListener("complete",Te),T.removeEventListener("error",We),T.removeEventListener("abort",We)},Te=()=>{H(),Ie()},We=()=>{ue(T.error||new DOMException("AbortError","AbortError")),Ie()};T.addEventListener("complete",Te),T.addEventListener("error",We),T.addEventListener("abort",We)});Et.set(T,P)}(T),((T,P)=>P.some(H=>T instanceof H))(T,function ne(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ii):T)}function nr(T){if(T instanceof IDBRequest)return function Yn(T){const P=new Promise((H,ue)=>{const Ie=()=>{T.removeEventListener("success",Te),T.removeEventListener("error",We)},Te=()=>{H(nr(T.result)),Ie()},We=()=>{ue(T.error),Ie()};T.addEventListener("success",Te),T.addEventListener("error",We)});return P.then(H=>{H instanceof IDBCursor&&lt.set(H,T)}).catch(()=>{}),pr.set(P,T),P}(T);if(_r.has(T))return _r.get(T);const P=hs(T);return P!==T&&(_r.set(T,P),pr.set(P,T)),P}const Rn=T=>pr.get(T);function ns(T,P,{blocked:H,upgrade:ue,blocking:Ie,terminated:Te}={}){const We=indexedDB.open(T,P),Vt=nr(We);return ue&&We.addEventListener("upgradeneeded",zt=>{ue(nr(We.result),zt.oldVersion,zt.newVersion,nr(We.transaction))}),H&&We.addEventListener("blocked",()=>H()),Vt.then(zt=>{Te&&zt.addEventListener("close",()=>Te()),Ie&&zt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),Vt}function Do(T,{blocked:P}={}){const H=indexedDB.deleteDatabase(T);return P&&H.addEventListener("blocked",()=>P()),nr(H).then(()=>{})}const Ho=["get","getKey","getAll","getAllKeys","count"],zo=["put","add","delete","clear"],j=new Map;function k(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(j.get(P))return j.get(P);const H=P.replace(/FromIndex$/,""),ue=P!==H,Ie=zo.includes(H);if(!(H in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Ho.includes(H))return;const Te=function(){var We=(0,x.Z)(function*(Vt,...zt){const ln=this.transaction(Vt,Ie?"readwrite":"readonly");let Bn=ln.store;return ue&&(Bn=Bn.index(zt.shift())),(yield Promise.all([Bn[H](...zt),Ie&&ln.done]))[0]});return function(zt){return We.apply(this,arguments)}}();return j.set(P,Te),Te}!function Pr(T){ii=T(ii)}(T=>$y(jy({},T),{get:(P,H,ue)=>k(P,H)||T.get(P,H,ue),has:(P,H)=>!!k(P,H)||T.has(P,H)}));const R="/firebase-messaging-sw.js",X="/firebase-cloud-messaging-push-scope",_e="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tr="google.c.a.c_id",yr="google.c.a.c_l",Zi="google.c.a.ts",fs="google.c.a.e";var Ai=(()=>{return(T=Ai||(Ai={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Ai;var T})();function fi(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ca(T){const H=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(H),Ie=new Uint8Array(ue.length);for(let Te=0;Te<ue.length;++Te)Ie[Te]=ue.charCodeAt(Te);return Ie}const na="fcm_token_details_db",Xs="fcm_token_object_Store";function qr(T){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,x.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(na))return null;let P=null;return(yield ns(na,5,{upgrade:(ue=(0,x.Z)(function*(Ie,Te,We,Vt){var zt;if(Te<2||!Ie.objectStoreNames.contains(Xs))return;const ln=Vt.objectStore(Xs),Bn=yield ln.index("fcmSenderId").get(T);if(yield ln.clear(),Bn)if(2===Te){const Mn=Bn;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;P={token:Mn.fcmToken,createTime:null!==(zt=Mn.createTime)&&void 0!==zt?zt:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:fi(Mn.vapidKey)}}}else if(3===Te){const Mn=Bn;P={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:fi(Mn.auth),p256dh:fi(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:fi(Mn.vapidKey)}}}else if(4===Te){const Mn=Bn;P={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:fi(Mn.auth),p256dh:fi(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:fi(Mn.vapidKey)}}}}),function(Te,We,Vt,zt){return ue.apply(this,arguments)})})).close(),yield Do(na),yield Do("fcm_vapid_details_db"),yield Do("undefined"),Wo(P)?P:null;var ue}),Ls.apply(this,arguments)}function Wo(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const Vs="firebase-messaging-store";let Ia=null;function Za(){return Ia||(Ia=ns("firebase-messaging-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Vs)}})),Ia}function is(T){return ra.apply(this,arguments)}function ra(){return(ra=(0,x.Z)(function*(T){const P=ss(T),ue=yield(yield Za()).transaction(Vs).objectStore(Vs).get(P);if(ue)return ue;{const Ie=yield qr(T.appConfig.senderId);if(Ie)return yield lo(T,Ie),Ie}})).apply(this,arguments)}function lo(T,P){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,x.Z)(function*(T,P){const H=ss(T),Ie=(yield Za()).transaction(Vs,"readwrite");return yield Ie.objectStore(Vs).put(P,H),yield Ie.done,P})).apply(this,arguments)}function ba(T){return co.apply(this,arguments)}function co(){return(co=(0,x.Z)(function*(T){const P=ss(T),ue=(yield Za()).transaction(Vs,"readwrite");yield ue.objectStore(Vs).delete(P),yield ue.done})).apply(this,arguments)}function ss({appConfig:T}){return T.appId}const Si=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sa(T,P){return oa.apply(this,arguments)}function oa(){return(oa=(0,x.Z)(function*(T,P){const H=yield Ni(T),ue=Ds(P),Ie={method:"POST",headers:H,body:JSON.stringify(ue)};let Te;try{Te=yield(yield fetch(Ri(T.appConfig),Ie)).json()}catch(We){throw Si.create("token-subscribe-failed",{errorInfo:null==We?void 0:We.toString()})}if(Te.error)throw Si.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw Si.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function qs(T,P){return Us.apply(this,arguments)}function Us(){return(Us=(0,x.Z)(function*(T,P){const H=yield Ni(T),ue=Ds(P.subscriptionOptions),Ie={method:"PATCH",headers:H,body:JSON.stringify(ue)};let Te;try{Te=yield(yield fetch(`${Ri(T.appConfig)}/${P.token}`,Ie)).json()}catch(We){throw Si.create("token-update-failed",{errorInfo:null==We?void 0:We.toString()})}if(Te.error)throw Si.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw Si.create("token-update-no-token");return Te.token})).apply(this,arguments)}function kr(T,P){return ho.apply(this,arguments)}function ho(){return(ho=(0,x.Z)(function*(T,P){const ue={method:"DELETE",headers:yield Ni(T)};try{const Te=yield(yield fetch(`${Ri(T.appConfig)}/${P}`,ue)).json();if(Te.error)throw Si.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(Ie){throw Si.create("token-unsubscribe-failed",{errorInfo:null==Ie?void 0:Ie.toString()})}})).apply(this,arguments)}function Ri({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ni(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,x.Z)(function*({appConfig:T,installations:P}){const H=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Ds({p256dh:T,auth:P,endpoint:H,vapidKey:ue}){const Ie={web:{endpoint:H,auth:P,p256dh:T}};return ue!==_e&&(Ie.web.applicationPubKey=ue),Ie}const So=6048e5;function qo(T){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,x.Z)(function*(T){const P=yield eo(T.swRegistration,T.vapidKey),H={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:fi(P.getKey("auth")),p256dh:fi(P.getKey("p256dh"))},ue=yield is(T.firebaseDependencies);if(ue){if(as(ue.subscriptionOptions,H))return Date.now()>=ue.createTime+So?Zr(T,{token:ue.token,createTime:Date.now(),subscriptionOptions:H}):ue.token;try{yield kr(T.firebaseDependencies,ue.token)}catch(Ie){console.warn(Ie)}return As(T.firebaseDependencies,H)}return As(T.firebaseDependencies,H)})).apply(this,arguments)}function ps(T){return os.apply(this,arguments)}function os(){return(os=(0,x.Z)(function*(T){const P=yield is(T.firebaseDependencies);P&&(yield kr(T.firebaseDependencies,P.token),yield ba(T.firebaseDependencies));const H=yield T.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function Zr(T,P){return fo.apply(this,arguments)}function fo(){return(fo=(0,x.Z)(function*(T,P){try{const H=yield qs(T.firebaseDependencies,P),ue=Object.assign(Object.assign({},P),{token:H,createTime:Date.now()});return yield lo(T.firebaseDependencies,ue),H}catch(H){throw yield ps(T),H}})).apply(this,arguments)}function As(T,P){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,x.Z)(function*(T,P){const ue={token:yield sa(T,P),createTime:Date.now(),subscriptionOptions:P};return yield lo(T,ue),ue.token})).apply(this,arguments)}function eo(T,P){return xo.apply(this,arguments)}function xo(){return(xo=(0,x.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ca(P)})})).apply(this,arguments)}function as(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}function to(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function aa(T,P){if(!P.notification)return;T.notification={};const H=P.notification.title;H&&(T.notification.title=H);const ue=P.notification.body;ue&&(T.notification.body=ue);const Ie=P.notification.image;Ie&&(T.notification.image=Ie);const Te=P.notification.icon;Te&&(T.notification.icon=Te)}(P,T),function Na(T,P){!P.data||(T.data=P.data)}(P,T),function ua(T,P){var H,ue,Ie,Te,We;if(!P.fcmOptions&&!(null===(H=P.notification)||void 0===H?void 0:H.click_action))return;T.fcmOptions={};const Vt=null!==(Ie=null===(ue=P.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ie?Ie:null===(Te=P.notification)||void 0===Te?void 0:Te.click_action;Vt&&(T.fcmOptions.link=Vt);const zt=null===(We=P.fcmOptions)||void 0===We?void 0:We.analytics_label;zt&&(T.fcmOptions.analyticsLabel=zt)}(P,T),P}function Qa(T){return"object"==typeof T&&!!T&&Tr in T}function ka(T,P){const H=[];for(let ue=0;ue<T.length;ue++)H.push(T.charAt(ue)),ue<P.length&&H.push(P.charAt(ue));return H.join("")}function Fa(T){return Si.create("missing-app-config-values",{valueName:T})}ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $u{constructor(P,H,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function ju(T){if(!T||!T.options)throw Fa("App Configuration Object");if(!T.name)throw Fa("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:H}=T;for(const ue of P)if(!H[ue])throw Fa(ue);return{appName:T.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ie,installations:H,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function gs(T){return ms.apply(this,arguments)}function ms(){return(ms=(0,x.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(R,{scope:X}),T.swRegistration.update().catch(()=>{})}catch(P){throw Si.create("failed-service-worker-registration",{browserErrorMessage:null==P?void 0:P.message})}})).apply(this,arguments)}function po(T,P){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,x.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield gs(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Si.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function Mo(T,P){return no.apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=_e)})).apply(this,arguments)}function Iu(){return(Iu=(0,x.Z)(function*(T,P){if(!navigator)throw Si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Si.create("permission-blocked");return yield Mo(T,null==P?void 0:P.vapidKey),yield po(T,null==P?void 0:P.serviceWorkerRegistration),qo(T)})).apply(this,arguments)}function Mt(T,P,H){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,x.Z)(function*(T,P,H){const ue=ys(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:H[Tr],message_name:H[yr],message_time:H[Zi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ys(T){switch(T){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function en(){return(en=(0,x.Z)(function*(T,P){const H=P.data;if(!H.isFirebaseMessaging)return;T.onMessageHandler&&H.messageType===Ai.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(to(H)):T.onMessageHandler.next(to(H)));const ue=H.data;Qa(ue)&&"1"===ue[fs]&&(yield Mt(T,H.messageType,ue))})).apply(this,arguments)}const mn="@firebase/messaging",Yt=T=>{const P=new $u(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function Ja(T,P){return en.apply(this,arguments)}(P,H)),P},rt=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:ue=>function Po(T,P){return Iu.apply(this,arguments)}(P,ue)}};function xi(){return M.apply(this,arguments)}function M(){return(M=(0,x.Z)(function*(){try{yield(0,oe.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function It(){(0,we._registerComponent)(new De.wA("messaging",Yt,"PUBLIC")),(0,we._registerComponent)(new De.wA("messaging-internal",rt,"PRIVATE")),(0,we.registerVersion)(mn,"0.12.4"),(0,we.registerVersion)(mn,"0.12.4","esm2017")}();const Jt="analytics",Xn="firebase_id",Br="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hr="https://www.googletagmanager.com/gtag/js",Ht=new Me.Yd("@firebase/analytics"),Nn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ro(T){if(!T.startsWith(hr)){const P=Nn.create("invalid-gtag-resource",{gtagURL:T});return Ht.warn(P.message),""}return T}function Ar(T){return Promise.all(T.map(P=>P.catch(H=>H)))}function Ta(T,P){const H=function Ut(T,P){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(T,P)),H}("firebase-js-sdk-policy",{createScriptURL:ro}),ue=document.createElement("script"),Ie=`${hr}?l=${T}&id=${P}`;ue.src=H?null==H?void 0:H.createScriptURL(Ie):Ie,ue.async=!0,document.head.appendChild(ue)}function Zs(T,P,H,ue,Ie,Te){return bu.apply(this,arguments)}function bu(){return(bu=(0,x.Z)(function*(T,P,H,ue,Ie,Te){const We=ue[Ie];try{if(We)yield P[We];else{const zt=(yield Ar(H)).find(ln=>ln.measurementId===Ie);zt&&(yield P[zt.appId])}}catch(Vt){Ht.error(Vt)}T("config",Ie,Te)})).apply(this,arguments)}function Hu(T,P,H,ue,Ie){return ci.apply(this,arguments)}function ci(){return(ci=(0,x.Z)(function*(T,P,H,ue,Ie){try{let Te=[];if(Ie&&Ie.send_to){let We=Ie.send_to;Array.isArray(We)||(We=[We]);const Vt=yield Ar(H);for(const zt of We){const ln=Vt.find(Mn=>Mn.measurementId===zt),Bn=ln&&P[ln.appId];if(!Bn){Te=[];break}Te.push(Bn)}}0===Te.length&&(Te=Object.values(P)),yield Promise.all(Te),T("event",ue,Ie||{})}catch(Te){Ht.error(Te)}})).apply(this,arguments)}function ql(T){const P=window.document.getElementsByTagName("script");for(const H of Object.values(P))if(H.src&&H.src.includes(hr)&&H.src.includes(T))return H;return null}const Gu=new class zu{constructor(P={},H=1e3){this.throttleMetadata=P,this.intervalMillis=H}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,H){this.throttleMetadata[P]=H}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function go(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function cl(T){return He.apply(this,arguments)}function He(){return(He=(0,x.Z)(function*(T){var P;const{appId:H,apiKey:ue}=T,Ie={method:"GET",headers:go(ue)},Te=Br.replace("{app-id}",H),We=yield fetch(Te,Ie);if(200!==We.status&&304!==We.status){let Vt="";try{const zt=yield We.json();(null===(P=zt.error)||void 0===P?void 0:P.message)&&(Vt=zt.error.message)}catch(zt){}throw Nn.create("config-fetch-failed",{httpStatus:We.status,responseMessage:Vt})}return We.json()})).apply(this,arguments)}function la(T){return _s.apply(this,arguments)}function _s(){return(_s=(0,x.Z)(function*(T,P=Gu,H){const{appId:ue,apiKey:Ie,measurementId:Te}=T.options;if(!ue)throw Nn.create("no-app-id");if(!Ie){if(Te)return{measurementId:Te,appId:ue};throw Nn.create("no-api-key")}const We=P.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new Da;return setTimeout((0,x.Z)(function*(){Vt.abort()}),void 0!==H?H:6e4),dl({appId:ue,apiKey:Ie,measurementId:Te},We,Vt,P)})).apply(this,arguments)}function dl(T,P,H){return Va.apply(this,arguments)}function Va(){return(Va=(0,x.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:H},ue,Ie=Gu){var Te;const{appId:We,measurementId:Vt}=T;try{yield Ui(ue,P)}catch(zt){if(Vt)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null==zt?void 0:zt.message}]`),{appId:We,measurementId:Vt};throw zt}try{const zt=yield cl(T);return Ie.deleteThrottleMetadata(We),zt}catch(zt){const ln=zt;if(!No(ln)){if(Ie.deleteThrottleMetadata(We),Vt)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null==ln?void 0:ln.message}]`),{appId:We,measurementId:Vt};throw zt}const Bn=503===Number(null===(Te=null==ln?void 0:ln.customData)||void 0===Te?void 0:Te.httpStatus)?(0,oe.$s)(H,Ie.intervalMillis,30):(0,oe.$s)(H,Ie.intervalMillis),Mn={throttleEndTimeMillis:Date.now()+Bn,backoffCount:H+1};return Ie.setThrottleMetadata(We,Mn),Ht.debug(`Calling attemptFetch again in ${Bn} millis`),dl(T,Mn,ue,Ie)}})).apply(this,arguments)}function Ui(T,P){return new Promise((H,ue)=>{const Ie=Math.max(P-Date.now(),0),Te=setTimeout(H,Ie);T.addEventListener(()=>{clearTimeout(Te),ue(Nn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function No(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}class Da{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let ca,Ko;function Du(){return(Du=(0,x.Z)(function*(T,P,H,ue,Ie){if(Ie&&Ie.global)T("event",H,ue);else{const Te=yield P;T("event",H,Object.assign(Object.assign({},ue),{send_to:Te}))}})).apply(this,arguments)}function eu(T){Ko=T}function Au(T){ca=T}function Su(){return hu.apply(this,arguments)}function hu(){return(hu=(0,x.Z)(function*(){if(!(0,oe.hl)())return Ht.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Ht.warn(Nn.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function mo(){return(mo=(0,x.Z)(function*(T,P,H,ue,Ie,Te,We){var Vt;const zt=la(T);zt.then(Qt=>{H[Qt.measurementId]=Qt.appId,T.options.measurementId&&Qt.measurementId!==T.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qt=>Ht.error(Qt)),P.push(zt);const ln=Su().then(Qt=>{if(Qt)return ue.getId()}),[Bn,Mn]=yield Promise.all([zt,ln]);ql(Te)||Ta(Te,Bn.measurementId),Ko&&(Ie("consent","default",Ko),eu(void 0)),Ie("js",new Date);const zi=null!==(Vt=null==We?void 0:We.config)&&void 0!==Vt?Vt:{};return zi.origin="firebase",zi.update=!0,null!=Mn&&(zi[Xn]=Mn),Ie("config",Bn.measurementId,zi),ca&&(Ie("set",ca),Au(void 0)),Bn.measurementId})).apply(this,arguments)}class Ba{constructor(P){this.app=P}_delete(){return delete Hi[this.app.options.appId],Promise.resolve()}}let Hi={},Lo=[];const xu={};let fl,Vo,ha="dataLayer",fa=!1;function Pu(T,P,H){!function Aa(){const T=[];if((0,oe.ru)()&&T.push("This is a browser extension environment."),(0,oe.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((ue,Ie)=>`(${Ie+1}) ${ue}`).join(" "),H=Nn.create("invalid-analytics-context",{errorInfo:P});Ht.warn(H.message)}}();const ue=T.options.appId;if(!ue)throw Nn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Nn.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hi[ue])throw Nn.create("already-exists",{id:ue});if(!fa){!function La(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(ha);const{wrappedGtag:Te,gtagCore:We}=function Wl(T,P,H,ue,Ie){let Te=function(...We){window[ue].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(Te=window[Ie]),window[Ie]=function lu(T,P,H,ue){function Te(){return(Te=(0,x.Z)(function*(We,...Vt){try{if("event"===We){const[zt,ln]=Vt;yield Hu(T,P,H,zt,ln)}else if("config"===We){const[zt,ln]=Vt;yield Zs(T,P,H,ue,zt,ln)}else if("consent"===We){const[zt]=Vt;T("consent","update",zt)}else if("get"===We){const[zt,ln,Bn]=Vt;T("get",zt,ln,Bn)}else if("set"===We){const[zt]=Vt;T("set",zt)}else T(We,...Vt)}catch(zt){Ht.error(zt)}})).apply(this,arguments)}return function Ie(We){return Te.apply(this,arguments)}}(Te,T,P,H),{gtagCore:Te,wrappedGtag:window[Ie]}}(Hi,Lo,xu,ha,"gtag");Vo=Te,fl=We,fa=!0}return Hi[ue]=function Wu(T,P,H,ue,Ie,Te,We){return mo.apply(this,arguments)}(T,Lo,xu,P,fl,ha,H),new Ba(T)}function pl(){return pa.apply(this,arguments)}function pa(){return(pa=(0,x.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}const ja="@firebase/analytics";!function iu(){(0,we._registerComponent)(new De.wA(Jt,(P,{options:H})=>Pu(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,we._registerComponent)(new De.wA("analytics-internal",function T(P){try{const H=P.getProvider(Jt).getImmediate();return{logEvent:(ue,Ie,Te)=>function pi(T,P,H,ue){T=(0,oe.m9)(T),function Ua(T,P,H,ue,Ie){return Du.apply(this,arguments)}(Vo,Hi[T.app.options.appId],P,H,ue).catch(Ie=>Ht.error(Ie))}(H,ue,Ie,Te)}}catch(H){throw Nn.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,we.registerVersion)(ja,"0.10.0"),(0,we.registerVersion)(ja,"0.10.0","esm2017")}();var Ou=B(4408),Ru=B(7565);const gi=new class ga extends Ru.v{}(class ji extends Ou.o{constructor(P,H){super(P,H),this.scheduler=P,this.work=H}schedule(P,H=0){return H>0?super.schedule(P,H):(this.delay=H,this.state=P,this.scheduler.flush(this),this)}execute(P,H){return H>0||this.closed?super.execute(P,H):this._execute(P,H)}requestAsyncId(P,H,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(P,H,ue):P.flush(this)}});var Zu=B(4986),su=B(8306),ma=B(8505),pu=B(9468),Yo=B(5363);const yo=new m.GfV("7.4.1"),ou="__angularfire_symbol__analyticsIsSupportedValue",Uo="__angularfire_symbol__analyticsIsSupported",Ms="__angularfire_symbol__remoteConfigIsSupportedValue",Qo="__angularfire_symbol__remoteConfigIsSupported",js="__angularfire_symbol__messagingIsSupportedValue",gu="__angularfire_symbol__messagingIsSupported";function N(T,P,H){if(P){if(1===P.length)return P[0];const Te=P.filter(We=>We.app===H);if(1===Te.length)return Te[0]}return H.container.getProvider(T).getImmediate({optional:!0})}globalThis[Uo]||(globalThis[Uo]=pl().then(T=>globalThis[ou]=T).catch(()=>globalThis[ou]=!1)),globalThis[gu]||(globalThis[gu]=xi().then(T=>globalThis[js]=T).catch(()=>globalThis[js]=!1)),globalThis[Qo]||(globalThis[Qo]=Ra().then(T=>globalThis[Ms]=T).catch(()=>globalThis[Ms]=!1));const Z=(T,P)=>{const H=P?[P]:(0,v.C6)(),ue=[];return H.forEach(Ie=>{Ie.container.getProvider(T).instances.forEach(We=>{ue.includes(We)||ue.push(We)})}),ue};function le(){}class me{constructor(P,H=gi){this.zone=P,this.delegate=H}now(){return this.delegate.now()}schedule(P,H,ue){const Ie=this.zone;return this.delegate.schedule(function(We){Ie.runGuarded(()=>{P.apply(this,[We])})},H,ue)}}class Ue{constructor(P){this.zone=P,this.task=null}call(P,H){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)),H.pipe((0,ma.b)({next:ue,complete:ue,error:ue})).subscribe(P).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pt=(()=>{class T{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new me(Zone.current)),this.insideAngular=H.run(()=>new me(Zone.current,Zu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(H){return new(H||T)(m.LFG(m.R0b))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function qt(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function In(T){return qt().ngZone.runOutsideAngular(()=>T())}function qn(T){return qt().ngZone.run(()=>T())}function Cn(T){return qt(),function ui(T){return function(H){return(H=H.lift(new Ue(T.ngZone))).pipe((0,pu.R)(T.outsideAngular),(0,Yo.Q)(T.insideAngular))}}(qt())(T)}const dr=(T,P)=>function(){const ue=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),qn(()=>T.apply(void 0,ue))},mi=(T,P)=>function(){let H;const ue=arguments;for(let Te=0;Te<arguments.length;Te++)"function"==typeof ue[Te]&&(P&&(H||(H=qn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)))),ue[Te]=dr(ue[Te],H));const Ie=In(()=>T.apply(this,ue));if(!P){if(Ie instanceof su.y){const Te=qt();return Ie.pipe((0,pu.R)(Te.outsideAngular),(0,Yo.Q)(Te.insideAngular))}return qn(()=>Ie)}return Ie instanceof su.y?Ie.pipe(Cn):Ie instanceof Promise?qn(()=>new Promise((Te,We)=>Ie.then(Vt=>qn(()=>Te(Vt)),Vt=>qn(()=>We(Vt))))):"function"==typeof Ie&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),Ie.apply(this,arguments)}:qn(()=>Ie)}},1389:(Ft,$e,B)=>{B.d($e,{$:()=>R,A:()=>fe,D:()=>ot,I:()=>br,J:()=>At,L:()=>tr,N:()=>Yr,P:()=>Wu,Q:()=>es,R:()=>cu,U:()=>uo,V:()=>Ra,W:()=>Jr,X:()=>$i,Y:()=>ne,Z:()=>be,_:()=>pr,a:()=>F,a0:()=>_e,a1:()=>Tr,a2:()=>rs,a3:()=>Xs,a4:()=>Ls,a5:()=>Ao,a6:()=>Vs,a7:()=>Za,a8:()=>ra,a9:()=>Ka,aA:()=>ye,aB:()=>Uo,aC:()=>Kn,aD:()=>Qr,aE:()=>ma,aF:()=>Fi,aG:()=>nu,aH:()=>er,aL:()=>he,aO:()=>Y,aa:()=>ba,ab:()=>ss,ac:()=>ia,ad:()=>qs,ae:()=>kr,af:()=>Ri,ai:()=>So,aj:()=>Ya,ak:()=>ps,an:()=>Wr,ao:()=>aa,aq:()=>no,ar:()=>mn,as:()=>Ne,at:()=>nn,au:()=>qe,av:()=>ze,aw:()=>Mn,ax:()=>gu,ay:()=>Sn,az:()=>Ye,b:()=>b,c:()=>Vo,d:()=>Pu,e:()=>wc,f:()=>ja,g:()=>ga,h:()=>Ou,i:()=>Tu,j:()=>Zu,k:()=>Sr,l:()=>ko,m:()=>Ps,o:()=>gl,p:()=>ce,r:()=>du,s:()=>Kr,u:()=>Su});var m=B(5861),v=B(2090),x=B(6881),we=B(655),oe=B(1877),De=B(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ot=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new oe.Yd("@firebase/auth");function Pt(w,...f){nt.logLevel<=oe.in.ERROR&&nt.error(`Auth (${x.SDK_VERSION}): ${w}`,...f)}function ze(w,...f){throw yt(w,...f)}function Ye(w,...f){return yt(w,...f)}function dt(w,f,y){const D=Object.assign(Object.assign({},Qe()),{[f]:y});return new v.LL("auth","Firebase",D).create(f,{appName:w.name})}function Xe(w,f,y){if(!(f instanceof y))throw y.name!==f.constructor.name&&ze(w,"argument-error"),dt(w,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(w,...f){if("string"!=typeof w){const y=f[0],D=[...f.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return _t.create(w,...f)}function ye(w,f,...y){if(!w)throw yt(f,...y)}function Tt(w){const f="INTERNAL ASSERTION FAILED: "+w;throw Pt(f),new Error(f)}function Ne(w,f){w||Tt(f)}function je(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ze(){return"http:"===at()||"https:"===at()}function at(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Lt{constructor(f,y){this.shortDelay=f,this.longDelay=y,Ne(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function it(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(w,f){Ne(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}class fn{static initialize(f,y,D){this.fetchImpl=f,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dn=new Lt(3e4,6e4);function rn(w,f){return w.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:w.tenantId}):f}function Kt(w,f,y,D){return An.apply(this,arguments)}function An(){return(An=(0,m.Z)(function*(w,f,y,D,W={}){return bn(w,W,(0,m.Z)(function*(){let te={},Fe={};D&&("GET"===f?Fe=D:te={body:JSON.stringify(D)});const ct=(0,v.xO)(Object.assign({key:w.config.apiKey},Fe)).slice(1),Bt=yield w._getAdditionalHeaders();return Bt["Content-Type"]="application/json",w.languageCode&&(Bt["X-Firebase-Locale"]=w.languageCode),fn.fetch()(fr(w,w.config.apiHost,y,ct),Object.assign({method:f,headers:Bt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function bn(w,f,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(w,f,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},ft),f);try{const W=new bi(w),te=yield Promise.race([y(),W.promise]);W.clearNetworkTimeout();const Fe=yield te.json();if("needConfirmation"in Fe)throw wr(w,"account-exists-with-different-credential",Fe);if(te.ok&&!("errorMessage"in Fe))return Fe;{const ct=te.ok?Fe.errorMessage:Fe.error.message,[Bt,cn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw wr(w,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Bt)throw wr(w,"email-already-in-use",Fe);if("USER_DISABLED"===Bt)throw wr(w,"user-disabled",Fe);const Vn=D[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw dt(w,Vn,cn);ze(w,Vn)}}catch(W){if(W instanceof v.ZR)throw W;ze(w,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function En(w,f,y,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(w,f,y,D,W={}){const te=yield Kt(w,f,y,D,W);return"mfaPendingCredential"in te&&ze(w,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function fr(w,f,y,D){const W=`${f}${y}?${D}`;return w.config.emulator?tn(w.config,W):`${w.config.apiScheme}://${W}`}class bi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(Ye(this.auth,"network-request-failed")),Dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(w,f,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const W=Ye(w,f,D);return W.customData._tokenResponse=y,W}function $n(){return($n=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Fr(w,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sn(w,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ln(w){if(w)try{const f=new Date(Number(w));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Pi(){return(Pi=(0,m.Z)(function*(w,f=!1){const y=(0,v.m9)(w),D=yield y.getIdToken(f),W=Rr(D);ye(W&&W.exp&&W.auth_time&&W.iat,y.auth,"internal-error");const te="object"==typeof W.firebase?W.firebase:void 0,Fe=null==te?void 0:te.sign_in_provider;return{claims:W,token:D,authTime:Ln($r(W.auth_time)),issuedAtTime:Ln($r(W.iat)),expirationTime:Ln($r(W.exp)),signInProvider:Fe||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function $r(w){return 1e3*Number(w)}function Rr(w){const[f,y,D]=w.split(".");if(void 0===f||void 0===y||void 0===D)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,v.tV)(y);return W?JSON.parse(W):(Pt("Failed to decode base64 JWT payload"),null)}catch(W){return Pt("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function Zn(w,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(w,f,y=!1){if(y)return f;try{return yield f}catch(D){throw D instanceof v.ZR&&pn(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function pn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Wt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const W=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(f);this.timerId=setTimeout((0,m.Z)(function*(){yield y.iteration()}),D)}iteration(){var f=this;return(0,m.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null==y?void 0:y.code)&&f.schedule(!0))}f.schedule()})()}}class Hr{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(w){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(w){var f;const y=w.auth,D=yield w.getIdToken(),W=yield Zn(w,sn(y,{idToken:D}));ye(null==W?void 0:W.users.length,y,"internal-error");const te=W.users[0];w._notifyReloadListener(te);const Fe=(null===(f=te.providerUserInfo)||void 0===f?void 0:f.length)?gn(te.providerUserInfo):[],ct=Gn(w.providerData,Fe),Vn=!!w.isAnonymous&&!(w.email&&te.passwordHash||(null==ct?void 0:ct.length)),Or={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ct,metadata:new Hr(te.createdAt,te.lastLoginAt),isAnonymous:Vn};Object.assign(w,Or)})).apply(this,arguments)}function mr(){return(mr=(0,m.Z)(function*(w){const f=(0,v.m9)(w);yield si(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Gn(w,f){return[...w.filter(D=>!f.some(W=>W.providerId===D.providerId)),...f]}function gn(w){return w.map(f=>{var{providerId:y}=f,D=(0,we._T)(f,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Un(){return(Un=(0,m.Z)(function*(w,f){const y=yield bn(w,{},(0,m.Z)(function*(){const D=(0,v.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:te}=w.config,Fe=fr(w,W,"/v1/token",`key=${te}`),ct=yield w._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",fn.fetch()(Fe,{method:"POST",headers:ct,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ye(f.idToken,"internal-error"),ye(void 0!==f.idToken,"internal-error"),ye(void 0!==f.refreshToken,"internal-error");const y="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Gr(w){const f=Rr(w);return ye(f,"internal-error"),ye(void 0!==f.exp,"internal-error"),ye(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}getToken(f,y=!1){var D=this;return(0,m.Z)(function*(){return ye(!D.accessToken||D.refreshToken,f,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(f,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var D=this;return(0,m.Z)(function*(){const{accessToken:W,refreshToken:te,expiresIn:Fe}=yield function vi(w,f){return Un.apply(this,arguments)}(f,y);D.updateTokensAndExpiration(W,te,Number(Fe))})()}updateTokensAndExpiration(f,y,D){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(f,y){const{refreshToken:D,accessToken:W,expirationTime:te}=y,Fe=new Nr;return D&&(ye("string"==typeof D,"internal-error",{appName:f}),Fe.refreshToken=D),W&&(ye("string"==typeof W,"internal-error",{appName:f}),Fe.accessToken=W),te&&(ye("number"==typeof te,"internal-error",{appName:f}),Fe.expirationTime=te),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Nr,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function yn(w,f){ye("string"==typeof w||void 0===w,"internal-error",{appName:f})}class Pn{constructor(f){var{uid:y,auth:D,stsTokenManager:W}=f,te=(0,we._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Hr(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,m.Z)(function*(){const D=yield Zn(y,y.stsTokenManager.getToken(y.auth,f));return ye(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(f){return function ti(w){return Pi.apply(this,arguments)}(this,f)}reload(){return function _i(w){return mr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ye(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const y=new Pn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(f){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,y=!1){var D=this;return(0,m.Z)(function*(){let W=!1;f.idToken&&f.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(f),W=!0),y&&(yield si(D)),yield D.auth._persistUserIfCurrent(D),W&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var f=this;return(0,m.Z)(function*(){const y=yield f.getIdToken();return yield Zn(f,function Cr(w,f){return $n.apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var D,W,te,Fe,ct,Bt,cn,Vn;const Or=null!==(D=y.displayName)&&void 0!==D?D:void 0,$s=null!==(W=y.email)&&void 0!==W?W:void 0,Qi=null!==(te=y.phoneNumber)&&void 0!==te?te:void 0,ml=null!==(Fe=y.photoURL)&&void 0!==Fe?Fe:void 0,Ha=null!==(ct=y.tenantId)&&void 0!==ct?ct:void 0,bc=null!==(Bt=y._redirectEventId)&&void 0!==Bt?Bt:void 0,Ii=null!==(cn=y.createdAt)&&void 0!==cn?cn:void 0,Ku=null!==(Vn=y.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:mu,emailVerified:cd,isAnonymous:za,providerData:Yl,stsTokenManager:yl}=y;ye(mu&&yl,f,"internal-error");const rh=Nr.fromJSON(this.name,yl);ye("string"==typeof mu,f,"internal-error"),yn(Or,f.name),yn($s,f.name),ye("boolean"==typeof cd,f,"internal-error"),ye("boolean"==typeof za,f,"internal-error"),yn(Qi,f.name),yn(ml,f.name),yn(Ha,f.name),yn(bc,f.name),yn(Ii,f.name),yn(Ku,f.name);const dd=new Pn({uid:mu,auth:f,email:$s,emailVerified:cd,displayName:Or,isAnonymous:za,photoURL:ml,phoneNumber:Qi,tenantId:Ha,stsTokenManager:rh,createdAt:Ii,lastLoginAt:Ku});return Yl&&Array.isArray(Yl)&&(dd.providerData=Yl.map(Er=>Object.assign({},Er))),bc&&(dd._redirectEventId=bc),dd}static _fromIdTokenResponse(f,y,D=!1){return(0,m.Z)(function*(){const W=new Nr;W.updateFromServerResponse(y);const te=new Pn({uid:y.localId,auth:f,stsTokenManager:W,isAnonymous:D});return yield si(te),te})()}}const On=new Map;function Kn(w){Ne(w instanceof Function,"Expected a class definition");let f=On.get(w);return f?(Ne(f instanceof w,"Instance stored in cache mismatched with class"),f):(f=new w,On.set(w,f),f)}const Yr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(y,D){var W=this;return(0,m.Z)(function*(){W.storage[y]=D})()}_get(y){var D=this;return(0,m.Z)(function*(){const W=D.storage[y];return void 0===W?null:W})()}_remove(y){var D=this;return(0,m.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function Qr(w,f,y){return`firebase:${w}:${f}:${y}`}class ve{constructor(f,y,D){this.persistence=f,this.auth=y,this.userKey=D;const{config:W,name:te}=this.auth;this.fullUserKey=Qr(this.userKey,W.apiKey,te),this.fullPersistenceKey=Qr("persistence",W.apiKey,te),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,m.Z)(function*(){const y=yield f.persistence._get(f.fullUserKey);return y?Pn._fromJSON(f.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,m.Z)(function*(){if(y.persistence===f)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y,D="authUser"){return(0,m.Z)(function*(){if(!y.length)return new ve(Kn(Yr),f,D);const W=(yield Promise.all(y.map(function(){var cn=(0,m.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let te=W[0]||Kn(Yr);const Fe=Qr(D,f.config.apiKey,f.name);let ct=null;for(const cn of y)try{const Vn=yield cn._get(Fe);if(Vn){const Or=Pn._fromJSON(f,Vn);cn!==te&&(ct=Or),te=cn;break}}catch(Vn){}const Bt=W.filter(cn=>cn._shouldAllowMigration);return te._shouldAllowMigration&&Bt.length?(te=Bt[0],ct&&(yield te._set(Fe,ct.toJSON())),yield Promise.all(y.map(function(){var cn=(0,m.Z)(function*(Vn){if(Vn!==te)try{yield Vn._remove(Fe)}catch(Or){}});return function(Vn){return cn.apply(this,arguments)}}())),new ve(te,f,D)):new ve(te,f,D)})()}}function ge(w){const f=w.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Pe(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Rt(f))return"Blackberry";if(_n(f))return"Webos";if(se(f))return"Safari";if((f.includes("chrome/")||K(f))&&!f.includes("edge/"))return"Chrome";if(qe(f))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function ie(w=(0,v.z$)()){return/firefox\//i.test(w)}function se(w=(0,v.z$)()){const f=w.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function K(w=(0,v.z$)()){return/crios\//i.test(w)}function Pe(w=(0,v.z$)()){return/iemobile/i.test(w)}function qe(w=(0,v.z$)()){return/android/i.test(w)}function Rt(w=(0,v.z$)()){return/blackberry/i.test(w)}function _n(w=(0,v.z$)()){return/webos/i.test(w)}function nn(w=(0,v.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Sn(w=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function vt(w=(0,v.z$)()){return nn(w)||qe(w)||_n(w)||Rt(w)||/windows phone/i.test(w)||Pe(w)}function Gt(w,f=[]){let y;switch(w){case"Browser":y=ge((0,v.z$)());break;case"Worker":y=`${ge((0,v.z$)())}-${w}`;break;default:y=w}const D=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${x.SDK_VERSION}/${D}`}function Ve(){return(Ve=(0,m.Z)(function*(w){return(yield Kt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(w,f){return et.apply(this,arguments)}function et(){return(et=(0,m.Z)(function*(w,f){return Kt(w,"GET","/v2/recaptchaConfig",rn(w,f))})).apply(this,arguments)}function Nt(w){return void 0!==w&&void 0!==w.getResponse}function pe(w){return void 0!==w&&void 0!==w.enterprise}class q{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Ce(w){return new Promise((f,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=f,D.onerror=W=>{const te=Ye("internal-error");te.customData=W,y(te)},D.type="text/javascript",D.charset="UTF-8",function J(){var w,f;return null!==(f=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==f?f:document}().appendChild(D)})}function ut(w){return`__${w}${Math.floor(1e6*Math.random())}`}class on{constructor(f){this.type="recaptcha-enterprise",this.auth=er(f)}verify(f="verify",y=!1){var D=this;return(0,m.Z)(function*(){function te(){return te=(0,m.Z)(function*(ct){if(!y){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var Bt=(0,m.Z)(function*(cn,Vn){gt(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Or=>{if(void 0!==Or.recaptchaKey){const $s=new q(Or);return null==ct.tenantId?ct._agentRecaptchaConfig=$s:ct._tenantRecaptchaConfigs[ct.tenantId]=$s,cn($s.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(Or=>{Vn(Or)})});return function(cn,Vn){return Bt.apply(this,arguments)}}())}),te.apply(this,arguments)}function Fe(ct,Bt,cn){const Vn=window.grecaptcha;pe(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(ct,{action:f}).then(Or=>{Bt(Or)}).catch(()=>{Bt("NO_RECAPTCHA")})}):cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,Bt)=>{(function W(ct){return te.apply(this,arguments)})(D.auth).then(cn=>{if(!y&&pe(window.grecaptcha))Fe(cn,ct,Bt);else{if("undefined"==typeof window)return void Bt(new Error("RecaptchaVerifier is only supported in browser"));Ce("https://www.google.com/recaptcha/enterprise.js?render="+cn).then(()=>{Fe(cn,ct,Bt)}).catch(Vn=>{Bt(Vn)})}}).catch(cn=>{Bt(cn)})})})()}}function oi(w,f,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,m.Z)(function*(w,f,y,D=!1){const W=new on(w);let te;try{te=yield W.verify(y)}catch(ct){te=yield W.verify(y,!0)}const Fe=Object.assign({},f);return Object.assign(Fe,D?{captchaResp:te}:{captchaResponse:te}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}class Rs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const D=te=>new Promise((Fe,ct)=>{try{Fe(f(te))}catch(Bt){ct(Bt)}});D.onAbort=y,this.queue.push(D);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,m.Z)(function*(){if(y.auth.currentUser===f)return;const D=[];try{for(const W of y.queue)yield W(f),W.onAbort&&D.push(W.onAbort)}catch(W){D.reverse();for(const te of D)try{te()}catch(Fe){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}class Ti{constructor(f,y,D,W){this.app=f,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=D,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new Rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(f,y){var D=this;return y&&(this._popupRedirectResolver=Kn(y)),this._initializationPromise=this.queue((0,m.Z)(function*(){var W,te;if(!D._deleted&&(D.persistenceManager=yield ve.create(D,f),!D._deleted)){if(null===(W=D._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Fe){}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(te=D.currentUser)||void 0===te?void 0:te.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,m.Z)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUser(f){var y=this;return(0,m.Z)(function*(){var D;const W=yield y.assertedPersistence.getCurrentUser();let te=W,Fe=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ct=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,Bt=null==te?void 0:te._redirectEventId,cn=yield y.tryRedirectSignIn(f);(!ct||ct===Bt)&&(null==cn?void 0:cn.user)&&(te=cn.user,Fe=!0)}if(!te)return y.directlySetCurrentUser(null);if(!te._redirectEventId){if(Fe)try{yield y.beforeStateQueue.runMiddleware(te)}catch(ct){te=W,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ct))}return te?y.reloadAndSetCurrentUserOrClear(te):y.directlySetCurrentUser(null)}return ye(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===te._redirectEventId?y.directlySetCurrentUser(te):y.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(f){var y=this;return(0,m.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch(W){yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,m.Z)(function*(){try{yield si(f)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ct(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var f=this;return(0,m.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,m.Z)(function*(){const D=f?(0,v.m9)(f):null;return D&&ye(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(f,y=!1){var D=this;return(0,m.Z)(function*(){if(!D._deleted)return f&&ye(D.tenantId===f.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(f)),D.queue((0,m.Z)(function*(){yield D.directlySetCurrentUser(f),D.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,m.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var y=this;return this.queue((0,m.Z)(function*(){yield y.assertedPersistence.setPersistence(Kn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,m.Z)(function*(){const y=yield gt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new q(y);null==f.tenantId?f._agentRecaptchaConfig=D:f._tenantRecaptchaConfigs[f.tenantId]=D,D.emailPasswordEnabled&&new on(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new v.LL("auth","Firebase",f())}onAuthStateChanged(f,y,D){return this.registerStateListener(this.authStateSubscription,f,y,D)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,D){return this.registerStateListener(this.idTokenSubscription,f,y,D)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var D=this;return(0,m.Z)(function*(){const W=yield D.getOrInitRedirectPersistenceManager(y);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,m.Z)(function*(){if(!y.redirectPersistenceManager){const D=f&&Kn(f)||y._popupRedirectResolver;ye(D,y,"argument-error"),y.redirectPersistenceManager=yield ve.create(y,[Kn(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,m.Z)(function*(){var D,W;return y._isInitialized&&(yield y.queue((0,m.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===f?y._currentUser:(null===(W=y.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,m.Z)(function*(){if(f===y.currentUser)return y.queue((0,m.Z)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,D,W){if(this._deleted)return()=>{};const te="function"==typeof y?y:y.next.bind(y),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(Fe,this,"internal-error"),Fe.then(()=>te(this.currentUser)),"function"==typeof y?f.addObserver(y,D,W):f.addObserver(y)}directlySetCurrentUser(f){var y=this;return(0,m.Z)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,m.Z)(function*(){var y;const D={"X-Client-Version":f.clientVersion};f.app.options.appId&&(D["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();W&&(D["X-Firebase-Client"]=W);const te=yield f._getAppCheckToken();return te&&(D["X-Firebase-AppCheck"]=te),D})()}_getAppCheckToken(){var f=this;return(0,m.Z)(function*(){var y;const D=yield null===(y=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return(null==D?void 0:D.error)&&function bt(w,...f){nt.logLevel<=oe.in.WARN&&nt.warn(`Auth (${x.SDK_VERSION}): ${w}`,...f)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function er(w){return(0,v.m9)(w)}class Ei{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,v.ne)(y=>this.observer=y)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function br(w,f,y){const D=er(w);ye(D._canInitEmulator,D,"emulator-config-failed"),ye(/^https?:\/\//.test(f),D,"invalid-emulator-scheme");const W=!!(null==y?void 0:y.disableWarnings),te=ke(f),{host:Fe,port:ct}=function Ae(w){const f=ke(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(f.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(D);if(W){const te=W[1];return{host:te,port:Be(D.substr(te.length+1))}}{const[te,Fe]=D.split(":");return{host:te,port:Be(Fe)}}}(f);D.config.emulator={url:`${te}//${Fe}${null===ct?"":`:${ct}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Fe,port:ct,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function ht(){function w(){const f=document.createElement("p"),y=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ke(w){const f=w.indexOf(":");return f<0?"":w.substr(0,f+1)}function Be(w){if(!w)return null;const f=Number(w);return isNaN(f)?null:f}class At{constructor(f,y){this.providerId=f,this.signInMethod=y}toJSON(){return Tt("not implemented")}_getIdTokenResponse(f){return Tt("not implemented")}_linkToIdToken(f,y){return Tt("not implemented")}_getReauthenticationResolver(f){return Tt("not implemented")}}function wn(w,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:resetPassword",rn(w,f))})).apply(this,arguments)}function Jn(w,f){return or.apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wi(w,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:update",rn(w,f))})).apply(this,arguments)}function Mr(w,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithPassword",rn(w,f))})).apply(this,arguments)}function Co(w,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:sendOobCode",rn(w,f))})).apply(this,arguments)}function zs(w,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(w,f){return Co(w,f)})).apply(this,arguments)}function ks(w,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,m.Z)(function*(w,f){return Co(w,f)})).apply(this,arguments)}function Ws(w,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,m.Z)(function*(w,f){return Co(w,f)})).apply(this,arguments)}function ea(w,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,m.Z)(function*(w,f){return Co(w,f)})).apply(this,arguments)}function jo(){return(jo=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithEmailLink",rn(w,f))})).apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithEmailLink",rn(w,f))})).apply(this,arguments)}class Oi extends At{constructor(f,y,D,W=null){super("password",D),this._email=f,this._password=y,this._tenantId=W}static _fromEmailAndPassword(f,y){return new Oi(f,y,"password")}static _fromEmailAndCode(f,y,D=null){return new Oi(f,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(f){var y=this;return(0,m.Z)(function*(){var D;switch(y.signInMethod){case"password":const W={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null===(D=f._getRecaptchaConfig())||void 0===D?void 0:D.emailPasswordEnabled){const te=yield oi(f,W,"signInWithPassword");return Mr(f,te)}return Mr(f,W).catch(function(){var te=(0,m.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield oi(f,W,"signInWithPassword");return Mr(f,ct)}return Promise.reject(Fe)});return function(Fe){return te.apply(this,arguments)}}());case"emailLink":return function va(w,f){return jo.apply(this,arguments)}(f,{email:y._email,oobCode:y._password});default:ze(f,"internal-error")}})()}_linkToIdToken(f,y){var D=this;return(0,m.Z)(function*(){switch(D.signInMethod){case"password":return Jn(f,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Ea(w,f){return Di.apply(this,arguments)}(f,{idToken:y,email:D._email,oobCode:D._password});default:ze(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qi(w,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithIdp",rn(w,f))})).apply(this,arguments)}class tr extends At{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const y=new tr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(y.idToken=f.idToken),f.accessToken&&(y.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(y.nonce=f.nonce),f.pendingToken&&(y.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(y.accessToken=f.oauthToken,y.secret=f.oauthTokenSecret):ze("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:W}=y,te=(0,we._T)(y,["providerId","signInMethod"]);if(!D||!W)return null;const Fe=new tr(D,W);return Fe.idToken=te.idToken||void 0,Fe.accessToken=te.accessToken||void 0,Fe.secret=te.secret,Fe.nonce=te.nonce,Fe.pendingToken=te.pendingToken||null,Fe}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,y){const D=this.buildRequest();return D.idToken=y,qi(f,D)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,qi(f,y)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),f.postBody=(0,v.xO)(y)}return f}}function bo(w,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:sendVerificationCode",rn(w,f))})).apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithPhoneNumber",rn(w,f))})).apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(w,f){const y=yield En(w,"POST","/v1/accounts:signInWithPhoneNumber",rn(w,f));if(y.temporaryProof)throw wr(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ds={USER_NOT_FOUND:"user-not-found"};function To(){return(To=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithPhoneNumber",rn(w,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ds)})).apply(this,arguments)}class Vi extends At{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,y){return new Vi({verificationId:f,verificationCode:y})}static _fromTokenResponse(f,y){return new Vi({phoneNumber:f,temporaryProof:y})}_getIdTokenResponse(f){return function Is(w,f){return ao.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,y){return function Fs(w,f){return $o.apply(this,arguments)}(f,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Oa(w,f){return To.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:y,verificationId:D,verificationCode:W}=this.params;return f&&y?{temporaryProof:f,phoneNumber:y}:{sessionInfo:D,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:y,verificationCode:D,phoneNumber:W,temporaryProof:te}=f;return D||y||W||te?new Vi({verificationId:y,verificationCode:D,phoneNumber:W,temporaryProof:te}):null}}class bs{constructor(f){var y,D,W,te,Fe,ct;const Bt=(0,v.zd)((0,v.pd)(f)),cn=null!==(y=Bt.apiKey)&&void 0!==y?y:null,Vn=null!==(D=Bt.oobCode)&&void 0!==D?D:null,Or=function ri(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Bt.mode)&&void 0!==W?W:null);ye(cn&&Vn&&Or,"argument-error"),this.apiKey=cn,this.operation=Or,this.code=Vn,this.continueUrl=null!==(te=Bt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Fe=Bt.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(ct=Bt.tenantId)&&void 0!==ct?ct:null}static parseLink(f){const y=function Js(w){const f=(0,v.zd)((0,v.pd)(w)).link,y=f?(0,v.zd)((0,v.pd)(f)).deep_link_id:null,D=(0,v.zd)((0,v.pd)(w)).deep_link_id;return(D?(0,v.zd)((0,v.pd)(D)).link:null)||D||y||f||w}(f);try{return new bs(y)}catch(D){return null}}}let es=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return Oi._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const W=bs.parseLink(D);return ye(W,"argument-error"),Oi._fromEmailAndCode(y,W.code,W.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Wn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ts extends Wn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class $i extends ts{static credentialFromJSON(f){const y="string"==typeof f?JSON.parse(f):f;return ye("providerId"in y&&"signInMethod"in y,"argument-error"),tr._fromParams(y)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ye(f.idToken||f.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return $i.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return $i.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:W,pendingToken:te,nonce:Fe,providerId:ct}=f;if(!D&&!W&&!y&&!te||!ct)return null;try{return new $i(ct)._credential({idToken:y,accessToken:D,nonce:Fe,pendingToken:te})}catch(Bt){return null}}}let uo=(()=>{class w extends ts{constructor(){super("facebook.com")}static credential(y){return tr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ra=(()=>{class w extends ts{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return tr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:W}=y;if(!D&&!W)return null;try{return w.credential(D,W)}catch(te){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Jr=(()=>{class w extends ts{constructor(){super("github.com")}static credential(y){return tr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Y extends At{constructor(f,y){super(f,f),this.pendingToken=y}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,y){const D=this.buildRequest();return D.idToken=y,qi(f,D)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,qi(f,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:W,pendingToken:te}=y;return D&&W&&te&&D===W?new Y(D,te):null}static _create(f,y){return new Y(f,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ne extends Wn{constructor(f){ye(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ne.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ne.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const y=Y.fromJSON(f);return ye(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:y,providerId:D}=f;if(!y||!D)return null;try{return Y._create(D,y)}catch(W){return null}}}let be=(()=>{class w extends ts{constructor(){super("twitter.com")}static credential(y,D){return tr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:W}=y;if(!D||!W)return null;try{return w.credential(D,W)}catch(te){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function lt(w,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signUp",rn(w,f))})).apply(this,arguments)}class Xt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,y,D,W=!1){return(0,m.Z)(function*(){const te=yield Pn._fromIdTokenResponse(f,D,W),Fe=_r(D);return new Xt({user:te,providerId:Fe,_tokenResponse:D,operationType:y})})()}static _forOperation(f,y,D){return(0,m.Z)(function*(){yield f._updateTokensIfNecessary(D,!0);const W=_r(D);return new Xt({user:f,providerId:W,_tokenResponse:D,operationType:y})})()}}function _r(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function pr(w){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,m.Z)(function*(w){var f;const y=er(w);if(yield y._initializationPromise,null===(f=y.currentUser)||void 0===f?void 0:f.isAnonymous)return new Xt({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield lt(y,{returnSecureToken:!0}),W=yield Xt._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(W.user),W})).apply(this,arguments)}class ar extends v.ZR{constructor(f,y,D,W){var te;super(y.code,y.message),this.operationType=D,this.user=W,Object.setPrototypeOf(this,ar.prototype),this.customData={appName:f.name,tenantId:null!==(te=f.tenantId)&&void 0!==te?te:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(f,y,D,W){return new ar(f,y,D,W)}}function ii(w,f,y,D){return("reauthenticate"===f?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?ar._fromErrorAndOperation(w,te,f,D):te})}function Pr(w){return new Set(w.map(({providerId:f})=>f).filter(f=>!!f))}function Wr(w,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,m.Z)(function*(w,f){const y=(0,v.m9)(w);yield ns(!0,y,f);const{providerUserInfo:D}=yield Fr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[f]}),W=Pr(D||[]);return y.providerData=y.providerData.filter(te=>W.has(te.providerId)),W.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function nr(w,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,m.Z)(function*(w,f,y=!1){const D=yield Zn(w,f._linkToIdToken(w.auth,yield w.getIdToken()),y);return Xt._forOperation(w,"link",D)})).apply(this,arguments)}function ns(w,f,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,m.Z)(function*(w,f,y){yield si(f);const W=!1===w?"provider-already-linked":"no-such-provider";ye(Pr(f.providerData).has(y)===w,f.auth,W)})).apply(this,arguments)}function Ho(w,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,m.Z)(function*(w,f,y=!1){const{auth:D}=w,W="reauthenticate";try{const te=yield Zn(w,ii(D,W,f,w),y);ye(te.idToken,D,"internal-error");const Fe=Rr(te.idToken);ye(Fe,D,"internal-error");const{sub:ct}=Fe;return ye(w.uid===ct,D,"user-mismatch"),Xt._forOperation(w,W,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&ze(D,"user-mismatch"),te}})).apply(this,arguments)}function j(w,f){return k.apply(this,arguments)}function k(){return(k=(0,m.Z)(function*(w,f,y=!1){const D="signIn",W=yield ii(w,D,f),te=yield Xt._fromIdTokenResponse(w,D,W);return y||(yield w._updateCurrentUser(te.user)),te})).apply(this,arguments)}function R(w,f){return X.apply(this,arguments)}function X(){return(X=(0,m.Z)(function*(w,f){return j(er(w),f)})).apply(this,arguments)}function _e(w,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(w,f){const y=(0,v.m9)(w);return yield ns(!1,y,f.providerId),nr(y,f)})).apply(this,arguments)}function Tr(w,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,m.Z)(function*(w,f){return Ho((0,v.m9)(w),f)})).apply(this,arguments)}function Zi(w,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(w,f){return En(w,"POST","/v1/accounts:signInWithCustomToken",rn(w,f))})).apply(this,arguments)}function rs(w,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(w,f){const y=er(w),D=yield Zi(y,{token:f,returnSecureToken:!0}),W=yield Xt._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(W.user),W})).apply(this,arguments)}class fi{constructor(f,y){this.factorId=f,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(f,y){return"phoneInfo"in y?Ca._fromServerResponse(f,y):"totpInfo"in y?na._fromServerResponse(f,y):ze(f,"internal-error")}}class Ca extends fi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,y){return new Ca(y)}}class na extends fi{constructor(f){super("totp",f)}static _fromServerResponse(f,y){return new na(y)}}function Go(w,f,y){var D;ye((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),ye(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),f.continueUrl=y.url,f.dynamicLinkDomain=y.dynamicLinkDomain,f.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ye(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),f.iOSBundleId=y.iOS.bundleId),y.android&&(ye(y.android.packageName.length>0,w,"missing-android-pkg-name"),f.androidInstallApp=y.android.installApp,f.androidMinimumVersionCode=y.android.minimumVersion,f.androidPackageName=y.android.packageName)}function Xs(w,f,y){return qr.apply(this,arguments)}function qr(){return qr=(0,m.Z)(function*(w,f,y){var D;const W=er(w),te={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null===(D=W._getRecaptchaConfig())||void 0===D?void 0:D.emailPasswordEnabled){const Fe=yield oi(W,te,"getOobCode",!0);y&&Go(W,Fe,y),yield ks(W,Fe)}else y&&Go(W,te,y),yield ks(W,te).catch(function(){var Fe=(0,m.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Bt=yield oi(W,te,"getOobCode",!0);y&&Go(W,Bt,y),yield ks(W,Bt)}});return function(ct){return Fe.apply(this,arguments)}}())}),qr.apply(this,arguments)}function Ls(w,f,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(w,f,y){yield wn((0,v.m9)(w),{oobCode:f,newPassword:y})})).apply(this,arguments)}function Ao(w,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(w,f){yield Wi((0,v.m9)(w),{oobCode:f})})).apply(this,arguments)}function Vs(w,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,m.Z)(function*(w,f){const y=(0,v.m9)(w),D=yield wn(y,{oobCode:f}),W=D.requestType;switch(ye(W,y,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(D.mfaInfo,y,"internal-error");default:ye(D.email,y,"internal-error")}let te=null;return D.mfaInfo&&(te=fi._fromServerResponse(er(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:te},operation:W}})).apply(this,arguments)}function Za(w,f){return is.apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(w,f){const{data:y}=yield Vs((0,v.m9)(w),f);return y.email})).apply(this,arguments)}function ra(w,f,y){return lo.apply(this,arguments)}function lo(){return lo=(0,m.Z)(function*(w,f,y){var D;const W=er(w),te={returnSecureToken:!0,email:f,password:y,clientType:"CLIENT_TYPE_WEB"};let Fe;if(null===(D=W._getRecaptchaConfig())||void 0===D?void 0:D.emailPasswordEnabled){const cn=yield oi(W,te,"signUpPassword");Fe=lt(W,cn)}else Fe=lt(W,te).catch(function(){var cn=(0,m.Z)(function*(Vn){if("auth/missing-recaptcha-token"===Vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Or=yield oi(W,te,"signUpPassword");return lt(W,Or)}return Promise.reject(Vn)});return function(Vn){return cn.apply(this,arguments)}}());const ct=yield Fe.catch(cn=>Promise.reject(cn)),Bt=yield Xt._fromIdTokenResponse(W,"signIn",ct);return yield W._updateCurrentUser(Bt.user),Bt}),lo.apply(this,arguments)}function Ka(w,f,y){return R((0,v.m9)(w),es.credential(f,y))}function ba(w,f,y){return co.apply(this,arguments)}function co(){return co=(0,m.Z)(function*(w,f,y){var D;const W=er(w),te={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Fe(ct,Bt){ye(Bt.handleCodeInApp,W,"argument-error"),Bt&&Go(W,ct,Bt)}if(null===(D=W._getRecaptchaConfig())||void 0===D?void 0:D.emailPasswordEnabled){const ct=yield oi(W,te,"getOobCode",!0);Fe(ct,y),yield Ws(W,ct)}else Fe(te,y),yield Ws(W,te).catch(function(){var ct=(0,m.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const cn=yield oi(W,te,"getOobCode",!0);Fe(cn,y),yield Ws(W,cn)}});return function(Bt){return ct.apply(this,arguments)}}())}),co.apply(this,arguments)}function ss(w,f){const y=bs.parseLink(f);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function ia(w,f,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w),W=es.credentialWithLink(f,y||je());return ye(W._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),R(D,W)})).apply(this,arguments)}function sa(w,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:createAuthUri",rn(w,f))})).apply(this,arguments)}function qs(w,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,m.Z)(function*(w,f){const D={identifier:f,continueUri:Ze()?je():"http://localhost"},{signinMethods:W}=yield sa((0,v.m9)(w),D);return W||[]})).apply(this,arguments)}function kr(w,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(w,f){const y=(0,v.m9)(w),W={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};f&&Go(y.auth,W,f);const{email:te}=yield zs(y.auth,W);te!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ri(w,f,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:f};y&&Go(D.auth,te,y);const{email:Fe}=yield ea(D.auth,te);Fe!==w.email&&(yield w.reload())})).apply(this,arguments)}function ai(w,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,m.Z)(function*(w,f){return Kt(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function So(w,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(w,{displayName:f,photoURL:y}){if(void 0===f&&void 0===y)return;const D=(0,v.m9)(w),te={idToken:yield D.getIdToken(),displayName:f,photoUrl:y,returnSecureToken:!0},Fe=yield Zn(D,ai(D.auth,te));D.displayName=Fe.displayName||null,D.photoURL=Fe.photoUrl||null;const ct=D.providerData.find(({providerId:Bt})=>"password"===Bt);ct&&(ct.displayName=D.displayName,ct.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Fe)})).apply(this,arguments)}function Ya(w,f){return os((0,v.m9)(w),f,null)}function ps(w,f){return os((0,v.m9)(w),null,f)}function os(w,f,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,m.Z)(function*(w,f,y){const{auth:D}=w,te={idToken:yield w.getIdToken(),returnSecureToken:!0};f&&(te.email=f),y&&(te.password=y);const Fe=yield Zn(w,Jn(D,te));yield w._updateTokensIfNecessary(Fe,!0)})).apply(this,arguments)}class As{constructor(f,y,D={}){this.isNewUser=f,this.providerId=y,this.profile=D}}class Vr extends As{constructor(f,y,D,W){super(f,y,D),this.username=W}}class eo extends As{constructor(f,y){super(f,"facebook.com",y)}}class xo extends Vr{constructor(f,y){super(f,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class as extends As{constructor(f,y){super(f,"google.com",y)}}class to extends Vr{constructor(f,y,D){super(f,"twitter.com",y,D)}}function aa(w){const{user:f,_tokenResponse:y}=w;return f.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function fo(w){var f,y;if(!w)return null;const{providerId:D}=w,W=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},te=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&(null==w?void 0:w.idToken)){const Fe=null===(y=null===(f=Rr(w.idToken))||void 0===f?void 0:f.firebase)||void 0===y?void 0:y.sign_in_provider;if(Fe)return new As(te,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!D)return null;switch(D){case"facebook.com":return new eo(te,W);case"github.com":return new xo(te,W);case"google.com":return new as(te,W);case"twitter.com":return new to(te,W,w.screenName||null);case"custom":case"anonymous":return new As(te,null);default:return new As(te,D,W)}}(y)}class Ur{constructor(f,y,D){this.type=f,this.credential=y,this.auth=D}static _fromIdtoken(f,y){return new Ur("enroll",f,y)}static _fromMfaPendingCredential(f){return new Ur("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var y,D;if(null==f?void 0:f.multiFactorSession){if(null===(y=f.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Ur._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(D=f.multiFactorSession)||void 0===D?void 0:D.idToken)return Ur._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Mo{constructor(f,y,D){this.session=f,this.hints=y,this.signInResolver=D}static _fromError(f,y){const D=er(f),W=y.customData._serverResponse,te=(W.mfaInfo||[]).map(ct=>fi._fromServerResponse(D,ct));ye(W.mfaPendingCredential,D,"internal-error");const Fe=Ur._fromMfaPendingCredential(W.mfaPendingCredential);return new Mo(Fe,te,function(){var ct=(0,m.Z)(function*(Bt){const cn=yield Bt._process(D,Fe);delete W.mfaInfo,delete W.mfaPendingCredential;const Vn=Object.assign(Object.assign({},W),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(y.operationType){case"signIn":const Or=yield Xt._fromIdTokenResponse(D,y.operationType,Vn);return yield D._updateCurrentUser(Or.user),Or;case"reauthenticate":return ye(y.user,D,"internal-error"),Xt._forOperation(y.user,y.operationType,Vn);default:ze(D,"internal-error")}});return function(Bt){return ct.apply(this,arguments)}}())}resolveSignIn(f){var y=this;return(0,m.Z)(function*(){return y.signInResolver(f)})()}}function no(w,f){var y;const D=(0,v.m9)(w),W=f;return ye(f.customData.operationType,D,"argument-error"),ye(null===(y=W.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Mo._fromError(D,W)}function Po(w,f){return Kt(w,"POST","/v2/accounts/mfaEnrollment:start",rn(w,f))}class Ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>fi._fromServerResponse(f.auth,D)))})}static _fromUser(f){return new Ja(f)}getSession(){var f=this;return(0,m.Z)(function*(){return Ur._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,y){var D=this;return(0,m.Z)(function*(){const W=f,te=yield D.getSession(),Fe=yield Zn(D.user,W._process(D.user.auth,te,y));return yield D.user._updateTokensIfNecessary(Fe),D.user.reload()})()}unenroll(f){var y=this;return(0,m.Z)(function*(){const D="string"==typeof f?f:f.uid,W=yield y.user.getIdToken();try{const te=yield Zn(y.user,function ys(w,f){return Kt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(w,f))}(y.user.auth,{idToken:W,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Fe})=>Fe!==D),yield y.user._updateTokensIfNecessary(te),yield y.user.reload()}catch(te){throw te}})()}}const en=new WeakMap;function mn(w){const f=(0,v.m9)(w);return en.has(f)||en.set(f,Ja._fromUser(f)),en.get(f)}const Zo="__sak";class Yt{constructor(f,y){this.storageRetriever=f,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,y){return this.storage.setItem(f,JSON.stringify(y)),Promise.resolve()}_get(f){const y=this.storage.getItem(f);return Promise.resolve(y?JSON.parse(y):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const b=(()=>{class w extends Yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rt(){const w=(0,v.z$)();return se(w)||nn(w)}()&&function Dt(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=vt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const W=this.storage.getItem(D),te=this.localCache[D];W!==te&&y(D,te,W)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((ct,Bt,cn)=>{this.notifyListeners(ct,cn)});const W=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(W);if(y.newValue!==ct)null!==y.newValue?this.storage.setItem(W,y.newValue):this.storage.removeItem(W);else if(this.localCache[W]===y.newValue&&!D)return}const te=()=>{const ct=this.storage.getItem(W);!D&&this.localCache[W]===ct||this.notifyListeners(W,ct)},Fe=this.storage.getItem(W);!function lr(){return(0,v.w1)()&&10===document.documentMode}()||Fe===y.newValue||y.newValue===y.oldValue?te():setTimeout(te,10)}notifyListeners(y,D){this.localCache[y]=D;const W=this.listeners[y];if(W)for(const te of Array.from(W))te(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var W=()=>super._set,te=this;return(0,m.Z)(function*(){yield W().call(te,y,D),te.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,W=this;return(0,m.Z)(function*(){const te=yield D().call(W,y);return W.localCache[y]=JSON.stringify(te),te})()}_remove(y){var D=()=>super._remove,W=this;return(0,m.Z)(function*(){yield D().call(W,y),delete W.localCache[y]})()}}return w.type="LOCAL",w})(),F=(()=>{class w extends Yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let ee=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(te=>te.isListeningto(y));if(D)return D;const W=new w(y);return this.receivers.push(W),W}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,m.Z)(function*(){const W=y,{eventId:te,eventType:Fe,data:ct}=W.data,Bt=D.handlersMap[Fe];if(!(null==Bt?void 0:Bt.size))return;W.ports[0].postMessage({status:"ack",eventId:te,eventType:Fe});const cn=Array.from(Bt).map(function(){var Or=(0,m.Z)(function*($s){return $s(W.origin,ct)});return function($s){return Or.apply(this,arguments)}}()),Vn=yield function $(w){return Promise.all(w.map(function(){var f=(0,m.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return f.apply(this,arguments)}}()))}(cn);W.ports[0].postMessage({status:"done",eventId:te,eventType:Fe,response:Vn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function he(w="",f=10){let y="";for(let D=0;D<f;D++)y+=Math.floor(10*Math.random());return w+y}class Se{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,y,D=50){var W=this;return(0,m.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Fe,ct;return new Promise((Bt,cn)=>{const Vn=he("",20);te.port1.start();const Or=setTimeout(()=>{cn(new Error("unsupported_event"))},D);ct={messageChannel:te,onMessage($s){const Qi=$s;if(Qi.data.eventId===Vn)switch(Qi.data.status){case"ack":clearTimeout(Or),Fe=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Bt(Qi.data.response);break;default:clearTimeout(Or),clearTimeout(Fe),cn(new Error("invalid_response"))}}},W.handlers.add(ct),te.port1.addEventListener("message",ct.onMessage),W.target.postMessage({eventType:f,eventId:Vn,data:y},[te.port2])}).finally(()=>{ct&&W.removeMessageHandler(ct)})})()}}function tt(){return window}function Xn(){return void 0!==tt().WorkerGlobalScope&&"function"==typeof tt().importScripts}function vr(){return(vr=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Ht="firebaseLocalStorageDb",Nn="firebaseLocalStorage",ro="fbase_key";class Ar{constructor(f){this.request=f}toPromise(){return new Promise((f,y)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ut(w,f){return w.transaction([Nn],f?"readwrite":"readonly").objectStore(Nn)}function La(){const w=indexedDB.open(Ht,1);return new Promise((f,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(Nn,{keyPath:ro})}catch(W){y(W)}}),w.addEventListener("success",(0,m.Z)(function*(){const D=w.result;D.objectStoreNames.contains(Nn)?f(D):(D.close(),yield function Ta(){const w=indexedDB.deleteDatabase(Ht);return new Ar(w).toPromise()}(),f(yield La()))}))})}function Zs(w,f,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,m.Z)(function*(w,f,y){const D=Ut(w,!0).put({[ro]:f,value:y});return new Ar(D).toPromise()})).apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(w,f){const y=Ut(w,!1).get(f),D=yield new Ar(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function lu(w,f){const y=Ut(w,!0).delete(f);return new Ar(y).toPromise()}const Tu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,m.Z)(function*(){return y.db||(y.db=yield La()),y.db})()}_withRetries(y){var D=this;return(0,m.Z)(function*(){let W=0;for(;;)try{const te=yield D._openDb();return yield y(te)}catch(te){if(W++>3)throw te;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,m.Z)(function*(){return Xn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,m.Z)(function*(){y.receiver=ee._getInstance(function hr(){return Xn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,m.Z)(function*(W,te){return{keyProcessed:(yield y._poll()).includes(te.key)}});return function(W,te){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,m.Z)(function*(W,te){return["keyChanged"]});return function(W,te){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,m.Z)(function*(){var D,W;if(y.activeServiceWorker=yield function St(){return vr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Se(y.activeServiceWorker);const te=yield y.sender._send("ping",{},800);!te||(null===(D=te[0])||void 0===D?void 0:D.fulfilled)&&(null===(W=te[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,m.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Br(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const y=yield La();return yield Zs(y,Zo,"1"),yield lu(y,Zo),!0}catch(y){}return!1})()}_withPendingWrite(y){var D=this;return(0,m.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var W=this;return(0,m.Z)(function*(){return W._withPendingWrite((0,m.Z)(function*(){return yield W._withRetries(te=>Zs(te,y,D)),W.localCache[y]=D,W.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,m.Z)(function*(){const W=yield D._withRetries(te=>function Hu(w,f){return ci.apply(this,arguments)}(te,y));return D.localCache[y]=W,W})()}_remove(y){var D=this;return(0,m.Z)(function*(){return D._withPendingWrite((0,m.Z)(function*(){return yield D._withRetries(W=>lu(W,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,m.Z)(function*(){const D=yield y._withRetries(Fe=>{const ct=Ut(Fe,!1).getAll();return new Ar(ct).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const W=[],te=new Set;for(const{fbase_key:Fe,value:ct}of D)te.add(Fe),JSON.stringify(y.localCache[Fe])!==JSON.stringify(ct)&&(y.notifyListeners(Fe,ct),W.push(Fe));for(const Fe of Object.keys(y.localCache))y.localCache[Fe]&&!te.has(Fe)&&(y.notifyListeners(Fe,null),W.push(Fe));return W})()}notifyListeners(y,D){this.localCache[y]=D;const W=this.listeners[y];if(W)for(const te of Array.from(W))te(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function zu(w,f){return Kt(w,"POST","/v2/accounts/mfaSignIn:start",rn(w,f))}const la=1e12;class _s{constructor(f){this.auth=f,this.counter=la,this._widgets=new Map}render(f,y){const D=this.counter;return this._widgets.set(D,new dl(f,this.auth.name,y||{})),this.counter++,D}reset(f){var y;const D=f||la;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(f){var y;return(null===(y=this._widgets.get(f||la))||void 0===y?void 0:y.getResponse())||""}execute(f){var y=this;return(0,m.Z)(function*(){var D;return null===(D=y._widgets.get(f||la))||void 0===D||D.execute(),""})()}}class dl{constructor(f,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;ye(W,"argument-error",{appName:y}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Va(w){const f=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)f.push(y.charAt(Math.floor(Math.random()*y.length)));return f.join("")}(50);const{callback:f,"expired-callback":y}=this.params;if(f)try{f(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ui=ut("rcb"),No=new Lt(3e4,6e4);class ca{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=tt().grecaptcha)||void 0===f?void 0:f.render)}load(f,y=""){return ye(function Ua(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),f,"argument-error"),this.shouldResolveImmediately(y)&&Nt(tt().grecaptcha)?Promise.resolve(tt().grecaptcha):new Promise((D,W)=>{const te=tt().setTimeout(()=>{W(Ye(f,"network-request-failed"))},No.get());tt()[Ui]=()=>{tt().clearTimeout(te),delete tt()[Ui];const ct=tt().grecaptcha;if(!ct||!Nt(ct))return void W(Ye(f,"internal-error"));const Bt=ct.render;ct.render=(cn,Vn)=>{const Or=Bt(cn,Vn);return this.counter++,Or},this.hostLanguage=y,D(ct)},Ce(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:Ui,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(te),W(Ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var y;return!!(null===(y=tt().grecaptcha)||void 0===y?void 0:y.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Du{load(f){return(0,m.Z)(function*(){return new _s(f)})()}clearedOneInstance(){}}const hl="recaptcha",Bs={theme:"light",type:"image"};class cu{constructor(f,y=Object.assign({},Bs),D){this.parameters=y,this.type=hl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(D),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof f?document.getElementById(f):f;ye(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Du:new ca,this.validateStartingState()}verify(){var f=this;return(0,m.Z)(function*(){f.assertNotDestroyed();const y=yield f.render(),D=f.getAssertedRecaptcha();return D.getResponse(y)||new Promise(te=>{const Fe=ct=>{!ct||(f.tokenChangeListeners.delete(Fe),te(ct))};f.tokenChangeListeners.add(Fe),f.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof f)f(y);else if("string"==typeof f){const D=tt()[f];"function"==typeof D&&D(y)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,m.Z)(function*(){if(yield f.init(),!f.widgetId){let y=f.container;if(!f.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}f.widgetId=f.getAssertedRecaptcha().render(y,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,m.Z)(function*(){ye(Ze()&&!Xn(),f.auth,"internal-error"),yield function Xa(){let w=null;return new Promise(f=>{"complete"!==document.readyState?(w=()=>f(),window.addEventListener("load",w)):f()}).catch(f=>{throw w&&window.removeEventListener("load",w),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const y=yield function Le(w){return Ve.apply(this,arguments)}(f.auth);ye(y,f.auth,"internal-error"),f.parameters.sitekey=y})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ss{constructor(f,y){this.verificationId=f,this.onConfirmation=y}confirm(f){const y=Vi._fromVerification(this.verificationId,f);return this.onConfirmation(y)}}function Kr(w,f,y){return da.apply(this,arguments)}function da(){return(da=(0,m.Z)(function*(w,f,y){const D=er(w),W=yield eu(D,f,(0,v.m9)(y));return new Ss(W,te=>R(D,te))})).apply(this,arguments)}function ko(w,f,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w);yield ns(!1,D,"phone");const W=yield eu(D.auth,f,(0,v.m9)(y));return new Ss(W,te=>_e(D,te))})).apply(this,arguments)}function du(w,f,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w),W=yield eu(D.auth,f,(0,v.m9)(y));return new Ss(W,te=>Tr(D,te))})).apply(this,arguments)}function eu(w,f,y){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(w,f,y){var D;const W=yield y.verify();try{let te;if(ye("string"==typeof W,w,"argument-error"),ye(y.type===hl,w,"argument-error"),te="string"==typeof f?{phoneNumber:f}:f,"session"in te){const Fe=te.session;if("phoneNumber"in te)return ye("enroll"===Fe.type,w,"internal-error"),(yield Po(w,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ye("signin"===Fe.type,w,"internal-error");const ct=(null===(D=te.multiFactorHint)||void 0===D?void 0:D.uid)||te.multiFactorUid;return ye(ct,w,"missing-multi-factor-info"),(yield zu(w,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield bo(w,{phoneNumber:te.phoneNumber,recaptchaToken:W});return Fe}}finally{y._reset()}})).apply(this,arguments)}function Su(w,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(w,f){yield nr((0,v.m9)(w),f)})).apply(this,arguments)}let Wu=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=er(y)}verifyPhoneNumber(y,D){return eu(this.auth,y,(0,v.m9)(D))}static credential(y,D){return Vi._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:W}=y;return D&&W?Vi._fromTokenResponse(D,W):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function mo(w,f){return f?Kn(f):(ye(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ba extends At{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qi(f,this._buildIdpRequest())}_linkToIdToken(f,y){return qi(f,this._buildIdpRequest(y))}_getReauthenticationResolver(f){return qi(f,this._buildIdpRequest())}_buildIdpRequest(f){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(y.idToken=f),y}}function Hi(w){return j(w.auth,new Ba(w),w.bypassAuthState)}function Lo(w){const{auth:f,user:y}=w;return ye(y,f,"internal-error"),Ho(y,new Ba(w),w.bypassAuthState)}function xu(w){return ha.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(w){const{auth:f,user:y}=w;return ye(y,f,"internal-error"),nr(y,new Ba(w),w.bypassAuthState)})).apply(this,arguments)}class Mu{constructor(f,y,D,W,te=!1){this.auth=f,this.resolver=D,this.user=W,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var f=this;return new Promise(function(){var y=(0,m.Z)(function*(D,W){f.pendingPromise={resolve:D,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(te){f.reject(te)}});return function(D,W){return y.apply(this,arguments)}}())}onAuthEvent(f){var y=this;return(0,m.Z)(function*(){const{urlResponse:D,sessionId:W,postBody:te,tenantId:Fe,error:ct,type:Bt}=f;if(ct)return void y.reject(ct);const cn={auth:y.auth,requestUri:D,sessionId:W,tenantId:Fe||void 0,postBody:te||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Bt)(cn))}catch(Vn){y.reject(Vn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Hi;case"linkViaPopup":case"linkViaRedirect":return xu;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:ze(this.auth,"internal-error")}}resolve(f){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fl=new Lt(2e3,1e4);function Vo(w,f,y){return fa.apply(this,arguments)}function fa(){return(fa=(0,m.Z)(function*(w,f,y){const D=er(w);Xe(w,f,Wn);const W=mo(D,y);return new Bi(D,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function wc(w,f,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w);Xe(D.auth,f,Wn);const W=mo(D.auth,y);return new Bi(D.auth,"reauthViaPopup",f,W,D).executeNotNull()})).apply(this,arguments)}function Pu(w,f,y){return qu.apply(this,arguments)}function qu(){return(qu=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w);Xe(D.auth,f,Wn);const W=mo(D.auth,y);return new Bi(D.auth,"linkViaPopup",f,W,D).executeNotNull()})).apply(this,arguments)}let Bi=(()=>{class w extends Mu{constructor(y,D,W,te,Fe){super(y,D,te,Fe),this.provider=W,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,m.Z)(function*(){const D=yield y.execute();return ye(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,m.Z)(function*(){Ne(1===y.filter.length,"Popup operations only handle one event");const D=he();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(W=>{y.reject(W)}),y.resolver._isIframeWebStorageSupported(y.auth,W=>{W||y.reject(Ye(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,W;this.pollId=(null===(W=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,fl.get())};y()}}return w.currentPopupAction=null,w})();const pa=new Map;class Ki extends Mu{constructor(f,y,D=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var f=()=>super.execute,y=this;return(0,m.Z)(function*(){let D=pa.get(y.auth._key());if(!D){try{const te=(yield function fu(w,f){return io.apply(this,arguments)}(y.resolver,y.auth))?yield f().call(y):null;D=()=>Promise.resolve(te)}catch(W){D=()=>Promise.reject(W)}pa.set(y.auth._key(),D)}return y.bypassAuthState||pa.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(f){var y=()=>super.onAuthEvent,D=this;return(0,m.Z)(function*(){if("signInViaRedirect"===f.type)return y().call(D,f);if("unknown"!==f.type){if(f.eventId){const W=yield D.auth._redirectUserForId(f.eventId);if(W)return D.user=W,y().call(D,f);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function io(){return(io=(0,m.Z)(function*(w,f){const y=ru(f),D=pi(w);if(!(yield D._isAvailable()))return!1;const W="true"===(yield D._get(y));return yield D._remove(y),W})).apply(this,arguments)}function tu(w,f){return di.apply(this,arguments)}function di(){return(di=(0,m.Z)(function*(w,f){return pi(w)._set(ru(f),"true")})).apply(this,arguments)}function nu(){pa.clear()}function Fi(w,f){pa.set(w._key(),f)}function pi(w){return Kn(w._redirectPersistence)}function ru(w){return Qr("pendingRedirect",w.config.apiKey,w.name)}function ja(w,f,y){return function xs(w,f,y){return iu.apply(this,arguments)}(w,f,y)}function iu(){return(iu=(0,m.Z)(function*(w,f,y){const D=er(w);Xe(w,f,Wn),yield D._initializationPromise;const W=mo(D,y);return yield tu(W,D),W._openRedirect(D,f,"signInViaRedirect")})).apply(this,arguments)}function Ou(w,f,y){return function ji(w,f,y){return Ru.apply(this,arguments)}(w,f,y)}function Ru(){return(Ru=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w);Xe(D.auth,f,Wn),yield D.auth._initializationPromise;const W=mo(D.auth,y);yield tu(W,D.auth);const te=yield Yo(D);return W._openRedirect(D.auth,f,"reauthViaRedirect",te)})).apply(this,arguments)}function ga(w,f,y){return function gi(w,f,y){return Ks.apply(this,arguments)}(w,f,y)}function Ks(){return(Ks=(0,m.Z)(function*(w,f,y){const D=(0,v.m9)(w);Xe(D.auth,f,Wn),yield D.auth._initializationPromise;const W=mo(D.auth,y);yield ns(!1,D,f.providerId),yield tu(W,D.auth);const te=yield Yo(D);return W._openRedirect(D.auth,f,"linkViaRedirect",te)})).apply(this,arguments)}function Zu(w,f){return su.apply(this,arguments)}function su(){return(su=(0,m.Z)(function*(w,f){return yield er(w)._initializationPromise,ma(w,f,!1)})).apply(this,arguments)}function ma(w,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,m.Z)(function*(w,f,y=!1){const D=er(w),W=mo(D,f),Fe=yield new Ki(D,W,y).execute();return Fe&&!y&&(delete Fe.user._redirectEventId,yield D._persistUserIfCurrent(Fe.user),yield D._setRedirectUser(null,f)),Fe})).apply(this,arguments)}function Yo(w){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(w){const f=he(`${w.uid}:::`);return w._redirectEventId=f,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),f})).apply(this,arguments)}class Uo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(f,D)&&(y=!0,this.sendToConsumer(f,D),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function js(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qo(w);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=f,y=!0)),y}sendToConsumer(f,y){var D;if(f.error&&!Qo(f)){const W=(null===(D=f.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(Ye(this.auth,W))}else y.onAuthEvent(f)}isEventForConsumer(f,y){const D=null===y.eventId||!!f.eventId&&f.eventId===y.eventId;return y.filter.includes(f.type)&&D}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(f))}saveEventToCache(f){this.cachedEventUids.add(Ms(f)),this.lastProcessedEventTime=Date.now()}}function Ms(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(f=>f).join("-")}function Qo({type:w,error:f}){return"unknown"===w&&"auth/no-auth-event"===(null==f?void 0:f.code)}function gu(w){return I.apply(this,arguments)}function I(){return(I=(0,m.Z)(function*(w,f={}){return Kt(w,"GET","/v1/projects",f)})).apply(this,arguments)}const h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d=/^https?/;function N(){return(N=(0,m.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:f}=yield gu(w);for(const y of f)try{if(Z(y))return}catch(D){}ze(w,"unauthorized-domain")})).apply(this,arguments)}function Z(w){const f=je(),{protocol:y,hostname:D}=new URL(f);if(w.startsWith("chrome-extension://")){const Fe=new URL(w);return""===Fe.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===y&&Fe.hostname===D}if(!d.test(y))return!1;if(h.test(w))return D===w;const W=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(D)}const le=new Lt(3e4,6e4);function me(){const w=tt().___jsl;if(null==w?void 0:w.H)for(const f of Object.keys(w.H))if(w.H[f].r=w.H[f].r||[],w.H[f].L=w.H[f].L||[],w.H[f].r=[...w.H[f].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let pt=null;function qt(w){return pt=pt||function Ue(w){return new Promise((f,y)=>{var D,W,te;function Fe(){me(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{me(),y(Ye(w,"network-request-failed"))},timeout:le.get()})}if(null===(W=null===(D=tt().gapi)||void 0===D?void 0:D.iframes)||void 0===W?void 0:W.Iframe)f(gapi.iframes.getContext());else{if(!(null===(te=tt().gapi)||void 0===te?void 0:te.load)){const ct=ut("iframefcb");return tt()[ct]=()=>{gapi.load?Fe():y(Ye(w,"network-request-failed"))},Ce(`https://apis.google.com/js/api.js?onload=${ct}`).catch(Bt=>y(Bt))}Fe()}}).catch(f=>{throw pt=null,f})}(w),pt}const In=new Lt(5e3,15e3),xn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ui(w){const f=w.config;ye(f.authDomain,w,"auth-domain-config-required");const y=f.emulator?tn(f,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:f.apiKey,appName:w.name,v:x.SDK_VERSION},W=Cn.get(w.config.apiHost);W&&(D.eid=W);const te=w._getFrameworks();return te.length&&(D.fw=te.join(",")),`${y}?${(0,v.xO)(D).slice(1)}`}function mi(){return mi=(0,m.Z)(function*(w){const f=yield qt(w),y=tt().gapi;return ye(y,w,"internal-error"),f.open({where:document.body,url:ui(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xn,dontclear:!0},D=>new Promise(function(){var W=(0,m.Z)(function*(te,Fe){yield D.restyle({setHideOnLeave:!1});const ct=Ye(w,"network-request-failed"),Bt=tt().setTimeout(()=>{Fe(ct)},In.get());function cn(){tt().clearTimeout(Bt),te(D)}D.ping(cn).then(cn,()=>{Fe(ct)})});return function(te,Fe){return W.apply(this,arguments)}}()))}),mi.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Te{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}const Bn=encodeURIComponent("fac");function Mn(w,f,y,D,W,te){return zi.apply(this,arguments)}function zi(){return(zi=(0,m.Z)(function*(w,f,y,D,W,te){ye(w.config.authDomain,w,"auth-domain-config-required"),ye(w.config.apiKey,w,"invalid-api-key");const Fe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:x.SDK_VERSION,eventId:W};if(f instanceof Wn){f.setDefaultLanguage(w.languageCode),Fe.providerId=f.providerId||"",(0,v.xb)(f.getCustomParameters())||(Fe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Vn,Or]of Object.entries(te||{}))Fe[Vn]=Or}if(f instanceof ts){const Vn=f.getScopes().filter(Or=>""!==Or);Vn.length>0&&(Fe.scopes=Vn.join(","))}w.tenantId&&(Fe.tid=w.tenantId);const ct=Fe;for(const Vn of Object.keys(ct))void 0===ct[Vn]&&delete ct[Vn];const Bt=yield w._getAppCheckToken(),cn=Bt?`#${Bn}=${encodeURIComponent(Bt)}`:"";return`${Qt(w)}?${(0,v.xO)(ct).slice(1)}${cn}`})).apply(this,arguments)}function Qt({config:w}){return w.emulator?tn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const Tn="webStorageSupport",Sr=class Qn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F,this._completeRedirectFn=ma,this._overrideRedirectResult=Fi}_openPopup(f,y,D,W){var te=this;return(0,m.Z)(function*(){var Fe;Ne(null===(Fe=te.eventManagers[f._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const ct=yield Mn(f,y,D,je(),W);return function We(w,f,y,D=500,W=600){const te=Math.max((window.screen.availHeight-W)/2,0).toString(),Fe=Math.max((window.screen.availWidth-D)/2,0).toString();let ct="";const Bt=Object.assign(Object.assign({},T),{width:D.toString(),height:W.toString(),top:te,left:Fe}),cn=(0,v.z$)().toLowerCase();y&&(ct=K(cn)?"_blank":y),ie(cn)&&(f=f||"http://localhost",Bt.scrollbars="yes");const Vn=Object.entries(Bt).reduce(($s,[Qi,ml])=>`${$s}${Qi}=${ml},`,"");if(function un(w=(0,v.z$)()){var f;return nn(w)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(cn)&&"_self"!==ct)return function Vt(w,f){const y=document.createElement("a");y.href=w,y.target=f;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(f||"",ct),new Te(null);const Or=window.open(f||"",ct,Vn);ye(Or,w,"popup-blocked");try{Or.focus()}catch($s){}return new Te(Or)}(f,ct,he())})()}_openRedirect(f,y,D,W){var te=this;return(0,m.Z)(function*(){return yield te._originValidation(f),function Jt(w){tt().location.href=w}(yield Mn(f,y,D,je(),W)),new Promise(()=>{})})()}_initialize(f){const y=f._key();if(this.eventManagers[y]){const{manager:W,promise:te}=this.eventManagers[y];return W?Promise.resolve(W):(Ne(te,"If manager is not set, promise should be"),te)}const D=this.initAndGetManager(f);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(f){var y=this;return(0,m.Z)(function*(){const D=yield function dr(w){return mi.apply(this,arguments)}(f),W=new Uo(f);return D.register("authEvent",te=>(ye(null==te?void 0:te.authEvent,f,"invalid-auth-event"),{status:W.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[f._key()]={manager:W},y.iframes[f._key()]=D,W})()}_isIframeWebStorageSupported(f,y){this.iframes[f._key()].send(Tn,{type:Tn},W=>{var te;const Fe=null===(te=null==W?void 0:W[0])||void 0===te?void 0:te[Tn];void 0!==Fe&&y(!!Fe),ze(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function _(w){return N.apply(this,arguments)}(f)),this.originValidationPromises[y]}get _shouldInitProactively(){return vt()||se()||nn()}};class Yi extends class yi{constructor(f){this.factorId=f}_process(f,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(f,y.credential,D);case"signin":return this._finalizeSignIn(f,y.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Yi(f)}_finalizeEnroll(f,y,D){return function Iu(w,f){return Kt(w,"POST","/v2/accounts/mfaEnrollment:finalize",rn(w,f))}(f,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,y){return function Gu(w,f){return Kt(w,"POST","/v2/accounts/mfaSignIn:finalize",rn(w,f))}(f,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ps=(()=>{class w{constructor(){}static assertion(y){return Yi._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var vs="@firebase/auth";class Jo{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,m.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(D=>{f((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);!y||(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kl=(0,v.Pz)("authIdTokenMaxAge")||300;let $a=null;const Ic=w=>function(){var f=(0,m.Z)(function*(y){const D=y&&(yield y.getIdTokenResult()),W=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(W&&W>Kl)return;const te=null==D?void 0:D.token;$a!==te&&($a=te,yield fetch(w,{method:te?"POST":"DELETE",headers:te?{Authorization:`Bearer ${te}`}:{}}))});return function(y){return f.apply(this,arguments)}}();function gl(w=(0,x.getApp)()){const f=(0,x._getProvider)(w,"auth");if(f.isInitialized())return f.getImmediate();const y=function wi(w,f){const y=(0,x._getProvider)(w,"auth");if(y.isInitialized()){const W=y.getImmediate(),te=y.getOptions();if((0,v.vZ)(te,null!=f?f:{}))return W;ze(W,"already-initialized")}return y.initialize({options:f})}(w,{popupRedirectResolver:Sr,persistence:[Tu,b,F]}),D=(0,v.Pz)("authTokenSyncURL");if(D){const te=Ic(D);(function ka(w,f,y){(0,v.m9)(w).beforeAuthStateChanged(f,y)})(y,te,()=>te(y.currentUser)),function Qa(w,f,y,D){(0,v.m9)(w).onIdTokenChanged(f,y,D)}(y,Fe=>te(Fe))}const W=(0,v.q4)("auth");return W&&br(y,`http://${W}`),y}!function Nu(w){(0,x._registerComponent)(new De.wA("auth",(f,{options:y})=>{const D=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),te=f.getProvider("app-check-internal"),{apiKey:Fe,authDomain:ct}=D.options;ye(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:D.name});const Bt={apiKey:Fe,authDomain:ct,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(w)},cn=new Ti(D,W,te,Bt);return function Ci(w,f){const y=(null==f?void 0:f.persistence)||[],D=(Array.isArray(y)?y:[y]).map(Kn);(null==f?void 0:f.errorMap)&&w._updateErrorMap(f.errorMap),w._initializeWithPersistence(D,null==f?void 0:f.popupRedirectResolver)}(cn,y),cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,D)=>{f.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new De.wA("auth-internal",f=>{const y=er(f.getProvider("auth").getImmediate());return new Jo(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(vs,"0.23.2",function xa(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,x.registerVersion)(vs,"0.23.2","esm2017")}("Browser")},2810:(Ft,$e,B)=>{B.d($e,{u7:()=>vy,Jj:()=>ol,IX:()=>Xm,my:()=>ws,xU:()=>_c,Lz:()=>al,WA:()=>It,F8:()=>hf,$q:()=>Hl,W:()=>vc,EK:()=>hr,PU:()=>mg,l7:()=>Yo,Ky:()=>Ut,Xb:()=>Ar,Cf:()=>ei,K9:()=>Zo,Me:()=>Ou,yq:()=>ys,Wi:()=>Qm,ET:()=>Y_,Ab:()=>My,vr:()=>w0,Fc:()=>iy,hJ:()=>P_,B$:()=>O_,at:()=>ng,oe:()=>K_,AK:()=>v0,TF:()=>og,JU:()=>rg,ST:()=>F_,fH:()=>ny,Ix:()=>sg,Wu:()=>my,Lx:()=>gy,qY:()=>Gi,GL:()=>ud,QT:()=>Os,kl:()=>Ey,Xk:()=>q_,PL:()=>Z_,UQ:()=>wy,zN:()=>Cy,ad:()=>ey,nP:()=>Af,b9:()=>dy,vh:()=>hy,Pb:()=>L_,L$:()=>sy,cf:()=>Q_,sc:()=>Xd,Xo:()=>z_,IO:()=>$_,iE:()=>Hs,Eo:()=>R_,i3:()=>_0,Bt:()=>E0,pl:()=>Iy,Ub:()=>Iu,qK:()=>If,TQ:()=>py,e0:()=>fy,r7:()=>by,Mx:()=>u0,ar:()=>H_});var ce,m=B(5861),v=B(6881),x=B(4859),we=B(1877),oe=B(2090),De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Me={},Ge=Ge||{},ae=De||self;function fe(){}function Oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function st(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Qe="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function Re(i,e,t){return i.call.apply(i.bind,arguments)}function nt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function bt(i,e,t){return(bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:nt).apply(null,arguments)}function Pt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ze(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,c){for(var p=Array(arguments.length-2),A=2;A<arguments.length;A++)p[A-2]=arguments[A];return e.prototype[a].apply(s,p)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ot(i){Object.prototype.hasOwnProperty.call(i,Qe)&&i[Qe]||(i[Qe]=++_t)}(this)},Ye.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function yt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function ye(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Oe(s)){const a=i.length||0,c=s.length||0;i.length=a+c;for(let p=0;p<c;p++)i[a+p]=s[p]}else i.push(s)}}function Tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ae.addEventListener("test",fe,e),ae.removeEventListener("test",fe,e)}catch(t){}return i}();function je(i){return/^[\s\xa0]*$/.test(i)}var Ze=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function at(i,e){return i<e?-1:i>e?1:0}function it(){var i=ae.navigator;return i&&(i=i.userAgent)?i:""}function Ct(i){return-1!=it().indexOf(i)}function Lt(i){return Lt[" "](i),i}function tn(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}Lt[" "]=fe;var Fn,i,fn=Ct("Opera"),ft=Ct("Trident")||Ct("MSIE"),Dn=Ct("Edge"),rn=Dn||ft,Kt=Ct("Gecko")&&!(-1!=it().toLowerCase().indexOf("webkit")&&!Ct("Edge"))&&!(Ct("Trident")||Ct("MSIE"))&&!Ct("Edge"),An=-1!=it().toLowerCase().indexOf("webkit")&&!Ct("Edge");function bn(){var i=ae.document;return i?i.documentMode:void 0}e:{var En="",jn=(i=it(),Kt?/rv:([^\);]+)(\)|;)/.exec(i):Dn?/Edge\/([\d\.]+)/.exec(i):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):An?/WebKit\/(\S+)/.exec(i):fn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(jn&&(En=jn?jn[1]:""),ft){var fr=bn();if(null!=fr&&fr>parseFloat(En)){Fn=String(fr);break e}}Fn=En}var bi={},Fr=ae.document&&ft&&(bn()||parseInt(Fn,10))||void 0;function Lr(i,e){if(Tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Kt){e:{try{Lt(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:sn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Lr.$.h.call(this)}}ze(Lr,Tt);var sn={2:"touch",3:"pen",4:"mouse"};Lr.prototype.h=function(){Lr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zn="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function an(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Ln,this.fa=this.ia=!1}function ti(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Pi(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function $r(i){const e={};for(const t in i)e[t]=i[t];return e}const Rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gr(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let c=0;c<Rr.length;c++)t=Rr[c],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Zn(i){this.src=i,this.g={},this.h=0}function kt(i,e){var t=e.type;if(t in i.g){var c,s=i.g[t],a=Xe(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(ti(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function pn(i,e,t,s){for(var a=0;a<i.length;++a){var c=i[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Zn.prototype.add=function(i,e,t,s,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=pn(i,e,s,a);return-1<p?(e=i[p],t||(e.ia=!1)):((e=new an(e,this.src,c,!!s,a)).ia=t,i.push(e)),e};var Wt="closure_lm_"+(1e6*Math.random()|0),Hr={};function si(i,e,t,s,a){if(s&&s.once)return mr(i,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)si(i,e[c],t,s,a);return null}return t=Pn(t),i&&i[zn]?i.O(e,t,st(s)?!!s.capture:!!s,a):Hn(i,e,t,!1,s,a)}function Hn(i,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=st(a)?!!a.capture:!!a,A=Nr(i);if(A||(i[Wt]=A=new Zn(i)),(t=A.add(e,t,s,p,c)).proxy)return t;if(s=function _i(){const e=Un;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Ne||(a=p),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(vi(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function mr(i,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)mr(i,e[c],t,s,a);return null}return t=Pn(t),i&&i[zn]?i.P(e,t,st(s)?!!s.capture:!!s,a):Hn(i,e,t,!0,s,a)}function Gn(i,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Gn(i,e[c],t,s,a);else s=st(s)?!!s.capture:!!s,t=Pn(t),i&&i[zn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=pn(c=i.g[e],t,s,a))&&(ti(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Nr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=pn(e,t,s,a)),(t=-1<i?e[i]:null)&&gn(t))}function gn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[zn])kt(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(vi(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Nr(e))?(kt(t,i),0==t.h&&(t.src=null,e[Wt]=null)):ti(i)}}}function vi(i){return i in Hr?Hr[i]:Hr[i]="on"+i}function Un(i,e){if(i.fa)i=!0;else{e=new Lr(e,this);var t=i.listener,s=i.la||i.src;i.ia&&gn(i),i=t.call(s,e)}return i}function Nr(i){return(i=i[Wt])instanceof Zn?i:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(i){return"function"==typeof i?i:(i[yn]||(i[yn]=function(e){return i.handleEvent(e)}),i[yn])}function On(){Ye.call(this),this.i=new Zn(this),this.S=this,this.J=null}function Kn(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Tt(e,i);else if(e instanceof Tt)e.target=e.target||i;else{var a=e;Gr(e=new Tt(s,i),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=ni(p,s,!0,e)&&a}if(a=ni(p=e.g=i,s,!0,e)&&a,a=ni(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ni(p=e.g=t[c],s,!1,e)&&a}function ni(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var A=p.listener,U=p.la||p.src;p.ia&&kt(i.i,p),a=!1!==A.call(U,s)&&a}}return a&&!s.defaultPrevented}ze(On,Ye),On.prototype[zn]=!0,On.prototype.removeEventListener=function(i,e,t,s){Gn(this,i,e,t,s)},On.prototype.N=function(){if(On.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)ti(t[s]);delete i.g[e],i.h--}}this.J=null},On.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},On.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Yr=ae.JSON.stringify;function Qr(){var i=_n;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Pe,ge=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function se(i){ae.setTimeout(()=>{throw i},0)}function K(i,e){Pe||function qe(){var i=ae.Promise.resolve(void 0);Pe=function(){i.then(nn)}}(),Rt||(Pe(),Rt=!0),_n.add(i,e)}var Rt=!1,_n=new class ve{constructor(){this.h=this.g=null}add(e,t){const s=ge.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function nn(){for(var i;i=Qr();){try{i.h.call(i.g)}catch(t){se(t)}var e=ge;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Rt=!1}function Sn(i,e){On.call(this),this.h=i||1,this.g=e||ae,this.j=bt(this.qb,this),this.l=Date.now()}function un(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function lr(i,e,t){if("function"==typeof i)t&&(i=bt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=bt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ae.setTimeout(i,e||0)}function vt(i){i.g=lr(()=>{i.g=null,i.i&&(i.i=!1,vt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ze(Sn,On),(ce=Sn.prototype).ga=!1,ce.T=null,ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kn(this,"tick"),this.ga&&(un(this),this.start()))}},ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.N=function(){Sn.$.N.call(this),un(this),delete this.g};class Dt extends Ye{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(i){Ye.call(this),this.h=i,this.g={}}ze(Gt,Ye);var Le=[];function Ve(i,e,t,s){Array.isArray(t)||(t&&(Le[0]=t.toString()),t=Le);for(var a=0;a<t.length;a++){var c=si(e,t[a],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function gt(i){Pi(i.g,function(e,t){this.g.hasOwnProperty(t)&&gn(e)},i),i.g={}}function et(){this.g=!0}function q(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ce(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Yr(t)}catch(A){return e}}(i,t)+(s?" "+s:"")})}Gt.prototype.N=function(){Gt.$.N.call(this),gt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Ea=function(){this.g=!1},et.prototype.info=function(){};var ut={},$t=null;function cr(){return $t=$t||new On}function xr(i){Tt.call(this,ut.Ta,i)}function on(i){const e=cr();Kn(e,new xr(e))}function oi(i,e){Tt.call(this,ut.STAT_EVENT,i),this.stat=e}function Ir(i){const e=cr();Kn(e,new oi(e,i))}function Rs(i,e){Tt.call(this,ut.Ua,i),this.size=e}function Ti(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){i()},e)}ut.Ta="serverreachability",ze(xr,Tt),ut.STAT_EVENT="statevent",ze(oi,Tt),ut.Ua="timingevent",ze(Rs,Tt);var er={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ei={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wi(){}function br(){}wi.prototype.h=null;var ht,ke={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ae(){Tt.call(this,"d")}function Be(){Tt.call(this,"c")}function At(){}function wn(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new Gt(this),this.P=Jn,this.V=new Sn(i=rn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}ze(Ae,Tt),ze(Be,Tt),ze(At,wi),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},ht=new At;var Jn=45e3,or={},Wi={};function Ns(i,e,t){i.L=1,i.v=bo(Oi(e)),i.s=t,i.S=!0,Mr(i,null)}function Mr(i,e){i.G=Date.now(),zs(i),i.A=Oi(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),wa(t.i,"t",s),i.C=0,t=i.l.I,i.h=new rr,i.g=Ka(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Dt(bt(i.Pa,i,i.g),i.O)),Ve(i.U,i.g,"readystatechange",i.nb),e=i.I?$r(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),on(),function Nt(i,e,t,s,a,c){i.info(function(){if(i.g)if(c)for(var p="",A=c.split("&"),U=0;U<A.length;U++){var z=A[U].split("=");if(1<z.length){var re=z[0];z=z[1];var Ee=re.split("_");p=2<=Ee.length&&"type"==Ee[1]?p+(re+"=")+z+"&":p+(re+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ki(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Co(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=_a(i,t),a==Wi){4==e&&(i.o=4,Ir(14),s=!1),q(i.j,i.m,null,"[Incomplete Response]");break}if(a==or){i.o=4,Ir(15),q(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}q(i.j,i.m,a,null),Io(i,a)}ki(i)&&a!=Wi&&a!=or&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ir(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ao(e),e.L=!0,Ir(11))):(q(i.j,i.m,t,"[Invalid Chunked Response]"),Ws(i),Cs(i))}function _a(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Wi:(t=Number(e.substring(t,s)),isNaN(t)?or:(s+=1)+t>e.length?Wi:(e=e.substr(s,t),i.C=s+t,e))}function zs(i){i.Y=Date.now()+i.P,Gs(i,i.P)}function Gs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ti(bt(i.lb,i),e)}function ks(i){i.B&&(ae.clearTimeout(i.B),i.B=null)}function Cs(i){0==i.l.H||i.J||Ia(i.l,i)}function Ws(i){ks(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,un(i.V),gt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function Io(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||V(t.h,i)))if(!i.K&&V(t.h,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch(z){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=Ti(bt(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<i.G))break e;Vs(t),Ai(t)}Wo(t),Ir(18)}if(1>=Jr(t.h)&&t.na){try{t.na()}catch(z){}t.na=void 0}}else is(t,11)}else if((i.K||t.g==i)&&Vs(t),!je(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const re=z[3];null!=re&&(t.qa=re,t.j.info("VER="+t.qa));const Ee=z[4];null!=Ee&&(t.Ga=Ee,t.j.info("SVER="+t.Ga));const Je=z[5];null!=Je&&"number"==typeof Je&&0<Je&&(t.K=s=1.5*Je,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const mt=i.g;if(mt){const jt=mt.g?mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var c=s.h;c.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Y(c,c.h),c.h=null))}if(s.F){const hn=mt.g?mt.g.getResponseHeader("X-HTTP-Session-Id"):null;hn&&(s.Da=hn,tr(s.G,s.F,hn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var p=i;if((s=t).wa=lo(s,s.I?s.oa:null,s.Y),p.K){L(s.h,p);var A=p,U=s.K;U&&A.setTimeout(U),A.B&&(ks(A),zs(A)),s.g=p}else Ls(s);0<t.i.length&&Ca(t)}else"stop"!=z[0]&&"close"!=z[0]||is(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?is(t,7):rs(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}on()}catch(z){}}function va(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ta(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(Oe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function ea(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Oe(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],i)}(ce=wn.prototype).setTimeout=function(i){this.P=i},ce.nb=function(i){i=i.target;const e=this.M;e&&3==_e(i)?e.l():this.Pa(i)},ce.Pa=function(i){try{if(i==this.g)e:{const re=_e(this.g);var e=this.g.Ia();if(this.g.da(),!(3>re)&&(3!=re||rn||this.g&&(this.h.h||this.g.ja()||xt(this.g)))){this.J||4!=re||7==e||on(),ks(this);var t=this.g.da();this.aa=t;t:if(ki(this)){var s=xt(this.g);i="";var a=s.length,c=4==_e(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ws(this),Cs(this);var p="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function pe(i,e,t,s,a,c,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,re,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!je(A)){var z=A;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Ir(12),Ws(this),Cs(this);break e}q(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,t)}this.S?(Co(this,re,p),rn&&this.i&&3==re&&(Ve(this.U,this.V,"tick",this.mb),this.V.start())):(q(this.j,this.m,p,null),Io(this,p)),4==re&&Ws(this),this.i&&!this.J&&(4==re?Ia(this.l,this):(this.i=!1,zs(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Ir(12)):(this.o=0,Ir(13)),Ws(this),Cs(this)}}}catch(re){}},ce.mb=function(){if(this.g){var i=_e(this.g),e=this.g.ja();this.C<e.length&&(ks(this),Co(this,i,e),this.i&&4!=i&&zs(this))}},ce.cancel=function(){this.J=!0,Ws(this)},ce.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function J(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(on(),Ir(17)),Ws(this),this.o=2,Cs(this)):Gs(this,this.Y-i)};var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Di(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Di){this.h=void 0!==e?e:i.h,qi(this,i.j),this.s=i.s,this.g=i.g,ls(this,i.m),this.l=i.l,e=i.i;var t=new Vi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Pa(this,t),this.o=i.o}else i&&(t=String(i).match(jo))?(this.h=!!e,qi(this,t[1]||"",!0),this.s=cs(t[2]||""),this.g=cs(t[3]||"",!0),ls(this,t[4]),this.l=cs(t[5]||"",!0),Pa(this,t[6]||"",!0),this.o=cs(t[7]||"")):(this.h=!!e,this.i=new Vi(null,this.h))}function Oi(i){return new Di(i)}function qi(i,e,t){i.j=t?cs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ls(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Pa(i,e,t){e instanceof Vi?(i.i=e,function Wn(i,e){e&&!i.j&&(ri(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Js(this,s),wa(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Is(e,Oa)),i.i=new Vi(e,i.h))}function tr(i,e,t){i.i.set(e,t)}function bo(i){return tr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function cs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Is(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ao),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ao(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Di.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Is(e,Fs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Is(e,Fs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Is(t,"/"==t.charAt(0)?ds:$o,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Is(t,To)),i.join("")};var Fs=/[#\/\?@]/g,$o=/[#\?:]/g,ds=/[#\?]/g,Oa=/[#\?@]/g,To=/#/g;function Vi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ri(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ea(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var c=i[t].substring(0,s);a=i[t].substring(s+1)}else c=i[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Js(i,e){ri(i),e=es(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function bs(i,e){return ri(i),e=es(i,e),i.g.has(e)}function wa(i,e,t){Js(i,e),0<t.length&&(i.i=null,i.g.set(es(i,e),yt(t)),i.h+=t.length)}function es(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function $i(i){this.l=i||uo,i=ae.PerformanceNavigationTiming?0<(i=ae.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Vi.prototype).add=function(i,e){ri(this),this.i=null,i=es(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(i,e){ri(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},ce.sa=function(){ri(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ce.Z=function(i){ri(this);let e=[];if("string"==typeof i)bs(this,i)&&(e=e.concat(this.g.get(es(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ce.set=function(i,e){return ri(this),this.i=null,bs(this,i=es(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),i.push(a)}}return this.i=i.join("&")};var uo=10;function Ra(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Jr(i){return i.h?1:i.g?i.g.size:0}function V(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Y(i,e){i.g?i.g.add(e):i.h=e}function L(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ne(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return yt(i.i)}function be(){}function lt(){this.g=new be}function Et(i,e,t){const s=t||"";try{va(i,function(a,c){let p=a;st(a)&&(p=Yr(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function _r(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(c){}}function pr(i){this.l=i.fc||null,this.j=i.ob||!1}function Yn(i,e){On.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ar,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$i.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},be.prototype.stringify=function(i){return ae.JSON.stringify(i,void 0)},be.prototype.parse=function(i){return ae.JSON.parse(i,void 0)},ze(pr,wi),pr.prototype.g=function(){return new Yn(this.l,this.j)},pr.prototype.i=function(i){return function(){return i}}({}),ze(Yn,On);var ar=0;function ii(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Pr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wr(i)}function Wr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=Yn.prototype).open=function(i,e){if(this.readyState!=ar)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Wr(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pr(this)),this.readyState=ar},ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ae.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ii(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Pr(this):Wr(this),3==this.readyState&&ii(this)}},ce.Za=function(i){this.g&&(this.response=this.responseText=i,Pr(this))},ce.Ya=function(i){this.g&&(this.response=i,Pr(this))},ce.ka=function(){this.g&&Pr(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var hs=ae.JSON.parse;function nr(i){On.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rn,this.L=this.M=!1}ze(nr,On);var Rn="",ns=/^https?$/i,Do=["POST","PUT"];function zo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,j(i),R(i)}function j(i){i.F||(i.F=!0,Kn(i,"complete"),Kn(i,"error"))}function k(i){if(i.h&&void 0!==Ge&&(!i.C[1]||4!=_e(i)||2!=i.da()))if(i.v&&4==_e(i))lr(i.La,0,i);else if(Kn(i,"readystatechange"),4==_e(i)){i.h=!1;try{const A=i.da();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===A){var a=String(i.I).match(jo)[1]||null;if(!a&&ae.self&&ae.self.location){var c=ae.self.location.protocol;a=c.substr(0,c.length-1)}s=!ns.test(a?a.toLowerCase():"")}t=s}if(t)Kn(i,"complete"),Kn(i,"success");else{i.m=6;try{var p=2<_e(i)?i.g.statusText:""}catch(U){p=""}i.j=p+" ["+i.da()+"]",j(i)}}finally{R(i)}}}function R(i,e){if(i.g){X(i);const t=i.g,s=i.C[0]?fe:null;i.g=null,i.C=null,e||Kn(i,"ready");try{t.onreadystatechange=s}catch(a){}}}function X(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ae.clearTimeout(i.A),i.A=null)}function _e(i){return i.g?i.g.readyState:0}function xt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Rn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Tr(i){let e="";return Pi(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function yr(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Tr(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):tr(i,e,t))}function Zi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function fs(i){this.Ga=0,this.i=[],this.j=new et,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zi("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zi("baseRetryDelayMs",5e3,i),this.hb=Zi("retryDelaySeedMs",1e4,i),this.eb=Zi("forwardChannelMaxRetries",2,i),this.xa=Zi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new $i(i&&i.concurrentRequestLimit),this.Ja=new lt,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function rs(i){if(fi(i),3==i.H){var e=i.W++,t=Oi(i.G);tr(t,"SID",i.J),tr(t,"RID",e),tr(t,"TYPE","terminate"),Xs(i,t),(e=new wn(i,i.j,e,void 0)).L=2,e.v=bo(Oi(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ka(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zs(e)}ra(i)}function Ai(i){i.g&&(Ao(i),i.g.cancel(),i.g=null)}function fi(i){Ai(i),i.u&&(ae.clearTimeout(i.u),i.u=null),Vs(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ae.clearTimeout(i.m),i.m=null)}function Ca(i){Ra(i.h)||i.m||(i.m=!0,K(i.Na,i),i.C=0)}function Go(i,e){var t;t=e?e.m:i.W++;const s=Oi(i.G);tr(s,"SID",i.J),tr(s,"RID",t),tr(s,"AID",i.V),Xs(i,s),i.o&&i.s&&yr(s,i.o,i.s),t=new wn(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=qr(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Y(i.h,t),Ns(t,s,e)}function Xs(i,e){i.ma&&Pi(i.ma,function(t,s){tr(e,s,t)}),i.l&&va({},function(t,s){tr(e,s,t)})}function qr(i,e,t){t=Math.min(i.i.length,t);var s=i.l?bt(i.l.Va,i.l,i):null;e:{var a=i.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let A=!0;for(let U=0;U<t;U++){let z=a[U].h;const re=a[U].g;if(z-=c,0>z)c=Math.max(0,a[U].h-100),A=!1;else try{Et(re,p,"req"+z+"_")}catch(Ee){s&&s(re)}}if(A){s=p.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,s}function Ls(i){i.g||i.u||(i.ba=1,K(i.Ma,i),i.A=0)}function Wo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ti(bt(i.Ma,i),Za(i,i.A)),i.A++,0))}function Ao(i){null!=i.B&&(ae.clearTimeout(i.B),i.B=null)}function Ts(i){i.g=new wn(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Oi(i.wa);tr(e,"RID","rpc"),tr(e,"SID",i.J),tr(e,"CI",i.M?"0":"1"),tr(e,"AID",i.V),tr(e,"TYPE","xmlhttp"),Xs(i,e),i.o&&i.s&&yr(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=bo(Oi(e)),t.s=null,t.S=!0,Mr(t,i)}function Vs(i){null!=i.v&&(ae.clearTimeout(i.v),i.v=null)}function Ia(i,e){var t=null;if(i.g==e){Vs(i),Ao(i),i.g=null;var s=2}else{if(!V(i.h,e))return;t=e.F,L(i.h,e),s=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Kn(s=cr(),new Rs(s,t)),Ca(i)}else Ls(i);else if(3==(a=e.o)||0==a&&0<i.ta||!(1==s&&function na(i,e){return!(Jr(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ti(bt(i.Na,i,e),Za(i,i.C)),i.C++,0)))}(i,e)||2==s&&Wo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),a){case 1:is(i,5);break;case 4:is(i,10);break;case 3:is(i,6);break;default:is(i,2)}}function Za(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function is(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=bt(i.pb,i);t||(t=new Di("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||qi(t,"https"),bo(t)),function Xt(i,e){const t=new et;if(ae.Image){const s=new Image;s.onload=Pt(_r,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Pt(_r,t,s,"TestLoadImage: error",!1,e),s.onabort=Pt(_r,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pt(_r,t,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Ir(2);i.H=0,i.l&&i.l.za(e),ra(i),fi(i)}function ra(i){if(i.H=0,i.pa=[],i.l){const e=ne(i.h);(0!=e.length||0!=i.i.length)&&(ye(i.pa,e),ye(i.pa,i.i),i.h.i.length=0,yt(i.i),i.i.length=0),i.l.ya()}}function lo(i,e,t){var s=t instanceof Di?Oi(t):new Di(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ls(s,s.m);else{var a=ae.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Di(null,void 0);s&&qi(c,s),e&&(c.g=e),a&&ls(c,a),t&&(c.l=t),s=c}return e=i.Da,(t=i.F)&&e&&tr(s,t,e),tr(s,"VER",i.qa),Xs(i,s),s}function Ka(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&i.Ha&&!i.va?new pr({ob:!0}):i.va)).Oa(i.I),e}function ba(){}function co(){if(ft&&!(10<=Number(Fr)))throw Error("Environmental error: no available transport.")}function ss(i,e){On.call(this),this.g=new fs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!je(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!je(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new sa(this)}function ia(i){Ae.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Si(){Be.call(this),this.status=1}function sa(i){this.g=i}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Us(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=i.g[3],p=(e=i.g[0])+(c^(t=i.g[1])&((a=i.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+c&4294967295}function kr(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var c=0|i[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ce=nr.prototype).Oa=function(i){this.M=i},ce.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=function Ci(i){return i.h||(i.h=i.i())}(this.u?this.u:ht),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void zo(this,c)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ae.FormData&&i instanceof ae.FormData,!(0<=Xe(Do,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X(this),0<this.B&&((this.L=function Ho(i){return ft&&function wr(){return tn(bi,9,function(){let i=0;const e=Ze(String(Fn)).split("."),t=Ze("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==i&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;i=at(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||at(0==a[2].length,0==c[2].length)||at(a[2],c[2]),a=a[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=lr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){zo(this,c)}},ce.ua=function(){void 0!==Ge&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Kn(this,"complete"),Kn(this,"abort"),R(this))},ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R(this,!0)),nr.$.N.call(this)},ce.La=function(){this.s||(this.G||this.v||this.l?k(this):this.kb())},ce.kb=function(){k(this)},ce.da=function(){try{return 2<_e(this)?this.g.status:-1}catch(i){return-1}},ce.ja=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),hs(e)}},ce.Ia=function(){return this.m},ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=fs.prototype).qa=8,ce.H=1,ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new wn(this,this.j,i,void 0);let c=this.s;if(this.U&&(c?(c=$r(c),Gr(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qr(this,a,e),tr(t=Oi(this.G),"RID",i),tr(t,"CVER",22),this.F&&tr(t,"X-HTTP-Session-Id",this.F),Xs(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Tr(c)))+"&"+e:this.o&&yr(t,this.o,c)),Y(this.h,a),this.bb&&tr(t,"TYPE","init"),this.P?(tr(t,"$req",e),tr(t,"SID","null"),a.ba=!0,Ns(a,t,null)):Ns(a,t,e),this.H=2}}else 3==this.H&&(i?Go(this,i):0==this.i.length||Ra(this.h)||Go(this))},ce.Ma=function(){if(this.u=null,Ts(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=Ti(bt(this.jb,this),i)}},ce.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ir(10),Ai(this),Ts(this))},ce.ib=function(){null!=this.v&&(this.v=null,Ai(this),Wo(this),Ir(19))},ce.pb=function(i){i?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))},(ce=ba.prototype).Ba=function(){},ce.Aa=function(){},ce.za=function(){},ce.ya=function(){},ce.Va=function(){},co.prototype.g=function(i,e){return new ss(i,e)},ze(ss,On),ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;Ir(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=lo(i,null,i.Y),Ca(i)},ss.prototype.close=function(){rs(this.g)},ss.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Yr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&Ca(e)},ss.prototype.N=function(){this.g.l=null,delete this.j,rs(this.g),delete this.g,ss.$.N.call(this)},ze(ia,Ae),ze(Si,Be),ze(sa,ba),sa.prototype.Ba=function(){Kn(this.g,"a")},sa.prototype.Aa=function(i){Kn(this.g,new ia(i))},sa.prototype.za=function(i){Kn(this.g,new Si)},sa.prototype.ya=function(){Kn(this.g,"b")},ze(qs,function oa(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Us(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[a++]=i.charCodeAt(c++),a==this.blockSize){Us(this,s),a=0;break}}else for(;c<e;)if(s[a++]=i[c++],a==this.blockSize){Us(this,s),a=0;break}}this.h=a,this.i+=e},qs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var ho={};function Ri(i){return-128<=i&&128>i?tn(ho,i,function(e){return new kr([0|e],0>e?-1:0)}):new kr([0|i],0>i?-1:0)}function Ni(i){if(isNaN(i)||!isFinite(i))return So;if(0>i)return Zr(Ni(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Ds;return new kr(e,0)}var Ds=4294967296,So=Ri(0),qo=Ri(1),Ya=Ri(16777216);function ps(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function os(i){return-1==i.h}function Zr(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new kr(t,~i.h).add(qo)}function fo(i,e){return i.add(Zr(e))}function As(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Vr(i,e){this.g=i,this.h=e}function eo(i,e){if(ps(e))throw Error("division by zero");if(ps(i))return new Vr(So,So);if(os(i))return e=eo(Zr(i),e),new Vr(Zr(e.g),Zr(e.h));if(os(e))return e=eo(i,Zr(e)),new Vr(Zr(e.g),e.h);if(30<i.g.length){if(os(i)||os(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qo,s=e;0>=s.X(i);)t=xo(t),s=xo(s);var a=as(t,1),c=as(s,1);for(s=as(s,2),t=as(t,2);!ps(s);){var p=c.add(s);0>=p.X(i)&&(a=a.add(t),c=p),s=as(s,1),t=as(t,1)}return e=fo(i,a.R(e)),new Vr(a,e)}for(a=So;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=Ni(t)).R(e);os(p)||0<p.X(i);)p=(c=Ni(t-=s)).R(e);ps(c)&&(c=qo),a=a.add(c),i=fo(i,p)}return new Vr(a,i)}function xo(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new kr(t,i.h)}function as(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?i.D(c+t)>>>e|i.D(c+t+1)<<32-e:i.D(c+t);return new kr(a,i.h)}(ce=kr.prototype).ea=function(){if(os(this))return-Zr(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Ds+s)*e,e*=Ds}return i},ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ps(this))return"0";if(os(this))return"-"+Zr(this).toString(i);for(var e=Ni(Math.pow(i,6)),t=this,s="";;){var a=eo(t,e).g,c=((0<(t=fo(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(ps(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ce.X=function(i){return os(i=fo(this,i))?-1:ps(i)?0:1},ce.abs=function(){return os(this)?Zr(this):this},ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&i.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new kr(t,-2147483648&t[t.length-1]?-1:0)},ce.R=function(i){if(ps(this)||ps(i))return So;if(os(this))return os(i)?Zr(this).R(Zr(i)):Zr(Zr(this).R(i));if(os(i))return Zr(this.R(Zr(i)));if(0>this.X(Ya)&&0>i.X(Ya))return Ni(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),A=i.D(a)>>>16,U=65535&i.D(a);t[2*s+2*a]+=p*U,As(t,2*s+2*a),t[2*s+2*a+1]+=c*U,As(t,2*s+2*a+1),t[2*s+2*a+1]+=p*A,As(t,2*s+2*a+1),t[2*s+2*a+2]+=c*A,As(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new kr(t,0)},ce.gb=function(i){return eo(this,i).h},ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new kr(t,this.h&i.h)},ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new kr(t,this.h|i.h)},ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new kr(t,this.h^i.h)},co.prototype.createWebChannel=co.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Ei.COMPLETE="complete",br.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",On.prototype.listen=On.prototype.O,nr.prototype.listenOnce=nr.prototype.P,nr.prototype.getLastError=nr.prototype.Sa,nr.prototype.getLastErrorCode=nr.prototype.Ia,nr.prototype.getStatus=nr.prototype.da,nr.prototype.getResponseJson=nr.prototype.Wa,nr.prototype.getResponseText=nr.prototype.ja,nr.prototype.send=nr.prototype.ha,nr.prototype.setWithCredentials=nr.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,kr.prototype.add=kr.prototype.add,kr.prototype.multiply=kr.prototype.R,kr.prototype.modulo=kr.prototype.gb,kr.prototype.compare=kr.prototype.X,kr.prototype.toNumber=kr.prototype.ea,kr.prototype.toString=kr.prototype.toString,kr.prototype.getBits=kr.prototype.D,kr.fromNumber=Ni,kr.fromString=function ai(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Zr(ai(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ni(Math.pow(e,8)),s=So,a=0;a<i.length;a+=8){var c=Math.min(8,i.length-a),p=parseInt(i.substring(a,a+c),e);8>c?(c=Ni(Math.pow(e,c)),s=s.R(c).add(Ni(p))):s=(s=s.R(t)).add(Ni(p))}return s};var to=Me.createWebChannelTransport=function(){return new co},aa=Me.getStatEventTarget=function(){return cr()},Na=Me.ErrorCode=er,ua=Me.EventType=Ei,Qa=Me.Event=ut,ka=Me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ju=Me.FetchXmlHttpFactory=pr,Fa=Me.WebChannel=br,$u=Me.XhrIo=nr,gs=Me.Md5=qs,ms=Me.Integer=kr;const po="@firebase/firestore";class Ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let Mo="9.22.0";const no=new we.Yd("@firebase/firestore");function Po(){return no.logLevel}function Iu(i){no.setLogLevel(i)}function Mt(i,...e){if(no.logLevel<=we.in.DEBUG){const t=e.map(Ja);no.debug(`Firestore (${Mo}): ${i}`,...t)}}function Xr(i,...e){if(no.logLevel<=we.in.ERROR){const t=e.map(Ja);no.error(`Firestore (${Mo}): ${i}`,...t)}}function ys(i,...e){if(no.logLevel<=we.in.WARN){const t=e.map(Ja);no.warn(`Firestore (${Mo}): ${i}`,...t)}}function Ja(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function en(i="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+i;throw Xr(e),new Error(e)}function mn(i,e){i||en()}function Zo(i,e){i||en()}function Yt(i,e){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let p=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new xi,e.enqueueRetryable(()=>c(this.currentUser))};const A=()=>{const z=p;e.enqueueRetryable((0,m.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},U=z=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(z=>U(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?U(z):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new xi)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mn("string"==typeof s.accessToken),new M(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(null===e||"string"==typeof e),new Ur(e)}}class ${constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ee{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new $(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class he{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Se{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Mt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mn("string"==typeof t.token),this.T=t.token,new he(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jt(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Xn{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Jt(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function St(i,e){return i<e?-1:i>e?1:0}function vr(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function Br(i){return i+"\0"}class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new It(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new It(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new It(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new hr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new hr(0,0))}static max(){return new Ht(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oo{constructor(e,t,s){void 0===t?t=0:t>e.length&&en(),void 0===s?s=e.length-t:s>e.length-t&&en(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Oo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nn extends Oo{construct(e,t,s){return new Nn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new It(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const ro=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Oo{construct(e,t,s){return new Ar(e,t,s)}static isValidIdentifier(e){return ro.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new It(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const A=e[a];if("\\"===A){if(a+1===e.length)throw new It(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new It(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===A?(p=!p,a++):"."!==A||p?(s+=A,a++):(c(),a++)}if(c(),p)throw new It(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(t)}static emptyPath(){return new Ar([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Nn.fromString(e))}static fromName(e){return new Ut(Nn.fromString(e).popFirst(5))}static empty(){return new Ut(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Nn(e.slice()))}}class Ta{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function La(i){return i.fields.find(e=>2===e.kind)}function Zs(i){return i.fields.filter(e=>2!==e.kind)}Ta.UNKNOWN_ID=-1;class Hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class lu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lu(0,Ro.min())}}function Wl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ht.fromTimestamp(1e9===s?new hr(t+1,0):new hr(t,s));return new Ro(a,Ut.empty(),e)}function ql(i){return new Ro(i.readTime,i.key,-1)}class Ro{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ro(Ht.min(),Ut.empty(),-1)}static max(){return new Ro(Ht.max(),Ut.empty(),-1)}}function Tu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ut.comparator(i.documentKey,e.documentKey),0!==t?t:St(i.largestBatchId,e.largestBatchId))}const zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function go(i){return cl.apply(this,arguments)}function cl(){return cl=(0,m.Z)(function*(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==zu)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),cl.apply(this,arguments)}class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,s)=>{t(e)})}static reject(e){return new He((t,s)=>{s(e)})}static waitFor(e){return new He((t,s)=>{let a=0,c=0,p=!1;e.forEach(A=>{++a,A.next(()=>{++c,p&&c===a&&t()},U=>s(U))}),p=!0,c===a&&t()})}static or(e){let t=He.resolve(!1);for(const s of e)t=t.next(a=>a?He.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new He((s,a)=>{const c=e.length,p=new Array(c);let A=0;for(let U=0;U<c;U++){const z=U;t(e[z]).next(re=>{p[z]=re,++A,A===c&&s(p)},re=>a(re))}})}static doWhile(e,t){return new He((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class la{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new xi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Va(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Ua(s.target.error);this.v.reject(new Va(e,a))}}static open(e,t,s,a){try{return new la(t,e.transaction(a,s))}catch(c){throw new Va(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new No(t)}}class _s{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===_s.S((0,oe.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.hl)())return!1;if(_s.C())return!0;const e=(0,oe.z$)(),t=_s.S(e),s=0<t&&t<10,a=_s.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,m.Z)(function*(){return t.db||(Mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const A=p.target.error;a("VersionError"===A.name?new It(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new It(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Va(e,A))},c.onupgradeneeded=p=>{Mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,m.Z)(function*(){const p="readonly"===t;let A=0;for(;;){++A;try{c.db=yield c.$(e);const U=la.open(c.db,e,p?"readonly":"readwrite",s),z=a(U).next(re=>(U.P(),re)).catch(re=>(U.abort(re),He.reject(re))).toPromise();return z.catch(()=>{}),yield U.R,z}catch(U){const z=U,re="FirebaseError"!==z.name&&A<3;if(Mt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",re),c.close(),!re)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class dl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Da(this.L.delete())}}class Va extends It{constructor(e,t){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ui(i){return"IndexedDbTransactionError"===i.name}class No{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Da(s)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),Da(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(p,A)=>{c.push(A)}).next(()=>c)}{const a=this.store.getAll(s.range);return new He((c,p)=>{a.onerror=A=>{p(A.target.error)},a.onsuccess=A=>{c(A.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new He((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}J(e,t){Mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,p,A)=>A.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new He((s,a)=>{t.onerror=c=>{const p=Ua(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(A=>{A?p.continue():s()}):s()}})}W(e,t){const s=[];return new He((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const A=p.target.result;if(!A)return void a();const U=new dl(A),z=t(A.primaryKey,A.value,U);if(z instanceof He){const re=z.catch(Ee=>(U.done(),He.reject(Ee)));s.push(re)}U.isDone?a():null===U.K?A.continue():A.continue(U.K)}}).next(()=>He.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(i){return new He((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=Ua(s.target.error);t(a)}})}let ca=!1;function Ua(i){const e=_s.S((0,oe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new It("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ca||(ca=!0,setTimeout(()=>{throw s},0)),s}}return i}class Du{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,m.Z)(function*(){t.task=null;try{Mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Ui(s)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield go(s)}yield t.et(6e4)}))}}class hl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,m.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return He.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Mt("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(A=>{a-=A,s.add(p)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,c)).next(A=>(Mt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>p.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=ql(c);Tu(p,s)>0&&(s=p)}),new Ro(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Bs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function cu(i){return null==i}function Xa(i){return 0===i&&1/i==-1/0}function Ss(i){return"number"==typeof i&&Number.isInteger(i)&&!Xa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Kr(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ko(e)),e=da(i.get(t),e);return ko(e)}function da(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function ko(i){return i+"\x01\x01"}function Fo(i){const e=i.length;if(mn(e>=2),2===e)return mn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Nn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>t)&&en(),i.charAt(p+1)){case"\x01":const A=i.substring(c,p);let U;0===a.length?U=A:(a+=A,U=a,a=""),s.push(U);break;case"\x10":a+=i.substring(c,p),a+="\0";break;case"\x11":a+=i.substring(c,p+1);break;default:en()}c=p+2}return new Nn(s)}const du=["userId","batchId"];function Ko(i,e){return[i,Kr(e)]}function eu(i,e,t){return[i,Kr(e),t]}const Au={},Su=["prefixPath","collectionGroup","readTime","documentId"],hu=["prefixPath","collectionGroup","documentId"],Wu=["collectionGroup","readTime","prefixPath","documentId"],mo=["canonicalId","targetId"],Ba=["targetId","path"],Hi=["path","targetId"],Lo=["collectionId","parent"],xu=["indexId","uid"],ha=["uid","sequenceNumber"],Mu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fl=["indexId","uid","orderedDocumentKey"],Vo=["userId","collectionPath","documentId"],fa=["userId","collectionPath","largestBatchId"],wc=["userId","collectionGroup","largestBatchId"],Aa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pu=[...Aa,"documentOverlays"],qu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bi=qu,pl=[...Bi,"indexConfiguration","indexState","indexEntries"];class pa extends Gu{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ki(i,e){const t=Yt(i);return _s.M(t.ht,e)}function fu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function io(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class di{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=null!=s?s:Fi.RED,this.left=null!=a?a:Fi.EMPTY,this.right=null!=c?c:Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Fi(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Fi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(i,e,t,s,a){return this}insert(i,e,t){return new Fi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ru(this.data.getIterator())}getIteratorFrom(e){return new ru(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pi(this.comparator);return t.data=e,t}}class ru{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ja(i){return i.hasNext()?i.getNext():void 0}class xs{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new xs([])}unionWith(e){let t=new pi(Ar.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vr(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ou(){return"undefined"!=typeof atob}class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw"undefined"!=typeof DOMException&&a instanceof DOMException?new iu("Invalid base64 string: "+a):a}}(e);return new ji(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new ji(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const Ru=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(i){if(mn(!!i),"string"==typeof i){let e=0;const t=Ru.exec(i);if(mn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gi(i.seconds),nanos:gi(i.nanos)}}function gi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ks(i){return"string"==typeof i?ji.fromBase64String(i):ji.fromUint8Array(i)}function Zu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function su(i){const e=i.mapValue.fields.__previous_value__;return Zu(e)?su(e):e}function ma(i){const e=ga(i.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class pu{constructor(e,t,s,a,c,p,A,U,z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=A,this.longPollingOptions=U,this.useFetchStreams=z}}class Yo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}const yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ou={nullValue:"NULL_VALUE"};function Uo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zu(i)?4:qt(i)?9007199254740991:10:en()}function Ms(i,e){if(i===e)return!0;const t=Uo(i);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ma(i).isEqual(ma(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=ga(s.timestampValue),p=ga(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,Ks(i.bytesValue).isEqual(Ks(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return gi(s.geoPointValue.latitude)===gi(a.geoPointValue.latitude)&&gi(s.geoPointValue.longitude)===gi(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return gi(s.integerValue)===gi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=gi(s.doubleValue),p=gi(a.doubleValue);return c===p?Xa(c)===Xa(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return vr(i.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(fu(c)!==fu(p))return!1;for(const A in c)if(c.hasOwnProperty(A)&&(void 0===p[A]||!Ms(c[A],p[A])))return!1;return!0}(i,e);default:return en()}var a}function Qo(i,e){return void 0!==(i.values||[]).find(t=>Ms(t,e))}function js(i,e){if(i===e)return 0;const t=Uo(i),s=Uo(e);if(t!==s)return St(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return St(i.booleanValue,e.booleanValue);case 2:return function(a,c){const p=gi(a.integerValue||a.doubleValue),A=gi(c.integerValue||c.doubleValue);return p<A?-1:p>A?1:p===A?0:isNaN(p)?isNaN(A)?0:-1:1}(i,e);case 3:return gu(i.timestampValue,e.timestampValue);case 4:return gu(ma(i),ma(e));case 5:return St(i.stringValue,e.stringValue);case 6:return function(a,c){const p=Ks(a),A=Ks(c);return p.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),A=c.split("/");for(let U=0;U<p.length&&U<A.length;U++){const z=St(p[U],A[U]);if(0!==z)return z}return St(p.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const p=St(gi(a.latitude),gi(c.latitude));return 0!==p?p:St(gi(a.longitude),gi(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],A=c.values||[];for(let U=0;U<p.length&&U<A.length;++U){const z=js(p[U],A[U]);if(z)return z}return St(p.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===yo.mapValue&&c===yo.mapValue)return 0;if(a===yo.mapValue)return 1;if(c===yo.mapValue)return-1;const p=a.fields||{},A=Object.keys(p),U=c.fields||{},z=Object.keys(U);A.sort(),z.sort();for(let re=0;re<A.length&&re<z.length;++re){const Ee=St(A[re],z[re]);if(0!==Ee)return Ee;const Je=js(p[A[re]],U[z[re]]);if(0!==Je)return Je}return St(A.length,z.length)}(i.mapValue,e.mapValue);default:throw en()}}function gu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return St(i,e);const t=ga(i),s=ga(e),a=St(t.seconds,s.seconds);return 0!==a?a:St(t.nanos,s.nanos)}function I(i){return h(i)}function h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=ga(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ks(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=h(p);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const A of a)p?p=!1:c+=",",c+=`${A}:${h(s.fields[A])}`;return c+"}"}(i.mapValue):en();var e}function _(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function N(i){return!!i&&"integerValue"in i}function Z(i){return!!i&&"arrayValue"in i}function le(i){return!!i&&"nullValue"in i}function me(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ue(i){return!!i&&"mapValue"in i}function pt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return io(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=pt(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pt(i.arrayValue.values[t]);return e}return Object.assign({},i)}function qt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function In(i){return"nullValue"in i?ou:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_(Yo.empty(),Ut.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:en()}function qn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_(Yo.empty(),Ut.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?yo:en()}function ir(i,e){const t=js(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function xn(i,e){const t=js(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ue(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pt(t)}setAll(e){let t=Ar.emptyPath(),s={},a=[];e.forEach((p,A)=>{if(!t.isImmediateParentOf(A)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=A.popLast()}p?s[A.lastSegment()]=pt(p):a.push(A.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Ue(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ue(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){io(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Cn(pt(this.value))}}function ui(i){const e=[];return io(i.fields,(t,s)=>{const a=new Ar([t]);if(Ue(s)){const c=ui(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new xs(e)}class dr{constructor(e,t,s,a,c,p,A){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=A}static newInvalidDocument(e){return new dr(e,0,Ht.min(),Ht.min(),Ht.min(),Cn.empty(),0)}static newFoundDocument(e,t,s,a){return new dr(e,1,t,Ht.min(),s,a,0)}static newNoDocument(e,t){return new dr(e,2,t,Ht.min(),Ht.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Ht.min(),Ht.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mi{constructor(e,t){this.position=e,this.inclusive=t}}function T(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],p=i.position[a];if(s=c.field.isKeyField()?Ut.comparator(Ut.fromName(p.referenceValue),t.key):js(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function P(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ms(i.position[t],e.position[t]))return!1;return!0}class H{constructor(e,t="asc"){this.field=e,this.dir=t}}function ue(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ie{}class Te extends Ie{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Qn(e,t,s):"array-contains"===t?new Ps(e,s):"in"===t?new Sa(e,s):"not-in"===t?new Mi(e,s):"array-contains-any"===t?new Cc(e,s):new Te(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Sr(e,s):new yi(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(js(t,this.value)):null!==t&&Uo(this.value)===Uo(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class We extends Ie{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new We(e,t)}matches(e){return Vt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vt(i){return"and"===i.op}function zt(i){return"or"===i.op}function ln(i){return Bn(i)&&Vt(i)}function Bn(i){for(const e of i.filters)if(e instanceof We)return!1;return!0}function Mn(i){if(i instanceof Te)return i.field.canonicalString()+i.op.toString()+I(i.value);if(ln(i))return i.filters.map(e=>Mn(e)).join(",");{const e=i.filters.map(t=>Mn(t)).join(",");return`${i.op}(${e})`}}function zi(i,e){return i instanceof Te?(t=i,(s=e)instanceof Te&&t.op===s.op&&t.field.isEqual(s.field)&&Ms(t.value,s.value)):i instanceof We?function(t,s){return s instanceof We&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&zi(c,s.filters[p]),!0)}(i,e):void en();var t,s}function Qt(i,e){const t=i.filters.concat(e);return We.create(t,i.op)}function Tn(i){return i instanceof Te?`${(e=i).field.canonicalString()} ${e.op} ${I(e.value)}`:i instanceof We?function(e){return e.op.toString()+" {"+e.getFilters().map(Tn).join(" ,")+"}"}(i):"Filter";var e}class Qn extends Te{constructor(e,t,s){super(e,t,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sr extends Te{constructor(e,t){super(e,"in",t),this.keys=Yi(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yi extends Te{constructor(e,t){super(e,"not-in",t),this.keys=Yi(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yi(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class Ps extends Te{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z(t)&&Qo(t.arrayValue,this.value)}}class Sa extends Te{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qo(this.value.arrayValue,t)}}class Mi extends Te{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qo(this.value.arrayValue,t)}}class Cc extends Te{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Qo(this.value.arrayValue,s))}}class Zl{constructor(e,t=null,s=[],a=[],c=null,p=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=A,this.dt=null}}function vs(i,e=null,t=[],s=[],a=null,c=null,p=null){return new Zl(i,e,t,s,a,c,p)}function _o(i){const e=Yt(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Mn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),cu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>I(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>I(s)).join(",")),e.dt=t}return e.dt}function Jo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ue(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!zi(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!P(i.startAt,e.startAt)&&P(i.endAt,e.endAt)}function xa(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Nu(i,e){return i.filters.filter(t=>t instanceof Te&&t.field.isEqual(e))}function ld(i,e,t){let s=ou,a=!0;for(const c of Nu(i,e)){let p=ou,A=!0;switch(c.op){case"<":case"<=":p=In(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,A=!1;break;case"!=":case"not-in":p=ou}ir({value:s,inclusive:a},{value:p,inclusive:A})<0&&(s=p,a=A)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];ir({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function Kl(i,e,t){let s=yo,a=!0;for(const c of Nu(i,e)){let p=yo,A=!0;switch(c.op){case">=":case">":p=qn(c.value),A=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,A=!1;break;case"!=":case"not-in":p=yo}xn({value:s,inclusive:a},{value:p,inclusive:A})>0&&(s=p,a=A)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];xn({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class $a{constructor(e,t=null,s=[],a=[],c=null,p="F",A=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=A,this.endAt=U,this.wt=null,this._t=null}}function Ic(i,e,t,s,a,c,p,A){return new $a(i,e,t,s,a,c,p,A)}function gl(i){return new $a(i)}function w(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function f(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function y(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function D(i){return null!==i.collectionGroup}function W(i){const e=Yt(i);if(null===e.wt){e.wt=[];const t=y(e),s=f(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new H(t)),e.wt.push(new H(Ar.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new H(Ar.keyField(),c))}}}return e.wt}function te(i){const e=Yt(i);if(!e._t)if("F"===e.limitType)e._t=vs(e.path,e.collectionGroup,W(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of W(e))t.push(new H(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new mi(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new mi(e.startAt.position,e.startAt.inclusive):null;e._t=vs(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Fe(i,e){e.getFirstInequalityField(),y(i);const t=i.filters.concat([e]);return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ct(i,e,t){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Bt(i,e){return Jo(te(i),te(e))&&i.limitType===e.limitType}function cn(i){return`${_o(te(i))}|lt:${i.limitType}`}function Vn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Tn(s)).join(", ")}]`),cu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>I(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>I(s)).join(",")),`Target(${t})`}(te(i))}; limitType=${i.limitType})`}function Or(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Ut.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of W(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,c,p){const A=T(a,c,p);return a.inclusive?A<=0:A<0}(t.startAt,W(t),s)||t.endAt&&!function(a,c,p){const A=T(a,c,p);return a.inclusive?A>=0:A>0}(t.endAt,W(t),s)));var t,s}function $s(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qi(i){return(e,t)=>{let s=!1;for(const a of W(i)){const c=ml(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function ml(i,e,t){const s=i.field.isKeyField()?Ut.comparator(e.key,t.key):function(a,c,p){const A=c.data.field(a),U=p.data.field(a);return null!==A&&null!==U?js(A,U):en()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return en()}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const bc=new di(Ut.comparator);function Ii(){return bc}const Ku=new di(Ut.comparator);function mu(...i){let e=Ku;for(const t of i)e=e.insert(t.key,t);return e}function cd(i){let e=Ku;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function za(){return yl()}function Yl(){return yl()}function yl(){return new Ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const rh=new di(Ut.comparator),dd=new pi(Ut.comparator);function Er(...i){let e=dd;for(const t of i)e=e.add(t);return e}const Hy=new pi(St);function Of(){return Hy}function ih(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function bg(i){return{integerValue:""+i}}function Tg(i,e){return Ss(e)?bg(e):ih(i,e)}class Tc{constructor(){this._=void 0}}function zy(i,e,t){return i instanceof Dc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Zu(a)&&(a=su(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):i instanceof Ql?Dg(i,e):i instanceof Jl?Ag(i,e):function(s,a){const c=hd(s,a),p=Sg(c)+Sg(s.gt);return N(c)&&N(s.gt)?bg(p):ih(s.serializer,p)}(i,e)}function Gy(i,e,t){return i instanceof Ql?Dg(i,e):i instanceof Jl?Ag(i,e):t}function hd(i,e){return i instanceof Xl?N(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Dc extends Tc{}class Ql extends Tc{constructor(e){super(),this.elements=e}}function Dg(i,e){const t=xg(e);for(const s of i.elements)t.some(a=>Ms(a,s))||t.push(s);return{arrayValue:{values:t}}}class Jl extends Tc{constructor(e){super(),this.elements=e}}function Ag(i,e){let t=xg(e);for(const s of i.elements)t=t.filter(a=>!Ms(a,s));return{arrayValue:{values:t}}}class Xl extends Tc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Sg(i){return gi(i.integerValue||i.doubleValue)}function xg(i){return Z(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fd{constructor(e,t){this.field=e,this.transform=t}}class qy{constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class oh{}function ec(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new tc(i.key,us.none()):new pd(i.key,i.data,us.none());{const t=i.data,s=Cn.empty();let a=new pi(Ar.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new vo(i.key,s,new xs(a.toArray()),us.none())}}function ku(i,e,t){i instanceof pd?function(s,a,c){const p=s.value.clone(),A=lh(s.fieldTransforms,a,c.transformResults);p.setAll(A),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):i instanceof vo?function(s,a,c){if(!sh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=lh(s.fieldTransforms,a,c.transformResults),A=a.data;A.setAll(uh(s)),A.setAll(p),a.convertToFoundDocument(c.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ah(i,e,t,s){return i instanceof pd?function(a,c,p,A){if(!sh(a.precondition,c))return p;const U=a.value.clone(),z=Mg(a.fieldTransforms,A,c);return U.setAll(z),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(i,e,t,s):i instanceof vo?function(a,c,p,A){if(!sh(a.precondition,c))return p;const U=Mg(a.fieldTransforms,A,c),z=c.data;return z.setAll(uh(a)),z.setAll(U),c.convertToFoundDocument(c.version,z).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(re=>re.field))}(i,e,t,s):(p=t,sh(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Zv(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=hd(s.transform,a||null);null!=c&&(null===t&&(t=Cn.empty()),t.set(s.field,c))}return t||null}function Rf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&vr(t,s,(a,c)=>function Wy(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Ql&&s instanceof Ql||t instanceof Jl&&s instanceof Jl?vr(t.elements,s.elements,Ms):t instanceof Xl&&s instanceof Xl?Ms(t.gt,s.gt):t instanceof Dc&&s instanceof Dc);var t,s}(a,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class pd extends oh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vo extends oh{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lh(i,e,t){const s=new Map;mn(i.length===t.length);for(let a=0;a<t.length;a++){const c=i[a],p=c.transform,A=e.data.field(c.field);s.set(c.field,Gy(p,A,t[a]))}return s}function Mg(i,e,t){const s=new Map;for(const a of i){const c=a.transform,p=t.data.field(a.field);s.set(a.field,zy(c,p,e))}return s}class tc extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nc extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ch{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&ku(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ah(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ah(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Yl();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let A=this.applyToLocalView(p,c.mutatedFields);A=t.has(a.key)?null:A;const U=ec(p,A);null!==U&&s.set(a.key,U),p.isValidDocument()||p.convertToNoDocument(Ht.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&vr(this.mutations,e.mutations,(t,s)=>Rf(t,s))&&vr(this.baseMutations,e.baseMutations,(t,s)=>Rf(t,s))}}class dh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){mn(e.mutations.length===s.length);let a=rh;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new dh(e,t,s,a)}}class gd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pg{constructor(e,t){this.count=e,this.unchangedNames=t}}var so,zr;function hh(i){switch(i){default:return en();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function kf(i){if(void 0===i)return Xr("GRPC error has no .code"),rt.UNKNOWN;switch(i){case so.OK:return rt.OK;case so.CANCELLED:return rt.CANCELLED;case so.UNKNOWN:return rt.UNKNOWN;case so.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case so.INTERNAL:return rt.INTERNAL;case so.UNAVAILABLE:return rt.UNAVAILABLE;case so.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case so.NOT_FOUND:return rt.NOT_FOUND;case so.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case so.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case so.ABORTED:return rt.ABORTED;case so.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case so.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case so.DATA_LOSS:return rt.DATA_LOSS;default:return en()}}(zr=so||(so={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";class Ff{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ac}static getOrCreateInstance(){return null===Ac&&(Ac=new Ff),Ac}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ac=null;function Og(){return new TextEncoder}const Zy=new ms([4294967295,4294967295],0);function Rg(i){const e=Og().encode(i),t=new gs;return t.update(e),new Uint8Array(t.digest())}function Ng(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ms([t,s],0),new ms([a,c],0)]}class Lf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new md(`Invalid padding: ${t}`);if(s<0)throw new md(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new md(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new md(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ms.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(ms.fromNumber(s)));return 1===a.compare(Zy)&&(a=new ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Rg(e),[s,a]=Ng(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Lf(c,a,t);return s.forEach(A=>p.insert(A)),p}insert(e){if(0===this.It)return;const t=Rg(e),[s,a]=Ng(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sc(Ht.min(),a,new di(St),Ii(),Er())}}class rc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rc(s,t,Er(),Er(),Er())}}class yd{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class fh{constructor(e,t){this.targetId=e,this.Vt=t}}class kg{constructor(e,t,s=ji.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Fg{constructor(){this.St=0,this.Dt=_l(),this.Ct=ji.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Er(),t=Er(),s=Er();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:en()}}),new rc(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=_l()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Lg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ii(),this.zt=Vf(),this.Wt=new di(St)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(xa(p))if(0===a){const A=new Ut(p.path);this.Yt(s,A,dr.newNoDocument(A,Ht.min()))}else mn(1===a);else{const A=this.ie(s);if(A!==a){const U=this.re(e,A);0!==U&&(this.ee(s),this.Wt=this.Wt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Ff.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,re,Ee){var Je,mt,jt,hn,vn,Dr;const hi={localCacheCount:re,existenceFilterCount:Ee.count},jr=Ee.unchangedNames;return jr&&(hi.bloomFilter={applied:0===z,hashCount:null!==(Je=null==jr?void 0:jr.hashCount)&&void 0!==Je?Je:0,bitmapLength:null!==(hn=null===(jt=null===(mt=null==jr?void 0:jr.bits)||void 0===mt?void 0:mt.bitmap)||void 0===jt?void 0:jt.length)&&void 0!==hn?hn:0,padding:null!==(Dr=null===(vn=null==jr?void 0:jr.bits)||void 0===vn?void 0:vn.padding)&&void 0!==Dr?Dr:0}),hi}(U,A,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:A=0}=s;let U,z;try{U=Ks(c).toUint8Array()}catch(re){if(re instanceof iu)return ys("Decoding the base64 bloom filter in existence filter failed ("+re.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw re}try{z=new Lf(U,p,A)}catch(re){return ys(re instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",re),1}return 0===z.It?1:a!==t-this.oe(e.targetId,z)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),A=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(A)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const A=this.se(p);if(A){if(c.current&&xa(A.target)){const U=new Ut(A.target.path);null!==this.jt.get(U)||this.ae(p,U)||this.Yt(p,U,dr.newNoDocument(U,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=Er();this.zt.forEach((c,p)=>{let A=!0;p.forEachWhile(U=>{const z=this.se(U);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new Sc(e,t,this.Wt,this.jt,s);return this.jt=Ii(),this.zt=Vf(),this.Wt=new di(St),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Fg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pi(St),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fg),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new di(Ut.comparator)}function _l(){return new di(Ut.comparator)}const Vg={asc:"ASCENDING",desc:"DESCENDING"},Ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ky={and:"AND",or:"OR"};class ph{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uf(i,e){return i.useProto3Json||cu(e)?e:{value:e}}function ic(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bf(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Bg(i,e){return ic(i,e.toTimestamp())}function Es(i){return mn(!!i),Ht.fromTimestamp(function(e){const t=ga(e);return new hr(t.seconds,t.nanos)}(i))}function gh(i,e){return(t=i,new Nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _d(i){const e=Nn.fromString(i);return mn(qg(e)),e}function vl(i,e){return gh(i.databaseId,e.path)}function yu(i,e){const t=_d(e);if(t.get(1)!==i.databaseId.projectId)throw new It(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new It(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ut(xc(t))}function vd(i,e){return gh(i.databaseId,e)}function jf(i){const e=_d(i);return 4===e.length?Nn.emptyPath():xc(e)}function sc(i){return new Nn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xc(i){return mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function jg(i,e,t){return{name:vl(i,e),fields:t.value.mapValue.fields}}function $f(i,e,t){const s=yu(i,e.name),a=Es(e.updateTime),c=e.createTime?Es(e.createTime):Ht.min(),p=new Cn({mapValue:{fields:e.fields}}),A=dr.newFoundDocument(s,a,c,p);return t&&A.setHasCommittedMutations(),t?A.setHasCommittedMutations():A}function Mc(i,e){let t;if(e instanceof pd)t={update:jg(i,e.key,e.value)};else if(e instanceof tc)t={delete:vl(i,e.key)};else if(e instanceof vo)t={update:jg(i,e.key,e.data),updateMask:t_(e.fieldMask)};else{if(!(e instanceof nc))return en();t={verify:vl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xl)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw en()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Bg(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:en()),t;var a}function Ed(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?us.updateTime(Es(a.updateTime)):void 0!==a.exists?us.exists(a.exists):us.none():us.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let A=null;"setToServerValue"in p?(mn("REQUEST_TIME"===p.setToServerValue),A=new Dc):"appendMissingElements"in p?A=new Ql(p.appendMissingElements.values||[]):"removeAllFromArray"in p?A=new Jl(p.removeAllFromArray.values||[]):"increment"in p?A=new Xl(c,p.increment):en();const U=Ar.fromServerFormat(p.fieldPath);return new fd(U,A)}(i,a)):[];var a;if(e.update){const a=yu(i,e.update.name),c=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new xs((e.updateMask.fieldPaths||[]).map(z=>Ar.fromServerFormat(z)));return new vo(a,c,p,t,s)}return new pd(a,c,t,s)}if(e.delete){const a=yu(i,e.delete);return new tc(a,t)}if(e.verify){const a=yu(i,e.verify);return new nc(a,t)}return en()}function Jy(i,e){return{documents:[vd(i,e.path)]}}function mh(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=vd(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vd(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return Wg(We.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(z=>{return{field:Yu((re=z).field),direction:Xy(re.dir)};var re})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=Uf(i,e.limit);var A,U;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function Hg(i){let e=jf(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){mn(1===s);const re=t.from[0];re.allDescendants?a=re.collectionId:e=e.child(re.collectionId)}let c=[];t.where&&(c=function(re){const Ee=Gg(re);return Ee instanceof We&&ln(Ee)?Ee.getFilters():[Ee]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(re=>{return new H(Pc((Ee=re).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let A=null;t.limit&&(A=function(re){let Ee;return Ee="object"==typeof re?re.value:re,cu(Ee)?null:Ee}(t.limit));let U=null;var re;t.startAt&&(U=new mi((re=t.startAt).values||[],!!re.before));let z=null;return t.endAt&&(z=function(re){return new mi(re.values||[],!re.before)}(t.endAt)),Ic(e,a,p,c,A,"F",U,z)}function Gg(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pc(e.unaryFilter.field);return Te.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Pc(e.unaryFilter.field);return Te.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pc(e.unaryFilter.field);return Te.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pc(e.unaryFilter.field);return Te.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(i):void 0!==i.fieldFilter?Te.create(Pc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return We.create(e.compositeFilter.filters.map(t=>Gg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return en()}}(e.compositeFilter.op))}(i):en();var e}function Xy(i){return Vg[i]}function _u(i){return Ug[i]}function e_(i){return Ky[i]}function Yu(i){return{fieldPath:i.canonicalString()}}function Pc(i){return Ar.fromServerFormat(i.fieldPath)}function Wg(i){return i instanceof Te?function(e){if("=="===e.op){if(me(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NAN"}};if(le(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(me(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NAN"}};if(le(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(e.field),op:_u(e.op),value:e.value}}}(i):i instanceof We?function(e){const t=e.getFilters().map(s=>Wg(s));return 1===t.length?t[0]:{compositeFilter:{op:e_(e.op),filters:t}}}(i):en()}function t_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Fu{constructor(e,t,s,a,c=Ht.min(),p=Ht.min(),A=ji.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=A,this.expectedCount=U}withSequenceNumber(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zg{constructor(e){this.fe=e}}function Kg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:vl(a=i.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:ic(a,c.version.toTimestamp()),createTime:ic(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return en();s.unknownDocument={path:t.path.toArray(),version:El(e.version)}}var a,c;return s}function gr(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function El(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(i){const e=new hr(i.seconds,i.nanoseconds);return Ht.fromTimestamp(e)}function Cl(i,e){const t=(e.baseMutations||[]).map(c=>Ed(i.fe,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Ed(i.fe,c)),a=hr.fromMillis(e.localWriteTimeMs);return new ch(e.batchId,a,t,s)}function Il(i){const e=wl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?wl(i.lastLimboFreeSnapshotVersion):Ht.min();let s;var a;return void 0!==i.query.documents?(mn(1===(a=i.query).documents.length),s=te(gl(jf(a.documents[0])))):s=te(Hg(i.query)),new Fu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,ji.fromBase64String(i.resumeToken))}function au(i,e){const t=El(e.snapshotVersion),s=El(e.lastLimboFreeSnapshotVersion);let a;a=xa(e.target)?Jy(i.fe,e.target):mh(i.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_o(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function yh(i){const e=Hg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ct(e,e.limit,"L"):e}function Hf(i,e){return new gd(e.largestBatchId,Ed(i.fe,e.overlayMutation))}function _h(i,e){const t=e.path.lastSegment();return[i,Kr(e.path.popLast()),t]}function Lu(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:El(s.readTime),documentKey:Kr(s.documentKey.path),largestBatchId:s.largestBatchId}}class zf{getBundleMetadata(e,t){return Gf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:wl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Gf(e).put({bundleId:(s=t).id,createTime:El(Es(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return vh(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:yh(a.bundledQuery),readTime:wl(a.readTime)};var a})}saveNamedQuery(e,t){return vh(e).put({name:(s=t).name,readTime:El(Es(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Gf(i){return Ki(i,"bundles")}function vh(i){return Ki(i,"namedQueries")}class Wf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Wf(e,t.uid||"")}getOverlay(e,t){return Oc(e).get(_h(this.userId,t)).next(s=>s?Hf(this.serializer,s):null)}getOverlays(e,t){const s=za();return He.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const A=new gd(t,p);a.push(this.we(e,A))}),He.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(Kr(p.getCollectionPath())));const c=[];return a.forEach(p=>{const A=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(Oc(e).J("collectionPathOverlayIndex",A))}),He.waitFor(c)}getOverlaysForCollection(e,t,s){const a=za(),c=Kr(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Oc(e).j("collectionPathOverlayIndex",p).next(A=>{for(const U of A){const z=Hf(this.serializer,U);a.set(z.getKey(),z)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=za();let p;const A=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oc(e).X({index:"collectionGroupOverlayIndex",range:A},(U,z,re)=>{const Ee=Hf(this.serializer,z);c.size()<a||Ee.largestBatchId===p?(c.set(Ee.getKey(),Ee),p=Ee.largestBatchId):re.done()}).next(()=>c)}we(e,t){return Oc(e).put(function(s,a,c){const[p,A,U]=_h(a,c.mutation.key);return{userId:a,collectionPath:A,documentId:U,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Mc(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Oc(i){return Ki(i,"documentOverlays")}class Rc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gi(e.integerValue));else if("doubleValue"in e){const s=gi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Xa(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ks(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?qt(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):en()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Ut.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Eh(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function wd(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Eh(255&t[a]);if(s+=c,8!==c)break}return s}(i);return Math.ceil(e/8)}Rc.Ve=new Rc;class qf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=wd(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=wd(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Zf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Kf{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class wh{constructor(){this.je=new qf,this.ze=new Zf(this.je),this.We=new Kf(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class oc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new oc(this.indexId,this.documentKey,this.arrayValue,s)}}function bl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Yg(i.arrayValue,e.arrayValue),0!==t?t:(t=Yg(i.directionalValue,e.directionalValue),0!==t?t:Ut.comparator(i.documentKey,e.documentKey)))}function Yg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class r_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){mn(e.collectionGroup===this.collectionId);const t=La(e);if(void 0!==t&&!this.en(t))return!1;const s=Zs(e);let a=0,c=0;for(;a<s.length&&this.en(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Ze){const p=s[a];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[c++],p))return!1;++a}for(;a<s.length;++a){const p=s[a];if(c>=this.Ye.length||!this.sn(this.Ye[c++],p))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Yf(i){var e,t;if(mn(i instanceof Te||i instanceof We),i instanceof Te){if(i instanceof Sa){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Te.create(i.field,"==",c)))||[];return We.create(a,"or")}return i}const s=i.filters.map(a=>Yf(a));return We.create(s,i.op)}function Kv(i){if(0===i.getFilters().length)return[];const e=Ch(Yf(i));return mn(Jf(e)),Qf(e)||Qg(e)?[e]:e.getFilters()}function Qf(i){return i instanceof Te}function Qg(i){return i instanceof We&&ln(i)}function Jf(i){return Qf(i)||Qg(i)||function(e){if(e instanceof We&&zt(e)){for(const t of e.getFilters())if(!Qf(t)&&!Qg(t))return!1;return!0}return!1}(i)}function Ch(i){if(mn(i instanceof Te||i instanceof We),i instanceof Te)return i;if(1===i.filters.length)return Ch(i.filters[0]);const e=i.filters.map(s=>Ch(s));let t=We.create(e,i.op);return t=ep(t),Jf(t)?t:(mn(t instanceof We),mn(Vt(t)),mn(t.filters.length>1),t.filters.reduce((s,a)=>Xf(s,a)))}function Xf(i,e){let t;return mn(i instanceof Te||i instanceof We),mn(e instanceof Te||e instanceof We),t=i instanceof Te?e instanceof Te?We.create([i,e],"and"):Ih(i,e):e instanceof Te?Ih(e,i):function(s,a){if(mn(s.filters.length>0&&a.filters.length>0),Vt(s)&&Vt(a))return Qt(s,a.getFilters());const c=zt(s)?s:a,p=zt(s)?a:s,A=c.filters.map(U=>Xf(U,p));return We.create(A,"or")}(i,e),ep(t)}function Ih(i,e){if(Vt(e))return Qt(e,i.getFilters());{const t=e.filters.map(s=>Xf(i,s));return We.create(t,"or")}}function ep(i){if(mn(i instanceof Te||i instanceof We),i instanceof Te)return i;const e=i.getFilters();if(1===e.length)return ep(e[0]);if(Bn(i))return i;const t=e.map(a=>ep(a)),s=[];return t.forEach(a=>{a instanceof Te?s.push(a):a instanceof We&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:We.create(s,i.op)}class Yv{constructor(){this.rn=new Jg}addToCollectionParentIndex(e,t){return this.rn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(Ro.min())}updateCollectionGroup(e,t,s){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class Jg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new pi(Nn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pi(Nn.comparator)).toArray()}}const tp=new Uint8Array(0);class Qv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Jg,this.un=new Ha(s=>_o(s),(s,a)=>Jo(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:Kr(a)};return i_(e).put(c)}return He.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Br(t),""],!1,!0);return i_(e).j(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(Fo(p.parent))}return s})}addFieldIndex(e,t){const s=np(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=Th(e);return c.next(A=>{p.put(Lu(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=np(e),a=Th(e),c=bh(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=bh(e);let a=!0;const c=new Map;return He.forEach(this.cn(t),p=>this.an(e,p).next(A=>{a&&(a=!!A),c.set(p,A)})).next(()=>{if(a){let p=Er();const A=[];return He.forEach(c,(U,z)=>{var re;Mt("IndexedDbIndexManager",`Using index ${re=U,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${_o(t)}`);const Ee=function(jr,Ys){const Qs=La(Ys);if(void 0===Qs)return null;for(const Xi of Nu(jr,Qs.fieldPath))switch(Xi.op){case"array-contains-any":return Xi.value.arrayValue.values||[];case"array-contains":return[Xi.value]}return null}(z,U),Je=function(jr,Ys){const Qs=new Map;for(const Xi of Zs(Ys))for(const Ma of Nu(jr,Xi.fieldPath))switch(Ma.op){case"==":case"in":Qs.set(Xi.fieldPath.canonicalString(),Ma.value);break;case"not-in":case"!=":return Qs.set(Xi.fieldPath.canonicalString(),Ma.value),Array.from(Qs.values())}return null}(z,U),mt=function(jr,Ys){const Qs=[];let Xi=!0;for(const Ma of Zs(Ys)){const ul=0===Ma.kind?ld(jr,Ma.fieldPath,jr.startAt):Kl(jr,Ma.fieldPath,jr.startAt);Qs.push(ul.value),Xi&&(Xi=ul.inclusive)}return new mi(Qs,Xi)}(z,U),jt=function(jr,Ys){const Qs=[];let Xi=!0;for(const Ma of Zs(Ys)){const ul=0===Ma.kind?Kl(jr,Ma.fieldPath,jr.endAt):ld(jr,Ma.fieldPath,jr.endAt);Qs.push(ul.value),Xi&&(Xi=ul.inclusive)}return new mi(Qs,Xi)}(z,U),hn=this.hn(U,z,mt),vn=this.hn(U,z,jt),Dr=this.ln(U,z,Je),hi=this.fn(U.indexId,Ee,hn,mt.inclusive,vn,jt.inclusive,Dr);return He.forEach(hi,jr=>s.H(jr,t.limit).next(Ys=>{Ys.forEach(Qs=>{const Xi=Ut.fromSegments(Qs.documentKey);p.has(Xi)||(p=p.add(Xi),A.push(Xi))})}))}).next(()=>A)}return He.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Kv(We.create(e.filters,"and")).map(s=>vs(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,p,A){const U=(null!=t?t.length:1)*Math.max(s.length,c.length),z=U/(null!=t?t.length:1),re=[];for(let Ee=0;Ee<U;++Ee){const Je=t?this.dn(t[Ee/z]):tp,mt=this.wn(e,Je,s[Ee%z],a),jt=this._n(e,Je,c[Ee%z],p),hn=A.map(vn=>this.wn(e,Je,vn,!0));re.push(...this.createRange(mt,jt,hn))}return re}wn(e,t,s,a){const c=new oc(e,Ut.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new oc(e,Ut.empty(),t,s);return a?c.Je():c}an(e,t){const s=new r_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const A of c)s.tn(A)&&(!p||A.fields.length>p.fields.length)&&(p=A);return p})}getIndexType(e,t){let s=2;const a=this.cn(t);return He.forEach(a,c=>this.an(e,c).next(p=>{p?0!==s&&p.fields.length<function(A){let U=new pi(Ar.comparator),z=!1;for(const re of A.filters)for(const Ee of re.getFlattenedFilters())Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?z=!0:U=U.add(Ee.field));for(const re of A.orderBy)re.field.isKeyField()||(U=U.add(re.field));return U.size+(z?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new wh;for(const a of Zs(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.He(a.kind);Rc.Ve._e(c,p)}return s.Qe()}dn(e){const t=new wh;return Rc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new wh;return Rc.Ve._e(_(this.databaseId,t),s.He(function(a){const c=Zs(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new wh);let c=0;for(const p of Zs(e)){const A=s[c++];for(const U of a)if(this.yn(t,p.fieldPath)&&Z(A))a=this.pn(a,p,A);else{const z=U.He(p.kind);Rc.Ve._e(A,z)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const A of a){const U=new wh;U.seed(A.Qe()),Rc.Ve._e(p,U.He(t.kind)),c.push(U)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof Te&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=np(e),a=Th(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const p=[];return He.forEach(c,A=>a.get([A.indexId,this.uid]).next(U=>{p.push(function(z,re){const Ee=re?new lu(re.sequenceNumber,new Ro(wl(re.readTime),new Ut(Fo(re.documentKey)),re.largestBatchId)):lu.empty(),Je=z.fields.map(([mt,jt])=>new Hu(Ar.fromServerFormat(mt),jt));return new Ta(z.indexId,z.collectionGroup,Je,Ee)}(A,U))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:St(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=np(e),c=Th(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>He.forEach(A,U=>c.put(Lu(U.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return He.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?He.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(A=>(s.set(a.collectionGroup,A),He.forEach(A,U=>this.En(e,a,U).next(z=>{const re=this.An(c,U);return z.isEqual(re)?He.resolve():this.vn(e,c,U,z,re)}))))})}Rn(e,t,s,a){return bh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return bh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=bh(e);let c=new pi(bl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(p,A)=>{c=c.add(new oc(s.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>c)}An(e,t){let s=new pi(bl);const a=this.mn(t,e);if(null==a)return s;const c=La(t);if(null!=c){const p=e.data.field(c.fieldPath);if(Z(p))for(const A of p.arrayValue.values||[])s=s.add(new oc(t.indexId,e.key,this.dn(A),a))}else s=s.add(new oc(t.indexId,e.key,tp,a));return s}vn(e,t,s,a,c){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(A,U,z,re,Ee){const Je=A.getIterator(),mt=U.getIterator();let jt=ja(Je),hn=ja(mt);for(;jt||hn;){let vn=!1,Dr=!1;if(jt&&hn){const hi=z(jt,hn);hi<0?Dr=!0:hi>0&&(vn=!0)}else null!=jt?Dr=!0:vn=!0;vn?(re(hn),hn=ja(mt)):Dr?(Ee(jt),jt=ja(Je)):(jt=ja(Je),hn=ja(mt))}}(a,c,bl,A=>{p.push(this.Rn(e,t,s,A))},A=>{p.push(this.Pn(e,t,s,A))}),He.waitFor(p)}Tn(e){let t=1;return Th(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,A)=>bl(p,A)).filter((p,A,U)=>!A||0!==bl(p,U[A-1]));const a=[];a.push(e);for(const p of s){const A=bl(p,e),U=bl(p,t);if(0===A)a[0]=e.Je();else if(A>0&&U<0)a.push(p),a.push(p.Je());else if(U>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,tp,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,tp,[]]))}return c}bn(e,t){return bl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(s_)}getMinOffset(e,t){return He.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||en())).next(s_)}}function i_(i){return Ki(i,"collectionParents")}function bh(i){return Ki(i,"indexEntries")}function np(i){return Ki(i,"indexConfiguration")}function Th(i){return Ki(i,"indexState")}function s_(i){mn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;Tu(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Ro(e.readTime,e.documentKey,t)}const Qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Eo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xg(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let A=0;const U=s.X({range:p},(re,Ee,Je)=>(A++,Je.delete()));c.push(U.next(()=>{mn(1===A)}));const z=[];for(const re of t.mutations){const Ee=eu(e,re.key.path,t.batchId);c.push(a.delete(Ee)),z.push(re.key)}return He.waitFor(c).next(()=>z)}function Cd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw en();e=i.noDocument}return JSON.stringify(e).length}Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);class Nc{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){mn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Nc(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).X({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=kc(e),p=Vu(e);return p.add({}).next(A=>{mn("number"==typeof A);const U=new ch(A,t,s,a),z=function(Je,mt,jt){const hn=jt.baseMutations.map(Dr=>Mc(Je.fe,Dr)),vn=jt.mutations.map(Dr=>Mc(Je.fe,Dr));return{userId:mt,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:hn,mutations:vn}}(this.serializer,this.userId,U),re=[];let Ee=new pi((Je,mt)=>St(Je.canonicalString(),mt.canonicalString()));for(const Je of a){const mt=eu(this.userId,Je.key.path,A);Ee=Ee.add(Je.key.path.popLast()),re.push(p.put(z)),re.push(c.put(mt,Au))}return Ee.forEach(Je=>{re.push(this.indexManager.addToCollectionParentIndex(e,Je))}),e.addOnCommittedListener(()=>{this.Vn[A]=U.keys()}),He.waitFor(re).next(()=>U)})}lookupMutationBatch(e,t){return Vu(e).get(t).next(s=>s?(mn(s.userId===this.userId),Cl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?He.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Vu(e).X({index:"userMutationsIndex",range:a},(p,A,U)=>{A.userId===this.userId&&(mn(A.batchId>=s),c=Cl(this.serializer,A)),U.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Vu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).j("userMutationsIndex",t).next(s=>s.map(a=>Cl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ko(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return kc(e).X({range:a},(p,A,U)=>{const[z,re,Ee]=p,Je=Fo(re);if(z===this.userId&&t.path.isEqual(Je))return Vu(e).get(Ee).next(mt=>{if(!mt)throw en();mn(mt.userId===this.userId),c.push(Cl(this.serializer,mt))});U.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pi(St);const a=[];return t.forEach(c=>{const p=Ko(this.userId,c.path),A=IDBKeyRange.lowerBound(p),U=kc(e).X({range:A},(z,re,Ee)=>{const[Je,mt,jt]=z,hn=Fo(mt);Je===this.userId&&c.path.isEqual(hn)?s=s.add(jt):Ee.done()});a.push(U)}),He.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Ko(this.userId,s),p=IDBKeyRange.lowerBound(c);let A=new pi(St);return kc(e).X({range:p},(U,z,re)=>{const[Ee,Je,mt]=U,jt=Fo(Je);Ee===this.userId&&s.isPrefixOf(jt)?jt.length===a&&(A=A.add(mt)):re.done()}).next(()=>this.Dn(e,A))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Vu(e).get(c).next(p=>{if(null===p)throw en();mn(p.userId===this.userId),s.push(Cl(this.serializer,p))}))}),He.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Xg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),He.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return He.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return kc(e).X({range:s},(c,p,A)=>{if(c[0]===this.userId){const U=Fo(c[1]);a.push(U)}else A.done()}).next(()=>{mn(0===a.length)})})}containsKey(e,t){return rp(e,this.userId,t)}xn(e){return Ju(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rp(i,e,t){const s=Ko(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return kc(i).X({range:c,Y:!0},(A,U,z)=>{const[re,Ee,Je]=A;re===e&&Ee===a&&(p=!0),z.done()}).next(()=>p)}function Vu(i){return Ki(i,"mutations")}function kc(i){return Ki(i,"documentMutations")}function Ju(i){return Ki(i,"mutationQueues")}class Tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tl(0)}static Mn(){return new Tl(-1)}}class o_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Tl(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ht.fromTimestamp(new hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(mn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Dl(e).X((p,A)=>{const U=Il(A);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(a++,c.push(this.removeTargetData(e,U)))}).next(()=>He.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Dl(e).X((s,a)=>{const c=Il(a);t(c)})}$n(e){return em(e).get("targetGlobalKey").next(t=>(mn(null!==t),t))}On(e,t){return em(e).put("targetGlobalKey",t)}Fn(e,t){return Dl(e).put(au(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=_o(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Dl(e).X({range:a,index:"queryTargetsIndex"},(p,A,U)=>{const z=Il(A);Jo(t,z.target)&&(c=z,U.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Xu(e);return t.forEach(p=>{const A=Kr(p.path);a.push(c.put({targetId:s,path:A})),a.push(this.referenceDelegate.addReference(e,s,p))}),He.waitFor(a)}removeMatchingKeys(e,t,s){const a=Xu(e);return He.forEach(t,c=>{const p=Kr(c.path);return He.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Xu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Xu(e);let c=Er();return a.X({range:s,Y:!0},(p,A,U)=>{const z=Fo(p[1]),re=new Ut(z);c=c.add(re)}).next(()=>c)}containsKey(e,t){const s=Kr(t.path),a=IDBKeyRange.bound([s],[Br(s)],!1,!0);let c=0;return Xu(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,A],U,z)=>{0!==p&&(c++,z.done())}).next(()=>c>0)}le(e,t){return Dl(e).get(t).next(s=>s?Il(s):null)}}function Dl(i){return Ki(i,"targets")}function em(i){return Ki(i,"targetGlobal")}function Xu(i){return Ki(i,"targetDocuments")}function tm([i,e],[t,s]){const a=St(i,t);return 0===a?St(e,s):a}class a_{constructor(e){this.Ln=e,this.buffer=new pi(tm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();tm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,m.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ui(s)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield go(s)}yield t.Qn(3e5)}))}}class Lc{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return He.resolve(Bs.ct);const s=new a_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(Qu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qu):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,p,A,U,z;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,A=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(c=Ee,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(z=Date.now(),Po()<=we.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-re}ms\n\tDetermined least recently used ${a} in `+(A-p)+`ms\n\tRemoved ${c} targets in `+(U-A)+`ms\n\tRemoved ${Ee} documents in `+(z-U)+`ms\nTotal Duration: ${z-re}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ee})))}}class Vc{constructor(e,t){this.db=e,this.garbageCollector=function Dh(i,e){return new Lc(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Al(e,s)}removeReference(e,t,s){return Al(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Al(e,t)}Xn(e,t){return function(s,a){let c=!1;return Ju(s).Z(p=>rp(s,p,a).next(A=>(A&&(c=!0),He.resolve(!A)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(p,A)=>{if(A<=t){const U=this.Xn(e,p).next(z=>{if(!z)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Ht.min()),Xu(e).delete([0,Kr(p.path)])))});a.push(U)}}).next(()=>He.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Al(e,t)}Yn(e,t){const s=Xu(e);let a,c=Bs.ct;return s.X({index:"documentTargetsIndex"},([p,A],{path:U,sequenceNumber:z})=>{0===p?(c!==Bs.ct&&t(new Ut(Fo(a)),c),c=z,a=U):c=Bs.ct}).next(()=>{c!==Bs.ct&&t(new Ut(Fo(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Al(i,e){return Xu(i).put((s=i.currentSequenceNumber,{targetId:0,path:Kr(e.path),sequenceNumber:s}));var s}class ac{constructor(){this.changes=new Ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?He.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return el(e).put(s)}removeEntry(e,t,s){return el(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],gr(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=dr.newInvalidDocument(t);return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uc(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:dr.newInvalidDocument(t)};return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uc(t))},(a,c)=>{s={document:this.ts(t,c),size:Cd(c)}}).next(()=>s)}getEntries(e,t){let s=Ii();return this.ns(e,t,(a,c)=>{const p=this.ts(a,c);s=s.insert(a,p)}).next(()=>s)}ss(e,t){let s=Ii(),a=new di(Ut.comparator);return this.ns(e,t,(c,p)=>{const A=this.ts(c,p);s=s.insert(c,A),a=a.insert(c,Cd(p))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return He.resolve();let a=new pi(rm);t.forEach(U=>a=a.add(U));const c=IDBKeyRange.bound(Uc(a.first()),Uc(a.last())),p=a.getIterator();let A=p.getNext();return el(e).X({index:"documentKeyIndex",range:c},(U,z,re)=>{const Ee=Ut.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&rm(A,Ee)<0;)s(A,null),A=p.getNext();A&&A.isEqual(Ee)&&(s(A,z),A=p.hasNext()?p.getNext():null),A?re.G(Uc(A)):re.done()}).next(()=>{for(;A;)s(A,null),A=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),gr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],A=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).j(IDBKeyRange.bound(p,A,!0)).next(U=>{let z=Ii();for(const re of U){const Ee=this.ts(Ut.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);Ee.isFoundDocument()&&(Or(t,Ee)||a.has(Ee.key))&&(z=z.insert(Ee.key,Ee))}return z})}getAllFromCollectionGroup(e,t,s,a){let c=Ii();const p=Id(t,s),A=Id(t,Ro.max());return el(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,A,!0)},(U,z,re)=>{const Ee=this.ts(Ut.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);c=c.insert(Ee.key,Ee),c.size===a&&re.done()}).next(()=>c)}newChangeBuffer(e){return new nm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ah(e).get("remoteDocumentGlobalKey").next(t=>(mn(!!t),t))}Zn(e,t){return Ah(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function n_(i,e){let t;if(e.document)t=$f(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),a=wl(e.noDocument.readTime);t=dr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const s=Ut.fromSegments(e.unknownDocument.path),a=wl(e.unknownDocument.version);t=dr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new hr(s[0],s[1]);return Ht.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Ht.min()))return s}return dr.newInvalidDocument(e)}}function ip(i){return new u_(i)}class nm extends ac{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ha(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new pi((c,p)=>St(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const A=this.us.get(c);if(t.push(this.os.removeEntry(e,c,A.readTime)),p.isValidDocument()){const U=Kg(this.os.serializer,p);a=a.add(c.path.popLast()),s+=Cd(U)-A.size,t.push(this.os.addEntry(e,c,U))}else if(s-=A.size,this.trackRemovals){const U=Kg(this.os.serializer,p.convertToNoDocument(Ht.min()));t.push(this.os.addEntry(e,c,U))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),He.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,p)=>{this.us.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function Ah(i){return Ki(i,"remoteDocumentGlobal")}function el(i){return Ki(i,"remoteDocumentsV14")}function Uc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Id(i,e){const t=e.documentKey.path.toArray();return[i,gr(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rm(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=St(t[c],s[c]),a)return a;return a=St(t.length,s.length),a||(a=St(t[t.length-2],s[s.length-2]),a||St(t[t.length-1],s[s.length-1]))}class im{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class l_{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&ah(s.mutation,a,xs.empty(),hr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Er()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Er()){const a=za();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=mu();return c.forEach((A,U)=>{p=p.insert(A,U.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=za();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Er()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,A)=>{t.set(p,A)})})}computeViews(e,t,s,a){let c=Ii();const p=yl(),A=yl();return t.forEach((U,z)=>{const re=s.get(z.key);a.has(z.key)&&(void 0===re||re.mutation instanceof vo)?c=c.insert(z.key,z):void 0!==re?(p.set(z.key,re.mutation.getFieldMask()),ah(re.mutation,z,re.mutation.getFieldMask(),hr.now())):p.set(z.key,xs.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((z,re)=>p.set(z,re)),t.forEach((z,re)=>{var Ee;return A.set(z,new im(re,null!==(Ee=p.get(z))&&void 0!==Ee?Ee:null))}),A))}recalculateAndSaveOverlays(e,t){const s=yl();let a=new di((p,A)=>p-A),c=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const A of p)A.keys().forEach(U=>{const z=t.get(U);if(null===z)return;let re=s.get(U)||xs.empty();re=A.applyToLocalView(z,re),s.set(U,re);const Ee=(a.get(A.batchId)||Er()).add(U);a=a.insert(A.batchId,Ee)})}).next(()=>{const p=[],A=a.getReverseIterator();for(;A.hasNext();){const U=A.getNext(),z=U.key,re=U.value,Ee=Yl();re.forEach(Je=>{if(!c.has(Je)){const mt=ec(t.get(Je),s.get(Je));null!==mt&&Ee.set(Je,mt),c=c.add(Je)}}),p.push(this.documentOverlayCache.saveOverlays(e,z,Ee))}return He.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Ut.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):D(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):He.resolve(za());let A=-1,U=c;return p.next(z=>He.forEach(z,(re,Ee)=>(A<Ee.largestBatchId&&(A=Ee.largestBatchId),c.get(re)?He.resolve():this.remoteDocumentCache.getEntry(e,re).next(Je=>{U=U.insert(re,Je)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,U,z,Er())).next(re=>({batchId:A,changes:cd(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next(s=>{let a=mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,a).next(p=>He.forEach(p,A=>{const U=(z=t,re=A.child(a),new $a(re,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,re;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(z=>{z.forEach((re,Ee)=>{c=c.insert(re,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((A,U)=>{const z=U.getKey();null===c.get(z)&&(c=c.insert(z,dr.newInvalidDocument(z)))});let p=mu();return c.forEach((A,U)=>{const z=a.get(A);void 0!==z&&ah(z.mutation,U,xs.empty(),hr.now()),Or(t,U)&&(p=p.insert(A,U))}),p})}}class sm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return He.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Es(s.createTime)}),He.resolve()}getNamedQuery(e,t){return He.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:yh(s.bundledQuery),readTime:Es(s.readTime)}),He.resolve();var s}}class om{constructor(){this.overlays=new di(Ut.comparator),this.ls=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const s=za();return He.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),He.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),He.resolve()}getOverlaysForCollection(e,t,s){const a=za(),c=t.length+1,p=new Ut(t.child("")),A=this.overlays.getIteratorFrom(p);for(;A.hasNext();){const U=A.getNext().value,z=U.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return He.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new di((z,re)=>z-re);const p=this.overlays.getIterator();for(;p.hasNext();){const z=p.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>s){let re=c.get(z.largestBatchId);null===re&&(re=za(),c=c.insert(z.largestBatchId,re)),re.set(z.getKey(),z)}}const A=za(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((z,re)=>A.set(z,re)),!(A.size()>=a)););return He.resolve(A)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new gd(t,s));let c=this.ls.get(t);void 0===c&&(c=Er(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class sp{constructor(){this.fs=new pi(oo.ds),this.ws=new pi(oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new oo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new oo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Ut(new Nn([])),s=new oo(t,e),a=new oo(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ut(new Nn([])),s=new oo(t,e),a=new oo(t,e+1);let c=Er();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new oo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class oo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ut.comparator(e.key,t.key)||St(e.As,t.As)}static _s(e,t){return St(e.As,t.As)||Ut.comparator(e.key,t.key)}}class c_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pi(oo.ds)}checkEmpty(e){return He.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new ch(c,t,s,a);this.mutationQueue.push(p);for(const A of a)this.Rs=this.Rs.add(new oo(A.key,c)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return He.resolve(p)}lookupMutationBatch(e,t){return He.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return He.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new oo(t,0),a=new oo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const A=this.Ps(p.As);c.push(A)}),He.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pi(St);return t.forEach(a=>{const c=new oo(a,0),p=new oo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],A=>{s=s.add(A.As)})}),He.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Ut.isDocumentKey(c)||(c=c.child(""));const p=new oo(new Ut(c),0);let A=new pi(St);return this.Rs.forEachWhile(U=>{const z=U.key.path;return!!s.isPrefixOf(z)&&(z.length===a&&(A=A.add(U.As)),!0)},p),He.resolve(this.Vs(A))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){mn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return He.forEach(t.mutations,a=>{const c=new oo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new oo(t,0),a=this.Rs.firstAfterOrEqual(s);return He.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return He.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class d_{constructor(e){this.Ds=e,this.docs=new di(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return He.resolve(s?s.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let s=Ii();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():dr.newInvalidDocument(a))}),He.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ii();const p=t.path,A=new Ut(p.child("")),U=this.docs.getIteratorFrom(A);for(;U.hasNext();){const{key:z,value:{document:re}}=U.getNext();if(!p.isPrefixOf(z.path))break;z.path.length>p.length+1||Tu(ql(re),s)<=0||(a.has(re.key)||Or(t,re))&&(c=c.insert(re.key,re.mutableCopy()))}return He.resolve(c)}getAllFromCollectionGroup(e,t,s,a){en()}Cs(e,t){return He.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ga(this)}getSize(e){return He.resolve(this.size)}}class Ga extends ac{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),He.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h_{constructor(e){this.persistence=e,this.xs=new Ha(t=>_o(t),Jo),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sp,this.targetCount=0,this.Ms=Tl.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),He.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.Fn(t),He.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,A)=>{A.sequenceNumber<=t&&null===s.get(A.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,A.targetId)),a++)}),He.waitFor(c).next(()=>a)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return He.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),He.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),He.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),He.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return He.resolve(s)}containsKey(e,t){return He.resolve(this.ks.containsKey(t))}}class op{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h_(this),this.indexManager=new Yv,this.remoteDocumentCache=new d_(s=>this.referenceDelegate.Ls(s)),this.serializer=new Zg(t),this.qs=new sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new om,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new c_(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("MemoryPersistence","Starting transaction:",e);const a=new Jv(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return He.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Jv extends Gu{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Qs=new sp,this.js=null}static zs(e){return new ap(e)}get Ws(){if(this.js)return this.js;throw en()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),He.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),He.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.Ws,s=>{const a=Ut.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Ht.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return He.or([()=>He.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Xv{constructor(e){this.serializer=e}O(e,t,s,a){const c=new la("createOrUpgrade",t);var A;s<1&&a>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0}),A.createObjectStore("documentMutations"),am(e),function(A){A.createObjectStore("remoteDocuments")}(e));let p=He.resolve();return s<3&&a>=3&&(0!==s&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),am(e)),p=p.next(()=>function(A){const U=A.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",z)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(A,U){return U.store("mutations").j().next(z=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0});const re=U.store("mutations"),Ee=z.map(Je=>re.put(Je));return He.waitFor(Ee)})}(e,c))),p=p.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ys(c))),s<6&&a>=6&&(p=p.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(p=p.next(()=>this.Zs(c))),s<8&&a>=8&&(p=p.next(()=>this.ti(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.ei(c))),s<11&&a>=11&&(p=p.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(A){const U=A.createObjectStore("documentOverlays",{keyPath:Vo});U.createIndex("collectionPathOverlayIndex",fa,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",wc,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(A){const U=A.createObjectStore("remoteDocumentsV14",{keyPath:Su});U.createIndex("documentKeyIndex",hu),U.createIndex("collectionGroupIndex",Wu)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.si(e,c))),s<15&&a>=15&&(p=p.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:xu}).createIndex("sequenceNumberIndex",ha,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Mu}).createIndex("documentKeyIndex",fl,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Cd(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>He.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",p).next(A=>He.forEach(A,U=>{mn(U.userId===c.userId);const z=Cl(this.serializer,U);return Xg(e,c.userId,z).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((p,A)=>{const U=new Nn(p),z=[0,Kr(U)];c.push(t.get(z).next(re=>re?He.resolve():t.put({targetId:0,path:Kr(U),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>He.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Lo});const s=t.store("collectionParents"),a=new Jg,c=p=>{if(a.add(p)){const A=p.lastSegment(),U=p.popLast();return s.put({collectionId:A,parent:Kr(U)})}};return t.store("remoteDocuments").X({Y:!0},(p,A)=>{const U=new Nn(p);return c(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,A,U],z)=>{const re=Fo(A);return c(re.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=Il(a),p=au(this.serializer,c);return t.put(p)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,p)=>{const A=t.store("remoteDocumentsV14"),U=(z=p,z.document?new Ut(Nn.fromString(z.document.name).popFirst(5)):z.noDocument?Ut.fromSegments(z.noDocument.path):z.unknownDocument?Ut.fromSegments(z.unknownDocument.path):en()).path.toArray();var z;const re={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(A.put(re))}).next(()=>He.waitFor(a))}si(e,t){const s=t.store("mutations"),a=ip(this.serializer),c=new op(ap.zs,this.serializer.fe);return s.j().next(p=>{const A=new Map;return p.forEach(U=>{var z;let re=null!==(z=A.get(U.userId))&&void 0!==z?z:Er();Cl(this.serializer,U).keys().forEach(Ee=>re=re.add(Ee)),A.set(U.userId,re)}),He.forEach(A,(U,z)=>{const re=new Ur(z),Ee=Wf.de(this.serializer,re),Je=c.getIndexManager(re),mt=Nc.de(re,this.serializer,Je,c.referenceDelegate);return new l_(a,mt,Ee,Je).recalculateAndSaveOverlaysForDocumentKeys(new pa(t,Bs.ct),U).next()})})}}function am(i){i.createObjectStore("targetDocuments",{keyPath:Ba}).createIndex("documentTargetsIndex",Hi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mo,{unique:!0}),i.createObjectStore("targetGlobal")}const Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sh{constructor(e,t,s,a,c,p,A,U,z,re,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=p,this.document=A,this.ri=z,this.oi=re,this.ui=Ee,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Je=>Promise.resolve(),!Sh.D())throw new It(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vc(this,a),this.di=t+"main",this.serializer=new Zg(U),this.wi=new _s(this.di,this.ui,new Xv(this.serializer)),this.Bs=new o_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ip(this.serializer),this.qs=new zf,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===re&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new It(rt.FAILED_PRECONDITION,Td);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Bs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,m.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,m.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,m.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ui(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Dd(e).get("owner").next(t=>He.resolve(this.Ri(t)))}Pi(e){return xh(e).delete(this.clientId)}bi(){var e=this;return(0,m.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Ki(s,"clientMetadata");return a.j().next(c=>{const p=e.Si(c,18e5),A=c.filter(U=>-1===p.indexOf(U));return He.forEach(A,U=>a.delete(U.clientId)).next(()=>A)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?He.resolve(!0):Dd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new It(rt.FAILED_PRECONDITION,Td);return!1}}return!(!this.networkEnabled||!this.inForeground)||xh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,A=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,m.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new pa(t,Bs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>xh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Nc.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Wf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ui)?pl:14===p?Bi:13===p?qu:12===p?Pu:11===p?Aa:void en();var p;let A;return this.wi.runTransaction(e,a,c,U=>(A=new pa(U,this.Os?this.Os.next():Bs.ct),"readwrite-primary"===t?this.Ti(A).next(z=>!!z||this.Ei(A)).next(z=>{if(!z)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new It(rt.FAILED_PRECONDITION,zu);return s(A)}).next(z=>this.vi(A).next(()=>z)):this.Oi(A).next(()=>s(A)))).then(U=>(A.raiseOnCommittedEvent(),U))}Oi(e){return Dd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new It(rt.FAILED_PRECONDITION,Td)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dd(e).put("owner",t)}static D(){return _s.D()}Ai(e){const t=Dd(e);return t.get("owner").next(s=>this.Ri(s)?(Mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):He.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Xr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,oe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Xr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dd(i){return Ki(i,"owner")}function xh(i){return Ki(i,"clientMetadata")}function up(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Mh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Er(),a=Er();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Mh(e,t.fromCache,s,a)}}class um{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(w(t))return He.resolve(null);let s=te(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ct(t,null,"F"),s=te(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=Er(...c);return this.Ui.getDocuments(e,p).next(A=>this.indexManager.getMinOffset(e,s).next(U=>{const z=this.ji(t,A);return this.zi(t,z,p,U.readTime)?this.Ki(e,ct(t,null,"F")):this.Wi(e,z,t,U)}))})))}Gi(e,t,s,a){return w(t)||a.isEqual(Ht.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(Po()<=we.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vn(t)),this.Wi(e,p,t,Wl(a,-1)))})}ji(e,t){let s=new pi(Qi(e));return t.forEach((a,c)=>{Or(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Po()<=we.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",Vn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ro.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class lm{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new di(St),this.Yi=new Ha(c=>_o(c),Jo),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cm(i,e,t,s){return new lm(i,e,t,s)}function dm(i,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,m.Z)(function*(i,e){const t=Yt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],A=[];let U=Er();for(const z of a){p.push(z.batchId);for(const re of z.mutations)U=U.add(re.key)}for(const z of c){A.push(z.batchId);for(const re of z.mutations)U=U.add(re.key)}return t.localDocuments.getDocuments(s,U).next(z=>({er:z,removedBatchIds:p,addedBatchIds:A}))})})}),Ph.apply(this,arguments)}function hm(i,e){const t=Yt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,A,U,z){const re=U.batch,Ee=re.keys();let Je=He.resolve();return Ee.forEach(mt=>{Je=Je.next(()=>z.getEntry(A,mt)).next(jt=>{const hn=U.docVersions.get(mt);mn(null!==hn),jt.version.compareTo(hn)<0&&(re.applyToRemoteDocument(jt,U),jt.isValidDocument()&&(jt.setReadTime(U.commitVersion),z.addEntry(jt)))})}),Je.next(()=>p.mutationQueue.removeMutationBatch(A,re))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let A=Er();for(let U=0;U<p.mutationResults.length;++U)p.mutationResults[U].transformResults.length>0&&(A=A.add(p.batch.mutations[U].key));return A}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function fm(i){const e=Yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Uu(i,e){const t=Yt(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const A=[];e.targetChanges.forEach((re,Ee)=>{const Je=a.get(Ee);if(!Je)return;A.push(t.Bs.removeMatchingKeys(c,re.removedDocuments,Ee).next(()=>t.Bs.addMatchingKeys(c,re.addedDocuments,Ee)));let mt=Je.withSequenceNumber(c.currentSequenceNumber);var jt,hn,vn;null!==e.targetMismatches.get(Ee)?mt=mt.withResumeToken(ji.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):re.resumeToken.approximateByteSize()>0&&(mt=mt.withResumeToken(re.resumeToken,s)),a=a.insert(Ee,mt),hn=mt,vn=re,(0===(jt=Je).resumeToken.approximateByteSize()||hn.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&A.push(t.Bs.updateTargetData(c,mt))});let U=Ii(),z=Er();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(c,re))}),A.push(Oh(c,p,e.documentUpdates).next(re=>{U=re.nr,z=re.sr})),!s.isEqual(Ht.min())){const re=t.Bs.getLastRemoteSnapshotVersion(c).next(Ee=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));A.push(re)}return He.waitFor(A).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,z)).next(()=>U)}).then(c=>(t.Ji=a,c))}function Oh(i,e,t){let s=Er(),a=Er();return t.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let p=Ii();return t.forEach((A,U)=>{const z=c.get(A);U.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(A)),U.isNoDocument()&&U.version.isEqual(Ht.min())?(e.removeEntry(A,U.readTime),p=p.insert(A,U)):!z.isValidDocument()||U.version.compareTo(z.version)>0||0===U.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(U),p=p.insert(A,U)):Mt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",U.version)}),{nr:p,sr:a}})}function f_(i,e){const t=Yt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Bc(i,e){const t=Yt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,He.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new Fu(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ad(i,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,m.Z)(function*(i,e,t){const s=Yt(i),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Ui(p))throw p;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Rh.apply(this,arguments)}function Nh(i,e,t){const s=Yt(i);let a=Ht.min(),c=Er();return s.persistence.runTransaction("Execute query","readonly",p=>function(A,U,z){const re=Yt(A),Ee=re.Yi.get(z);return void 0!==Ee?He.resolve(re.Ji.get(Ee)):re.Bs.getTargetData(U,z)}(s,p,te(e)).next(A=>{if(A)return a=A.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,A.targetId).next(U=>{c=U})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:Ht.min(),t?c:Er())).next(A=>(kh(s,$s(e),A),{documents:A,ir:c})))}function pm(i,e){const t=Yt(i),s=Yt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(p=>p?p.target:null))}function gm(i,e){const t=Yt(i),s=t.Xi.get(e)||Ht.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Wl(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(kh(t,e,a),a))}function kh(i,e,t){let s=i.Xi.get(e)||Ht.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Xi.set(e,s)}function lp(){return lp=(0,m.Z)(function*(i,e,t,s){const a=Yt(i);let c=Er(),p=Ii();for(const z of t){const re=e.rr(z.metadata.name);z.document&&(c=c.add(re));const Ee=e.ur(z);Ee.setReadTime(e.cr(z.metadata.readTime)),p=p.insert(re,Ee)}const A=a.Zi.newChangeBuffer({trackRemovals:!0}),U=yield Bc(a,(z=s,te(gl(Nn.fromString(`__bundle__/docs/${z}`)))));var z;return a.persistence.runTransaction("Apply bundle documents","readwrite",z=>Oh(z,A,p).next(re=>(A.apply(z),re)).next(re=>a.Bs.removeMatchingKeysForTargetId(z,U.targetId).next(()=>a.Bs.addMatchingKeys(z,c,U.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(z,re.nr,re.sr)).next(()=>re.nr)))}),lp.apply(this,arguments)}function Fh(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,m.Z)(function*(i,e,t=Er()){const s=yield Bc(i,te(yh(e.bundledQuery))),a=Yt(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=Es(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(c,e);const A=s.withResumeToken(ji.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(A.targetId,A),a.Bs.updateTargetData(c,A).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Sd.apply(this,arguments)}function mm(i,e){return`firestore_clients_${i}_${e}`}function Lh(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xd(i,e){return`firestore_targets_${i}_${e}`}class Md{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new It(a.error.code,a.error.message))),p?new Md(e,t,a.state,c):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new It(s.error.code,s.error.message))),c?new Vh(e,s.state,a):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Of();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Ss(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new cp(e,c):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Pd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pd(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ym{constructor(){this.activeTargetIds=Of()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dp{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new di(St),this.started=!1,this.yr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=mm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ym),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,m.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(mm(e.persistenceKey,a));if(c){const p=cp.ar(a,c);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xd(this.persistenceKey,e));if(s){const a=Vh.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xd(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mt("SharedClientState","READ",e,t),t}setItem(e,t){Mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,m.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let p=Bs.ct;if(null!=c)try{const A=JSON.parse(c);mn("number"==typeof A),p=A}catch(A){Xr("SharedClientState","Failed to read sequence number from WebStorage",A)}return p}(s.newValue);a!==Bs.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Md(this.currentUser,e,t,s),c=Lh(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=Lh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=xd(this.persistenceKey,e),c=new Vh(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return cp.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Md.ar(new Ur(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return Vh.ar(a,t)}br(e){return Pd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,m.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),p=[],A=[];return c.forEach(U=>{a.has(U)||p.push(U)}),a.forEach(U=>{c.has(U)||A.push(U)}),this.syncEngine.Wr(p,A).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Of();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class hp{constructor(){this.Hr=new ym,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ym,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _m{Yr(e){}shutdown(){}}class fp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Od=null;function Uh(){return null===Od?Od=268435456+Math.round(2147483648*Math.random()):Od++,"0x"+Od.toString(16)}const tl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xo="WebChannelConnection";class g_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=Uh(),A=this.To(e,t);Mt("RestConnection",`Sending RPC '${e}' ${p}:`,A,s);const U={};return this.Eo(U,a,c),this.Ao(e,A,U,s).then(z=>(Mt("RestConnection",`Received RPC '${e}' ${p}: `,z),z),z=>{throw ys("RestConnection",`RPC '${e}' ${p} failed with error: `,z,"url: ",A,"request:",s),z})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${tl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Uh();return new Promise((p,A)=>{const U=new $u;U.setWithCredentials(!0),U.listenOnce(ua.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Na.NO_ERROR:const re=U.getResponseJson();Mt(Xo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(re)),p(re);break;case Na.TIMEOUT:Mt(Xo,`RPC '${e}' ${c} timed out`),A(new It(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Na.HTTP_ERROR:const Ee=U.getStatus();if(Mt(Xo,`RPC '${e}' ${c} failed with status:`,Ee,"response text:",U.getResponseText()),Ee>0){let Je=U.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const mt=null==Je?void 0:Je.error;if(mt&&mt.status&&mt.message){const jt=function(hn){const vn=hn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(vn)>=0?vn:rt.UNKNOWN}(mt.status);A(new It(jt,mt.message))}else A(new It(rt.UNKNOWN,"Server responded with status "+U.getStatus()))}else A(new It(rt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Mt(Xo,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(a);Mt(Xo,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",z,s,15)})}Ro(e,t,s){const a=Uh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=to(),A=aa(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(U.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(U.xmlHttpFactory=new ju({})),this.Eo(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const re=c.join("");Mt(Xo,`Creating RPC '${e}' stream ${a}: ${re}`,U);const Ee=p.createWebChannel(re,U);let Je=!1,mt=!1;const jt=new Bh({ro:vn=>{mt?Mt(Xo,`Not sending because RPC '${e}' stream ${a} is closed:`,vn):(Je||(Mt(Xo,`Opening RPC '${e}' stream ${a} transport.`),Ee.open(),Je=!0),Mt(Xo,`RPC '${e}' stream ${a} sending:`,vn),Ee.send(vn))},oo:()=>Ee.close()}),hn=(vn,Dr,hi)=>{vn.listen(Dr,jr=>{try{hi(jr)}catch(Ys){setTimeout(()=>{throw Ys},0)}})};return hn(Ee,Fa.EventType.OPEN,()=>{mt||Mt(Xo,`RPC '${e}' stream ${a} transport opened.`)}),hn(Ee,Fa.EventType.CLOSE,()=>{mt||(mt=!0,Mt(Xo,`RPC '${e}' stream ${a} transport closed`),jt.wo())}),hn(Ee,Fa.EventType.ERROR,vn=>{mt||(mt=!0,ys(Xo,`RPC '${e}' stream ${a} transport errored:`,vn),jt.wo(new It(rt.UNAVAILABLE,"The operation could not be completed")))}),hn(Ee,Fa.EventType.MESSAGE,vn=>{var Dr;if(!mt){const hi=vn.data[0];mn(!!hi);const jr=hi,Ys=jr.error||(null===(Dr=jr[0])||void 0===Dr?void 0:Dr.error);if(Ys){Mt(Xo,`RPC '${e}' stream ${a} received error:`,Ys);const Qs=Ys.status;let Xi=function(ul){const Py=so[ul];if(void 0!==Py)return kf(Py)}(Qs),Ma=Ys.message;void 0===Xi&&(Xi=rt.INTERNAL,Ma="Unknown error status: "+Qs+" with message "+Ys.message),mt=!0,jt.wo(new It(Xi,Ma)),Ee.close()}else Mt(Xo,`RPC '${e}' stream ${a} received:`,hi),jt._o(hi)}}),hn(A,Qa.STAT_EVENT,vn=>{vn.stat===ka.PROXY?Mt(Xo,`RPC '${e}' stream ${a} detected buffering proxy`):vn.stat===ka.NOPROXY&&Mt(Xo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{jt.fo()},0),jt}}function m_(){return"undefined"!=typeof window?window:null}function jc(){return"undefined"!=typeof document?document:null}function $c(i){return new ph(i,!0)}class Rd{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hc{constructor(e,t,s,a,c,p,A,U){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=A,this.listener=U,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Rd(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,m.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,m.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,m.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new It(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,m.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y_ extends Hc{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Qy(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:en(),a=e.targetChange.targetIds||[],c=function(U,z){return U.useProto3Json?(mn(void 0===z||"string"==typeof z),ji.fromBase64String(z||"")):(mn(void 0===z||z instanceof Uint8Array),ji.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,A=p&&function(U){const z=void 0===U.code?rt.UNKNOWN:kf(U.code);return new It(z,U.message||"")}(p);t=new kg(s,a,c,A||null)}else if("documentChange"in e){const s=e.documentChange,a=yu(i,s.document.name),c=Es(s.document.updateTime),p=s.document.createTime?Es(s.document.createTime):Ht.min(),A=new Cn({mapValue:{fields:s.document.fields}}),U=dr.newFoundDocument(a,c,p,A);t=new yd(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=yu(i,s.document),c=s.readTime?Es(s.readTime):Ht.min(),p=dr.newNoDocument(a,c);t=new yd([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=yu(i,s.document);t=new yd([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return en();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new Pg(a,c);t=new fh(s.targetId,p)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Ht.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ht.min():c.readTime?Es(c.readTime):Ht.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=sc(this.serializer),t.addTarget=function(a,c){let p;const A=c.target;if(p=xa(A)?{documents:Jy(a,A)}:{query:mh(a,A)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Bf(a,c.resumeToken);const U=Uf(a,c.expectedCount);null!==U&&(p.expectedCount=U)}else if(c.snapshotVersion.compareTo(Ht.min())>0){p.readTime=ic(a,c.snapshotVersion.toTimestamp());const U=Uf(a,c.expectedCount);null!==U&&(p.expectedCount=U)}return p}(this.serializer,e);const s=function zg(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=sc(this.serializer),t.removeTarget=e,this.Wo(t)}}class pp extends Hc{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function $g(i,e){return i&&i.length>0?(mn(void 0!==e),i.map(t=>function(s,a){let c=Es(s.updateTime?s.updateTime:a);return c.isEqual(Ht.min())&&(c=Es(a)),new qy(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.cu(s,t)}return mn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Mc(this.serializer,s))};this.Wo(t)}}class vm extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new It(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new It(rt.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new It(rt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class __{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xr(t),this.mu=!1):Mt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class gp{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(A=>{s.enqueueAndForget((0,m.Z)(function*(){var U;xl(p)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,m.Z)(function*(z){const re=Yt(z);re.vu.add(4),yield uc(re),re.bu.set("Unknown"),re.vu.delete(4),yield Nd(re)}),function(z){return U.apply(this,arguments)})(p))}))}),this.bu=new __(s,a)}}function Nd(i){return mp.apply(this,arguments)}function mp(){return mp=(0,m.Z)(function*(i){if(xl(i))for(const e of i.Ru)yield e(!0)}),mp.apply(this,arguments)}function uc(i){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,m.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Sl.apply(this,arguments)}function kd(i,e){const t=Yt(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),vp(t)?_p(t):cc(t).Ko()&&yp(t,e))}function Fd(i,e){const t=Yt(i),s=cc(t);t.Au.delete(e),s.Ko()&&lc(t,e),0===t.Au.size&&(s.Ko()?s.jo():xl(t)&&t.bu.set("Unknown"))}function yp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(i).su(e)}function lc(i,e){i.Vu.qt(e),cc(i).iu(e)}function _p(i){i.Vu=new Lg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),cc(i).start(),i.bu.gu()}function vp(i){return xl(i)&&!cc(i).Uo()&&i.Au.size>0}function xl(i){return 0===Yt(i).vu.size}function wm(i){i.Vu=void 0}function Bu(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,m.Z)(function*(i){i.Au.forEach((e,t)=>{yp(i,e)})}),Ld.apply(this,arguments)}function Cm(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,m.Z)(function*(i,e){wm(i),vp(i)?(i.bu.Iu(e),_p(i)):i.bu.set("Unknown")}),$h.apply(this,arguments)}function Im(i,e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,m.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof kg&&2===e.state&&e.cause)try{yield(s=(0,m.Z)(function*(a,c){const p=c.cause;for(const A of c.targetIds)a.Au.has(A)&&(yield a.remoteSyncer.rejectListen(A,p),a.Au.delete(A),a.Vu.removeTarget(A))}),function(a,c){return s.apply(this,arguments)})(i,e)}catch(s){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield zh(i,s)}else if(e instanceof yd?i.Vu.Ht(e):e instanceof fh?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Ht.min()))try{const s=yield fm(i.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((A,U)=>{if(A.resumeToken.approximateByteSize()>0){const z=a.Au.get(U);z&&a.Au.set(U,z.withResumeToken(A.resumeToken,c))}}),p.targetMismatches.forEach((A,U)=>{const z=a.Au.get(A);if(!z)return;a.Au.set(A,z.withResumeToken(ji.EMPTY_BYTE_STRING,z.snapshotVersion)),lc(a,A);const re=new Fu(z.target,A,U,z.sequenceNumber);yp(a,re)}),a.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(s){Mt("RemoteStore","Failed to raise snapshot:",s),yield zh(i,s)}var s}),Hh.apply(this,arguments)}function zh(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,m.Z)(function*(i,e,t){if(!Ui(e))throw e;i.vu.add(1),yield uc(i),i.bu.set("Offline"),t||(t=()=>fm(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Nd(i)}))}),Ep.apply(this,arguments)}function bm(i,e){return e().catch(t=>zh(i,t,e))}function zc(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,m.Z)(function*(i){const e=Yt(i),t=Ml(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;e0(e);)try{const a=yield f_(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Tm(e,a)}catch(a){yield zh(e,a)}Dm(e)&&Am(e)}),Gh.apply(this,arguments)}function e0(i){return xl(i)&&i.Eu.length<10}function Tm(i,e){i.Eu.push(e);const t=Ml(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Dm(i){return xl(i)&&!Ml(i).Uo()&&i.Eu.length>0}function Am(i){Ml(i).start()}function t0(i){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,m.Z)(function*(i){Ml(i).hu()}),Sm.apply(this,arguments)}function wp(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,m.Z)(function*(i){const e=Ml(i);for(const t of i.Eu)e.uu(t.mutations)}),Cp.apply(this,arguments)}function xm(i,e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,m.Z)(function*(i,e,t){const s=i.Eu.shift(),a=dh.from(s,e,t);yield bm(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield zc(i)}),Wh.apply(this,arguments)}function n0(i,e){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,m.Z)(function*(i,e){var t;e&&Ml(i).ou&&(yield(t=(0,m.Z)(function*(s,a){if(hh(c=a.code)&&c!==rt.ABORTED){const p=s.Eu.shift();Ml(s).Qo(),yield bm(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield zc(s)}var c}),function(s,a){return t.apply(this,arguments)})(i,e)),Dm(i)&&Am(i)}),Wa.apply(this,arguments)}function v_(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,m.Z)(function*(i,e){const t=Yt(i);t.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const s=xl(t);t.vu.add(3),yield uc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nd(t)}),Mm.apply(this,arguments)}function qh(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,m.Z)(function*(i,e){const t=Yt(i);e?(t.vu.delete(2),yield Nd(t)):e||(t.vu.add(2),yield uc(t),t.bu.set("Unknown"))}),Zh.apply(this,arguments)}function cc(i){return i.Su||(i.Su=function(e,t,s){const a=Yt(e);return a.fu(),new y_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:Bu.bind(null,i),ao:Cm.bind(null,i),nu:Im.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Su.Qo(),vp(i)?_p(i):i.bu.set("Unknown")):(yield i.Su.stop(),wm(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Ml(i){return i.Du||(i.Du=function(e,t,s){const a=Yt(e);return a.fu(),new pp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:t0.bind(null,i),ao:n0.bind(null,i),au:wp.bind(null,i),cu:xm.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Du.Qo(),yield zc(i)):(yield i.Du.stop(),i.Eu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Pm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,A=new Pm(e,t,p,a,c);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(i,e){if(Xr("AsyncQueue",`${e}: ${i}`),Ui(i))return new It(rt.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ut.comparator(t.key,s.key):(t,s)=>Ut.comparator(t.key,s.key),this.keyedMap=mu(),this.sortedSet=new di(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Om{constructor(){this.Cu=new di(Ut.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):en():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ol{constructor(e,t,s,a,c,p,A,U,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=A,this.excludesMetadataChanges=U,this.hasCachedResults=z}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(A=>{p.push({type:0,doc:A})}),new Ol(e,t,Pl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class E_{constructor(){this.Nu=void 0,this.listeners=[]}}class w_{constructor(){this.queries=new Ha(e=>cn(e),Bt),this.onlineState="Unknown",this.ku=new Set}}function Ip(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,m.Z)(function*(i,e){const t=Yt(i),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new E_),a)try{c.Nu=yield t.onListen(s)}catch(p){const A=dc(p,`Initialization of query '${Vn(e.query)}' failed`);return void e.onError(A)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Ap(t)}),bp.apply(this,arguments)}function Tp(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,m.Z)(function*(i,e){const t=Yt(i),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Dp.apply(this,arguments)}function Kh(i,e){const t=Yt(i);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const A of p.listeners)A.$u(a)&&(s=!0);p.Nu=a}}s&&Ap(t)}function Gc(i,e,t){const s=Yt(i),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(i){i.ku.forEach(e=>{e.next()})}class hc{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class C_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Rm{constructor(e){this.serializer=e}rr(e){return yu(this.serializer,e)}ur(e){return e.metadata.exists?$f(this.serializer,e.document,!1):dr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Es(e)}}class Sp{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vu(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Nn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Rm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const p of a.metadata.queries){const A=(t.get(p)||Er()).add(c);t.set(p,A)}}return t}complete(){var e=this;return(0,m.Z)(function*(){const t=yield function p_(i,e,t,s){return lp.apply(this,arguments)}(e.localStore,new Rm(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Fh(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function vu(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Wc{constructor(e){this.key=e}}class Bo{constructor(e){this.key=e}}class Rl{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Er(),this.mutatedKeys=Er(),this.tc=Qi(e),this.ec=new Pl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Om,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,A=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((re,Ee)=>{const Je=a.get(re),mt=Or(this.query,Ee)?Ee:null,jt=!!Je&&this.mutatedKeys.has(Je.key),hn=!!mt&&(mt.hasLocalMutations||this.mutatedKeys.has(mt.key)&&mt.hasCommittedMutations);let vn=!1;Je&&mt?Je.data.isEqual(mt.data)?jt!==hn&&(s.track({type:3,doc:mt}),vn=!0):this.rc(Je,mt)||(s.track({type:2,doc:mt}),vn=!0,(U&&this.tc(mt,U)>0||z&&this.tc(mt,z)<0)&&(A=!0)):!Je&&mt?(s.track({type:0,doc:mt}),vn=!0):Je&&!mt&&(s.track({type:1,doc:Je}),vn=!0,(U||z)&&(A=!0)),vn&&(mt?(p=p.add(mt),c=hn?c.add(re):c.delete(re)):(p=p.delete(re),c=c.delete(re)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const re="F"===this.query.limitType?p.last():p.first();p=p.delete(re.key),c=c.delete(re.key),s.track({type:1,doc:re})}return{ec:p,ic:s,zi:A,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((z,re)=>function(Ee,Je){const mt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return mt(Ee)-mt(Je)}(z.type,re.type)||this.tc(z.doc,re.doc)),this.oc(s);const p=t?this.uc():[],A=0===this.Zu.size&&this.current?1:0,U=A!==this.Xu;return this.Xu=A,0!==c.length||U?{snapshot:new Ol(this.query,e.ec,a,c,e.mutatedKeys,0===A,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Om,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Er(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Bo(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Wc(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ol.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Yh{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uu{constructor(e){this.key=e,this.fc=!1}}class xp{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Ha(A=>cn(A),Bt),this._c=new Map,this.mc=new Set,this.gc=new di(Ut.comparator),this.yc=new Map,this.Ic=new sp,this.Tc={},this.Ec=new Map,this.Ac=Tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function qc(i,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,m.Z)(function*(i,e){const t=Jc(i);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield Bc(t.localStore,te(e)),A=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield kl(t,e,s,"current"===A,p.resumeToken),t.isPrimaryClient&&kd(t.remoteStore,p)}return a}),Nl.apply(this,arguments)}function kl(i,e,t,s,a){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,m.Z)(function*(i,e,t,s,a){i.Rc=(Ee,Je,mt)=>{return(jt=(0,m.Z)(function*(hn,vn,Dr,hi){let jr=vn.view.sc(Dr);jr.zi&&(jr=yield Nh(hn.localStore,vn.query,!1).then(({documents:Xi})=>vn.view.sc(Xi,jr)));const Ys=hi&&hi.targetChanges.get(vn.targetId),Qs=vn.view.applyChanges(jr,hn.isPrimaryClient,Ys);return Np(hn,vn.targetId,Qs.cc),Qs.snapshot}),function(hn,vn,Dr,hi){return jt.apply(this,arguments)})(i,Ee,Je,mt);var jt};const c=yield Nh(i.localStore,e,!0),p=new Rl(e,c.ir),A=p.sc(c.documents),U=rc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),z=p.applyChanges(A,i.isPrimaryClient,U);Np(i,t,z.cc);const re=new Yh(e,t,p);return i.wc.set(e,re),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),z.snapshot}),Fl.apply(this,arguments)}function Zc(i,e){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,m.Z)(function*(i,e){const t=Yt(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Bt(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ad(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Fd(t.remoteStore,s.targetId),Yc(t,s.targetId)}).catch(go))):(Yc(t,s.targetId),yield Ad(t.localStore,s.targetId,!0))}),Ll.apply(this,arguments)}function Vl(){return Vl=(0,m.Z)(function*(i,e,t){const s=Bp(i);try{const a=yield function(c,p){const A=Yt(c),U=hr.now(),z=p.reduce((Je,mt)=>Je.add(mt.key),Er());let re,Ee;return A.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let mt=Ii(),jt=Er();return A.Zi.getEntries(Je,z).next(hn=>{mt=hn,mt.forEach((vn,Dr)=>{Dr.isValidDocument()||(jt=jt.add(vn))})}).next(()=>A.localDocuments.getOverlayedDocuments(Je,mt)).next(hn=>{re=hn;const vn=[];for(const Dr of p){const hi=Zv(Dr,re.get(Dr.key).overlayedDocument);null!=hi&&vn.push(new vo(Dr.key,hi,ui(hi.value.mapValue),us.exists(!0)))}return A.mutationQueue.addMutationBatch(Je,U,vn,p)}).next(hn=>{Ee=hn;const vn=hn.applyToLocalDocumentSet(re,jt);return A.documentOverlayCache.saveOverlays(Je,hn.batchId,vn)})}).then(()=>({batchId:Ee.batchId,changes:cd(re)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,A){let U=c.Tc[c.currentUser.toKey()];U||(U=new di(St)),U=U.insert(p,A),c.Tc[c.currentUser.toKey()]=U}(s,a.batchId,t),yield nl(s,a.changes),yield zc(s.remoteStore)}catch(a){const c=dc(a,"Failed to persist write");t.reject(c)}}),Vl.apply(this,arguments)}function fc(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,m.Z)(function*(i,e){const t=Yt(i);try{const s=yield Uu(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?mn(p.fc):a.removedDocuments.size>0&&(mn(p.fc),p.fc=!1))}),yield nl(t,s,e)}catch(s){yield go(s)}}),Qh.apply(this,arguments)}function Mp(i,e,t){const s=Yt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const A=p.view.Mu(e);A.snapshot&&a.push(A.snapshot)}),function(c,p){const A=Yt(c);A.onlineState=p;let U=!1;A.queries.forEach((z,re)=>{for(const Ee of re.listeners)Ee.Mu(p)&&(U=!0)}),U&&Ap(A)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Nm(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,m.Z)(function*(i,e,t){const s=Yt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new di(Ut.comparator);p=p.insert(c,dr.newNoDocument(c,Ht.min()));const A=Er().add(c),U=new Sc(Ht.min(),new Map,new di(St),p,A);yield fc(s,U),s.gc=s.gc.remove(c),s.yc.delete(e),nf(s)}else yield Ad(s.localStore,e,!1).then(()=>Yc(s,e,t)).catch(go)}),Jh.apply(this,arguments)}function km(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,m.Z)(function*(i,e){const t=Yt(i),s=e.batch.batchId;try{const a=yield hm(t.localStore,e);Op(t,s,null),tf(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield nl(t,a)}catch(a){yield go(a)}}),Xh.apply(this,arguments)}function Fm(i,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,m.Z)(function*(i,e,t){const s=Yt(i);try{const a=yield function(c,p){const A=Yt(c);return A.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let z;return A.mutationQueue.lookupMutationBatch(U,p).next(re=>(mn(null!==re),z=re.keys(),A.mutationQueue.removeMutationBatch(U,re))).next(()=>A.mutationQueue.performConsistencyCheck(U)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(U,z,p)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,z)).next(()=>A.localDocuments.getDocuments(U,z))})}(s.localStore,e);Op(s,e,t),tf(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield nl(s,a)}catch(a){yield go(a)}}),ef.apply(this,arguments)}function Pp(){return Pp=(0,m.Z)(function*(i,e){const t=Yt(i);xl(t.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=Yt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>p.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=dc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Pp.apply(this,arguments)}function tf(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Op(i,e,t){const s=Yt(i);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Yc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||Rp(i,s)})}function Rp(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Fd(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),nf(i))}function Np(i,e,t){for(const s of t)s instanceof Wc?(i.Ic.addReference(s.key,e),I_(i,s)):s instanceof Bo?(Mt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||Rp(i,s.key)):en()}function I_(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(Mt("SyncEngine","New document in limbo: "+t),i.mc.add(s),nf(i))}function nf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Ut(Nn.fromString(e)),s=i.Ac.next();i.yc.set(s,new uu(t)),i.gc=i.gc.insert(t,s),kd(i.remoteStore,new Fu(te(gl(t.path)),s,"TargetPurposeLimboResolution",Bs.ct))}}function nl(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,m.Z)(function*(i,e,t){const s=Yt(i),a=[],c=[],p=[];var A;s.wc.isEmpty()||(s.wc.forEach((A,U)=>{p.push(s.Rc(U,e,t).then(z=>{if((z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,(null==z?void 0:z.fromCache)?"not-current":"current"),z){a.push(z);const re=Mh.Li(U.targetId,z);c.push(re)}}))}),yield Promise.all(p),s.dc.nu(a),yield(A=(0,m.Z)(function*(U,z){const re=Yt(U);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>He.forEach(z,Je=>He.forEach(Je.Fi,mt=>re.persistence.referenceDelegate.addReference(Ee,Je.targetId,mt)).next(()=>He.forEach(Je.Bi,mt=>re.persistence.referenceDelegate.removeReference(Ee,Je.targetId,mt)))))}catch(Ee){if(!Ui(Ee))throw Ee;Mt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of z){const Je=Ee.targetId;if(!Ee.fromCache){const mt=re.Ji.get(Je),hn=mt.withLastLimboFreeSnapshotVersion(mt.snapshotVersion);re.Ji=re.Ji.insert(Je,hn)}}}),function(U,z){return A.apply(this,arguments)})(s.localStore,c))}),rf.apply(this,arguments)}function b_(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,m.Z)(function*(i,e){const t=Yt(i);if(!t.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const s=yield dm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(A=>{A.reject(new It(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield nl(t,s.er)}var a}),kp.apply(this,arguments)}function r0(i,e){const t=Yt(i),s=t.yc.get(e);if(s&&s.fc)return Er().add(s.key);{let a=Er();const c=t._c.get(e);if(!c)return a;for(const p of c){const A=t.wc.get(p);a=a.unionWith(A.view.nc)}return a}}function T_(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,m.Z)(function*(i,e){const t=Yt(i),s=yield Nh(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Np(t,e.targetId,a.cc),a}),Vd.apply(this,arguments)}function Fp(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,m.Z)(function*(i,e){const t=Yt(i);return gm(t.localStore,e).then(s=>nl(t,s))}),Lp.apply(this,arguments)}function s0(i,e,t,s){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,m.Z)(function*(i,e,t,s){const a=Yt(i),c=yield function(p,A){const U=Yt(p),z=Yt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",re=>z.Sn(re,A).next(Ee=>Ee?U.localDocuments.getDocuments(re,Ee):He.resolve(null)))}(a.localStore,e);var A;null!==c?("pending"===t?yield zc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Op(a,e,s||null),tf(a,e),A=e,Yt(Yt(a.localStore).mutationQueue).Cn(A)):en(),yield nl(a,c)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vm.apply(this,arguments)}function Vp(){return Vp=(0,m.Z)(function*(i,e){const t=Yt(i);if(Jc(t),Bp(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Up(t,s.toArray());t.vc=!0,yield qh(t.remoteStore,!0);for(const c of a)kd(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Yc(t,p),Ad(t.localStore,p,!0))),Fd(t.remoteStore,p)}),yield a,yield Up(t,s),function(c){const p=Yt(c);p.yc.forEach((A,U)=>{Fd(p.remoteStore,U)}),p.Ic.Ts(),p.yc=new Map,p.gc=new di(Ut.comparator)}(t),t.vc=!1,yield qh(t.remoteStore,!1)}}),Vp.apply(this,arguments)}function Up(i,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,m.Z)(function*(i,e,t){const s=Yt(i),a=[],c=[];for(const p of e){let A;const U=s._c.get(p);if(U&&0!==U.length){A=yield Bc(s.localStore,te(U[0]));for(const z of U){const re=s.wc.get(z),Ee=yield T_(s,re);Ee.snapshot&&c.push(Ee.snapshot)}}else{const z=yield pm(s.localStore,p);A=yield Bc(s.localStore,z),yield kl(s,Bm(z),p,!1,A.resumeToken)}a.push(A)}return s.dc.nu(c),a}),Um.apply(this,arguments)}function Bm(i){return Ic(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Qc(i){const e=Yt(i);return Yt(Yt(e.localStore).persistence).$i()}function D_(i,e,t,s){return sf.apply(this,arguments)}function sf(){return sf=(0,m.Z)(function*(i,e,t,s){const a=Yt(i);if(a.vc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield gm(a.localStore,$s(c[0])),A=Sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ji.EMPTY_BYTE_STRING);yield nl(a,p,A);break}case"rejected":yield Ad(a.localStore,e,!0),Yc(a,e,s);break;default:en()}}),sf.apply(this,arguments)}function A_(i,e,t){return of.apply(this,arguments)}function of(){return of=(0,m.Z)(function*(i,e,t){const s=Jc(i);if(s.vc){for(const a of e){if(s._c.has(a)){Mt("SyncEngine","Adding an already active target "+a);continue}const c=yield pm(s.localStore,a),p=yield Bc(s.localStore,c);yield kl(s,Bm(c),p.targetId,!1,p.resumeToken),kd(s.remoteStore,p)}for(const a of t)s._c.has(a)&&(yield Ad(s.localStore,a,!1).then(()=>{Fd(s.remoteStore,a),Yc(s,a)}).catch(go))}}),of.apply(this,arguments)}function Jc(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=fc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,e),e.dc.nu=Kh.bind(null,e.eventManager),e.dc.Pc=Gc.bind(null,e.eventManager),e}function Bp(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=km.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,e),e}class Ud{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,m.Z)(function*(){t.serializer=$c(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cm(this.persistence,new um,e.initialUser,this.serializer)}createPersistence(e){return new op(ap.zs,this.serializer)}createSharedClientState(e){return new hp}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jp extends Ud{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,m.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Bp(s.Vc.syncEngine),yield zc(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cm(this.persistence,new um,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Fc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new hl(t,this.persistence);return new Du(e.asyncQueue,s)}createPersistence(e){const t=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new Sh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,m_(),jc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hp}}class $m extends jp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,m.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof dp&&(s.sharedClientState.syncEngine={jr:s0.bind(null,a),zr:D_.bind(null,a),Wr:A_.bind(null,a),$i:Qc.bind(null,a),Qr:Fp.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,m.Z)(function*(p){yield function o0(i,e){return Vp.apply(this,arguments)}(s.Vc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=m_();if(!dp.D(t))throw new It(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Xc{initialize(e,t){var s=this;return(0,m.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Mp(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=b_.bind(null,s.syncEngine),yield qh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new w_}createDatastore(e){const t=$c(e.databaseInfo.databaseId),s=new g_(e.databaseInfo);return new vm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=A=>Mp(this.syncEngine,A,0),p=fp.D()?new fp:new _m,new gp(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,A,U,z){const re=new xp(s,a,c,p,A,U);return z&&(re.vc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,m.Z)(function*(t){const s=Yt(t);Mt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield uc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $p(i,e=10240){let t=0;return{read:()=>(0,m.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class af{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new xi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,m.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,m.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,m.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new C_(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,m.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,m.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,m.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class zm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,m.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new It(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,m.Z)(function*(c,p){const A=Yt(c),U=sc(A.serializer)+"/documents",z={documents:p.map(mt=>vl(A.serializer,mt))},re=yield A.vo("BatchGetDocuments",U,z,p.length),Ee=new Map;re.forEach(mt=>{const jt=function Yy(i,e){return"found"in e?function(t,s){mn(!!s.found);const a=yu(t,s.found.name),c=Es(s.found.updateTime),p=s.found.createTime?Es(s.found.createTime):Ht.min(),A=new Cn({mapValue:{fields:s.found.fields}});return dr.newFoundDocument(a,c,p,A)}(i,e):"missing"in e?function(t,s){mn(!!s.missing),mn(!!s.readTime);const a=yu(t,s.missing),c=Es(s.readTime);return dr.newNoDocument(a,c)}(i,e):en()}(A.serializer,mt);Ee.set(jt.key.toString(),jt)});const Je=[];return p.forEach(mt=>{const jt=Ee.get(mt.toString());mn(!!jt),Je.push(jt)}),Je}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,m.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Ut.fromPath(a);e.mutations.push(new nc(c,e.precondition(c)))}),yield(s=(0,m.Z)(function*(a,c){const p=Yt(a),A=sc(p.serializer)+"/documents",U={writes:c.map(z=>Mc(p.serializer,z))};yield p.Io("Commit",A,U)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw en();t=Ht.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new It(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ht.min())?us.exists(!1):us.updateTime(t):us.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new It(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return us.updateTime(t)}return us.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hp{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Rd(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,m.Z)(function*(){const t=new zm(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!cu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hh(t)}return!1}}class a0{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ur.UNAUTHENTICATED,this.clientId=Xn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,m.Z)(function*(A){Mt("FirestoreClient","Received user=",A.uid),yield c.authCredentialListener(A),c.user=A});return function(A){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Mt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=dc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ed(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,m.Z)(function*(c){s.isEqual(c)||(yield dm(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),zp.apply(this,arguments)}function Gm(i,e){return pc.apply(this,arguments)}function pc(){return pc=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Bd(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>v_(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>v_(e.remoteStore,c)),i._onlineComponents=e}),pc.apply(this,arguments)}function Gp(i){return"FirebaseError"===i.name?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Bd(i){return jd.apply(this,arguments)}function jd(){return jd=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ed(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Gp(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield ed(i,new Ud)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield ed(i,new Ud);return i._offlineComponents}),jd.apply(this,arguments)}function uf(i){return td.apply(this,arguments)}function td(){return td=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gm(i,i._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Gm(i,new Xc))),i._onlineComponents}),td.apply(this,arguments)}function $d(i){return Bd(i).then(e=>e.persistence)}function nd(i){return Bd(i).then(e=>e.localStore)}function x_(i){return uf(i).then(e=>e.remoteStore)}function Wp(i){return uf(i).then(e=>e.syncEngine)}function rl(i){return lf.apply(this,arguments)}function lf(){return lf=(0,m.Z)(function*(i){const e=yield uf(i),t=e.eventManager;return t.onListen=qc.bind(null,e.syncEngine),t.onUnlisten=Zc.bind(null,e.syncEngine),t}),lf.apply(this,arguments)}function Zp(i,e,t={}){const s=new xi;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(a,c,p,A,U){const z=new af({next:Ee=>{c.enqueueAndForget(()=>Tp(a,re));const Je=Ee.docs.has(p);!Je&&Ee.fromCache?U.reject(new It(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&Ee.fromCache&&A&&"server"===A.source?U.reject(new It(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),re=new hc(gl(p.path),z,{includeMetadataChanges:!0,Ku:!0});return Ip(a,re)}(yield rl(i),i.asyncQueue,e,t,s)})),s.promise}function Yp(i,e,t={}){const s=new xi;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(a,c,p,A,U){const z=new af({next:Ee=>{c.enqueueAndForget(()=>Tp(a,re)),Ee.fromCache&&"server"===A.source?U.reject(new It(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),re=new hc(p,z,{includeMetadataChanges:!0,Ku:!0});return Ip(a,re)}(yield rl(i),i.asyncQueue,e,t,s)})),s.promise}function Jp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ym=new Map;function Xp(i,e,t){if(!t)throw new It(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qm(i,e,t,s){if(!0===e&&!0===s)throw new It(rt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function cf(i){if(!Ut.isDocumentKey(i))throw new It(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function df(i){if(Ut.isDocumentKey(i))throw new It(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":en()}function ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new It(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zd(i);throw new It(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function eg(i,e){if(e<=0)throw new It(rt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class tg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new It(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new It(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new It(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new It(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new It(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new It(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new It(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new b;switch(t.type){case"firstParty":return new ee(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new It(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ym.get(e);t&&(Mt("ComponentProvider","Removing Datastore"),Ym.delete(e),t.terminate())}(this),Promise.resolve()}}function ng(i,e,t,s={}){var a;const c=(i=ei(i,rd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,A;if("string"==typeof s.mockUserToken)p=s.mockUserToken,A=Ur.MOCK_USER;else{p=(0,oe.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new It(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ur(U)}i._authCredentials=new C(new M(p,A))}}class ws{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class wo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class il extends wo{constructor(e,t,s){super(e,t,gl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new Ut(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function P_(i,e,...t){if(i=(0,oe.m9)(i),Xp("collection","path",e),i instanceof rd){const s=Nn.fromString(e,...t);return df(s),new il(i,null,s)}{if(!(i instanceof ws||i instanceof il))throw new It(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Nn.fromString(e,...t));return df(s),new il(i.firestore,null,s)}}function O_(i,e){if(i=ei(i,rd),Xp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new It(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(i,null,(t=e,new $a(Nn.emptyPath(),t)));var t}function rg(i,e,...t){if(i=(0,oe.m9)(i),1===arguments.length&&(e=Xn.A()),Xp("doc","path",e),i instanceof rd){const s=Nn.fromString(e,...t);return cf(s),new ws(i,null,new Ut(s))}{if(!(i instanceof ws||i instanceof il))throw new It(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Nn.fromString(e,...t));return cf(s),new ws(i.firestore,i instanceof il?i.converter:null,new Ut(s))}}function R_(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),(i instanceof ws||i instanceof il)&&(e instanceof ws||e instanceof il)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hs(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),i instanceof wo&&e instanceof wo&&i.firestore===e.firestore&&Bt(i._query,e._query)&&i.converter===e.converter}class Jm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Rd(this,"async_queue_retry"),this.Xc=()=>{const t=jc();t&&Mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new xi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,m.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ui(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Pm.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&en()}verifyOperationInProgress(){}sa(){var e=this;return(0,m.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ig(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class N_{constructor(){this._progressObserver={},this._taskCompletionResolver=new xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Xm=-1;class Ji extends rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Jm,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ty(this),this._firestoreClient.terminate()}}function ey(i,e){const t="object"==typeof i?i:(0,v.getApp)(),s="string"==typeof i?i:e||"(default)",a=(0,v._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,oe.P0)("firestore");c&&ng(a,...c)}return a}function Gi(i){return i._firestoreClient||ty(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ty(i){var e,t,s;const a=i._freezeSettings(),c=(A=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new pu(i._databaseId,A,i._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Jp(z.experimentalLongPollingOptions),z.useFetchStreams));var A,z;i._firestoreClient=new a0(i._authCredentials,i._appCheckCredentials,i._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function F_(i,e){Eu(i=ei(i,Ji));const t=Gi(i);if(t._uninitializedComponentsProvider)throw new It(rt.FAILED_PRECONDITION,"SDK cache is already specified.");ys("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new Xc;return ry(t,a,new jp(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function ny(i){Eu(i=ei(i,Ji));const e=Gi(i);if(e._uninitializedComponentsProvider)throw new It(rt.FAILED_PRECONDITION,"SDK cache is already specified.");ys("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Xc;return ry(e,s,new $m(s,t.cacheSizeBytes))}function ry(i,e,t){const s=new xi;return i.asyncQueue.enqueue((0,m.Z)(function*(){try{yield ed(i,t),yield Gm(i,e),s.resolve()}catch(a){const c=a;if(!Gp(c))throw c;ys("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function iy(i){if(i._initialized&&!i._terminated)throw new It(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(t=(0,m.Z)(function*(s){if(!_s.D())return Promise.resolve();const a=s+"main";yield _s.delete(a)}),function(s){return t.apply(this,arguments)})(up(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function u0(i){return function(e){const t=new xi;return e.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Lm(i,e){return Pp.apply(this,arguments)}(yield Wp(e),t)})),t.promise}(Gi(i=ei(i,Ji)))}function sg(i){return function Wm(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield $d(i),t=yield x_(i);return e.setNetworkEnabled(!0),function(s){const a=Yt(s);return a.vu.delete(0),Nd(a)}(t)}))}(Gi(i=ei(i,Ji)))}function og(i){return function qp(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield $d(i),t=yield x_(i);return e.setNetworkEnabled(!1),(s=(0,m.Z)(function*(a){const c=Yt(a);c.vu.add(0),yield uc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Gi(i=ei(i,Ji)))}function L_(i,e){const t=Gi(i=ei(i,Ji)),s=new N_;return function Zm(i,e,t,s){const a=function(c,p){let A;return A="string"==typeof c?Og().encode(c):c,U=function(U,z){if(U instanceof Uint8Array)return $p(U,z);if(U instanceof ArrayBuffer)return $p(new Uint8Array(U),z);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Hm(U,p);var U}(t,$c(e));i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function jm(i,e,t){const s=Yt(i);var a;(a=(0,m.Z)(function*(c,p,A){try{const U=yield p.getMetadata();if(yield function(Je,mt){const jt=Yt(Je),hn=Es(mt.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",vn=>jt.qs.getBundleMetadata(vn,mt.id)).then(vn=>!!vn&&vn.createTime.compareTo(hn)>=0)}(c.localStore,U))return yield p.close(),A._completeWith({taskState:"Success",documentsLoaded:(Je=U).totalDocuments,bytesLoaded:Je.totalBytes,totalDocuments:Je.totalDocuments,totalBytes:Je.totalBytes}),Promise.resolve(new Set);A._updateProgress(vu(U));const z=new Sp(U,c.localStore,p.serializer);let re=yield p.bc();for(;re;){const Je=yield z.zu(re);Je&&A._updateProgress(Je),re=yield p.bc()}const Ee=yield z.complete();return yield nl(c,Ee.Ju,void 0),yield function(Je,mt){const jt=Yt(Je);return jt.persistence.runTransaction("Save bundle","readwrite",hn=>jt.qs.saveBundleMetadata(hn,mt))}(c.localStore,U),A._completeWith(Ee.progress),Promise.resolve(Ee.Hu)}catch(U){return ys("SyncEngine",`Loading bundle failed with ${U}`),A._failWith(U),Promise.resolve(new Set)}var Je}),function(c,p,A){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Wp(i),a,s)}))}(t,i._databaseId,e,s),s}function sy(i,e){return function Km(i,e){return i.asyncQueue.enqueue((0,m.Z)(function*(){return function(t,s){const a=Yt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield nd(i),e)}))}(Gi(i=ei(i,Ji)),e).then(t=>t?new wo(i,null,t.query):null)}function Eu(i){if(i._initialized||i._terminated)throw new It(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(ji.fromBase64String(e))}catch(t){throw new It(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class al{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new It(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._methodName=e}}class hf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new It(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new It(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}const V_=/^__.*__$/;class ag{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new pd(e,this.data,t,this.fieldTransforms)}}class id{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Gd{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oy(this.ca)&&V_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class U_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||$c(e)}ya(e,t,s,a=!1){return new Gd({ca:e,methodName:t,ga:s,path:Ar.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ul(i){const e=i._freezeSettings(),t=$c(i._databaseId);return new U_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Wd(i,e,t,s,a,c={}){const p=i.ya(c.merge||c.mergeFields?2:0,e,t,a);yf("Data must be an object, but it was:",p,s);const A=cg(s,p);let U,z;if(c.merge)U=new xs(p.fieldMask),z=p.fieldTransforms;else if(c.mergeFields){const re=[];for(const Ee of c.mergeFields){const Je=sd(e,Ee,t);if(!p.contains(Je))throw new It(rt.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);ly(re,Je)||re.push(Je)}U=new xs(re),z=p.fieldTransforms.filter(Ee=>U.covers(Ee.field))}else U=null,z=p.fieldTransforms;return new ag(new Cn(A),U,z)}class Bl extends gc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bl}}function ay(i,e,t){return new Gd({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ff extends gc{_toFieldTransform(e){return new fd(e.path,new Dc)}isEqual(e){return e instanceof ff}}class uy extends gc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.pa.map(c=>jl(c,t)),a=new Ql(s);return new fd(e.path,a)}isEqual(e){return this===e}}class ug extends gc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.pa.map(c=>jl(c,t)),a=new Jl(s);return new fd(e.path,a)}isEqual(e){return this===e}}class pf extends gc{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Xl(e.serializer,Tg(e.serializer,this.Ia));return new fd(e.path,t)}isEqual(e){return this===e}}function gf(i,e,t,s){const a=i.ya(1,e,t);yf("Data must be an object, but it was:",a,s);const c=[],p=Cn.empty();io(s,(U,z)=>{const re=_f(e,U,t);z=(0,oe.m9)(z);const Ee=a.da(re);if(z instanceof Bl)c.push(re);else{const Je=jl(z,Ee);null!=Je&&(c.push(re),p.set(re,Je))}});const A=new xs(c);return new id(p,A,a.fieldTransforms)}function mf(i,e,t,s,a,c){const p=i.ya(1,e,t),A=[sd(e,s,t)],U=[a];if(c.length%2!=0)throw new It(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<c.length;Je+=2)A.push(sd(e,c[Je])),U.push(c[Je+1]);const z=[],re=Cn.empty();for(let Je=A.length-1;Je>=0;--Je)if(!ly(z,A[Je])){const mt=A[Je];let jt=U[Je];jt=(0,oe.m9)(jt);const hn=p.da(mt);if(jt instanceof Bl)z.push(mt);else{const vn=jl(jt,hn);null!=vn&&(z.push(mt),re.set(mt,vn))}}const Ee=new xs(z);return new id(re,Ee,p.fieldTransforms)}function lg(i,e,t,s=!1){return jl(t,i.ya(s?4:3,e))}function jl(i,e){if(dg(i=(0,oe.m9)(i)))return yf("Unsupported field value:",e,i),cg(i,e);if(i instanceof gc)return function(t,s){if(!oy(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let A=jl(p,s.wa(c));null==A&&(A={nullValue:"NULL_VALUE"}),a.push(A),c++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,oe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tg(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=hr.fromDate(t);return{timestampValue:ic(s.serializer,a)}}if(t instanceof hr){const a=new hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ic(s.serializer,a)}}if(t instanceof hf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ol)return{bytesValue:Bf(s.serializer,t._byteString)};if(t instanceof ws){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${zd(t)}`)}(i,e)}function cg(i,e){const t={};return tu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(i,(s,a)=>{const c=jl(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function dg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hr||i instanceof hf||i instanceof ol||i instanceof ws||i instanceof gc)}function yf(i,e,t){if(!dg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=zd(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function sd(i,e,t){if((e=(0,oe.m9)(e))instanceof al)return e._internalPath;if("string"==typeof e)return _f(i,e);throw vf("Field path arguments must be of type string or ",i,!1,void 0,t)}const B_=new RegExp("[~\\*/\\[\\]]");function _f(i,e,t){if(e.search(B_)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new al(...e.split("."))._internalPath}catch(s){throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vf(i,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let U="";return(c||p)&&(U+=" (found",c&&(U+=` in field ${s}`),p&&(U+=` in document ${a}`),U+=")"),new It(rt.INVALID_ARGUMENT,A+i+U)}function ly(i,e){return i.some(t=>t.isEqual(e))}class qd{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j_ extends qd{data(){return super.data()}}function Ef(i,e){return"string"==typeof e?_f(i,e):e instanceof al?e._internalPath:e._delegate._internalPath}function cy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new It(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class Zd extends hg{}function $_(i,e,...t){let s=[];e instanceof hg&&s.push(e),s=s.concat(t),function(a){const c=a.filter(A=>A instanceof od).length,p=a.filter(A=>A instanceof Kd).length;if(c>1||c>0&&p>0)throw new It(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Kd extends Zd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kd(e,t,s)}_apply(e){const t=this._parse(e);return yy(e._query,t),new wo(e.firestore,e.converter,Fe(e._query,t))}_parse(e){const t=Ul(e.firestore);return function(a,c,p,A,U,z,re){let Ee;if(U.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new It(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){$l(re,z);const Je=[];for(const mt of re)Je.push(wf(A,a,mt));Ee={arrayValue:{values:Je}}}else Ee=wf(A,a,re)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||$l(re,z),Ee=lg(p,"where",re,"in"===z||"not-in"===z);return Te.create(U,z,Ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function H_(i,e,t){const s=e,a=Ef("where",i);return Kd._create(a,s,t)}class od extends hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new od(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:We.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const A of p)yy(c,A),c=Fe(c,A)}(e._query,t),new wo(e.firestore,e.converter,Fe(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fg extends Zd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fg(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new It(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new It(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new H(a,c);return function(A,U){if(null===f(A)){const z=y(A);null!==z&&_y(0,z,U.field)}}(s,p),p}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new $a(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function z_(i,e="asc"){const t=e,s=Ef("orderBy",i);return fg._create(s,t)}class Yd extends Zd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){return new wo(e.firestore,e.converter,ct(e._query,this._limit,this._limitType))}}function dy(i){return eg("limit",i),Yd._create("limit",i,"F")}function hy(i){return eg("limitToLast",i),Yd._create("limitToLast",i,"L")}class Qd extends Zd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qd(e,t,s)}_apply(e){const t=pg(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(a=t,new $a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function fy(...i){return Qd._create("startAt",i,!0)}function py(...i){return Qd._create("startAfter",i,!1)}class Jd extends Zd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Jd(e,t,s)}_apply(e){const t=pg(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(a=t,new $a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function gy(...i){return Jd._create("endBefore",i,!1)}function my(...i){return Jd._create("endAt",i,!0)}function pg(i,e,t,s){if(t[0]=(0,oe.m9)(t[0]),t[0]instanceof qd)return function(a,c,p,A,U){if(!A)throw new It(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const z=[];for(const re of W(a))if(re.field.isKeyField())z.push(_(c,A.key));else{const Ee=A.data.field(re.field);if(Zu(Ee))throw new It(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Je=re.field.canonicalString();throw new It(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}z.push(Ee)}return new mi(z,U)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=Ul(i.firestore);return function(c,p,A,U,z,re){const Ee=c.explicitOrderBy;if(z.length>Ee.length)throw new It(rt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let mt=0;mt<z.length;mt++){const jt=z[mt];if(Ee[mt].field.isKeyField()){if("string"!=typeof jt)throw new It(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof jt}`);if(!D(c)&&-1!==jt.indexOf("/"))throw new It(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${jt}' contains a slash.`);const hn=c.path.child(Nn.fromString(jt));if(!Ut.isDocumentKey(hn))throw new It(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${hn}' is not because it contains an odd number of segments.`);const vn=new Ut(hn);Je.push(_(p,vn))}else{const hn=lg(A,U,jt);Je.push(hn)}}return new mi(Je,re)}(i._query,i.firestore._databaseId,a,e,t,s)}}function wf(i,e,t){if("string"==typeof(t=(0,oe.m9)(t))){if(""===t)throw new It(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D(e)&&-1!==t.indexOf("/"))throw new It(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Nn.fromString(t));if(!Ut.isDocumentKey(s))throw new It(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _(i,new Ut(s))}if(t instanceof ws)return _(i,t._key);throw new It(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(t)}.`)}function $l(i,e){if(!Array.isArray(i)||0===i.length)throw new It(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yy(i,e){if(e.isInequality()){const s=y(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new It(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=f(i);null!==c&&_y(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new It(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _y(i,e,t){if(!t.isEqual(e))throw new It(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vy{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return io(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new hf(gi(e.latitude),gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=su(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const t=ga(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Nn.fromString(e);mn(qg(s));const a=new Yo(s.get(1),s.get(3)),c=new Ut(s.popFirst(5));return a.isEqual(t)||Xr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function ad(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class h0 extends vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends qd{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Hl extends _c{data(e={}){return super.data(e)}}class vc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Hl(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new It(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Hl(s._firestore,s._userDataWriter,p.doc.key,p.doc,new yc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const A=new Hl(s._firestore,s._userDataWriter,p.doc.key,p.doc,new yc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,z=-1;return 0!==p.type&&(U=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),z=c.indexOf(p.doc.key)),{type:Cf(p.type),doc:A,oldIndex:U,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cf(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function If(i,e){return i instanceof _c&&e instanceof _c?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof vc&&e instanceof vc&&i._firestore===e._firestore&&Hs(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Os(i){i=ei(i,ws);const e=ei(i.firestore,Ji);return Zp(Gi(e),i._key).then(t=>gg(e,i,t))}class Ec extends vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}function Ey(i){i=ei(i,ws);const e=ei(i.firestore,Ji),t=Gi(e),s=new Ec(e);return function qm(i,e){const t=new xi;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(s=(0,m.Z)(function*(a,c,p){try{const A=yield function(U,z){const re=Yt(U);return re.persistence.runTransaction("read document","readonly",Ee=>re.localDocuments.getDocument(Ee,z))}(a,c);A.isFoundDocument()?p.resolve(A):A.isNoDocument()?p.resolve(null):p.reject(new It(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const U=dc(A,`Failed to get document '${c} from cache`);p.reject(U)}}),function(a,c,p){return s.apply(this,arguments)})(yield nd(i),e,t);var s})),t.promise}(t,i._key).then(a=>new _c(e,s,i._key,a,new yc(null!==a&&a.hasLocalMutations,!0),i.converter))}function q_(i){i=ei(i,ws);const e=ei(i.firestore,Ji);return Zp(Gi(e),i._key,{source:"server"}).then(t=>gg(e,i,t))}function Z_(i){i=ei(i,wo);const e=ei(i.firestore,Ji),t=Gi(e),s=new Ec(e);return cy(i._query),Yp(t,i._query).then(a=>new vc(e,s,i,a))}function wy(i){i=ei(i,wo);const e=ei(i.firestore,Ji),t=Gi(e),s=new Ec(e);return function Kp(i,e){const t=new xi;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(s=(0,m.Z)(function*(a,c,p){try{const A=yield Nh(a,c,!0),U=new Rl(c,A.ir),z=U.sc(A.documents),re=U.applyChanges(z,!1);p.resolve(re.snapshot)}catch(A){const U=dc(A,`Failed to execute query '${c} against cache`);p.reject(U)}}),function(a,c,p){return s.apply(this,arguments)})(yield nd(i),e,t);var s})),t.promise}(t,i._query).then(a=>new vc(e,s,i,a))}function Cy(i){i=ei(i,wo);const e=ei(i.firestore,Ji),t=Gi(e),s=new Ec(e);return Yp(t,i._query,{source:"server"}).then(a=>new vc(e,s,i,a))}function Iy(i,e,t){i=ei(i,ws);const s=ei(i.firestore,Ji),a=ad(i.converter,e,t);return ud(s,[Wd(Ul(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,us.none())])}function by(i,e,t,...s){i=ei(i,ws);const a=ei(i.firestore,Ji),c=Ul(a);let p;return p="string"==typeof(e=(0,oe.m9)(e))||e instanceof al?mf(c,"updateDoc",i._key,e,t,s):gf(c,"updateDoc",i._key,e),ud(a,[p.toMutation(i._key,us.exists(!0))])}function K_(i){return ud(ei(i.firestore,Ji),[new tc(i._key,us.none())])}function Y_(i,e){const t=ei(i.firestore,Ji),s=rg(i),a=ad(i.converter,e);return ud(t,[Wd(Ul(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,us.exists(!1))]).then(()=>s)}function Q_(i,...e){var t,s,a;i=(0,oe.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||ig(e[p])||(c=e[p],p++);const A={includeMetadataChanges:c.includeMetadataChanges};if(ig(e[p])){const Ee=e[p];e[p]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[p+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[p+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let U,z,re;if(i instanceof ws)z=ei(i.firestore,Ji),re=gl(i._key.path),U={next:Ee=>{e[p]&&e[p](gg(z,i,Ee))},error:e[p+1],complete:e[p+2]};else{const Ee=ei(i,wo);z=ei(Ee.firestore,Ji),re=Ee._query;const Je=new Ec(z);U={next:mt=>{e[p]&&e[p](new vc(z,Je,Ee,mt))},error:e[p+1],complete:e[p+2]},cy(i._query)}return function(Ee,Je,mt,jt){const hn=new af(jt),vn=new hc(Je,hn,mt);return Ee.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Ip(yield rl(Ee),vn)})),()=>{hn.Dc(),Ee.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Tp(yield rl(Ee),vn)}))}}(Gi(z),re,A,U)}function Xd(i,e){return function M_(i,e){const t=new af(e);return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return s=yield rl(i),a=t,Yt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return s=yield rl(i),a=t,void Yt(s).ku.delete(a);var s,a}))}}(Gi(i=ei(i,Ji)),ig(e)?e:{next:e})}function ud(i,e){return function(t,s){const a=new xi;return t.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Kc(i,e,t){return Vl.apply(this,arguments)}(yield Wp(t),s,a)})),a.promise}(Gi(i),e)}function gg(i,e,t){const s=t.docs.get(e._key),a=new Ec(i);return new _c(i,a,e._key,s,new yc(t.hasPendingWrites,t.fromCache),e.converter)}const tv={maxAttempts:5};class mg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,t,s){this._verifyNotCommitted();const a=zl(e,this._firestore),c=ad(a.converter,t,s),p=Wd(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,us.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=zl(e,this._firestore);let p;return p="string"==typeof(t=(0,oe.m9)(t))||t instanceof al?mf(this._dataReader,"WriteBatch.update",c._key,t,s,a):gf(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,us.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zl(e,this._firestore);return this._mutations=this._mutations.concat(new tc(t._key,us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zl(i,e){if((i=(0,oe.m9)(i)).firestore!==e)throw new It(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class nv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ul(e)}get(e){const t=zl(e,this._firestore),s=new h0(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return en();const c=a[0];if(c.isFoundDocument())return new qd(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new qd(this._firestore,s,t._key,null,t.converter);throw en()})}set(e,t,s){const a=zl(e,this._firestore),c=ad(a.converter,t,s),p=Wd(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=zl(e,this._firestore);let p;return p="string"==typeof(t=(0,oe.m9)(t))||t instanceof al?mf(this._dataReader,"Transaction.update",c._key,t,s,a):gf(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=zl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zl(e,this._firestore),s=new Ec(this._firestore);return super.get(e).then(a=>new _c(this._firestore,s,t._key,a._document,new yc(!1,!1),t.converter))}}function _0(i,e,t){i=ei(i,Ji);const s=Object.assign(Object.assign({},tv),t);return function(a){if(a.maxAttempts<1)throw new It(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const A=new xi;return a.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const U=yield function Hd(i){return uf(i).then(e=>e.datastore)}(a);new Hp(a.asyncQueue,U,p,c,A).run()})),A.promise}(Gi(i),a=>e(new nv(i,a)),s)}function v0(){return new Bl("deleteField")}function E0(){return new ff("serverTimestamp")}function w0(...i){return new uy("arrayUnion",i)}function My(...i){return new ug("arrayRemove",i)}function Af(i){return new pf("increment",i)}!function(i,e=!0){Mo=v.SDK_VERSION,(0,v._registerComponent)(new x.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Ji(new F(t.getProvider("auth-internal")),new Se(t.getProvider("app-check-internal")),function(A,U){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new It(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(A.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,v.registerVersion)(po,"3.12.0",i),(0,v.registerVersion)(po,"3.12.0","esm2017")}()},2090:(Ft,$e,B)=>{B.d($e,{$s:()=>Kn,BH:()=>dt,G6:()=>tn,L:()=>Ge,LL:()=>An,P0:()=>Pt,Pz:()=>Ye,Sg:()=>Xe,UG:()=>Tt,US:()=>De,ZB:()=>Oe,ZR:()=>Kt,aH:()=>ze,b$:()=>Ze,eu:()=>ft,hl:()=>fn,jU:()=>Ne,m9:()=>Qr,ne:()=>Zn,pd:()=>Rr,q4:()=>bt,r3:()=>Fr,ru:()=>je,tV:()=>ae,uI:()=>ye,vZ:()=>Ln,w1:()=>it,xO:()=>Pi,xb:()=>sn,z$:()=>yt,zI:()=>Dn,zd:()=>$r});const we=function(ve){const ge=[];let ie=0;for(let se=0;se<ve.length;se++){let K=ve.charCodeAt(se);K<128?ge[ie++]=K:K<2048?(ge[ie++]=K>>6|192,ge[ie++]=63&K|128):55296==(64512&K)&&se+1<ve.length&&56320==(64512&ve.charCodeAt(se+1))?(K=65536+((1023&K)<<10)+(1023&ve.charCodeAt(++se)),ge[ie++]=K>>18|240,ge[ie++]=K>>12&63|128,ge[ie++]=K>>6&63|128,ge[ie++]=63&K|128):(ge[ie++]=K>>12|224,ge[ie++]=K>>6&63|128,ge[ie++]=63&K|128)}return ge},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,ge){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let K=0;K<ve.length;K+=3){const Pe=ve[K],qe=K+1<ve.length,Rt=qe?ve[K+1]:0,_n=K+2<ve.length,nn=_n?ve[K+2]:0;let lr=(15&Rt)<<2|nn>>6,vt=63&nn;_n||(vt=64,qe||(lr=64)),se.push(ie[Pe>>2],ie[(3&Pe)<<4|Rt>>4],ie[lr],ie[vt])}return se.join("")},encodeString(ve,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(ve):this.encodeByteArray(we(ve),ge)},decodeString(ve,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(ve):function(ve){const ge=[];let ie=0,se=0;for(;ie<ve.length;){const K=ve[ie++];if(K<128)ge[se++]=String.fromCharCode(K);else if(K>191&&K<224){const Pe=ve[ie++];ge[se++]=String.fromCharCode((31&K)<<6|63&Pe)}else if(K>239&&K<365){const _n=((7&K)<<18|(63&ve[ie++])<<12|(63&ve[ie++])<<6|63&ve[ie++])-65536;ge[se++]=String.fromCharCode(55296+(_n>>10)),ge[se++]=String.fromCharCode(56320+(1023&_n))}else{const Pe=ve[ie++],qe=ve[ie++];ge[se++]=String.fromCharCode((15&K)<<12|(63&Pe)<<6|63&qe)}}return ge.join("")}(this.decodeStringToByteArray(ve,ge))},decodeStringToByteArray(ve,ge){this.init_();const ie=ge?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let K=0;K<ve.length;){const Pe=ie[ve.charAt(K++)],Rt=K<ve.length?ie[ve.charAt(K)]:0;++K;const nn=K<ve.length?ie[ve.charAt(K)]:64;++K;const un=K<ve.length?ie[ve.charAt(K)]:64;if(++K,null==Pe||null==Rt||null==nn||null==un)throw new Me;se.push(Pe<<2|Rt>>4),64!==nn&&(se.push(Rt<<4&240|nn>>2),64!==un&&se.push(nn<<6&192|un))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(ve){return function(ve){const ge=we(ve);return De.encodeByteArray(ge,!0)}(ve).replace(/\./g,"")},ae=function(ve){try{return De.decodeString(ve,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function Oe(ve,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return ge}for(const ie in ge)!ge.hasOwnProperty(ie)||!st(ie)||(ve[ie]=Oe(ve[ie],ge[ie]));return ve}function st(ve){return"__proto__"!==ve}const nt=()=>{try{return function ot(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if("undefined"==typeof document)return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ie){return}const ge=ve&&ae(ve[1]);return ge&&JSON.parse(ge)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},bt=ve=>{var ge,ie;return null===(ie=null===(ge=nt())||void 0===ge?void 0:ge.emulatorHosts)||void 0===ie?void 0:ie[ve]},Pt=ve=>{const ge=bt(ve);if(!ge)return;const ie=ge.lastIndexOf(":");if(ie<=0||ie+1===ge.length)throw new Error(`Invalid host ${ge} with no separate hostname and port!`);const se=parseInt(ge.substring(ie+1),10);return"["===ge[0]?[ge.substring(1,ie-1),se]:[ge.substring(0,ie),se]},ze=()=>{var ve;return null===(ve=nt())||void 0===ve?void 0:ve.config},Ye=ve=>{var ge;return null===(ge=nt())||void 0===ge?void 0:ge[`_${ve}`]};class dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,ie)=>{this.resolve=ge,this.reject=ie})}wrapCallback(ge){return(ie,se)=>{ie?this.reject(ie):this.resolve(se),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(ie):ge(ie,se))}}}function Xe(ve,ge){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=ge||"demo-project",K=ve.iat||0,Pe=ve.sub||ve.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:K,exp:K+3600,auth_time:K,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(qe)),""].join(".")}function yt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Tt(){var ve;const ge=null===(ve=nt())||void 0===ve?void 0:ve.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function je(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const ve=yt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function tn(){return!Tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fn(){try{return"object"==typeof indexedDB}catch(ve){return!1}}function ft(){return new Promise((ve,ge)=>{try{let ie=!0;const se="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(se);K.onsuccess=()=>{K.result.close(),ie||self.indexedDB.deleteDatabase(se),ve(!0)},K.onupgradeneeded=()=>{ie=!1},K.onerror=()=>{var Pe;ge((null===(Pe=K.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(ie){ge(ie)}})}function Dn(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Kt extends Error{constructor(ge,ie,se){super(ie),this.code=ge,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,Kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(ge,ie,se){this.service=ge,this.serviceName=ie,this.errors=se}create(ge,...ie){const se=ie[0]||{},K=`${this.service}/${ge}`,Pe=this.errors[ge],qe=Pe?function bn(ve,ge){return ve.replace(Fn,(ie,se)=>{const K=ge[se];return null!=K?String(K):`<${se}?>`})}(Pe,se):"Error";return new Kt(K,`${this.serviceName}: ${qe} (${K}).`,se)}}const Fn=/\{\$([^}]+)}/g;function Fr(ve,ge){return Object.prototype.hasOwnProperty.call(ve,ge)}function sn(ve){for(const ge in ve)if(Object.prototype.hasOwnProperty.call(ve,ge))return!1;return!0}function Ln(ve,ge){if(ve===ge)return!0;const ie=Object.keys(ve),se=Object.keys(ge);for(const K of ie){if(!se.includes(K))return!1;const Pe=ve[K],qe=ge[K];if(an(Pe)&&an(qe)){if(!Ln(Pe,qe))return!1}else if(Pe!==qe)return!1}for(const K of se)if(!ie.includes(K))return!1;return!0}function an(ve){return null!==ve&&"object"==typeof ve}function Pi(ve){const ge=[];for(const[ie,se]of Object.entries(ve))Array.isArray(se)?se.forEach(K=>{ge.push(encodeURIComponent(ie)+"="+encodeURIComponent(K))}):ge.push(encodeURIComponent(ie)+"="+encodeURIComponent(se));return ge.length?"&"+ge.join("&"):""}function $r(ve){const ge={};return ve.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[K,Pe]=se.split("=");ge[decodeURIComponent(K)]=decodeURIComponent(Pe)}}),ge}function Rr(ve){const ge=ve.indexOf("?");if(!ge)return"";const ie=ve.indexOf("#",ge);return ve.substring(ge,ie>0?ie:void 0)}function Zn(ve,ge){const ie=new kt(ve,ge);return ie.subscribe.bind(ie)}class kt{constructor(ge,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{ge(this)}).catch(se=>{this.error(se)})}next(ge){this.forEachObserver(ie=>{ie.next(ge)})}error(ge){this.forEachObserver(ie=>{ie.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,ie,se){let K;if(void 0===ge&&void 0===ie&&void 0===se)throw new Error("Missing Observer.");K=function Wt(ve,ge){if("object"!=typeof ve||null===ve)return!1;for(const ie of ge)if(ie in ve&&"function"==typeof ve[ie])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:ie,complete:se},void 0===K.next&&(K.next=Hr),void 0===K.error&&(K.error=Hr),void 0===K.complete&&(K.complete=Hr);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(qe){}}),this.observers.push(K),Pe}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,ge)}sendOne(ge,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{ie(this.observers[ge])}catch(se){"undefined"!=typeof console&&console.error&&console.error(se)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}function Kn(ve,ge=1e3,ie=2){const se=ge*Math.pow(ie,ve),K=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+K)}function Qr(ve){return ve&&ve._delegate?ve._delegate:ve}},5895:(Ft,$e,B)=>{B.d($e,{b:()=>m});class m{constructor(){this.email="",this.pass="",this.pass2=""}}},7044:(Ft,$e,B)=>{B.d($e,{T:()=>ot});var m=B(9808),v=B(5839),x=B(2382),we=B(727),oe=B(5e3),De=B(89);let Me=(()=>{class Qe{constructor(Re){this.firestore=Re,this.coleccionChats=(0,De.hJ)(this.firestore,"chats")}crearMensaje(Re){return new Promise((nt,bt)=>{const Pt=Object.assign({},Re);(0,De.PL)((0,De.IO)(this.coleccionChats,(0,De.Xo)("id","desc"),(0,De.b9)(1))).then(ze=>{let Ye=0;ze.forEach(Xe=>{Ye=Xe.data().id}),Pt.id=Ye+1,(0,De.ET)(this.coleccionChats,Pt).then(()=>{nt()}).catch(Xe=>{bt(Xe)})}).catch(ze=>{bt(ze)})})}getListadoChats(){return(0,De.BS)(this.coleccionChats)}}return Qe.\u0275fac=function(Re){return new(Re||Qe)(oe.LFG(De.gg))},Qe.\u0275prov=oe.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();var ce=B(1205),Ge=B(7384),ae=B(8715);function fe(Qe,_t){if(1&Qe&&(oe.TgZ(0,"div")(1,"div",9)(2,"p",10),oe._uU(3),oe.qZA(),oe.TgZ(4,"p",11),oe._uU(5),oe.qZA()(),oe.TgZ(6,"div",12)(7,"div")(8,"p",13),oe._uU(9),oe.qZA()()()()),2&Qe){const Re=_t.$implicit;oe.xp6(3),oe.Oqu(Re.user),oe.xp6(2),oe.Oqu(Re.hora),oe.xp6(4),oe.hij(" ",Re.mensaje," ")}}const st=[{path:"",component:(()=>{class Qe{constructor(Re,nt){this.chatService=Re,this.afAuth=nt,this.chats=[],this.suscripcion=new we.w0,this.hoy=new Date}ngOnInit(){this.getMensajes(),this.formChat=new x.cw({user:new x.NI(""),mensaje:new x.NI("",x.kI.required),hora:new x.NI("")}),this.afAuth.currentUser.then(Re=>{Re&&(this.usuario=Re.email)}),this.formChat.controls.user.setValue(this.usuario)}getMensajes(){this.suscripcion=this.chatService.getListadoChats().subscribe(Re=>{this.chats=[],Re.forEach(nt=>{this.chats.push(Object.assign({},nt))})})}get chatsOrdenadosPorID(){return this.chats.sort((Re,nt)=>{var bt;return null===(bt=Re.hora)||void 0===bt?void 0:bt.localeCompare(nt.hora?nt.hora:"")})}crearMensaje(){const Re=new Date,Pt=`${Re.toLocaleDateString("es-AR",{year:"2-digit",month:"2-digit",day:"2-digit"})} - ${Re.toLocaleTimeString("es-AR",{hour12:!1,hour:"2-digit",minute:"2-digit"})}`,ze={user:this.usuario,mensaje:this.formChat.get("mensaje").value,hora:Pt};this.chatService.crearMensaje(ze).then(()=>{}).catch(Ye=>{}),this.formChat.controls.mensaje.setValue(""),this.getMensajes()}onDestroy(){this.suscripcion.unsubscribe()}}return Qe.\u0275fac=function(Re){return new(Re||Qe)(oe.Y36(Me),oe.Y36(ce.zQ))},Qe.\u0275cmp=oe.Xpm({type:Qe,selectors:[["app-chat"]],decls:19,vars:3,consts:[[1,"m-2","card",3,"formGroup"],[1,"card-header","d-flex","justify-content-between","align-items-center","p-3",2,"border-top","4px solid #9c096b"],[1,"mb-0"],[1,"m-2","card-body","scrollable-chat",2,"height","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","text-muted","d-flex","justify-content-start","align-items-center","p-3"],[1,"input-group","mb-0"],["formControlName","mensaje","id","mensaje","type","text","value"," ","placeholder"," Escribe tu mensaje...",1,"form-control",2,"margin-top","10px"],["type","button","id","button-addon2",1,"submit_class",2,"padding-top",".55rem",3,"disabled","click"],[1,"d-flex","justify-content-between"],[1,"small","mb-1"],[1,"time-left",2,"font-size","x-small"],[1,"d-flex","flex-row","justify-content-start"],[1,"small","p-2","ms-3","mb-3","rounded-3",2,"background-color","#f5f6f7"]],template:function(Re,nt){1&Re&&(oe._UZ(0,"router-outlet"),oe.TgZ(1,"header")(2,"h1"),oe._uU(3,"Contactanos"),oe.qZA()(),oe.TgZ(4,"nav"),oe._UZ(5,"app-navbar"),oe.qZA(),oe.TgZ(6,"main")(7,"form",0)(8,"div",1)(9,"h5",2),oe._uU(10,"Chat online"),oe.qZA()(),oe.TgZ(11,"div",3),oe.YNc(12,fe,10,3,"div",4),oe.qZA(),oe.TgZ(13,"div",5)(14,"div",6),oe._UZ(15,"input",7),oe.TgZ(16,"button",8),oe.NdJ("click",function(){return nt.crearMensaje()}),oe._uU(17," Enviar "),oe.qZA()()()()(),oe._UZ(18,"app-footer")),2&Re&&(oe.xp6(7),oe.Q6J("formGroup",nt.formChat),oe.xp6(5),oe.Q6J("ngForOf",nt.chats),oe.xp6(4),oe.Q6J("disabled",nt.formChat.invalid))},directives:[v.lC,Ge.S,x._Y,x.JL,x.sg,m.sg,x.Fj,x.JJ,x.u,ae.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.scrollable-chat[_ngcontent-%COMP%]{overflow-y:auto;width:500px}']}),Qe})()}];let ot=(()=>{class Qe{}return Qe.\u0275fac=function(Re){return new(Re||Qe)},Qe.\u0275mod=oe.oAB({type:Qe}),Qe.\u0275inj=oe.cJS({imports:[[m.ez,v.Bz.forChild(st)],v.Bz]}),Qe})()},9107:(Ft,$e,B)=>{B.r($e),B.d($e,{ChatModule:()=>Me});var m=B(9808),v=B(2382),x=B(6389),we=B(5839),oe=B(7044),De=B(5e3);let Me=(()=>{class ce{}return ce.\u0275fac=function(ae){return new(ae||ce)},ce.\u0275mod=De.oAB({type:ce}),ce.\u0275inj=De.cJS({imports:[[m.ez,v.u5,v.UX,oe.T,x.m,we.Bz]]}),ce})()},2635:(Ft,$e,B)=>{B.d($e,{x:()=>Nt});var m=B(9808),v=B(5839),x=B(5e3),we=B(1205),oe=B(7384),De=B(2382),Me=B(5895),ce=B(4004),Ge=B(4986),ae=B(8306),fe=B(8996),Oe=B(9646),st=B(4976),ot=B(8675),Qe=B(4482),_t=B(5403);function Re(){return(0,Qe.e)((pe,q)=>{let J,Ce=!1;pe.subscribe((0,_t.x)(q,ut=>{const $t=J;J=ut,Ce&&q.next([$t,ut]),Ce=!0}))})}var nt=B(5026),bt=B(4671);function ze(pe,q){return pe===q}var Ye=B(9300),dt=B(2011),yt=(B(9568),B(3942)),ye=B(2810),Tt=B(2090),Ne=B(4859);function at(pe,q){if(void 0===q)return{merge:!1};if(void 0!==q.mergeFields&&void 0!==q.merge)throw new ye.WA("invalid-argument",`Invalid options passed to function ${pe}(): You cannot specify both "merge" and "mergeFields".`);return q}function it(){if("undefined"==typeof Uint8Array)throw new ye.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ct(){if(!(0,ye.Me)())throw new ye.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lt{constructor(q){this._delegate=q}static fromBase64String(q){return Ct(),new Lt(ye.Jj.fromBase64String(q))}static fromUint8Array(q){return it(),new Lt(ye.Jj.fromUint8Array(q))}toBase64(){return Ct(),this._delegate.toBase64()}toUint8Array(){return it(),this._delegate.toUint8Array()}isEqual(q){return this._delegate.isEqual(q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tn(pe){return function fn(pe,q){if("object"!=typeof pe||null===pe)return!1;const J=pe;for(const Ce of q)if(Ce in J&&"function"==typeof J[Ce])return!0;return!1}(pe,["next","error","complete"])}class ft{enableIndexedDbPersistence(q,J){return(0,ye.ST)(q._delegate,{forceOwnership:J})}enableMultiTabIndexedDbPersistence(q){return(0,ye.fH)(q._delegate)}clearIndexedDbPersistence(q){return(0,ye.Fc)(q._delegate)}}class Dn{constructor(q,J,Ce){this._delegate=J,this._persistenceProvider=Ce,this.INTERNAL={delete:()=>this.terminate()},q instanceof ye.l7||(this._appCompat=q)}get _databaseId(){return this._delegate._databaseId}settings(q){const J=this._delegate._getSettings();!q.merge&&J.host!==q.host&&(0,ye.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),q.merge&&delete(q=Object.assign(Object.assign({},J),q)).merge,this._delegate._setSettings(q)}useEmulator(q,J,Ce={}){(0,ye.at)(this._delegate,q,J,Ce)}enableNetwork(){return(0,ye.Ix)(this._delegate)}disableNetwork(){return(0,ye.TF)(this._delegate)}enablePersistence(q){let J=!1,Ce=!1;return q&&(J=!!q.synchronizeTabs,Ce=!!q.experimentalForceOwningTab,(0,ye.Wi)("synchronizeTabs",J,"experimentalForceOwningTab",Ce)),J?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ce)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ye.Mx)(this._delegate)}onSnapshotsInSync(q){return(0,ye.sc)(this._delegate,q)}get app(){if(!this._appCompat)throw new ye.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(q){try{return new sn(this,(0,ye.hJ)(this._delegate,q))}catch(J){throw jn(J,"collection()","Firestore.collection()")}}doc(q){try{return new En(this,(0,ye.JU)(this._delegate,q))}catch(J){throw jn(J,"doc()","Firestore.doc()")}}collectionGroup(q){try{return new $n(this,(0,ye.B$)(this._delegate,q))}catch(J){throw jn(J,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(q){return(0,ye.i3)(this._delegate,J=>q(new An(this,J)))}batch(){return(0,ye.qY)(this._delegate),new bn(new ye.PU(this._delegate,q=>(0,ye.GL)(this._delegate,q)))}loadBundle(q){return(0,ye.Pb)(this._delegate,q)}namedQuery(q){return(0,ye.L$)(this._delegate,q).then(J=>J?new $n(this,J):null)}}class rn extends ye.u7{constructor(q){super(),this.firestore=q}convertBytes(q){return new Lt(new ye.Jj(q))}convertReference(q){const J=this.convertDocumentKey(q,this.firestore._databaseId);return En.forKey(J,this.firestore,null)}}class An{constructor(q,J){this._firestore=q,this._delegate=J,this._userDataWriter=new rn(q)}get(q){const J=zn(q);return this._delegate.get(J).then(Ce=>new wr(this._firestore,new ye.xU(this._firestore._delegate,this._userDataWriter,Ce._key,Ce._document,Ce.metadata,J.converter)))}set(q,J,Ce){const ut=zn(q);return Ce?(at("Transaction.set",Ce),this._delegate.set(ut,J,Ce)):this._delegate.set(ut,J),this}update(q,J,Ce,...ut){const $t=zn(q);return 2===arguments.length?this._delegate.update($t,J):this._delegate.update($t,J,Ce,...ut),this}delete(q){const J=zn(q);return this._delegate.delete(J),this}}class bn{constructor(q){this._delegate=q}set(q,J,Ce){const ut=zn(q);return Ce?(at("WriteBatch.set",Ce),this._delegate.set(ut,J,Ce)):this._delegate.set(ut,J),this}update(q,J,Ce,...ut){const $t=zn(q);return 2===arguments.length?this._delegate.update($t,J):this._delegate.update($t,J,Ce,...ut),this}delete(q){const J=zn(q);return this._delegate.delete(J),this}commit(){return this._delegate.commit()}}class Fn{constructor(q,J,Ce){this._firestore=q,this._userDataWriter=J,this._delegate=Ce}fromFirestore(q,J){const Ce=new ye.$q(this._firestore._delegate,this._userDataWriter,q._key,q._document,q.metadata,null);return this._delegate.fromFirestore(new Cr(this._firestore,Ce),null!=J?J:{})}toFirestore(q,J){return J?this._delegate.toFirestore(q,J):this._delegate.toFirestore(q)}static getInstance(q,J){const Ce=Fn.INSTANCES;let ut=Ce.get(q);ut||(ut=new WeakMap,Ce.set(q,ut));let $t=ut.get(J);return $t||($t=new Fn(q,new rn(q),J),ut.set(J,$t)),$t}}Fn.INSTANCES=new WeakMap;class En{constructor(q,J){this.firestore=q,this._delegate=J,this._userDataWriter=new rn(q)}static forPath(q,J,Ce){if(q.length%2!=0)throw new ye.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${q.canonicalString()} has ${q.length}`);return new En(J,new ye.my(J._delegate,Ce,new ye.Ky(q)))}static forKey(q,J,Ce){return new En(J,new ye.my(J._delegate,Ce,q))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(q){try{return new sn(this.firestore,(0,ye.hJ)(this._delegate,q))}catch(J){throw jn(J,"collection()","DocumentReference.collection()")}}isEqual(q){return(q=(0,Tt.m9)(q))instanceof ye.my&&(0,ye.Eo)(this._delegate,q)}set(q,J){J=at("DocumentReference.set",J);try{return J?(0,ye.pl)(this._delegate,q,J):(0,ye.pl)(this._delegate,q)}catch(Ce){throw jn(Ce,"setDoc()","DocumentReference.set()")}}update(q,J,...Ce){try{return 1===arguments.length?(0,ye.r7)(this._delegate,q):(0,ye.r7)(this._delegate,q,J,...Ce)}catch(ut){throw jn(ut,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ye.oe)(this._delegate)}onSnapshot(...q){const J=fr(q),Ce=bi(q,ut=>new wr(this.firestore,new ye.xU(this.firestore._delegate,this._userDataWriter,ut._key,ut._document,ut.metadata,this._delegate.converter)));return(0,ye.cf)(this._delegate,J,Ce)}get(q){let J;return J="cache"===(null==q?void 0:q.source)?(0,ye.kl)(this._delegate):"server"===(null==q?void 0:q.source)?(0,ye.Xk)(this._delegate):(0,ye.QT)(this._delegate),J.then(Ce=>new wr(this.firestore,new ye.xU(this.firestore._delegate,this._userDataWriter,Ce._key,Ce._document,Ce.metadata,this._delegate.converter)))}withConverter(q){return new En(this.firestore,this._delegate.withConverter(q?Fn.getInstance(this.firestore,q):null))}}function jn(pe,q,J){return pe.message=pe.message.replace(q,J),pe}function fr(pe){for(const q of pe)if("object"==typeof q&&!tn(q))return q;return{}}function bi(pe,q){var J,Ce;let ut;return ut=tn(pe[0])?pe[0]:tn(pe[1])?pe[1]:"function"==typeof pe[0]?{next:pe[0],error:pe[1],complete:pe[2]}:{next:pe[1],error:pe[2],complete:pe[3]},{next:$t=>{ut.next&&ut.next(q($t))},error:null===(J=ut.error)||void 0===J?void 0:J.bind(ut),complete:null===(Ce=ut.complete)||void 0===Ce?void 0:Ce.bind(ut)}}class wr{constructor(q,J){this._firestore=q,this._delegate=J}get ref(){return new En(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(q){return this._delegate.data(q)}get(q,J){return this._delegate.get(q,J)}isEqual(q){return(0,ye.qK)(this._delegate,q._delegate)}}class Cr extends wr{data(q){const J=this._delegate.data(q);return(0,ye.K9)(void 0!==J,"Document in a QueryDocumentSnapshot should exist"),J}}class $n{constructor(q,J){this.firestore=q,this._delegate=J,this._userDataWriter=new rn(q)}where(q,J,Ce){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.ar)(q,J,Ce)))}catch(ut){throw jn(ut,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(q,J){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.Xo)(q,J)))}catch(Ce){throw jn(Ce,/(orderBy|where)\(\)/,"Query.$1()")}}limit(q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.b9)(q)))}catch(J){throw jn(J,"limit()","Query.limit()")}}limitToLast(q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.vh)(q)))}catch(J){throw jn(J,"limitToLast()","Query.limitToLast()")}}startAt(...q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.e0)(...q)))}catch(J){throw jn(J,"startAt()","Query.startAt()")}}startAfter(...q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.TQ)(...q)))}catch(J){throw jn(J,"startAfter()","Query.startAfter()")}}endBefore(...q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.Lx)(...q)))}catch(J){throw jn(J,"endBefore()","Query.endBefore()")}}endAt(...q){try{return new $n(this.firestore,(0,ye.IO)(this._delegate,(0,ye.Wu)(...q)))}catch(J){throw jn(J,"endAt()","Query.endAt()")}}isEqual(q){return(0,ye.iE)(this._delegate,q._delegate)}get(q){let J;return J="cache"===(null==q?void 0:q.source)?(0,ye.UQ)(this._delegate):"server"===(null==q?void 0:q.source)?(0,ye.zN)(this._delegate):(0,ye.PL)(this._delegate),J.then(Ce=>new Lr(this.firestore,new ye.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ce._snapshot)))}onSnapshot(...q){const J=fr(q),Ce=bi(q,ut=>new Lr(this.firestore,new ye.W(this.firestore._delegate,this._userDataWriter,this._delegate,ut._snapshot)));return(0,ye.cf)(this._delegate,J,Ce)}withConverter(q){return new $n(this.firestore,this._delegate.withConverter(q?Fn.getInstance(this.firestore,q):null))}}class Fr{constructor(q,J){this._firestore=q,this._delegate=J}get type(){return this._delegate.type}get doc(){return new Cr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lr{constructor(q,J){this._firestore=q,this._delegate=J}get query(){return new $n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(q=>new Cr(this._firestore,q))}docChanges(q){return this._delegate.docChanges(q).map(J=>new Fr(this._firestore,J))}forEach(q,J){this._delegate.forEach(Ce=>{q.call(J,new Cr(this._firestore,Ce))})}isEqual(q){return(0,ye.qK)(this._delegate,q._delegate)}}class sn extends $n{constructor(q,J){super(q,J),this.firestore=q,this._delegate=J}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const q=this._delegate.parent;return q?new En(this.firestore,q):null}doc(q){try{return new En(this.firestore,void 0===q?(0,ye.JU)(this._delegate):(0,ye.JU)(this._delegate,q))}catch(J){throw jn(J,"doc()","CollectionReference.doc()")}}add(q){return(0,ye.ET)(this._delegate,q).then(J=>new En(this.firestore,J))}isEqual(q){return(0,ye.Eo)(this._delegate,q._delegate)}withConverter(q){return new sn(this.firestore,this._delegate.withConverter(q?Fn.getInstance(this.firestore,q):null))}}function zn(pe){return(0,ye.Cf)(pe,ye.my)}class Ln{constructor(...q){this._delegate=new ye.Lz(...q)}static documentId(){return new Ln(ye.Xb.keyField().canonicalString())}isEqual(q){return(q=(0,Tt.m9)(q))instanceof ye.Lz&&this._delegate._internalPath.isEqual(q._internalPath)}}class an{constructor(q){this._delegate=q}static serverTimestamp(){const q=(0,ye.Bt)();return q._methodName="FieldValue.serverTimestamp",new an(q)}static delete(){const q=(0,ye.AK)();return q._methodName="FieldValue.delete",new an(q)}static arrayUnion(...q){const J=(0,ye.vr)(...q);return J._methodName="FieldValue.arrayUnion",new an(J)}static arrayRemove(...q){const J=(0,ye.Ab)(...q);return J._methodName="FieldValue.arrayRemove",new an(J)}static increment(q){const J=(0,ye.nP)(q);return J._methodName="FieldValue.increment",new an(J)}isEqual(q){return this._delegate.isEqual(q._delegate)}}const ti={Firestore:Dn,GeoPoint:ye.F8,Timestamp:ye.EK,Blob:Lt,Transaction:An,WriteBatch:bn,DocumentReference:En,DocumentSnapshot:wr,Query:$n,QueryDocumentSnapshot:Cr,QuerySnapshot:Lr,CollectionReference:sn,FieldPath:Ln,FieldValue:an,setLogLevel:function Kt(pe){(0,ye.Ub)(pe)},CACHE_SIZE_UNLIMITED:ye.IX};!function $r(pe){(function Pi(pe,q){pe.INTERNAL.registerComponent(new Ne.wA("firestore-compat",J=>{const Ce=J.getProvider("app-compat").getImmediate(),ut=J.getProvider("firestore").getImmediate();return q(Ce,ut)},"PUBLIC").setServiceProps(Object.assign({},ti)))})(pe,(q,J)=>new Dn(q,J,new ft)),pe.registerVersion("@firebase/firestore-compat","0.3.9")}(yt.Z);var Rr=B(2313);function kt(pe,q){return function Zn(pe,q=Ge.z){return new ae.y(J=>{let Ce;return null!=q?q.schedule(()=>{Ce=pe.onSnapshot({includeMetadataChanges:!0},J)}):Ce=pe.onSnapshot({includeMetadataChanges:!0},J),()=>{null!=Ce&&Ce()}})}(pe,q)}function Wt(pe,q){return kt(pe,q).pipe((0,ce.U)(J=>({payload:J,type:"query"})))}function Hr(pe,q){return Wt(pe,q).pipe((0,ot.O)(void 0),Re(),(0,ce.U)(([J,Ce])=>{const ut=Ce.payload.docChanges(),$t=ut.map(cr=>({type:cr.type,payload:cr}));return J&&JSON.stringify(J.payload.metadata)!==JSON.stringify(Ce.payload.metadata)&&Ce.payload.docs.forEach((cr,xr)=>{const on=ut.find(Ir=>Ir.doc.ref.isEqual(cr.ref)),oi=null==J?void 0:J.payload.docs.find(Ir=>Ir.ref.isEqual(cr.ref));on&&JSON.stringify(on.doc.metadata)===JSON.stringify(cr.metadata)||!on&&oi&&JSON.stringify(oi.metadata)===JSON.stringify(cr.metadata)||$t.push({type:"modified",payload:{oldIndex:xr,newIndex:xr,type:"modified",doc:cr}})}),$t}))}function si(pe,q,J){return Hr(pe,J).pipe((0,nt.R)((Ce,ut)=>function Hn(pe,q,J){return q.forEach(Ce=>{J.indexOf(Ce.type)>-1&&(pe=function mr(pe,q){switch(q.type){case"added":if(!pe[q.newIndex]||!pe[q.newIndex].doc.ref.isEqual(q.doc.ref))return _i(pe,q.newIndex,0,q);break;case"modified":if(null==pe[q.oldIndex]||pe[q.oldIndex].doc.ref.isEqual(q.doc.ref)){if(q.oldIndex!==q.newIndex){const J=pe.slice();return J.splice(q.oldIndex,1),J.splice(q.newIndex,0,q),J}return _i(pe,q.newIndex,1,q)}break;case"removed":if(pe[q.oldIndex]&&pe[q.oldIndex].doc.ref.isEqual(q.doc.ref))return _i(pe,q.oldIndex,1)}return pe}(pe,Ce))}),pe}(Ce,ut.map($t=>$t.payload),q),[]),function Pt(pe,q=bt.y){return pe=null!=pe?pe:ze,(0,Qe.e)((J,Ce)=>{let ut,$t=!0;J.subscribe((0,_t.x)(Ce,cr=>{const xr=q(cr);($t||!pe(ut,xr))&&($t=!1,ut=xr,Ce.next(cr))}))})}(),(0,ce.U)(Ce=>Ce.map(ut=>({type:ut.type,payload:ut}))))}function _i(pe,q,J,...Ce){const ut=pe.slice();return ut.splice(q,J,...Ce),ut}function Gn(pe){return(!pe||0===pe.length)&&(pe=["added","removed","modified"]),pe}B(9260);class gn{constructor(q,J,Ce){this.ref=q,this.query=J,this.afs=Ce}stateChanges(q){let J=Hr(this.query,this.afs.schedulers.outsideAngular);return q&&q.length>0&&(J=J.pipe((0,ce.U)(Ce=>Ce.filter(ut=>q.indexOf(ut.type)>-1)))),J.pipe((0,ot.O)(void 0),Re(),(0,Ye.h)(([Ce,ut])=>ut.length>0||!Ce),(0,ce.U)(([Ce,ut])=>ut),st.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,nt.R)((J,Ce)=>[...J,...Ce],[]))}snapshotChanges(q){const J=Gn(q);return si(this.query,J,this.afs.schedulers.outsideAngular).pipe(st.iC)}valueChanges(q={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(J=>J.payload.docs.map(Ce=>q.idField?Object.assign(Object.assign({},Ce.data()),{[q.idField]:Ce.id}):Ce.data())),st.iC)}get(q){return(0,fe.D)(this.query.get(q)).pipe(st.iC)}add(q){return this.ref.add(q)}doc(q){return new vi(this.ref.doc(q),this.afs)}}class vi{constructor(q,J){this.ref=q,this.afs=J}set(q,J){return this.ref.set(q,J)}update(q){return this.ref.update(q)}delete(){return this.ref.delete()}collection(q,J){const Ce=this.ref.collection(q),{ref:ut,query:$t}=Kn(Ce,J);return new gn(ut,$t,this.afs)}snapshotChanges(){return function pn(pe,q){return kt(pe,q).pipe((0,ot.O)(void 0),Re(),(0,ce.U)(([J,Ce])=>Ce.exists?(null==J?void 0:J.exists)?{payload:Ce,type:"modified"}:{payload:Ce,type:"added"}:{payload:Ce,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(st.iC)}valueChanges(q={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:J})=>q.idField?Object.assign(Object.assign({},J.data()),{[q.idField]:J.id}):J.data()))}get(q){return(0,fe.D)(this.ref.get(q)).pipe(st.iC)}}class Un{constructor(q,J){this.query=q,this.afs=J}stateChanges(q){return q&&0!==q.length?Hr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(J=>J.filter(Ce=>q.indexOf(Ce.type)>-1)),(0,Ye.h)(J=>J.length>0),st.iC):Hr(this.query,this.afs.schedulers.outsideAngular).pipe(st.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,nt.R)((J,Ce)=>[...J,...Ce],[]))}snapshotChanges(q){const J=Gn(q);return si(this.query,J,this.afs.schedulers.outsideAngular).pipe(st.iC)}valueChanges(q={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(Ce=>Ce.payload.docs.map(ut=>q.idField?Object.assign({[q.idField]:ut.id},ut.data()):ut.data())),st.iC)}get(q){return(0,fe.D)(this.query.get(q)).pipe(st.iC)}}const Nr=new x.OlP("angularfire2.enableFirestorePersistence"),yn=new x.OlP("angularfire2.firestore.persistenceSettings"),Pn=new x.OlP("angularfire2.firestore.settings"),On=new x.OlP("angularfire2.firestore.use-emulator");function Kn(pe,q=(J=>J)){return{query:q(pe),ref:pe}}let ni=(()=>{class pe{constructor(J,Ce,ut,$t,cr,xr,on,oi,Ir,Rs,Ti,er,Ei,wi,Ci,br,ke){this.schedulers=on;const Ae=(0,dt.on)(J,xr,Ce),Be=Ir;Rs&&(0,we.nw)(Ae,xr,Ti,Ei,wi,Ci,er,br),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${Ae.name}.firestore`,"AngularFirestore",Ae.name,()=>{const ht=xr.runOutsideAngular(()=>Ae.firestore());if($t&&ht.settings($t),Be&&ht.useEmulator(...Be),ut&&!(0,m.PM)(cr)){const At=()=>{try{return(0,fe.D)(ht.enablePersistence(oi||void 0).then(()=>!0,()=>!1))}catch(wn){return"undefined"!=typeof console&&console.warn(wn),(0,Oe.of)(!1)}};return[ht,xr.runOutsideAngular(At)]}return[ht,(0,Oe.of)(!1)]},[$t,Be,ut])}collection(J,Ce){let ut;ut="string"==typeof J?this.firestore.collection(J):J;const{ref:$t,query:cr}=Kn(ut,Ce),xr=this.schedulers.ngZone.run(()=>$t);return new gn(xr,cr,this)}collectionGroup(J,Ce){const ut=Ce||(cr=>cr),$t=this.firestore.collectionGroup(J);return new Un(ut($t),this)}doc(J){let Ce;Ce="string"==typeof J?this.firestore.doc(J):J;const ut=this.schedulers.ngZone.run(()=>Ce);return new vi(ut,this)}createId(){return this.firestore.collection("_").doc().id}}return pe.\u0275fac=function(J){return new(J||pe)(x.LFG(dt.Dh),x.LFG(dt.xv,8),x.LFG(Nr,8),x.LFG(Pn,8),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(st.HU),x.LFG(yn,8),x.LFG(On,8),x.LFG(we.zQ,8),x.LFG(we.Qv,8),x.LFG(we.L6,8),x.LFG(we._Q,8),x.LFG(we.rT,8),x.LFG(we.lh,8),x.LFG(we.f7,8),x.LFG(Rr.nm,8))},pe.\u0275prov=x.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"any"}),pe})(),Qr=(()=>{class pe{constructor(J,Ce,ut){this.db=J,this.router=Ce,this.afAuth=ut,this.dbPathMayorMenor="puntajesMayorMenor",this.dbPathAhorcado="puntajesAhorcado"}cargarPuntajesMayorMenor(){this.puntajesMayorMenor=this.db.collection(this.dbPathMayorMenor,J=>J.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesMayorMenor)},1e3)}cargarPuntajesAhorcado(){this.puntajesAhorcado=this.db.collection(this.dbPathAhorcado,J=>J.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesAhorcado)},1e3)}addPuntaje(J,Ce,ut){ut.add({usuario:J,puntos:Ce,fecha:(new Date).toLocaleString()})}getPuntajes(J){this.puntajes=J.snapshotChanges().pipe((0,ce.U)(Ce=>Ce.map(ut=>ut.payload.doc.data()))),console.log(this.puntajes)}}return pe.\u0275fac=function(J){return new(J||pe)(x.LFG(ni),x.LFG(v.F0),x.LFG(we.zQ))},pe.\u0275prov=x.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function ve(pe,q){if(1&pe&&(x.TgZ(0,"div",11)(1,"h1")(2,"strong"),x._uU(3),x.qZA()()()),2&pe){const J=x.oxw();x.xp6(3),x.Oqu(J.mensaje)}}function ge(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"div",14)(1,"input",15),x.NdJ("click",function(){const $t=x.CHM(J).$implicit;return x.oxw(2).onLetra($t.nombre)}),x.qZA()()}if(2&pe){const J=q.$implicit;x.xp6(1),x.s9C("value",J.nombre)}}function ie(pe,q){if(1&pe&&(x.TgZ(0,"div",12)(1,"h3"),x._uU(2,"Introduce una letra"),x.qZA(),x.TgZ(3,"div",1),x.YNc(4,ge,2,1,"div",13),x.qZA()()),2&pe){const J=x.oxw();x.xp6(4),x.Q6J("ngForOf",J.arrayLetras)}}function se(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"div",16)(1,"button",17),x.NdJ("click",function(){return x.CHM(J),x.oxw(2).empezar()}),x._uU(2,"EMPEZAR"),x.qZA()()}}function K(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"div",16)(1,"button",17),x.NdJ("click",function(){return x.CHM(J),x.oxw(2).empezar()}),x.TgZ(2,"strong"),x._uU(3,"SIGUIENTE PALABRA"),x.qZA()()()}}function Pe(pe,q){if(1&pe&&(x.TgZ(0,"div",16),x.YNc(1,se,3,0,"div",8),x.YNc(2,K,4,0,"div",8),x.qZA()),2&pe){const J=x.oxw();x.xp6(1),x.Q6J("ngIf",!J.palabraCompletada||J.juegoCompletado),x.xp6(1),x.Q6J("ngIf",J.palabraCompletada)}}function qe(pe,q){if(1&pe&&(x.TgZ(0,"div")(1,"div",1)(2,"div",21)(3,"h6"),x._uU(4),x.qZA()(),x.TgZ(5,"div",21)(6,"h6"),x._uU(7),x.qZA()()()()),2&pe){const J=q.$implicit;x.xp6(4),x.Oqu(J.usuario),x.xp6(3),x.Oqu(J.puntos)}}function Rt(pe,q){if(1&pe&&(x.TgZ(0,"div",18)(1,"h4",19),x._uU(2),x.qZA(),x._UZ(3,"br")(4,"hr"),x.TgZ(5,"label"),x._uU(6,"Mejores Puntajes"),x.qZA(),x.YNc(7,qe,8,2,"div",20),x.qZA()),2&pe){const J=x.oxw();x.xp6(2),x.hij("Puntos: ",J.puntosAux,""),x.xp6(5),x.Q6J("ngForOf",J.listaOrdenada)}}let _n=(()=>{class pe{constructor(J,Ce,ut){this.router=J,this.afAuth=Ce,this.puntajeService=ut,this.seCreaAbecedario=new x.vpe,this.palabrasAux=["hashtag","click","recreo","globo","foto","nariz"],this.letra={nombre:""},this.letras=[{nombre:"A"},{nombre:"B"},{nombre:"C"},{nombre:"D"},{nombre:"E"},{nombre:"F"},{nombre:"G"},{nombre:"H"},{nombre:"I"},{nombre:"J"},{nombre:"K"},{nombre:"L"},{nombre:"M"},{nombre:"N"},{nombre:"\xd1"},{nombre:"O"},{nombre:"P"},{nombre:"Q"},{nombre:"R"},{nombre:"S"},{nombre:"T"},{nombre:"U"},{nombre:"V"},{nombre:"W"},{nombre:"X"},{nombre:"Y"},{nombre:"Z"}],this.arrayLetras=[],this.empezado=!1,this.resultado=!1,this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.usuario=new Me.b,this.palabraCompletada=!1,this.juegoCompletado=!1,this.comenzar="../../../../assets/ahorcado/Ahorcado1.png",this.puntajeService.cargarPuntajesAhorcado()}ngOnInit(){this.afAuth.currentUser.then(J=>{J&&(this.usuario.email=J.email?J.email:"")}),this.crearAbecedario(),this.puntosAux=0}empezar(){this.cambiarImagen();var J=Math.floor(Math.random()*this.palabrasAux.length);this.palabra=this.palabrasAux[J],console.log(this.palabrasAux),console.log(this.palabra),this.palabra&&(this.palabraEnGuiones=this.palabra.replace(/./g,"_ ")),console.log(this.palabra+" - "+this.palabraEnGuiones),this.palabrasAux.splice(J,1),console.log(this.palabrasAux),this.errores=0,this.empezado=!0,this.resultado=!1,this.juegoCompletado=!1,this.palabraCompletada=!1}crearAbecedario(){this.letras.forEach(J=>{let Ce={nombre:J.nombre};this.seCreaAbecedario.emit(Ce),this.agregarNuevoProducto(Ce)})}onLetra(J){let Ce=0;for(let ut=0;ut<this.palabra.length;ut++){const $t=this.palabra[ut];J.toLowerCase()==$t&&(console.log("letra correcta"),this.palabraEnGuiones=this.replaceAt(2*ut,$t.toLocaleUpperCase()),console.log(this.palabraEnGuiones),Ce++)}0==Ce&&(this.errores++,console.log(Ce),console.log(this.errores),this.cambiarImagen()),this.palabraEnGuiones.indexOf("_")<0&&(this.mensaje="\xa1Felicitaciones, GANASTE!",this.empezado=!1,this.resultado=!0,this.puntos=10*this.palabra.length,this.puntosAux+=this.puntos,this.palabraCompletada=!0,this.palabrasAux.length<=0&&(this.mensaje="\xa1Juego Completado!",this.palabraCompletada=!1,this.juegoCompletado=!0),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes())}replaceAt(J,Ce){var ut=this.palabraEnGuiones.split("");return ut[J]=Ce,ut.join("")}agregarNuevoProducto(J){this.arrayLetras.push(J)}cambiarImagen(){var J,Ce,ut,$t,cr,xr,on;switch(this.errores){case 0:null===(J=document.querySelector("#horca"))||void 0===J||J.setAttribute("src","../../../../assets/ahorcado/Ahorcado1.png");break;case 1:console.log(this.errores),null===(Ce=document.querySelector("#horca"))||void 0===Ce||Ce.setAttribute("src","../../../../assets/ahorcado/Ahorcado2.png");break;case 2:null===(ut=document.querySelector("#horca"))||void 0===ut||ut.setAttribute("src","../../../../assets/ahorcado/Ahorcado3.png");break;case 3:null===($t=document.querySelector("#horca"))||void 0===$t||$t.setAttribute("src","../../../../assets/ahorcado/Ahorcado4.png");break;case 4:null===(cr=document.querySelector("#horca"))||void 0===cr||cr.setAttribute("src","../../../../assets/ahorcado/Ahorcado5.png");break;case 5:null===(xr=document.querySelector("#horca"))||void 0===xr||xr.setAttribute("src","../../../../assets/ahorcado/Ahorcado6.png");break;case 6:null===(on=document.querySelector("#horca"))||void 0===on||on.setAttribute("src","../../../../assets/ahorcado/Ahorcado7.png"),this.mensaje="\xa1Fuiste ahorcado!",this.resultado=!0,this.empezado=!1,this.puntos=0,this.puntosAux=this.puntos,this.palabraCompletada=!1,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()}}cargarPuntajes(){this.listaPuntajes=[],this.puntajeService.puntajes.subscribe(J=>{this.listaPuntajes=J,this.listaOrdenada=this.listaPuntajes.slice(0,3),console.log(J),console.log(this.resultado)})}addPuntaje(J,Ce){this.puntajeService.addPuntaje(J,Ce,this.puntajeService.puntajesAhorcado)}}return pe.\u0275fac=function(J){return new(J||pe)(x.Y36(v.F0),x.Y36(we.zQ),x.Y36(Qr))},pe.\u0275cmp=x.Xpm({type:pe,selectors:[["app-ahorcado"]],outputs:{seCreaAbecedario:"seCreaAbecedario"},decls:14,vars:6,consts:[["id","general",1,"container-fluid"],[1,"row"],[1,"col-6","col-sm-6"],["id","ahorcado",1,"p-2"],["id","horca",3,"src"],["class","form-group","id","mensaje",4,"ngIf"],["id","palabraEnGuiones",1,"my-0","font-weight-normal"],["class","pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",4,"ngIf"],["id","empezar",4,"ngIf"],[1,"container"],["class","col-12",4,"ngIf"],["id","mensaje",1,"form-group"],[1,"pricing-header","px-3","py-3","pt-md-5","pb-md-4","mx-auto","text-center"],["class","col-sm-4",4,"ngFor","ngForOf"],[1,"col-sm-4"],["type","button",1,"btn","alert-danger","mt-1","col-sm-4","text-center",2,"width","40px",3,"value","click"],["id","empezar"],[1,"submit_class",3,"click"],[1,"col-12"],[1,"text-center","mt-1"],[4,"ngFor","ngForOf"],[1,"col-6"]],template:function(J,Ce){1&J&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x._UZ(4,"img",4),x.qZA()(),x.TgZ(5,"div",2),x.YNc(6,ve,4,1,"div",5),x.TgZ(7,"h1",6),x._uU(8),x.qZA(),x.YNc(9,ie,5,1,"div",7),x.qZA(),x.YNc(10,Pe,3,2,"div",8),x.qZA()(),x.TgZ(11,"div",9)(12,"div",1),x.YNc(13,Rt,8,2,"div",10),x.qZA()()),2&J&&(x.xp6(4),x.Q6J("src",Ce.comenzar,x.LSH),x.xp6(2),x.Q6J("ngIf",Ce.resultado),x.xp6(2),x.Oqu(Ce.palabraEnGuiones),x.xp6(1),x.Q6J("ngIf",Ce.empezado),x.xp6(1),x.Q6J("ngIf",!Ce.empezado),x.xp6(3),x.Q6J("ngIf",Ce.resultado))},directives:[m.O5,m.sg],styles:['.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),pe})();function nn(pe,q){1&pe&&(x.TgZ(0,"div",6),x._UZ(1,"img",7),x.qZA())}function Sn(pe,q){if(1&pe&&(x.TgZ(0,"div",8)(1,"h4",9),x._uU(2),x.qZA()()),2&pe){const J=x.oxw();x.xp6(2),x.Oqu(J.mensaje)}}function un(pe,q){if(1&pe&&(x.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"label"),x._uU(4),x.qZA()(),x.TgZ(5,"div",13)(6,"label"),x._uU(7),x.qZA()()()()),2&pe){const J=q.$implicit;x.xp6(4),x.Oqu(J.usuario),x.xp6(3),x.Oqu(J.puntos)}}function lr(pe,q){if(1&pe&&(x.TgZ(0,"div",8)(1,"h4",10),x._uU(2),x.qZA(),x._UZ(3,"br"),x.TgZ(4,"h6"),x._uU(5,"Mejores Puntajes"),x.qZA(),x.YNc(6,un,8,2,"div",11),x.qZA()),2&pe){const J=x.oxw();x.xp6(2),x.hij("Puntos: ",J.puntosAux,""),x.xp6(4),x.Q6J("ngForOf",J.listaOrdenada)}}function vt(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"div",14),x._UZ(1,"br"),x.TgZ(2,"div",15)(3,"div",12)(4,"h6"),x._uU(5,"Puntos:"),x.qZA(),x.TgZ(6,"h6"),x._uU(7),x.qZA()()(),x._UZ(8,"br")(9,"img",16),x.TgZ(10,"button",17),x.NdJ("click",function(){return x.CHM(J),x.oxw().cartaMayor()}),x._uU(11,"Mayor"),x.qZA(),x.TgZ(12,"button",17),x.NdJ("click",function(){return x.CHM(J),x.oxw().cartaMenor()}),x._uU(13,"Menor"),x.qZA()()}if(2&pe){const J=x.oxw();x.xp6(7),x.Oqu(J.puntos),x.xp6(2),x.Q6J("src",J.carta.src,x.LSH)}}let Dt=(()=>{class pe{constructor(J,Ce,ut){this.router=J,this.afAuth=Ce,this.puntajeService=ut,this.carta={src:"",numero:""},this.cartaSiguiente={src:"",numero:""},this.cartas=[{src:"../../../../assets/mayor-menor/A_pica.png",numero:1},{src:"../../../../assets/mayor-menor/A_trebol.png",numero:1},{src:"../../../../assets/mayor-menor/A_diamante.png",numero:1},{src:"../../../../assets/mayor-menor/2_pica.png",numero:2},{src:"../../../../assets/mayor-menor/3_coraz\xf3n.png",numero:3},{src:"../../../../assets/mayor-menor/4_coraz\xf3n.png",numero:4},{src:"../../../../assets/mayor-menor/5_coraz\xf3n.png",numero:5}],this.empezado=!1,this.resultado=!1,this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.usuario=new Me.b,this.puntajeService.cargarPuntajesMayorMenor()}ngOnInit(){this.afAuth.currentUser.then(J=>{J&&(this.usuario.email=J.email?J.email:"")})}empezar(){this.cartasAux=this.cartas.slice();var J=Math.floor(Math.random()*this.cartasAux.length);this.carta.src=this.cartasAux[J].src,this.carta.numero=this.cartasAux[J].numero,delete this.cartasAux[0].i,this.puntos=0,this.puntosAux=0,this.empezado=!0,this.resultado=!1}proximaCarta(){if(this.cartasAux.length>0){var J=Math.floor(Math.random()*this.cartasAux.length);this.cartaSiguiente.src=this.cartasAux[J].src,this.cartaSiguiente.numero=this.cartasAux[J].numero,delete this.cartasAux[J]}else this.mensaje="\xa1Felicitaciones, GANASTE!",this.puntosAux=this.puntos,this.resultado=!0,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()}cartaMayor(){this.proximaCarta(),this.carta.numero<=this.cartaSiguiente.numero?(console.log(this.carta.numero+"<="+this.cartaSiguiente.numero),this.puntos+=10):(console.log("\xa1Perdiste!"),this.mensaje="\xa1Perdiste!",this.puntosAux=this.puntos,this.puntos=0,this.empezado=!1,this.resultado=!0,console.log(this.puntos),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()),this.carta.numero=this.cartaSiguiente.numero,this.carta.src=this.cartaSiguiente.src}cartaMenor(){this.proximaCarta(),this.carta.numero>=this.cartaSiguiente.numero?(console.log(this.carta.numero+">="+this.cartaSiguiente.numero),this.puntos+=10):(console.log("\xa1Perdiste!"),this.mensaje="\xa1Perdiste!",this.puntosAux=this.puntos,this.puntos=0,this.empezado=!1,this.resultado=!0,console.log(this.puntos),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()),this.carta.numero=this.cartaSiguiente.numero,this.carta.src=this.cartaSiguiente.src}cargarPuntajes(){this.listaPuntajes=[],this.puntajeService.puntajes.subscribe(J=>{this.listaPuntajes=J,this.listaOrdenada=this.listaPuntajes.slice(0,3),console.log(this.listaPuntajes)})}addPuntaje(J,Ce){this.puntajeService.addPuntaje(J,Ce,this.puntajeService.puntajesMayorMenor)}}return pe.\u0275fac=function(J){return new(J||pe)(x.Y36(v.F0),x.Y36(we.zQ),x.Y36(Qr))},pe.\u0275cmp=x.Xpm({type:pe,selectors:[["app-mayor-menor"]],decls:9,vars:5,consts:[[1,"cardbox-shadow"],["class","card-header",4,"ngIf"],["type","button","id","empezar",1,"submit_class",3,"hidden","click"],["class","col-12",4,"ngIf"],[1,"container"],["class","card-body text-center",4,"ngIf"],[1,"card-header"],["id","imgEmp","src","../../../../assets/mayor-menor/presentaci\xf3n.png","width","60%",1,"img-centered"],[1,"col-12"],[1,"mt-1","text-center"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-6"],[1,"card-body","text-center"],[1,"col-12","text-center"],["width","20%","id","carta",1,"img-centered","smaller-image",3,"src"],["type","button",1,"submit_class",3,"click"]],template:function(J,Ce){1&J&&(x.TgZ(0,"div",0),x.YNc(1,nn,2,0,"div",1),x.TgZ(2,"button",2),x.NdJ("click",function(){return Ce.empezar()}),x._uU(3,"EMPEZAR"),x.qZA(),x.YNc(4,Sn,3,1,"div",3),x.YNc(5,lr,7,2,"div",3),x._UZ(6,"br"),x.TgZ(7,"div",4),x.YNc(8,vt,14,2,"div",5),x.qZA()()),2&J&&(x.xp6(1),x.Q6J("ngIf",!Ce.empezado),x.xp6(1),x.Q6J("hidden",Ce.empezado),x.xp6(2),x.Q6J("ngIf",Ce.resultado),x.xp6(1),x.Q6J("ngIf",Ce.resultado),x.xp6(3),x.Q6J("ngIf",Ce.empezado))},directives:[m.O5,m.sg],styles:['.img-centered[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.smaller-image[_ngcontent-%COMP%]{max-width:80%}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),pe})();var Gt=B(8715);function Le(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"form",10)(1,"div",11),x._UZ(2,"app-ahorcado"),x.qZA(),x.TgZ(3,"div",12)(4,"a",1),x.NdJ("click",function(){return x.CHM(J),x.oxw().dejarDeJugar()}),x._uU(5,"\xa1Cerrar juego!"),x.qZA()()()}}function Ve(pe,q){if(1&pe){const J=x.EpF();x.TgZ(0,"form",10)(1,"div",11),x._UZ(2,"app-mayor-menor"),x.qZA(),x.TgZ(3,"div",12)(4,"a",1),x.NdJ("click",function(){return x.CHM(J),x.oxw().dejarDeJugar()}),x._uU(5,"\xa1Cerrar juego!"),x.qZA()()()}}const et=[{path:"",component:(()=>{class pe{constructor(J,Ce){this.afAuth=J,this.router=Ce,this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1}jugarAhorcado(){this.jugarAlAhorcado=!0}jugarMayorMenor(){this.jugarAlMayorMenor=!0}ngOnInit(){this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1}dejarDeJugar(){this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1}cambiarNombre(){this.usuario.usuario="Jorge",this.usuario.contrasenia="Peposo"}Aceptar(){console.log(this.usuario.usuario),console.log(this.usuario.contrasenia)}}return pe.\u0275fac=function(J){return new(J||pe)(x.Y36(we.zQ),x.Y36(v.F0))},pe.\u0275cmp=x.Xpm({type:pe,selectors:[["app-juego"]],decls:30,vars:2,consts:[[1,"card-deck","container"],[3,"click"],[1,"card"],["src","../../../../assets/ahorcado/Ahorcado7.png",1,"card-img-top"],[1,"card-footer"],[1,"text-muted"],["src","../../../../assets/mayor-menor/presentaci\xf3n.png",1,"card-img-top"],["src","../../../../assets/mi-juego/ajedrez.jpg",1,"card-img-top"],[1,"position"],["class","juego_class ","method","post",4,"ngIf"],["method","post",1,"juego_class"],[1,"form_div"],[1,"info_div"]],template:function(J,Ce){1&J&&(x.TgZ(0,"header")(1,"h1"),x._uU(2,"Bienvenidx"),x.qZA()(),x.TgZ(3,"nav"),x._UZ(4,"app-navbar"),x.qZA(),x.TgZ(5,"main")(6,"div",0)(7,"a",1),x.NdJ("click",function(){return Ce.jugarAhorcado()}),x.TgZ(8,"div",2),x._UZ(9,"img",3),x.TgZ(10,"div",4)(11,"small",5),x._uU(12,"Ahorcado"),x.qZA()()()(),x.TgZ(13,"a",1),x.NdJ("click",function(){return Ce.jugarMayorMenor()}),x.TgZ(14,"div",2),x._UZ(15,"img",6),x.TgZ(16,"div",4)(17,"small",5),x._uU(18,"Mayor Menor"),x.qZA()()()(),x.TgZ(19,"a")(20,"div",2),x._UZ(21,"img",7),x.TgZ(22,"div",4)(23,"small",5),x._uU(24,"Mi Juego"),x.qZA()()()()(),x.TgZ(25,"div",8),x.YNc(26,Le,6,0,"form",9),x.YNc(27,Ve,6,0,"form",9),x.qZA()(),x._UZ(28,"app-footer")(29,"router-outlet")),2&J&&(x.xp6(26),x.Q6J("ngIf",Ce.jugarAlAhorcado),x.xp6(1),x.Q6J("ngIf",Ce.jugarAlMayorMenor))},directives:[oe.S,m.O5,De._Y,De.JL,De.F,_n,Dt,Gt.c,v.lC],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.juego_class[_ngcontent-%COMP%]{width:700px;padding:40px;border-radius:8px;border-color:#8b008b;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}.card[_ngcontent-%COMP%]{width:200px;height:230px;margin-bottom:10px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.text-muted[_ngcontent-%COMP%]{text-align:center}.position[_ngcontent-%COMP%]{position:absolute}']}),pe})()}];let Nt=(()=>{class pe{}return pe.\u0275fac=function(J){return new(J||pe)},pe.\u0275mod=x.oAB({type:pe}),pe.\u0275inj=x.cJS({imports:[[m.ez,v.Bz.forChild(et)],v.Bz]}),pe})()},577:(Ft,$e,B)=>{B.r($e),B.d($e,{JuegosModule:()=>Ge});var m=B(9808),v=B(6389),x=B(2635),we=B(9107),oe=B(2382),De=B(5839),Me=B(7246),ce=B(5e3);let Ge=(()=>{class ae{}return ae.\u0275fac=function(Oe){return new(Oe||ae)},ae.\u0275mod=ce.oAB({type:ae}),ae.\u0275inj=ce.cJS({imports:[[m.ez,v.m,x.x,we.ChatModule,oe.u5,oe.UX,De.Bz,(0,Me.AR)(()=>(0,Me.v0)())]]}),ae})()},8715:(Ft,$e,B)=>{B.d($e,{c:()=>v});var m=B(5e3);let v=(()=>{class x{constructor(){}ngOnInit(){}}return x.\u0275fac=function(oe){return new(oe||x)},x.\u0275cmp=m.Xpm({type:x,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"container-fluid","footer"],[1,"row","justify-content-center","align-items-center"],[1,"col-xl-4","col-lg-4","col-xs-12","text-center","d-flex","align-center"],["href","https://www.facebook.com/macarenaferrero/","target","_blank"],[1,"fab","fa-facebook","fa-2x","icon"],["href","https://twitter.com/ferreromaca/","target","_blank"],[1,"fab","fa-twitter-square","fa-2x","icon"],["href","https://www.instagram.com/ferreromaca/","target","_blank"],[1,"fab","fa-instagram","fa-2x","icon"],["href","https://www.linkedin.com/in/macarenaferrero/","target","_blank"],[1,"fab","fa-linkedin","fa-2x","icon"],[1,"col-xl-4","col-lg-4","col-xs-12"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d26243.205637550687!2d-58.4163389!3d-34.6950719!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcccfbdfe9ce15%3A0xf96ae66cb468bd9f!2sLan%C3%BAs%20Oeste%2C%20Lan%C3%BAs%2C%20Provincia%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1653255224741!5m2!1ses-419!2sar","width","100%","height","100","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(oe,De){1&oe&&(m.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"p"),m._uU(6,"macarenabetsabeferrero@gmail.com"),m.qZA(),m.TgZ(7,"p"),m._uU(8,"011 68895810"),m.qZA(),m.TgZ(9,"a",3),m._UZ(10,"i",4),m.qZA(),m.TgZ(11,"a",5),m._UZ(12,"i",6),m.qZA(),m.TgZ(13,"a",7),m._UZ(14,"i",8),m.qZA(),m.TgZ(15,"a",9),m._UZ(16,"i",10),m.qZA()()(),m.TgZ(17,"div",11)(18,"p"),m._uU(19,"Copyright \xa9 1992-2023 Macarena Betsabe Ferrero"),m.qZA()(),m.TgZ(20,"div",11),m._UZ(21,"iframe",12),m.qZA()()()())},styles:[".purple[_ngcontent-%COMP%]{background:purple}.rebecca[_ngcontent-%COMP%]{background:rebeccapurple}.icon[_ngcontent-%COMP%]{font-size:40px;padding-left:2px}.footer[_ngcontent-%COMP%]{background:whitesmoke}.icono[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition-duration:.4s}.frase[_ngcontent-%COMP%]{background:rgb(233,183,186,.8);height:auto}.frase-texto[_ngcontent-%COMP%]{color:#fff;font-size:25px;justify-content:center}textarea[_ngcontent-%COMP%]{resize:none}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{color:#e9b7bacc;text-decoration:none;transform:scale(1.5);transition-duration:.4s}.foto[_ngcontent-%COMP%]{background:cornflowerblue;justify-content:flex-start}"]}),x})()},7384:(Ft,$e,B)=>{B.d($e,{S:()=>we});var m=B(5e3),v=B(1205),x=B(5839);let we=(()=>{class oe{constructor(Me,ce){this.afAuth=Me,this.router=ce}ngOnInit(){this.afAuth.currentUser.then(Me=>{Me?this.usuario=Me:this.router.navigate([""])})}logOut(){this.afAuth.signOut().then(()=>this.router.navigate([""]))}}return oe.\u0275fac=function(Me){return new(Me||oe)(m.Y36(v.zQ),m.Y36(x.F0))},oe.\u0275cmp=m.Xpm({type:oe,selectors:[["app-navbar"]],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],[1,"nav-link","disabled"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["aria-current","page","routerLink","/juegos",1,"nav-link","active"],["routerLink","/chat",1,"nav-link","active"],["routerLink","/quien-soy",1,"nav-link","active"],[1,"text-end"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"]],template:function(Me,ce){1&Me&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._uU(3,"Tu Sala de juegos"),m.qZA(),m.TgZ(4,"button",3),m._UZ(5,"span",4),m.qZA(),m.TgZ(6,"div",5)(7,"div",6)(8,"a",7),m._uU(9,"Home"),m.qZA(),m.TgZ(10,"a",8),m._uU(11,"Chat Online"),m.qZA(),m.TgZ(12,"a",9),m._uU(13,"Conoceme"),m.qZA()()(),m.TgZ(14,"a",2),m._uU(15),m.qZA(),m.TgZ(16,"div",10)(17,"button",11),m.NdJ("click",function(){return ce.logOut()}),m._uU(18,"LogOut"),m.qZA()()()()),2&Me&&(m.xp6(15),m.Oqu(null==ce.usuario?null:ce.usuario.email))},directives:[x.yS],styles:[".logIn[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;text-align:end;color:gray;align-items:center;justify-content:space-between}"]}),oe})()},6389:(Ft,$e,B)=>{B.d($e,{m:()=>we});var m=B(9808),v=B(5839),x=B(5e3);let we=(()=>{class oe{}return oe.\u0275fac=function(Me){return new(Me||oe)},oe.\u0275mod=x.oAB({type:oe}),oe.\u0275inj=x.cJS({imports:[[m.ez,v.Bz]]}),oe})()},5316:(Ft,$e,B)=>{var m=B(9808),v=B(5e3);class x extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends x{static makeCurrent(){(0,m.HT)(new we)}onAndCancel(h,d,_){return h.addEventListener(d,_,!1),()=>{h.removeEventListener(d,_,!1)}}dispatchEvent(h,d){h.dispatchEvent(d)}remove(h){h.parentNode&&h.parentNode.removeChild(h)}createElement(h,d){return(d=d||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,d){return"window"===d?window:"document"===d?h:"body"===d?h.body:null}getBaseHref(h){const d=function De(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==d?null:function ce(I){Me=Me||document.createElement("a"),Me.setAttribute("href",I);const h=Me.pathname;return"/"===h.charAt(0)?h:`/${h}`}(d)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,m.Mx)(document.cookie,h)}}let Me,oe=null;const Ge=new v.OlP("TRANSITION_ID"),fe=[{provide:v.ip1,useFactory:function ae(I,h,d){return()=>{d.get(v.CZH).donePromise.then(()=>{const _=(0,m.q)(),N=h.querySelectorAll(`style[ng-transition="${I}"]`);for(let Z=0;Z<N.length;Z++)_.remove(N[Z])})}},deps:[Ge,m.K0,v.zs3],multi:!0}];class Oe{static init(){(0,v.VLi)(new Oe)}addToWindow(h){v.dqk.getAngularTestability=(_,N=!0)=>{const Z=h.findTestabilityInTree(_,N);if(null==Z)throw new Error("Could not find testability for element.");return Z},v.dqk.getAllAngularTestabilities=()=>h.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>h.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(_=>{const N=v.dqk.getAllAngularTestabilities();let Z=N.length,le=!1;const me=function(Ue){le=le||Ue,Z--,0==Z&&_(le)};N.forEach(function(Ue){Ue.whenStable(me)})})}findTestabilityInTree(h,d,_){if(null==d)return null;const N=h.getTestability(d);return null!=N?N:_?(0,m.q)().isShadowRoot(d)?this.findTestabilityInTree(h,d.host,!0):this.findTestabilityInTree(h,d.parentElement,!0):null}}let st=(()=>{class I{build(){return new XMLHttpRequest}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const ot=new v.OlP("EventManagerPlugins");let Qe=(()=>{class I{constructor(d,_){this._zone=_,this._eventNameToPlugin=new Map,d.forEach(N=>N.manager=this),this._plugins=d.slice().reverse()}addEventListener(d,_,N){return this._findPluginFor(_).addEventListener(d,_,N)}addGlobalEventListener(d,_,N){return this._findPluginFor(_).addGlobalEventListener(d,_,N)}getZone(){return this._zone}_findPluginFor(d){const _=this._eventNameToPlugin.get(d);if(_)return _;const N=this._plugins;for(let Z=0;Z<N.length;Z++){const le=N[Z];if(le.supports(d))return this._eventNameToPlugin.set(d,le),le}throw new Error(`No event manager plugin found for event ${d}`)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(ot),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class _t{constructor(h){this._doc=h}addGlobalEventListener(h,d,_){const N=(0,m.q)().getGlobalEventTarget(this._doc,h);if(!N)throw new Error(`Unsupported event target ${N} for event ${d}`);return this.addEventListener(N,d,_)}}let Re=(()=>{class I{constructor(){this._stylesSet=new Set}addStyles(d){const _=new Set;d.forEach(N=>{this._stylesSet.has(N)||(this._stylesSet.add(N),_.add(N))}),this.onStylesAdded(_)}onStylesAdded(d){}getAllStyles(){return Array.from(this._stylesSet)}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})(),nt=(()=>{class I extends Re{constructor(d){super(),this._doc=d,this._hostNodes=new Map,this._hostNodes.set(d.head,[])}_addStylesToHost(d,_,N){d.forEach(Z=>{const le=this._doc.createElement("style");le.textContent=Z,N.push(_.appendChild(le))})}addHost(d){const _=[];this._addStylesToHost(this._stylesSet,d,_),this._hostNodes.set(d,_)}removeHost(d){const _=this._hostNodes.get(d);_&&_.forEach(bt),this._hostNodes.delete(d)}onStylesAdded(d){this._hostNodes.forEach((_,N)=>{this._addStylesToHost(d,N,_)})}ngOnDestroy(){this._hostNodes.forEach(d=>d.forEach(bt))}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();function bt(I){(0,m.q)().remove(I)}const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function Ne(I,h,d){for(let _=0;_<h.length;_++){let N=h[_];Array.isArray(N)?Ne(I,N,d):(N=N.replace(ze,I),d.push(N))}return d}function je(I){return h=>{if("__ngUnwrap__"===h)return I;!1===I(h)&&(h.preventDefault(),h.returnValue=!1)}}let at=(()=>{class I{constructor(d,_,N){this.eventManager=d,this.sharedStylesHost=_,this.appId=N,this.rendererByCompId=new Map,this.defaultRenderer=new it(d)}createRenderer(d,_){if(!d||!_)return this.defaultRenderer;switch(_.encapsulation){case v.ifc.Emulated:{let N=this.rendererByCompId.get(_.id);return N||(N=new tn(this.eventManager,this.sharedStylesHost,_,this.appId),this.rendererByCompId.set(_.id,N)),N.applyToHost(d),N}case 1:case v.ifc.ShadowDom:return new fn(this.eventManager,this.sharedStylesHost,d,_);default:if(!this.rendererByCompId.has(_.id)){const N=Ne(_.id,_.styles,[]);this.sharedStylesHost.addStyles(N),this.rendererByCompId.set(_.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(Qe),v.LFG(nt),v.LFG(v.AFp))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class it{constructor(h){this.eventManager=h,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(h,d){return d?document.createElementNS(Pt[d]||d,h):document.createElement(h)}createComment(h){return document.createComment(h)}createText(h){return document.createTextNode(h)}appendChild(h,d){h.appendChild(d)}insertBefore(h,d,_){h&&h.insertBefore(d,_)}removeChild(h,d){h&&h.removeChild(d)}selectRootElement(h,d){let _="string"==typeof h?document.querySelector(h):h;if(!_)throw new Error(`The selector "${h}" did not match any elements`);return d||(_.textContent=""),_}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,d,_,N){if(N){d=N+":"+d;const Z=Pt[N];Z?h.setAttributeNS(Z,d,_):h.setAttribute(d,_)}else h.setAttribute(d,_)}removeAttribute(h,d,_){if(_){const N=Pt[_];N?h.removeAttributeNS(N,d):h.removeAttribute(`${_}:${d}`)}else h.removeAttribute(d)}addClass(h,d){h.classList.add(d)}removeClass(h,d){h.classList.remove(d)}setStyle(h,d,_,N){N&(v.JOm.DashCase|v.JOm.Important)?h.style.setProperty(d,_,N&v.JOm.Important?"important":""):h.style[d]=_}removeStyle(h,d,_){_&v.JOm.DashCase?h.style.removeProperty(d):h.style[d]=""}setProperty(h,d,_){h[d]=_}setValue(h,d){h.nodeValue=d}listen(h,d,_){return"string"==typeof h?this.eventManager.addGlobalEventListener(h,d,je(_)):this.eventManager.addEventListener(h,d,je(_))}}class tn extends it{constructor(h,d,_,N){super(h),this.component=_;const Z=Ne(N+"-"+_.id,_.styles,[]);d.addStyles(Z),this.contentAttr=function ye(I){return"_ngcontent-%COMP%".replace(ze,I)}(N+"-"+_.id),this.hostAttr=function Tt(I){return"_nghost-%COMP%".replace(ze,I)}(N+"-"+_.id)}applyToHost(h){super.setAttribute(h,this.hostAttr,"")}createElement(h,d){const _=super.createElement(h,d);return super.setAttribute(_,this.contentAttr,""),_}}class fn extends it{constructor(h,d,_,N){super(h),this.sharedStylesHost=d,this.hostEl=_,this.shadowRoot=_.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Z=Ne(N.id,N.styles,[]);for(let le=0;le<Z.length;le++){const me=document.createElement("style");me.textContent=Z[le],this.shadowRoot.appendChild(me)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(h,d){return super.appendChild(this.nodeOrShadowRoot(h),d)}insertBefore(h,d,_){return super.insertBefore(this.nodeOrShadowRoot(h),d,_)}removeChild(h,d){return super.removeChild(this.nodeOrShadowRoot(h),d)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}}let ft=(()=>{class I extends _t{constructor(d){super(d)}supports(d){return!0}addEventListener(d,_,N){return d.addEventListener(_,N,!1),()=>this.removeEventListener(d,_,N)}removeEventListener(d,_,N){return d.removeEventListener(_,N)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const Dn=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bn={alt:I=>I.altKey,control:I=>I.ctrlKey,meta:I=>I.metaKey,shift:I=>I.shiftKey};let Fn=(()=>{class I extends _t{constructor(d){super(d)}supports(d){return null!=I.parseEventName(d)}addEventListener(d,_,N){const Z=I.parseEventName(_),le=I.eventCallback(Z.fullKey,N,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(d,Z.domEventName,le))}static parseEventName(d){const _=d.toLowerCase().split("."),N=_.shift();if(0===_.length||"keydown"!==N&&"keyup"!==N)return null;const Z=I._normalizeKey(_.pop());let le="";if(Dn.forEach(Ue=>{const pt=_.indexOf(Ue);pt>-1&&(_.splice(pt,1),le+=Ue+".")}),le+=Z,0!=_.length||0===Z.length)return null;const me={};return me.domEventName=N,me.fullKey=le,me}static getEventFullKey(d){let _="",N=function En(I){let h=I.key;if(null==h){if(h=I.keyIdentifier,null==h)return"Unidentified";h.startsWith("U+")&&(h=String.fromCharCode(parseInt(h.substring(2),16)),3===I.location&&An.hasOwnProperty(h)&&(h=An[h]))}return Kt[h]||h}(d);return N=N.toLowerCase()," "===N?N="space":"."===N&&(N="dot"),Dn.forEach(Z=>{Z!=N&&bn[Z](d)&&(_+=Z+".")}),_+=N,_}static eventCallback(d,_,N){return Z=>{I.getEventFullKey(Z)===d&&N.runGuarded(()=>_(Z))}}static _normalizeKey(d){return"esc"===d?"escape":d}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const Cr=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:m.bD},{provide:v.g9A,useValue:function jn(){we.makeCurrent(),Oe.init()},multi:!0},{provide:m.K0,useFactory:function bi(){return(0,v.RDi)(document),document},deps:[]}]),$n=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function fr(){return new v.qLn},deps:[]},{provide:ot,useClass:ft,multi:!0,deps:[m.K0,v.R0b,v.Lbi]},{provide:ot,useClass:Fn,multi:!0,deps:[m.K0]},{provide:at,useClass:at,deps:[Qe,nt,v.AFp]},{provide:v.FYo,useExisting:at},{provide:Re,useExisting:nt},{provide:nt,useClass:nt,deps:[m.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Qe,useClass:Qe,deps:[ot,v.R0b]},{provide:m.JF,useClass:st,deps:[]}];let Fr=(()=>{class I{constructor(d){if(d)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(d){return{ngModule:I,providers:[{provide:v.AFp,useValue:d.appId},{provide:Ge,useExisting:v.AFp},fe]}}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(I,12))},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:$n,imports:[m.ez,v.hGG]}),I})();"undefined"!=typeof window&&window;let ve=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:function(d){let _=null;return _=d?new(d||I):v.LFG(ie),_},providedIn:"root"}),I})(),ie=(()=>{class I extends ve{constructor(d){super(),this._doc=d}sanitize(d,_){if(null==_)return null;switch(d){case v.q3G.NONE:return _;case v.q3G.HTML:return(0,v.qzn)(_,"HTML")?(0,v.z3N)(_):(0,v.EiD)(this._doc,String(_)).toString();case v.q3G.STYLE:return(0,v.qzn)(_,"Style")?(0,v.z3N)(_):_;case v.q3G.SCRIPT:if((0,v.qzn)(_,"Script"))return(0,v.z3N)(_);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.yhl)(_),(0,v.qzn)(_,"URL")?(0,v.z3N)(_):(0,v.mCW)(String(_));case v.q3G.RESOURCE_URL:if((0,v.qzn)(_,"ResourceURL"))return(0,v.z3N)(_);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${d} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(d){return(0,v.JVY)(d)}bypassSecurityTrustStyle(d){return(0,v.L6k)(d)}bypassSecurityTrustScript(d){return(0,v.eBb)(d)}bypassSecurityTrustUrl(d){return(0,v.LAX)(d)}bypassSecurityTrustResourceUrl(d){return(0,v.pB0)(d)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:function(d){let _=null;return _=d?new d:function ge(I){return new ie(I.get(m.K0))}(v.LFG(v.zs3)),_},providedIn:"root"}),I})();var K=B(2382),Pe=B(5839),qe=B(8715);let Rt=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-index"]],decls:11,vars:0,consts:[["id","index_form","method","post",1,"form_class"],[1,"form_div"],["type","submit","form","index_form","routerLink","/login",1,"submit_class"],["type","submit","form","index_form","routerLink","/registro",1,"submit_class"]],template:function(d,_){1&d&&(v.TgZ(0,"header")(1,"h1"),v._uU(2,"Tu sala de juegos"),v.qZA()(),v.TgZ(3,"main")(4,"form",0)(5,"div",1)(6,"button",2),v._uU(7,"Iniciar sesi\xf3n"),v.qZA(),v.TgZ(8,"button",3),v._uU(9,"Registrarse"),v.qZA()()()(),v._UZ(10,"app-footer"))},directives:[K._Y,K.JL,K.F,Pe.rH,qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})();var _n=B(5895);class nn{}const un="*";function lr(I,h){return{type:7,name:I,definitions:h,options:{}}}function vt(I,h=null){return{type:4,styles:h,timings:I}}function Gt(I,h=null){return{type:2,steps:I,options:h}}function Le(I){return{type:6,styles:I,offset:null}}function Ve(I,h,d){return{type:0,name:I,styles:h,options:d}}function et(I,h,d=null){return{type:1,expr:I,animation:h,options:d}}function ut(I){Promise.resolve(null).then(I)}class $t{constructor(h=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._onStartFns.push(h)}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ut(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}class cr{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let d=0,_=0,N=0;const Z=this.players.length;0==Z?ut(()=>this._onFinish()):this.players.forEach(le=>{le.onDone(()=>{++d==Z&&this._onFinish()}),le.onDestroy(()=>{++_==Z&&this._onDestroy()}),le.onStart(()=>{++N==Z&&this._onStart()})}),this.totalTime=this.players.reduce((le,me)=>Math.max(le,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const d=h*this.totalTime;this.players.forEach(_=>{const N=_.totalTime?Math.min(1,d/_.totalTime):1;_.setPosition(N)})}getPosition(){const h=this.players.reduce((d,_)=>null===d||_.totalTime>d.totalTime?_:d,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}var on=B(7579);const oi=["toast-component",""];function Ir(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"button",5),v.NdJ("click",function(){return v.CHM(d),v.oxw().remove()}),v.TgZ(1,"span",6),v._uU(2,"\xd7"),v.qZA()()}}function Rs(I,h){if(1&I&&(v.ynx(0),v._uU(1),v.BQk()),2&I){const d=v.oxw(2);v.xp6(1),v.hij("[",d.duplicatesCount+1,"]")}}function Ti(I,h){if(1&I&&(v.TgZ(0,"div"),v._uU(1),v.YNc(2,Rs,2,1,"ng-container",4),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.titleClass),v.uIk("aria-label",d.title),v.xp6(1),v.hij(" ",d.title," "),v.xp6(1),v.Q6J("ngIf",d.duplicatesCount)}}function er(I,h){if(1&I&&v._UZ(0,"div",7),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.Q6J("innerHTML",d.message,v.oJD)}}function Ei(I,h){if(1&I&&(v.TgZ(0,"div",8),v._uU(1),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.uIk("aria-label",d.message),v.xp6(1),v.hij(" ",d.message," ")}}function wi(I,h){if(1&I&&(v.TgZ(0,"div"),v._UZ(1,"div",9),v.qZA()),2&I){const d=v.oxw();v.xp6(1),v.Udp("width",d.width+"%")}}function Ci(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"button",5),v.NdJ("click",function(){return v.CHM(d),v.oxw().remove()}),v.TgZ(1,"span",6),v._uU(2,"\xd7"),v.qZA()()}}function br(I,h){if(1&I&&(v.ynx(0),v._uU(1),v.BQk()),2&I){const d=v.oxw(2);v.xp6(1),v.hij("[",d.duplicatesCount+1,"]")}}function ke(I,h){if(1&I&&(v.TgZ(0,"div"),v._uU(1),v.YNc(2,br,2,1,"ng-container",4),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.titleClass),v.uIk("aria-label",d.title),v.xp6(1),v.hij(" ",d.title," "),v.xp6(1),v.Q6J("ngIf",d.duplicatesCount)}}function Ae(I,h){if(1&I&&v._UZ(0,"div",7),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.Q6J("innerHTML",d.message,v.oJD)}}function Be(I,h){if(1&I&&(v.TgZ(0,"div",8),v._uU(1),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.uIk("aria-label",d.message),v.xp6(1),v.hij(" ",d.message," ")}}function ht(I,h){if(1&I&&(v.TgZ(0,"div"),v._UZ(1,"div",9),v.qZA()),2&I){const d=v.oxw();v.xp6(1),v.Udp("width",d.width+"%")}}class rr{constructor(h,d){this.component=h,this.injector=d}attach(h,d){return this._attachedHost=h,h.attach(this,d)}detach(){const h=this._attachedHost;if(h)return this._attachedHost=void 0,h.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(h){this._attachedHost=h}}class or{constructor(h,d,_,N,Z,le){this.toastId=h,this.config=d,this.message=_,this.title=N,this.toastType=Z,this.toastRef=le,this._onTap=new on.x,this._onAction=new on.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(h){this._onAction.next(h)}onAction(){return this._onAction.asObservable()}}const Wi={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ns=new v.OlP("ToastConfig");class Mr{constructor(h){this._overlayRef=h,this.duplicatesCount=0,this._afterClosed=new on.x,this._activate=new on.x,this._manualClose=new on.x,this._resetTimeout=new on.x,this._countDuplicate=new on.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(h,d){h&&this._resetTimeout.next(),d&&this._countDuplicate.next(++this.duplicatesCount)}}class ki{constructor(h,d){this._toastPackage=h,this._parentInjector=d}get(h,d,_){return h===or?this._toastPackage:this._parentInjector.get(h,d,_)}}class Co extends class Jn{attach(h,d){return this._attachedPortal=h,this.attachComponentPortal(h,d)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(h){this._disposeFn=h}}{constructor(h,d,_){super(),this._hostDomElement=h,this._componentFactoryResolver=d,this._appRef=_}attachComponentPortal(h,d){const _=this._componentFactoryResolver.resolveComponentFactory(h.component);let N;return N=_.create(h.injector),this._appRef.attachView(N.hostView),this.setDisposeFn(()=>{this._appRef.detachView(N.hostView),N.destroy()}),d?this._hostDomElement.insertBefore(this._getComponentRootNode(N),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(N)),N}_getComponentRootNode(h){return h.hostView.rootNodes[0]}}class _a{constructor(h){this._portalHost=h}attach(h,d=!0){return this._portalHost.attach(h,d)}detach(){return this._portalHost.detach()}}let zs=(()=>{class I{constructor(d){this._document=d}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const d=this._document.createElement("div");d.classList.add("overlay-container"),d.setAttribute("aria-live","polite"),this._document.body.appendChild(d),this._containerElement=d}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Gs=(()=>{class I{constructor(d,_,N,Z){this._overlayContainer=d,this._componentFactoryResolver=_,this._appRef=N,this._document=Z,this._paneElements=new Map}create(d,_){return this._createOverlayRef(this.getPaneElement(d,_))}getPaneElement(d="",_){return this._paneElements.get(_)||this._paneElements.set(_,{}),this._paneElements.get(_)[d]||(this._paneElements.get(_)[d]=this._createPaneElement(d,_)),this._paneElements.get(_)[d]}_createPaneElement(d,_){const N=this._document.createElement("div");return N.id="toast-container",N.classList.add(d),N.classList.add("toast-container"),_?_.getContainerElement().appendChild(N):this._overlayContainer.getContainerElement().appendChild(N),N}_createPortalHost(d){return new Co(d,this._componentFactoryResolver,this._appRef)}_createOverlayRef(d){return new _a(this._createPortalHost(d))}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(zs),v.LFG(v._Vd),v.LFG(v.z2F),v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ks=(()=>{class I{constructor(d,_,N,Z,le){this.overlay=_,this._injector=N,this.sanitizer=Z,this.ngZone=le,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},d.default),d.config),d.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},d.default.iconClasses),d.config.iconClasses))}show(d,_,N={},Z=""){return this._preBuildNotification(Z,d,_,this.applyConfig(N))}success(d,_,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",d,_,this.applyConfig(N))}error(d,_,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",d,_,this.applyConfig(N))}info(d,_,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",d,_,this.applyConfig(N))}warning(d,_,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",d,_,this.applyConfig(N))}clear(d){for(const _ of this.toasts)if(void 0!==d){if(_.toastId===d)return void _.toastRef.manualClose()}else _.toastRef.manualClose()}remove(d){const _=this._findToast(d);if(!_||(_.activeToast.toastRef.close(),this.toasts.splice(_.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const N=this.toasts[this.currentlyActive].toastRef;N.isInactive()||(this.currentlyActive=this.currentlyActive+1,N.activate())}return!0}findDuplicate(d="",_="",N,Z){const{includeTitleDuplicates:le}=this.toastrConfig;for(const me of this.toasts){const Ue=le&&me.title===d;if((!le||Ue)&&me.message===_)return me.toastRef.onDuplicate(N,Z),me}return null}applyConfig(d={}){return Object.assign(Object.assign({},this.toastrConfig),d)}_findToast(d){for(let _=0;_<this.toasts.length;_++)if(this.toasts[_].toastId===d)return{index:_,activeToast:this.toasts[_]};return null}_preBuildNotification(d,_,N,Z){return Z.onActivateTick?this.ngZone.run(()=>this._buildNotification(d,_,N,Z)):this._buildNotification(d,_,N,Z)}_buildNotification(d,_,N,Z){if(!Z.toastComponent)throw new Error("toastComponent required");const le=this.findDuplicate(N,_,this.toastrConfig.resetTimeoutOnDuplicate&&Z.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&N||_)&&this.toastrConfig.preventDuplicates&&null!==le)return le;this.previousToastMessage=_;let me=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(me=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Ue=this.overlay.create(Z.positionClass,this.overlayContainer);this.index=this.index+1;let pt=_;_&&Z.enableHtml&&(pt=this.sanitizer.sanitize(v.q3G.HTML,_));const qt=new Mr(Ue),In=new or(this.index,Z,pt,N,d,qt),qn=new ki(In,this._injector),ir=new rr(Z.toastComponent,qn),xn=Ue.attach(ir,this.toastrConfig.newestOnTop);qt.componentInstance=xn.instance;const Cn={toastId:this.index,title:N||"",message:_||"",toastRef:qt,onShown:qt.afterActivate(),onHidden:qt.afterClosed(),onTap:In.onTap(),onAction:In.onAction(),portal:xn};return me||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Cn.toastRef.activate()})),this.toasts.push(Cn),Cn}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(Ns),v.LFG(Gs),v.LFG(v.zs3),v.LFG(ve),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Cs=(()=>{class I{constructor(d,_,N){this.toastrService=d,this.toastPackage=_,this.ngZone=N,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=_.message,this.title=_.title,this.options=_.config,this.originalTimeout=_.config.timeOut,this.toastClasses=`${_.toastType} ${_.config.toastClass}`,this.sub=_.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=_.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=_.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=_.toastRef.countDuplicate().subscribe(Z=>{this.duplicatesCount=Z})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const d=(new Date).getTime();this.width=(this.hideTime-d)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(d,_){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(d),_)):this.timeout=setTimeout(()=>d(),_)}outsideInterval(d,_){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(d),_)):this.intervalId=setInterval(()=>d(),_)}runInsideAngular(d){this.ngZone?this.ngZone.run(()=>d()):d()}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(ks),v.Y36(or),v.Y36(v.R0b))},I.\u0275cmp=v.Xpm({type:I,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(d,_){1&d&&v.NdJ("click",function(){return _.tapToast()})("mouseenter",function(){return _.stickAround()})("mouseleave",function(){return _.delayedHideToast()}),2&d&&(v.d8E("@flyInOut",_.state),v.Tol(_.toastClasses),v.Udp("display",_.displayStyle))},attrs:oi,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(d,_){1&d&&(v.YNc(0,Ir,3,0,"button",0),v.YNc(1,Ti,3,5,"div",1),v.YNc(2,er,1,3,"div",2),v.YNc(3,Ei,2,4,"div",3),v.YNc(4,wi,2,2,"div",4)),2&d&&(v.Q6J("ngIf",_.options.closeButton),v.xp6(1),v.Q6J("ngIf",_.title),v.xp6(1),v.Q6J("ngIf",_.message&&_.options.enableHtml),v.xp6(1),v.Q6J("ngIf",_.message&&!_.options.enableHtml),v.xp6(1),v.Q6J("ngIf",_.options.progressBar))},directives:[m.O5],encapsulation:2,data:{animation:[lr("flyInOut",[Ve("inactive",Le({opacity:0})),Ve("active",Le({opacity:1})),Ve("removed",Le({opacity:0})),et("inactive => active",vt("{{ easeTime }}ms {{ easing }}")),et("active => removed",vt("{{ easeTime }}ms {{ easing }}"))])]}}),I})();const Ws=Object.assign(Object.assign({},Wi),{toastComponent:Cs});let Io=(()=>{class I{static forRoot(d={}){return{ngModule:I,providers:[{provide:Ns,useValue:{default:Ws,config:d}}]}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[m.ez]]}),I})(),ta=(()=>{class I{constructor(d,_,N){this.toastrService=d,this.toastPackage=_,this.appRef=N,this.width=-1,this.toastClasses="",this.state="inactive",this.message=_.message,this.title=_.title,this.options=_.config,this.originalTimeout=_.config.timeOut,this.toastClasses=`${_.toastType} ${_.config.toastClass}`,this.sub=_.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=_.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=_.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=_.toastRef.countDuplicate().subscribe(Z=>{this.duplicatesCount=Z})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const d=(new Date).getTime();this.width=(this.hideTime-d)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(ks),v.Y36(or),v.Y36(v.z2F))},I.\u0275cmp=v.Xpm({type:I,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(d,_){1&d&&v.NdJ("click",function(){return _.tapToast()})("mouseenter",function(){return _.stickAround()})("mouseleave",function(){return _.delayedHideToast()}),2&d&&(v.Tol(_.toastClasses),v.Udp("display",_.displayStyle))},attrs:oi,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(d,_){1&d&&(v.YNc(0,Ci,3,0,"button",0),v.YNc(1,ke,3,5,"div",1),v.YNc(2,Ae,1,3,"div",2),v.YNc(3,Be,2,4,"div",3),v.YNc(4,ht,2,2,"div",4)),2&d&&(v.Q6J("ngIf",_.options.closeButton),v.xp6(1),v.Q6J("ngIf",_.title),v.xp6(1),v.Q6J("ngIf",_.message&&_.options.enableHtml),v.xp6(1),v.Q6J("ngIf",_.message&&!_.options.enableHtml),v.xp6(1),v.Q6J("ngIf",_.options.progressBar))},directives:[m.O5],encapsulation:2}),I})();Object.assign(Object.assign({},Wi),{toastComponent:ta});var Ea=B(1205),Di=(()=>{return(I=Di||(Di={})).EmailAlreadyInUse="auth/email-already-in-use",I.WeakPassport="auth/weak-password",I.InvalidEmail="auth/invalid-email",I.WrongPassword="auth/wrong-password",I.UserNotFound="auth/user-not-found",Di;var I})();let Oi=(()=>{class I{constructor(){}firebaseError(d){switch(d){case Di.EmailAlreadyInUse:return"El usuario ya existe.";case Di.WeakPassport:return"La contrase\xf1a debe tener m\xednimo 6 car\xe1cteres.";case Di.InvalidEmail:return"Email inv\xe1lido.";case Di.WrongPassword:return"Contrase\xf1a incorrecta.";case Di.UserNotFound:return"El usuario no existe.";default:return"Error desconocido."}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),qi=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(d,_){1&d&&(v.TgZ(0,"div",0)(1,"span",1),v._uU(2,"Loading..."),v.qZA()())},styles:[""]}),I})();function ls(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es requerido"),v.qZA())}function Pa(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es inv\xe1lido"),v.qZA())}function tr(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"La contrase\xf1a es requerida"),v.qZA())}function bo(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"div")(1,"form",1),v.NdJ("ngSubmit",function(){return v.CHM(d),v.oxw().login()}),v.TgZ(2,"div",2)(3,"label"),v._uU(4,"Email:"),v.qZA(),v.TgZ(5,"input",3),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.email=N}),v.qZA(),v.YNc(6,ls,2,0,"span",4),v.YNc(7,Pa,2,0,"span",4),v._UZ(8,"br"),v.TgZ(9,"label"),v._uU(10,"Password:"),v.qZA(),v.TgZ(11,"input",5),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass=N}),v.qZA(),v.YNc(12,tr,2,0,"span",4),v.TgZ(13,"button",6),v._uU(14,"Entrar"),v.qZA(),v.TgZ(15,"button",7),v.NdJ("click",function(){return v.CHM(d),v.oxw().completar()}),v._uU(16,"Acceso R\xe1pido"),v.qZA()(),v.TgZ(17,"div",8)(18,"a",9),v._uU(19,"\xa1Volver al inicio!"),v.qZA()()()()}if(2&I){const d=v.oxw();let _,N,Z;v.xp6(1),v.Q6J("formGroup",d.loginUsuario),v.xp6(4),v.Q6J("ngModel",d.Usuario.email),v.xp6(1),v.Q6J("ngIf",(null==(_=d.loginUsuario.get("email"))?null:_.hasError("required"))&&(null==(_=d.loginUsuario.get("email"))?null:_.touched)),v.xp6(1),v.Q6J("ngIf",(null==(N=d.loginUsuario.get("email"))?null:N.hasError("email"))&&(null==(N=d.loginUsuario.get("email"))?null:N.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass),v.xp6(1),v.Q6J("ngIf",(null==(Z=d.loginUsuario.get("pass"))?null:Z.hasError("required"))&&(null==(Z=d.loginUsuario.get("pass"))?null:Z.touched))}}function cs(I,h){1&I&&v._UZ(0,"app-spinner")}let Is=(()=>{class I{constructor(d,_,N,Z,le){this.fb=d,this.toastr=_,this.router=N,this.afAuth=Z,this.codeError=le,this.title="Login",this.Usuario=new _n.b,this.loading=!1,this.loginUsuario=this.fb.group({email:["",[K.kI.required,K.kI.email]],pass:["",K.kI.required]})}ngOnInit(){}completar(){this.Usuario.email="macarenaferrero@gmail.com",this.Usuario.pass="123456"}login(){const d=this.loginUsuario.value.email,_=this.loginUsuario.value.pass;this.loading=!0,this.afAuth.signInWithEmailAndPassword(d,_).then(N=>{this.toastr.success("Ingreso satisfactorio","Sesi\xf3n iniciada"),this.router.navigate(["/juegos"])}).catch(N=>{this.loading=!1,this.toastr.error(this.codeError.firebaseError(N.code),"Error")})}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(K.qu),v.Y36(ks),v.Y36(Pe.F0),v.Y36(Ea.zQ),v.Y36(Oi))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-login"]],decls:8,vars:3,consts:[[4,"ngIf"],["id","login_form","action","login/login-access.php","method","post",1,"form_class",3,"formGroup","ngSubmit"],[1,"form_div"],["id","email","name","login_txt","type","text","formControlName","email","placeholder","Ingrese su email","autofocus","",1,"field_class",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["id","pass","name","password_txt","type","password","formControlName","pass","placeholder","Ingrese password",1,"field_class",3,"ngModel","ngModelChange"],["type","submit","form","login_form",1,"submit_class"],["type","submit","form","login_form",1,"submit_class",3,"click"],[1,"info_div"],["routerLink",""],[1,"text-danger","form-floating"]],template:function(d,_){1&d&&(v._UZ(0,"router-outlet"),v.TgZ(1,"header")(2,"h1"),v._uU(3),v.qZA()(),v.TgZ(4,"main"),v.YNc(5,bo,20,6,"div",0),v.YNc(6,cs,1,0,"app-spinner",0),v.qZA(),v._UZ(7,"app-footer")),2&d&&(v.xp6(3),v.Oqu(_.title),v.xp6(2),v.Q6J("ngIf",!_.loading),v.xp6(1),v.Q6J("ngIf",_.loading))},directives:[Pe.lC,m.O5,K._Y,K.JL,K.sg,K.Fj,K.JJ,K.u,Pe.yS,qi,qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})();var ao=B(7384);let Fs=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-error"]],decls:11,vars:0,consts:[["id","index_form","method","post",1,"form_class"],[1,"form_div"]],template:function(d,_){1&d&&(v.TgZ(0,"header")(1,"h1"),v._uU(2,"Bienvenidx"),v.qZA()(),v.TgZ(3,"nav"),v._UZ(4,"app-navbar"),v.qZA(),v.TgZ(5,"main")(6,"form",0)(7,"div",1)(8,"h2"),v._uU(9,"ERROR 404 - URL NO ENCONTRADA"),v.qZA()()()(),v._UZ(10,"app-footer"))},directives:[ao.S,K._Y,K.JL,K.F,qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})(),$o=(()=>{class I{constructor(){this.title="Mi Historia"}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-quien-soy"]],decls:69,vars:1,consts:[[1,"text-center"],["id","mihistoria",1,"container"],[1,"row"],[1,"col-xl-3","col-lg-4","col-xs-12","pt-5"],["src","https://github.com/macarenaferrero/Portfolio/blob/master/Images/macarena.png?raw=true","width","250px","height","auto"],[1,"col-xl-8","col-lg-8","col-xs-12","p-5"],[1,"text-black"],[1,"pl-2"],["href","http://colegioeccleston.org.ar/","target","_blank"],["href","https://www.fra.utn.edu.ar/","target","_blank"],["href","http://www.unahur.edu.ar/","target","_blank"],["href","http://program.ar/","target","_blank"],["id","habilidades",1,"container"],[1,"row","bg-light","mt-5"],[1,"col-xl-2.5","col-lg-2","col-xs-12","p-5"],[1,"d-flex","justify-content-center","icono"],[1,"fab","fa-html5","icon",2,"color","rgb(0, 0, 0)"],[1,"col-xl-2","col-lg-2","col-xs-12","p-5"],[1,"fab","fa-python","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-php","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"icono","d-flex","justify-content-center"],[1,"fab","fa-js","icon",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-cuttlefish","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-css3-alt","fa-2x",2,"color","rgb(0, 0, 0)"],["id","frases",1,"frase","container-fluid","mt-5","mb-5"],[1,"col-12","p-5"],[1,"text-center","frase-texto"]],template:function(d,_){1&d&&(v.TgZ(0,"header")(1,"h1",0),v._uU(2),v.qZA()(),v.TgZ(3,"nav"),v._UZ(4,"app-navbar"),v.qZA(),v.TgZ(5,"main")(6,"div",1)(7,"div",2)(8,"div",3),v._UZ(9,"img",4),v.qZA(),v.TgZ(10,"div",5)(11,"h2",6),v._uU(12,"Profesora de Matem\xe1tica && Programadora"),v.qZA(),v.TgZ(13,"p",7),v._uU(14," Realic\xe9 el bachillerato con orientaci\xf3n en Comunicaci\xf3n, Arte y Dise\xf1o en el "),v.TgZ(15,"a",8),v._uU(16,"Instituto Sara Chamberlein de Eccleston."),v.qZA(),v._uU(17," En el mismo, descubr\xed mi pasi\xf3n y facilidad para el \xe1rea de matem\xe1tica, lo que a\xf1os m\xe1s adelante me invit\xf3 a estudiar el profesorado. Deconstruyendo ideas como "),v.TgZ(18,"i"),v._uU(19,'"La matem\xe1tica no es para mi" o "\xbfY esto para que me sirve?"'),v.qZA(),v._uU(20," que comunmente escuchamos en grandes y chicos. "),v._UZ(21,"br"),v._uU(22," Durante la trayectoria en el profesorado, reconoc\xed otra de mis pasiones: la Tecnolog\xeda. Comenc\xe9 a investigar, probar y aprender c\xf3mo autodid\xe1cta. Fue as\xed que comenz\xe9 a gamificar mis clases, promediar la tecnolog\xeda y las diferentes plataformas de ense\xf1anza. "),v._UZ(23,"br"),v._uU(24," Una vez finalizada la carrera, no dude en comenzar la tecnicatura en programaci\xf3n en la "),v.TgZ(25,"a",9),v._uU(26,"UTN FRA Avellaneda"),v.qZA(),v._uU(27,". D\xeda a d\xeda crecen las ganas de seguir aprendiendo esta rama tan apasionante. "),v._UZ(28,"br"),v._uU(29,' Al d\xeda de hoy, me encuentro cursando el \xfaltimo a\xf1o de la carrera formandome como desarrolladora de software. Considero importante integrar estos conocimientos dentro del aula. Iniciar a los chicos en la programaci\xf3n es un aprendizaje continuo. Me especialic\xe9 en \xe9sta \xe1rea, cursando "La programaci\xf3n y su did\xe1ctica" dictada por la facultad de '),v.TgZ(30,"a",10),v._uU(31,"UNAHUR"),v.qZA(),v._uU(32,", en el marco de "),v.TgZ(33,"a",11),v._uU(34,"PROGRAM.AR"),v.qZA()()()()(),v.TgZ(35,"section",12)(36,"h2",0),v._uU(37,"Habilidades"),v.qZA(),v.TgZ(38,"div",13)(39,"div",14)(40,"div",15)(41,"h2"),v._UZ(42,"i",16),v.qZA()()(),v.TgZ(43,"div",17)(44,"div",15)(45,"h2"),v._UZ(46,"i",18),v.qZA()()(),v.TgZ(47,"div",17)(48,"div",15)(49,"h2"),v._UZ(50,"i",19),v.qZA()()(),v.TgZ(51,"div",17)(52,"div",20)(53,"h2"),v._UZ(54,"i",21),v.qZA()()(),v.TgZ(55,"div",17)(56,"div",20)(57,"h2"),v._UZ(58,"i",22),v.qZA()()(),v.TgZ(59,"div",17)(60,"div",20)(61,"h2"),v._UZ(62,"i",23),v.qZA()()()()(),v.TgZ(63,"section",24)(64,"div",2)(65,"div",25)(66,"h3",26),v._uU(67,'"La felicidad consiste en poder unir el principio con el fin" - Pit\xe1goras '),v.qZA()()()()(),v._UZ(68,"app-footer")),2&d&&(v.xp6(2),v.Oqu(_.title))},directives:[ao.S,qe.c],styles:['.purple[_ngcontent-%COMP%]{background:purple}.rebecca[_ngcontent-%COMP%]{background:rebeccapurple}.icon[_ngcontent-%COMP%]{font-size:72px}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:0 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.icono[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition-duration:.4s}.frase[_ngcontent-%COMP%]{background:rgb(233,183,186,.8);height:auto}.frase-texto[_ngcontent-%COMP%]{color:#fff;font-size:25px;justify-content:center}textarea[_ngcontent-%COMP%]{resize:none}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{color:#6315a3cc;text-decoration:none;transform:scale(1.5);transition-duration:.4s}.foto[_ngcontent-%COMP%]{background:cornflowerblue;justify-content:flex-start}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}']}),I})();function ds(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es requerido"),v.qZA())}function Oa(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es inv\xe1lido"),v.qZA())}function To(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"La contrase\xf1a es requerida"),v.qZA())}function Vi(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"Debe repetir la contrase\xf1a"),v.qZA())}function ri(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"div")(1,"form",1),v.NdJ("ngSubmit",function(){return v.CHM(d),v.oxw().registrar()}),v.TgZ(2,"div",2)(3,"label"),v._uU(4,"Email:"),v.qZA(),v.TgZ(5,"input",3),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.email=N}),v.qZA(),v.YNc(6,ds,2,0,"span",4),v.YNc(7,Oa,2,0,"span",4),v._UZ(8,"br"),v.TgZ(9,"label"),v._uU(10,"Password:"),v.qZA(),v.TgZ(11,"input",5),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass=N}),v.qZA(),v.YNc(12,To,2,0,"span",4),v._UZ(13,"br"),v.TgZ(14,"label"),v._uU(15,"Reingrese Password:"),v.qZA(),v.TgZ(16,"input",6),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass2=N}),v.qZA(),v.YNc(17,Vi,2,0,"span",4),v.TgZ(18,"button",7),v._uU(19,"CREAR CUENTA"),v.qZA()(),v.TgZ(20,"div",8)(21,"a",9),v._uU(22,"\xa1Volver al inicio!"),v.qZA()()()()}if(2&I){const d=v.oxw();let _,N,Z,le;v.xp6(1),v.Q6J("formGroup",d.nuevoRegistro),v.xp6(4),v.Q6J("ngModel",d.Usuario.email),v.xp6(1),v.Q6J("ngIf",(null==(_=d.nuevoRegistro.get("email"))?null:_.hasError("required"))&&(null==(_=d.nuevoRegistro.get("email"))?null:_.touched)),v.xp6(1),v.Q6J("ngIf",(null==(N=d.nuevoRegistro.get("email"))?null:N.hasError("email"))&&(null==(N=d.nuevoRegistro.get("email"))?null:N.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass),v.xp6(1),v.Q6J("ngIf",(null==(Z=d.nuevoRegistro.get("pass"))?null:Z.hasError("required"))&&(null==(Z=d.nuevoRegistro.get("pass"))?null:Z.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass2),v.xp6(1),v.Q6J("ngIf",(null==(le=d.nuevoRegistro.get("pass2"))?null:le.hasError("required"))&&(null==(le=d.nuevoRegistro.get("pass2"))?null:le.touched))}}function Js(I,h){1&I&&v._UZ(0,"app-spinner")}const wa=[{path:"",component:Rt},{path:"login",component:Is},{path:"registro",component:(()=>{class I{constructor(d,_,N,Z,le){this.fb=d,this.toastr=_,this.router=N,this.afAuth=Z,this.codeError=le,this.title="Registro",this.Usuario=new _n.b,this.loading=!1,this.nuevoRegistro=d.group({email:["",[K.kI.required,K.kI.email]],pass:["",K.kI.required],pass2:["",K.kI.required]})}ngOnInit(){}registrar(){this.Usuario.pass==this.Usuario.pass2?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(this.Usuario.email,this.Usuario.pass).then(()=>{this.loading=!1,this.toastr.success("Usuario creado con exito","Usuario exitoso"),this.router.navigate(["/juegos"])}).catch(d=>{this.loading=!1,this.toastr.error(this.codeError.firebaseError(d.code),"Error")})):this.toastr.error("Las contrase\xf1as ingresadas deben ser iguales","Error")}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(K.qu),v.Y36(ks),v.Y36(Pe.F0),v.Y36(Ea.zQ),v.Y36(Oi))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-registro"]],decls:8,vars:3,consts:[[4,"ngIf"],["id","login_form","method","post",1,"form_class",3,"formGroup","ngSubmit"],[1,"form_div"],["id","email","name","login_txt","type","text","formControlName","email","placeholder","Ingrese un usuario","autofocus","",1,"field_class",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["id","pass","name","password_txt","type","password","formControlName","pass","placeholder","Ingrese password",1,"field_class",3,"ngModel","ngModelChange"],["id","pass2","name","password_txt","type","password","formControlName","pass2","placeholder","Reingrese password",1,"field_class",3,"ngModel","ngModelChange"],["type","submit","form","login_form",1,"submit_class"],[1,"info_div"],["routerLink",""],[1,"text-danger","form-floating"]],template:function(d,_){1&d&&(v._UZ(0,"router-outlet"),v.TgZ(1,"header")(2,"h1"),v._uU(3),v.qZA()(),v.TgZ(4,"main"),v.YNc(5,ri,23,8,"div",0),v.YNc(6,Js,1,0,"app-spinner",0),v.qZA(),v._UZ(7,"app-footer")),2&d&&(v.xp6(3),v.Oqu(_.title),v.xp6(2),v.Q6J("ngIf",!_.loading),v.xp6(1),v.Q6J("ngIf",_.loading))},directives:[Pe.lC,m.O5,K._Y,K.JL,K.sg,K.Fj,K.JJ,K.u,Pe.yS,qi,qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})()},{path:"quien-soy",component:$o},{path:"juegos",loadChildren:()=>Promise.resolve().then(B.bind(B,577)).then(I=>I.JuegosModule)},{path:"chat",loadChildren:()=>Promise.resolve().then(B.bind(B,9107)).then(I=>I.ChatModule)},{path:"**",component:Fs}];let es=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[Pe.Bz.forRoot(wa)],Pe.Bz]}),I})();const Wn=!1;function $i(I){return new v.vHH(3e3,Wn)}function rs(){return"undefined"!=typeof window&&void 0!==window.document}function Ai(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fi(I){switch(I.length){case 0:return new $t;case 1:return I[0];default:return new cr(I)}}function Ca(I,h,d,_,N={},Z={}){const le=[],me=[];let Ue=-1,pt=null;if(_.forEach(qt=>{const In=qt.offset,qn=In==Ue,ir=qn&&pt||{};Object.keys(qt).forEach(xn=>{let Cn=xn,ui=qt[xn];if("offset"!==xn)switch(Cn=h.normalizePropertyName(Cn,le),ui){case"!":ui=N[xn];break;case un:ui=Z[xn];break;default:ui=h.normalizeStyleValue(xn,Cn,ui,le)}ir[Cn]=ui}),qn||me.push(ir),pt=ir,Ue=In}),le.length)throw function Ho(I){return new v.vHH(3502,Wn)}();return me}function na(I,h,d,_){switch(h){case"start":I.onStart(()=>_(d&&Go(d,"start",I)));break;case"done":I.onDone(()=>_(d&&Go(d,"done",I)));break;case"destroy":I.onDestroy(()=>_(d&&Go(d,"destroy",I)))}}function Go(I,h,d){const _=d.totalTime,Z=Xs(I.element,I.triggerName,I.fromState,I.toState,h||I.phaseName,null==_?I.totalTime:_,!!d.disabled),le=I._data;return null!=le&&(Z._data=le),Z}function Xs(I,h,d,_,N="",Z=0,le){return{element:I,triggerName:h,fromState:d,toState:_,phaseName:N,totalTime:Z,disabled:!!le}}function qr(I,h,d){let _;return I instanceof Map?(_=I.get(h),_||I.set(h,_=d)):(_=I[h],_||(_=I[h]=d)),_}function Ls(I){const h=I.indexOf(":");return[I.substring(1,h),I.substr(h+1)]}let Wo=(I,h)=>!1,Ao=(I,h,d)=>[],Ts=null;function Vs(I){const h=I.parentNode||I.host;return h===Ts?null:h}(Ai()||"undefined"!=typeof Element)&&(rs()?(Ts=(()=>document.documentElement)(),Wo=(I,h)=>{for(;h;){if(h===I)return!0;h=Vs(h)}return!1}):Wo=(I,h)=>I.contains(h),Ao=(I,h,d)=>{if(d)return Array.from(I.querySelectorAll(h));const _=I.querySelector(h);return _?[_]:[]});let is=null,ra=!1;function lo(I){is||(is=function Ka(){return"undefined"!=typeof document?document.body:null}()||{},ra=!!is.style&&"WebkitAppearance"in is.style);let h=!0;return is.style&&!function Za(I){return"ebkit"==I.substring(1,6)}(I)&&(h=I in is.style,!h&&ra&&(h="Webkit"+I.charAt(0).toUpperCase()+I.substr(1)in is.style)),h}const ba=Wo,co=Ao;let ia=(()=>{class I{validateStyleProperty(d){return lo(d)}matchesElement(d,_){return!1}containsElement(d,_){return ba(d,_)}getParentElement(d){return Vs(d)}query(d,_,N){return co(d,_,N)}computeStyle(d,_,N){return N||""}animate(d,_,N,Z,le,me=[],Ue){return new $t(N,Z)}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})(),Si=(()=>{class I{}return I.NOOP=new ia,I})();const Us="ng-enter",kr="ng-leave",ho="ng-trigger",Ri=".ng-trigger",Ni="ng-animating",ai=".ng-animating";function Ds(I){if("number"==typeof I)return I;const h=I.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:So(parseFloat(h[1]),h[2])}function So(I,h){return"s"===h?1e3*I:I}function qo(I,h,d){return I.hasOwnProperty("duration")?I:function Ya(I,h,d){let N,Z=0,le="";if("string"==typeof I){const me=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return h.push($i()),{duration:0,delay:0,easing:""};N=So(parseFloat(me[1]),me[2]);const Ue=me[3];null!=Ue&&(Z=So(parseFloat(Ue),me[4]));const pt=me[5];pt&&(le=pt)}else N=I;if(!d){let me=!1,Ue=h.length;N<0&&(h.push(function uo(){return new v.vHH(3100,Wn)}()),me=!0),Z<0&&(h.push(function Ra(){return new v.vHH(3101,Wn)}()),me=!0),me&&h.splice(Ue,0,$i())}return{duration:N,delay:Z,easing:le}}(I,h,d)}function ps(I,h={}){return Object.keys(I).forEach(d=>{h[d]=I[d]}),h}function Zr(I,h,d={}){if(h)for(let _ in I)d[_]=I[_];else ps(I,d);return d}function fo(I,h,d){return d?h+":"+d+";":""}function As(I){let h="";for(let d=0;d<I.style.length;d++){const _=I.style.item(d);h+=fo(0,_,I.style.getPropertyValue(_))}for(const d in I.style)I.style.hasOwnProperty(d)&&!d.startsWith("_")&&(h+=fo(0,ju(d),I.style[d]));I.setAttribute("style",h)}function Vr(I,h,d){I.style&&(Object.keys(h).forEach(_=>{const N=ka(_);d&&!d.hasOwnProperty(_)&&(d[_]=I.style[N]),I.style[N]=h[_]}),Ai()&&As(I))}function eo(I,h){I.style&&(Object.keys(h).forEach(d=>{const _=ka(d);I.style[_]=""}),Ai()&&As(I))}function xo(I){return Array.isArray(I)?1==I.length?I[0]:Gt(I):I}const to=new RegExp("{{\\s*(.+?)\\s*}}","g");function aa(I){let h=[];if("string"==typeof I){let d;for(;d=to.exec(I);)h.push(d[1]);to.lastIndex=0}return h}function Na(I,h,d){const _=I.toString(),N=_.replace(to,(Z,le)=>{let me=h[le];return h.hasOwnProperty(le)||(d.push(function V(I){return new v.vHH(3003,Wn)}()),me=""),me.toString()});return N==_?I:N}function ua(I){const h=[];let d=I.next();for(;!d.done;)h.push(d.value),d=I.next();return h}const Qa=/-+([a-z0-9])/g;function ka(I){return I.replace(Qa,(...h)=>h[1].toUpperCase())}function ju(I){return I.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gs(I,h,d){switch(h.type){case 7:return I.visitTrigger(h,d);case 0:return I.visitState(h,d);case 1:return I.visitTransition(h,d);case 2:return I.visitSequence(h,d);case 3:return I.visitGroup(h,d);case 4:return I.visitAnimate(h,d);case 5:return I.visitKeyframes(h,d);case 6:return I.visitStyle(h,d);case 8:return I.visitReference(h,d);case 9:return I.visitAnimateChild(h,d);case 10:return I.visitAnimateRef(h,d);case 11:return I.visitQuery(h,d);case 12:return I.visitStagger(h,d);default:throw function Y(I){return new v.vHH(3004,Wn)}()}}function ms(I,h){return window.getComputedStyle(I)[h]}function ys(I,h){const d=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(_=>function Ja(I,h,d){if(":"==I[0]){const Ue=function en(I,h){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,_)=>parseFloat(_)>parseFloat(d);case":decrement":return(d,_)=>parseFloat(_)<parseFloat(d);default:return h.push(function nr(I){return new v.vHH(3016,Wn)}()),"* => *"}}(I,d);if("function"==typeof Ue)return void h.push(Ue);I=Ue}const _=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return d.push(function hs(I){return new v.vHH(3015,Wn)}()),h;const N=_[1],Z=_[2],le=_[3];h.push(Yt(N,le));"<"==Z[0]&&!("*"==N&&"*"==le)&&h.push(Yt(le,N))}(_,d,h)):d.push(I),d}const mn=new Set(["true","1"]),Zo=new Set(["false","0"]);function Yt(I,h){const d=mn.has(I)||Zo.has(I),_=mn.has(h)||Zo.has(h);return(N,Z)=>{let le="*"==I||I==N,me="*"==h||h==Z;return!le&&d&&"boolean"==typeof N&&(le=N?mn.has(I):Zo.has(I)),!me&&_&&"boolean"==typeof Z&&(me=Z?mn.has(h):Zo.has(h)),le&&me}}const It=new RegExp("s*:selfs*,?","g");function xi(I,h,d,_){return new b(I).build(h,d,_)}class b{constructor(h){this._driver=h}build(h,d,_){const N=new $(d);this._resetContextStyleTimingState(N);const Z=gs(this,xo(h),N);return N.unsupportedCSSPropertiesFound.size&&N.unsupportedCSSPropertiesFound.keys(),Z}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles={},h.collectedStyles[""]={},h.currentTime=0}visitTrigger(h,d){let _=d.queryCount=0,N=d.depCount=0;const Z=[],le=[];return"@"==h.name.charAt(0)&&d.errors.push(function ne(){return new v.vHH(3006,Wn)}()),h.definitions.forEach(me=>{if(this._resetContextStyleTimingState(d),0==me.type){const Ue=me,pt=Ue.name;pt.toString().split(/\s*,\s*/).forEach(qt=>{Ue.name=qt,Z.push(this.visitState(Ue,d))}),Ue.name=pt}else if(1==me.type){const Ue=this.visitTransition(me,d);_+=Ue.queryCount,N+=Ue.depCount,le.push(Ue)}else d.errors.push(function be(){return new v.vHH(3007,Wn)}())}),{type:7,name:h.name,states:Z,transitions:le,queryCount:_,depCount:N,options:null}}visitState(h,d){const _=this.visitStyle(h.styles,d),N=h.options&&h.options.params||null;if(_.containsDynamicStyles){const Z=new Set,le=N||{};_.styles.forEach(me=>{if(he(me)){const Ue=me;Object.keys(Ue).forEach(pt=>{aa(Ue[pt]).forEach(qt=>{le.hasOwnProperty(qt)||Z.add(qt)})})}}),Z.size&&(ua(Z.values()),d.errors.push(function lt(I,h){return new v.vHH(3008,Wn)}()))}return{type:0,name:h.name,style:_,options:N?{params:N}:null}}visitTransition(h,d){d.queryCount=0,d.depCount=0;const _=gs(this,xo(h.animation),d);return{type:1,matchers:ys(h.expr,d.errors),animation:_,queryCount:d.queryCount,depCount:d.depCount,options:tt(h.options)}}visitSequence(h,d){return{type:2,steps:h.steps.map(_=>gs(this,_,d)),options:tt(h.options)}}visitGroup(h,d){const _=d.currentTime;let N=0;const Z=h.steps.map(le=>{d.currentTime=_;const me=gs(this,le,d);return N=Math.max(N,d.currentTime),me});return d.currentTime=N,{type:3,steps:Z,options:tt(h.options)}}visitAnimate(h,d){const _=function Se(I,h){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return Jt(qo(I,h).duration,0,"");const d=I;if(d.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=Jt(0,0,"");return Z.dynamic=!0,Z.strValue=d,Z}const N=qo(d,h);return Jt(N.duration,N.delay,N.easing)}(h.timings,d.errors);d.currentAnimateTimings=_;let N,Z=h.styles?h.styles:Le({});if(5==Z.type)N=this.visitKeyframes(Z,d);else{let le=h.styles,me=!1;if(!le){me=!0;const pt={};_.easing&&(pt.easing=_.easing),le=Le(pt)}d.currentTime+=_.duration+_.delay;const Ue=this.visitStyle(le,d);Ue.isEmptyStep=me,N=Ue}return d.currentAnimateTimings=null,{type:4,timings:_,style:N,options:null}}visitStyle(h,d){const _=this._makeStyleAst(h,d);return this._validateStyleAst(_,d),_}_makeStyleAst(h,d){const _=[];Array.isArray(h.styles)?h.styles.forEach(le=>{"string"==typeof le?le==un?_.push(le):d.errors.push(function Et(I){return new v.vHH(3002,Wn)}()):_.push(le)}):_.push(h.styles);let N=!1,Z=null;return _.forEach(le=>{if(he(le)){const me=le,Ue=me.easing;if(Ue&&(Z=Ue,delete me.easing),!N)for(let pt in me)if(me[pt].toString().indexOf("{{")>=0){N=!0;break}}}),{type:6,styles:_,easing:Z,offset:h.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(h,d){const _=d.currentAnimateTimings;let N=d.currentTime,Z=d.currentTime;_&&Z>0&&(Z-=_.duration+_.delay),h.styles.forEach(le=>{"string"!=typeof le&&Object.keys(le).forEach(me=>{if(!this._driver.validateStyleProperty(me))return delete le[me],void d.unsupportedCSSPropertiesFound.add(me);const Ue=d.collectedStyles[d.currentQuerySelector],pt=Ue[me];let qt=!0;pt&&(Z!=N&&Z>=pt.startTime&&N<=pt.endTime&&(d.errors.push(function _r(I,h,d,_,N){return new v.vHH(3010,Wn)}()),qt=!1),Z=pt.startTime),qt&&(Ue[me]={startTime:Z,endTime:N}),d.options&&function as(I,h,d){const _=h.params||{},N=aa(I);N.length&&N.forEach(Z=>{_.hasOwnProperty(Z)||d.push(function Jr(I){return new v.vHH(3001,Wn)}())})}(le[me],d.options,d.errors)})})}visitKeyframes(h,d){const _={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function pr(){return new v.vHH(3011,Wn)}()),_;let Z=0;const le=[];let me=!1,Ue=!1,pt=0;const qt=h.steps.map(dr=>{const mi=this._makeStyleAst(dr,d);let T=null!=mi.offset?mi.offset:function ee(I){if("string"==typeof I)return null;let h=null;if(Array.isArray(I))I.forEach(d=>{if(he(d)&&d.hasOwnProperty("offset")){const _=d;h=parseFloat(_.offset),delete _.offset}});else if(he(I)&&I.hasOwnProperty("offset")){const d=I;h=parseFloat(d.offset),delete d.offset}return h}(mi.styles),P=0;return null!=T&&(Z++,P=mi.offset=T),Ue=Ue||P<0||P>1,me=me||P<pt,pt=P,le.push(P),mi});Ue&&d.errors.push(function Yn(){return new v.vHH(3012,Wn)}()),me&&d.errors.push(function ar(){return new v.vHH(3200,Wn)}());const In=h.steps.length;let qn=0;Z>0&&Z<In?d.errors.push(function ii(){return new v.vHH(3202,Wn)}()):0==Z&&(qn=1/(In-1));const ir=In-1,xn=d.currentTime,Cn=d.currentAnimateTimings,ui=Cn.duration;return qt.forEach((dr,mi)=>{const T=qn>0?mi==ir?1:qn*mi:le[mi],P=T*ui;d.currentTime=xn+Cn.delay+P,Cn.duration=P,this._validateStyleAst(dr,d),dr.offset=T,_.styles.push(dr)}),_}visitReference(h,d){return{type:8,animation:gs(this,xo(h.animation),d),options:tt(h.options)}}visitAnimateChild(h,d){return d.depCount++,{type:9,options:tt(h.options)}}visitAnimateRef(h,d){return{type:10,animation:this.visitReference(h.animation,d),options:tt(h.options)}}visitQuery(h,d){const _=d.currentQuerySelector,N=h.options||{};d.queryCount++,d.currentQuery=h;const[Z,le]=function C(I){const h=!!I.split(/\s*,\s*/).find(d=>":self"==d);return h&&(I=I.replace(It,"")),I=I.replace(/@\*/g,Ri).replace(/@\w+/g,d=>Ri+"-"+d.substr(1)).replace(/:animating/g,ai),[I,h]}(h.selector);d.currentQuerySelector=_.length?_+" "+Z:Z,qr(d.collectedStyles,d.currentQuerySelector,{});const me=gs(this,xo(h.animation),d);return d.currentQuery=null,d.currentQuerySelector=_,{type:11,selector:Z,limit:N.limit||0,optional:!!N.optional,includeSelf:le,animation:me,originalSelector:h.selector,options:tt(h.options)}}visitStagger(h,d){d.currentQuery||d.errors.push(function Pr(){return new v.vHH(3013,Wn)}());const _="full"===h.timings?{duration:0,delay:0,easing:"full"}:qo(h.timings,d.errors,!0);return{type:12,animation:gs(this,xo(h.animation),d),timings:_,options:null}}}class ${constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function he(I){return!Array.isArray(I)&&"object"==typeof I}function tt(I){return I?(I=ps(I)).params&&(I.params=function F(I){return I?ps(I):null}(I.params)):I={},I}function Jt(I,h,d){return{duration:I,delay:h,easing:d}}function Xn(I,h,d,_,N,Z,le=null,me=!1){return{type:1,element:I,keyframes:h,preStyleProps:d,postStyleProps:_,duration:N,delay:Z,totalTime:N+Z,easing:le,subTimeline:me}}class St{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,d){let _=this._map.get(h);_||this._map.set(h,_=[]),_.push(...d)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const hr=new RegExp(":enter","g"),Oo=new RegExp(":leave","g");function Nn(I,h,d,_,N,Z={},le={},me,Ue,pt=[]){return(new ro).buildKeyframes(I,h,d,_,N,Z,le,me,Ue,pt)}class ro{buildKeyframes(h,d,_,N,Z,le,me,Ue,pt,qt=[]){pt=pt||new St;const In=new Ut(h,d,pt,N,Z,qt,[]);In.options=Ue,In.currentTimeline.setStyles([le],null,In.errors,Ue),gs(this,_,In);const qn=In.timelines.filter(ir=>ir.containsAnimation());if(Object.keys(me).length){let ir;for(let xn=qn.length-1;xn>=0;xn--){const Cn=qn[xn];if(Cn.element===d){ir=Cn;break}}ir&&!ir.allowOnlyTimelineStyles()&&ir.setStyles([me],null,In.errors,Ue)}return qn.length?qn.map(ir=>ir.buildKeyframes()):[Xn(d,[],[],[],0,0,"",!1)]}visitTrigger(h,d){}visitState(h,d){}visitTransition(h,d){}visitAnimateChild(h,d){const _=d.subInstructions.get(d.element);if(_){const N=d.createSubContext(h.options),Z=d.currentTimeline.currentTime,le=this._visitSubInstructions(_,N,N.options);Z!=le&&d.transformIntoNewTimeline(le)}d.previousNode=h}visitAnimateRef(h,d){const _=d.createSubContext(h.options);_.transformIntoNewTimeline(),this.visitReference(h.animation,_),d.transformIntoNewTimeline(_.currentTimeline.currentTime),d.previousNode=h}_visitSubInstructions(h,d,_){let Z=d.currentTimeline.currentTime;const le=null!=_.duration?Ds(_.duration):null,me=null!=_.delay?Ds(_.delay):null;return 0!==le&&h.forEach(Ue=>{const pt=d.appendInstructionToTimeline(Ue,le,me);Z=Math.max(Z,pt.duration+pt.delay)}),Z}visitReference(h,d){d.updateOptions(h.options,!0),gs(this,h.animation,d),d.previousNode=h}visitSequence(h,d){const _=d.subContextCount;let N=d;const Z=h.options;if(Z&&(Z.params||Z.delay)&&(N=d.createSubContext(Z),N.transformIntoNewTimeline(),null!=Z.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Ar);const le=Ds(Z.delay);N.delayNextStep(le)}h.steps.length&&(h.steps.forEach(le=>gs(this,le,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>_&&N.transformIntoNewTimeline()),d.previousNode=h}visitGroup(h,d){const _=[];let N=d.currentTimeline.currentTime;const Z=h.options&&h.options.delay?Ds(h.options.delay):0;h.steps.forEach(le=>{const me=d.createSubContext(h.options);Z&&me.delayNextStep(Z),gs(this,le,me),N=Math.max(N,me.currentTimeline.currentTime),_.push(me.currentTimeline)}),_.forEach(le=>d.currentTimeline.mergeTimelineCollectedStyles(le)),d.transformIntoNewTimeline(N),d.previousNode=h}_visitTiming(h,d){if(h.dynamic){const _=h.strValue;return qo(d.params?Na(_,d.params,d.errors):_,d.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,d){const _=d.currentAnimateTimings=this._visitTiming(h.timings,d),N=d.currentTimeline;_.delay&&(d.incrementTime(_.delay),N.snapshotCurrentStyles());const Z=h.style;5==Z.type?this.visitKeyframes(Z,d):(d.incrementTime(_.duration),this.visitStyle(Z,d),N.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=h}visitStyle(h,d){const _=d.currentTimeline,N=d.currentAnimateTimings;!N&&_.getCurrentStyleProperties().length&&_.forwardFrame();const Z=N&&N.easing||h.easing;h.isEmptyStep?_.applyEmptyStep(Z):_.setStyles(h.styles,Z,d.errors,d.options),d.previousNode=h}visitKeyframes(h,d){const _=d.currentAnimateTimings,N=d.currentTimeline.duration,Z=_.duration,me=d.createSubContext().currentTimeline;me.easing=_.easing,h.styles.forEach(Ue=>{me.forwardTime((Ue.offset||0)*Z),me.setStyles(Ue.styles,Ue.easing,d.errors,d.options),me.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(me),d.transformIntoNewTimeline(N+Z),d.previousNode=h}visitQuery(h,d){const _=d.currentTimeline.currentTime,N=h.options||{},Z=N.delay?Ds(N.delay):0;Z&&(6===d.previousNode.type||0==_&&d.currentTimeline.getCurrentStyleProperties().length)&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Ar);let le=_;const me=d.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!N.optional,d.errors);d.currentQueryTotal=me.length;let Ue=null;me.forEach((pt,qt)=>{d.currentQueryIndex=qt;const In=d.createSubContext(h.options,pt);Z&&In.delayNextStep(Z),pt===d.element&&(Ue=In.currentTimeline),gs(this,h.animation,In),In.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,In.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(le),Ue&&(d.currentTimeline.mergeTimelineCollectedStyles(Ue),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=h}visitStagger(h,d){const _=d.parentContext,N=d.currentTimeline,Z=h.timings,le=Math.abs(Z.duration),me=le*(d.currentQueryTotal-1);let Ue=le*d.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":Ue=me-Ue;break;case"full":Ue=_.currentStaggerTime}const qt=d.currentTimeline;Ue&&qt.delayNextStep(Ue);const In=qt.currentTime;gs(this,h.animation,d),d.previousNode=h,_.currentStaggerTime=N.currentTime-In+(N.startTime-_.currentTimeline.startTime)}}const Ar={};class Ut{constructor(h,d,_,N,Z,le,me,Ue){this._driver=h,this.element=d,this.subInstructions=_,this._enterClassName=N,this._leaveClassName=Z,this.errors=le,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ar,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ue||new Ta(this._driver,d,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,d){if(!h)return;const _=h;let N=this.options;null!=_.duration&&(N.duration=Ds(_.duration)),null!=_.delay&&(N.delay=Ds(_.delay));const Z=_.params;if(Z){let le=N.params;le||(le=this.options.params={}),Object.keys(Z).forEach(me=>{(!d||!le.hasOwnProperty(me))&&(le[me]=Na(Z[me],le,this.errors))})}}_copyOptions(){const h={};if(this.options){const d=this.options.params;if(d){const _=h.params={};Object.keys(d).forEach(N=>{_[N]=d[N]})}}return h}createSubContext(h=null,d,_){const N=d||this.element,Z=new Ut(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,_||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(h),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(h){return this.previousNode=Ar,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,d,_){const N={duration:null!=d?d:h.duration,delay:this.currentTimeline.currentTime+(null!=_?_:0)+h.delay,easing:""},Z=new La(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,N,h.stretchStartingKeyframe);return this.timelines.push(Z),N}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,d,_,N,Z,le){let me=[];if(N&&me.push(this.element),h.length>0){h=(h=h.replace(hr,"."+this._enterClassName)).replace(Oo,"."+this._leaveClassName);let pt=this._driver.query(this.element,h,1!=_);0!==_&&(pt=_<0?pt.slice(pt.length+_,pt.length):pt.slice(0,_)),me.push(...pt)}return!Z&&0==me.length&&le.push(function Wr(I){return new v.vHH(3014,Wn)}()),me}}class Ta{constructor(h,d,_,N){this._driver=h,this.element=d,this.startTime=_,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const d=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||d?(this.forwardTime(this.currentTime+h),d&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,d){return this.applyStylesToKeyframe(),new Ta(this._driver,h,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,d){this._localTimelineStyles[h]=d,this._globalTimelineStyles[h]=d,this._styleSummary[h]={time:this.currentTime,value:d}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&(this._previousKeyframe.easing=h),Object.keys(this._globalTimelineStyles).forEach(d=>{this._backFill[d]=this._globalTimelineStyles[d]||un,this._currentKeyframe[d]=un}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,d,_,N){d&&(this._previousKeyframe.easing=d);const Z=N&&N.params||{},le=function bu(I,h){const d={};let _;return I.forEach(N=>{"*"===N?(_=_||Object.keys(h),_.forEach(Z=>{d[Z]=un})):Zr(N,!1,d)}),d}(h,this._globalTimelineStyles);Object.keys(le).forEach(me=>{const Ue=Na(le[me],Z,_);this._pendingStyles[me]=Ue,this._localTimelineStyles.hasOwnProperty(me)||(this._backFill[me]=this._globalTimelineStyles.hasOwnProperty(me)?this._globalTimelineStyles[me]:un),this._updateStyle(me,Ue)})}applyStylesToKeyframe(){const h=this._pendingStyles,d=Object.keys(h);0!=d.length&&(this._pendingStyles={},d.forEach(_=>{this._currentKeyframe[_]=h[_]}),Object.keys(this._localTimelineStyles).forEach(_=>{this._currentKeyframe.hasOwnProperty(_)||(this._currentKeyframe[_]=this._localTimelineStyles[_])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(h=>{const d=this._localTimelineStyles[h];this._pendingStyles[h]=d,this._updateStyle(h,d)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let d in this._currentKeyframe)h.push(d);return h}mergeTimelineCollectedStyles(h){Object.keys(h._styleSummary).forEach(d=>{const _=this._styleSummary[d],N=h._styleSummary[d];(!_||N.time>_.time)&&this._updateStyle(d,N.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,d=new Set,_=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((me,Ue)=>{const pt=Zr(me,!0);Object.keys(pt).forEach(qt=>{const In=pt[qt];"!"==In?h.add(qt):In==un&&d.add(qt)}),_||(pt.offset=Ue/this.duration),N.push(pt)});const Z=h.size?ua(h.values()):[],le=d.size?ua(d.values()):[];if(_){const me=N[0],Ue=ps(me);me.offset=0,Ue.offset=1,N=[me,Ue]}return Xn(this.element,N,Z,le,this.duration,this.startTime,this.easing,!1)}}class La extends Ta{constructor(h,d,_,N,Z,le,me=!1){super(h,d,le.delay),this.keyframes=_,this.preStyleProps=N,this.postStyleProps=Z,this._stretchStartingKeyframe=me,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:d,duration:_,easing:N}=this.timings;if(this._stretchStartingKeyframe&&d){const Z=[],le=_+d,me=d/le,Ue=Zr(h[0],!1);Ue.offset=0,Z.push(Ue);const pt=Zr(h[0],!1);pt.offset=Zs(me),Z.push(pt);const qt=h.length-1;for(let In=1;In<=qt;In++){let qn=Zr(h[In],!1);qn.offset=Zs((d+qn.offset*_)/le),Z.push(qn)}_=le,d=0,N="",h=Z}return Xn(this.element,h,this.preStyleProps,this.postStyleProps,_,d,N,!0)}}function Zs(I,h=3){const d=Math.pow(10,h-1);return Math.round(I*d)/d}class ci{}class Wl extends ci{normalizePropertyName(h,d){return ka(h)}normalizeStyleValue(h,d,_,N){let Z="";const le=_.toString().trim();if(ql[d]&&0!==_&&"0"!==_)if("number"==typeof _)Z="px";else{const me=_.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&N.push(function L(I,h){return new v.vHH(3005,Wn)}())}return le+Z}}const ql=(()=>function Ro(I){const h={};return I.forEach(d=>h[d]=!0),h}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Tu(I,h,d,_,N,Z,le,me,Ue,pt,qt,In,qn){return{type:0,element:I,triggerName:h,isRemovalTransition:N,fromState:d,fromStyles:Z,toState:_,toStyles:le,timelines:me,queriedElements:Ue,preStyleProps:pt,postStyleProps:qt,totalTime:In,errors:qn}}const zu={};class Gu{constructor(h,d,_){this._triggerName=h,this.ast=d,this._stateStyles=_}match(h,d,_,N){return function go(I,h,d,_,N){return I.some(Z=>Z(h,d,_,N))}(this.ast.matchers,h,d,_,N)}buildStyles(h,d,_){const N=this._stateStyles["*"],Z=this._stateStyles[h],le=N?N.buildStyles(d,_):{};return Z?Z.buildStyles(d,_):le}build(h,d,_,N,Z,le,me,Ue,pt,qt){const In=[],qn=this.ast.options&&this.ast.options.params||zu,xn=this.buildStyles(_,me&&me.params||zu,In),Cn=Ue&&Ue.params||zu,ui=this.buildStyles(N,Cn,In),dr=new Set,mi=new Map,T=new Map,P="void"===N,H={params:Object.assign(Object.assign({},qn),Cn)},ue=qt?[]:Nn(h,d,this.ast.animation,Z,le,xn,ui,H,pt,In);let Ie=0;if(ue.forEach(We=>{Ie=Math.max(We.duration+We.delay,Ie)}),In.length)return Tu(d,this._triggerName,_,N,P,xn,ui,[],[],mi,T,Ie,In);ue.forEach(We=>{const Vt=We.element,zt=qr(mi,Vt,{});We.preStyleProps.forEach(Bn=>zt[Bn]=!0);const ln=qr(T,Vt,{});We.postStyleProps.forEach(Bn=>ln[Bn]=!0),Vt!==d&&dr.add(Vt)});const Te=ua(dr.values());return Tu(d,this._triggerName,_,N,P,xn,ui,ue,Te,mi,T,Ie)}}class cl{constructor(h,d,_){this.styles=h,this.defaultParams=d,this.normalizer=_}buildStyles(h,d){const _={},N=ps(this.defaultParams);return Object.keys(h).forEach(Z=>{const le=h[Z];null!=le&&(N[Z]=le)}),this.styles.styles.forEach(Z=>{if("string"!=typeof Z){const le=Z;Object.keys(le).forEach(me=>{let Ue=le[me];Ue.length>1&&(Ue=Na(Ue,N,d));const pt=this.normalizer.normalizePropertyName(me,d);Ue=this.normalizer.normalizeStyleValue(me,pt,Ue,d),_[pt]=Ue})}}),_}}class la{constructor(h,d,_){this.name=h,this.ast=d,this._normalizer=_,this.transitionFactories=[],this.states={},d.states.forEach(N=>{this.states[N.name]=new cl(N.style,N.options&&N.options.params||{},_)}),dl(this.states,"true","1"),dl(this.states,"false","0"),d.transitions.forEach(N=>{this.transitionFactories.push(new Gu(h,N,this.states))}),this.fallbackTransition=function _s(I,h,d){return new Gu(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,me)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,d,_,N){return this.transitionFactories.find(le=>le.match(h,d,_,N))||null}matchStyles(h,d,_){return this.fallbackTransition.buildStyles(h,d,_)}}function dl(I,h,d){I.hasOwnProperty(h)?I.hasOwnProperty(d)||(I[d]=I[h]):I.hasOwnProperty(d)&&(I[h]=I[d])}const Va=new St;class Ui{constructor(h,d,_){this.bodyNode=h,this._driver=d,this._normalizer=_,this._animations={},this._playersById={},this.players=[]}register(h,d){const _=[],Z=xi(this._driver,d,_,[]);if(_.length)throw function zo(I){return new v.vHH(3503,Wn)}();this._animations[h]=Z}_buildPlayer(h,d,_){const N=h.element,Z=Ca(0,this._normalizer,0,h.keyframes,d,_);return this._driver.animate(N,Z,h.duration,h.delay,h.easing,[],!0)}create(h,d,_={}){const N=[],Z=this._animations[h];let le;const me=new Map;if(Z?(le=Nn(this._driver,d,Z,Us,kr,{},{},_,Va,N),le.forEach(qt=>{const In=qr(me,qt.element,{});qt.postStyleProps.forEach(qn=>In[qn]=null)})):(N.push(function j(){return new v.vHH(3300,Wn)}()),le=[]),N.length)throw function k(I){return new v.vHH(3504,Wn)}();me.forEach((qt,In)=>{Object.keys(qt).forEach(qn=>{qt[qn]=this._driver.computeStyle(In,qn,un)})});const pt=fi(le.map(qt=>{const In=me.get(qt.element);return this._buildPlayer(qt,{},In)}));return this._playersById[h]=pt,pt.onDestroy(()=>this.destroy(h)),this.players.push(pt),pt}destroy(h){const d=this._getPlayer(h);d.destroy(),delete this._playersById[h];const _=this.players.indexOf(d);_>=0&&this.players.splice(_,1)}_getPlayer(h){const d=this._playersById[h];if(!d)throw function R(I){return new v.vHH(3301,Wn)}();return d}listen(h,d,_,N){const Z=Xs(d,"","","");return na(this._getPlayer(h),_,Z,N),()=>{}}command(h,d,_,N){if("register"==_)return void this.register(h,N[0]);if("create"==_)return void this.create(h,d,N[0]||{});const Z=this._getPlayer(h);switch(_){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(h)}}}const No="ng-animate-queued",ca="ng-animate-disabled",Bs=[],cu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ss="__ng_removed";class Kr{constructor(h,d=""){this.namespaceId=d;const _=h&&h.hasOwnProperty("value");if(this.value=function Au(I){return null!=I?I:null}(_?h.value:h),_){const Z=ps(h);delete Z.value,this.options=Z}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(h){const d=h.params;if(d){const _=this.options.params;Object.keys(d).forEach(N=>{null==_[N]&&(_[N]=d[N])})}}}const da="void",ko=new Kr(da);class Fo{constructor(h,d,_){this.id=h,this.hostElement=d,this._engine=_,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,Hi(d,this._hostClassName)}listen(h,d,_,N){if(!this._triggers.hasOwnProperty(d))throw function X(I,h){return new v.vHH(3302,Wn)}();if(null==_||0==_.length)throw function _e(I){return new v.vHH(3303,Wn)}();if(!function hu(I){return"start"==I||"done"==I}(_))throw function xt(I,h){return new v.vHH(3400,Wn)}();const Z=qr(this._elementListeners,h,[]),le={name:d,phase:_,callback:N};Z.push(le);const me=qr(this._engine.statesByElement,h,{});return me.hasOwnProperty(d)||(Hi(h,ho),Hi(h,ho+"-"+d),me[d]=ko),()=>{this._engine.afterFlush(()=>{const Ue=Z.indexOf(le);Ue>=0&&Z.splice(Ue,1),this._triggers[d]||delete me[d]})}}register(h,d){return!this._triggers[h]&&(this._triggers[h]=d,!0)}_getTrigger(h){const d=this._triggers[h];if(!d)throw function Tr(I){return new v.vHH(3401,Wn)}();return d}trigger(h,d,_,N=!0){const Z=this._getTrigger(d),le=new Ko(this.id,d,h);let me=this._engine.statesByElement.get(h);me||(Hi(h,ho),Hi(h,ho+"-"+d),this._engine.statesByElement.set(h,me={}));let Ue=me[d];const pt=new Kr(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&Ue&&pt.absorbOptions(Ue.options),me[d]=pt,Ue||(Ue=ko),pt.value!==da&&Ue.value===pt.value){if(!function fl(I,h){const d=Object.keys(I),_=Object.keys(h);if(d.length!=_.length)return!1;for(let N=0;N<d.length;N++){const Z=d[N];if(!h.hasOwnProperty(Z)||I[Z]!==h[Z])return!1}return!0}(Ue.params,pt.params)){const Cn=[],ui=Z.matchStyles(Ue.value,Ue.params,Cn),dr=Z.matchStyles(pt.value,pt.params,Cn);Cn.length?this._engine.reportError(Cn):this._engine.afterFlush(()=>{eo(h,ui),Vr(h,dr)})}return}const qn=qr(this._engine.playersByElement,h,[]);qn.forEach(Cn=>{Cn.namespaceId==this.id&&Cn.triggerName==d&&Cn.queued&&Cn.destroy()});let ir=Z.matchTransition(Ue.value,pt.value,h,pt.params),xn=!1;if(!ir){if(!N)return;ir=Z.fallbackTransition,xn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:d,transition:ir,fromState:Ue,toState:pt,player:le,isFallbackTransition:xn}),xn||(Hi(h,No),le.onStart(()=>{Lo(h,No)})),le.onDone(()=>{let Cn=this.players.indexOf(le);Cn>=0&&this.players.splice(Cn,1);const ui=this._engine.playersByElement.get(h);if(ui){let dr=ui.indexOf(le);dr>=0&&ui.splice(dr,1)}}),this.players.push(le),qn.push(le),le}deregister(h){delete this._triggers[h],this._engine.statesByElement.forEach((d,_)=>{delete d[h]}),this._elementListeners.forEach((d,_)=>{this._elementListeners.set(_,d.filter(N=>N.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const d=this._engine.playersByElement.get(h);d&&(d.forEach(_=>_.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,d){const _=this._engine.driver.query(h,Ri,!0);_.forEach(N=>{if(N[Ss])return;const Z=this._engine.fetchNamespacesByElement(N);Z.size?Z.forEach(le=>le.triggerLeaveAnimation(N,d,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(h,d,_,N){const Z=this._engine.statesByElement.get(h),le=new Map;if(Z){const me=[];if(Object.keys(Z).forEach(Ue=>{if(le.set(Ue,Z[Ue].value),this._triggers[Ue]){const pt=this.trigger(h,Ue,da,N);pt&&me.push(pt)}}),me.length)return this._engine.markElementAsRemoved(this.id,h,!0,d,le),_&&fi(me).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const d=this._elementListeners.get(h),_=this._engine.statesByElement.get(h);if(d&&_){const N=new Set;d.forEach(Z=>{const le=Z.name;if(N.has(le))return;N.add(le);const Ue=this._triggers[le].fallbackTransition,pt=_[le]||ko,qt=new Kr(da),In=new Ko(this.id,le,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:le,transition:Ue,fromState:pt,toState:qt,player:In,isFallbackTransition:!0})})}}removeNode(h,d){const _=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,d),this.triggerLeaveAnimation(h,d,!0))return;let N=!1;if(_.totalAnimations){const Z=_.players.length?_.playersByQueriedElement.get(h):[];if(Z&&Z.length)N=!0;else{let le=h;for(;le=le.parentNode;)if(_.statesByElement.get(le)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(h),N)_.markElementAsRemoved(this.id,h,!1,d);else{const Z=h[Ss];(!Z||Z===cu)&&(_.afterFlush(()=>this.clearElementCache(h)),_.destroyInnerAnimations(h),_._onRemovalComplete(h,d))}}insertNode(h,d){Hi(h,this._hostClassName)}drainQueuedTransitions(h){const d=[];return this._queue.forEach(_=>{const N=_.player;if(N.destroyed)return;const Z=_.element,le=this._elementListeners.get(Z);le&&le.forEach(me=>{if(me.name==_.triggerName){const Ue=Xs(Z,_.triggerName,_.fromState.value,_.toState.value);Ue._data=h,na(_.player,me.phase,Ue,me.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):d.push(_)}),this._queue=[],d.sort((_,N)=>{const Z=_.transition.ast.depCount,le=N.transition.ast.depCount;return 0==Z||0==le?Z-le:this._engine.driver.containsElement(_.element,N.element)?1:-1})}destroy(h){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}elementContainsData(h){let d=!1;return this._elementListeners.has(h)&&(d=!0),d=!!this._queue.find(_=>_.element===h)||d,d}}class du{constructor(h,d,_){this.bodyNode=h,this.driver=d,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,Z)=>{}}_onRemovalComplete(h,d){this.onRemovalComplete(h,d)}get queuedPlayers(){const h=[];return this._namespaceList.forEach(d=>{d.players.forEach(_=>{_.queued&&h.push(_)})}),h}createNamespace(h,d){const _=new Fo(h,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(_,d):(this.newHostElements.set(d,_),this.collectEnterElement(d)),this._namespaceLookup[h]=_}_balanceNamespaceList(h,d){const _=this._namespaceList,N=this.namespacesByHostElement,Z=_.length-1;if(Z>=0){let le=!1;if(void 0!==this.driver.getParentElement){let me=this.driver.getParentElement(d);for(;me;){const Ue=N.get(me);if(Ue){const pt=_.indexOf(Ue);_.splice(pt+1,0,h),le=!0;break}me=this.driver.getParentElement(me)}}else for(let me=Z;me>=0;me--)if(this.driver.containsElement(_[me].hostElement,d)){_.splice(me+1,0,h),le=!0;break}le||_.unshift(h)}else _.push(h);return N.set(d,h),h}register(h,d){let _=this._namespaceLookup[h];return _||(_=this.createNamespace(h,d)),_}registerTrigger(h,d,_){let N=this._namespaceLookup[h];N&&N.register(d,_)&&this.totalAnimations++}destroy(h,d){if(!h)return;const _=this._fetchNamespace(h);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[h];const N=this._namespaceList.indexOf(_);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>_.destroy(d))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const d=new Set,_=this.statesByElement.get(h);if(_){const N=Object.keys(_);for(let Z=0;Z<N.length;Z++){const le=_[N[Z]].namespaceId;if(le){const me=this._fetchNamespace(le);me&&d.add(me)}}}return d}trigger(h,d,_,N){if(Su(d)){const Z=this._fetchNamespace(h);if(Z)return Z.trigger(d,_,N),!0}return!1}insertNode(h,d,_,N){if(!Su(d))return;const Z=d[Ss];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const le=this.collectedLeaveElements.indexOf(d);le>=0&&this.collectedLeaveElements.splice(le,1)}if(h){const le=this._fetchNamespace(h);le&&le.insertNode(d,_)}N&&this.collectEnterElement(d)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,d){d?this.disabledNodes.has(h)||(this.disabledNodes.add(h),Hi(h,ca)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Lo(h,ca))}removeNode(h,d,_,N){if(Su(d)){const Z=h?this._fetchNamespace(h):null;if(Z?Z.removeNode(d,N):this.markElementAsRemoved(h,d,!1,N),_){const le=this.namespacesByHostElement.get(d);le&&le.id!==h&&le.removeNode(d,N)}}else this._onRemovalComplete(d,N)}markElementAsRemoved(h,d,_,N,Z){this.collectedLeaveElements.push(d),d[Ss]={namespaceId:h,setForRemoval:N,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(h,d,_,N,Z){return Su(d)?this._fetchNamespace(h).listen(d,_,N,Z):()=>{}}_buildInstruction(h,d,_,N,Z){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,_,N,h.fromState.options,h.toState.options,d,Z)}destroyInnerAnimations(h){let d=this.driver.query(h,Ri,!0);d.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(h,ai,!0),d.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(h){const d=this.playersByElement.get(h);d&&d.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(h){const d=this.playersByQueriedElement.get(h);d&&d.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return fi(this.players).onDone(()=>h());h()})}processLeaveNode(h){var d;const _=h[Ss];if(_&&_.setForRemoval){if(h[Ss]=cu,_.namespaceId){this.destroyInnerAnimations(h);const N=this._fetchNamespace(_.namespaceId);N&&N.clearElementCache(h)}this._onRemovalComplete(h,_.setForRemoval)}(null===(d=h.classList)||void 0===d?void 0:d.contains(ca))&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(h=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,N)=>this._balanceNamespaceList(_,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)Hi(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{d=this._flushAnimations(_,h)}finally{for(let N=0;N<_.length;N++)_[N]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],d.length?fi(d).onDone(()=>{_.forEach(N=>N())}):_.forEach(N=>N())}}reportError(h){throw function yr(I){return new v.vHH(3402,Wn)}()}_flushAnimations(h,d){const _=new St,N=[],Z=new Map,le=[],me=new Map,Ue=new Map,pt=new Map,qt=new Set;this.disabledNodes.forEach(Qt=>{qt.add(Qt);const Tn=this.driver.query(Qt,".ng-animate-queued",!0);for(let Qn=0;Qn<Tn.length;Qn++)qt.add(Tn[Qn])});const In=this.bodyNode,qn=Array.from(this.statesByElement.keys()),ir=Ba(qn,this.collectedEnterElements),xn=new Map;let Cn=0;ir.forEach((Qt,Tn)=>{const Qn=Us+Cn++;xn.set(Tn,Qn),Qt.forEach(Sr=>Hi(Sr,Qn))});const ui=[],dr=new Set,mi=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const Tn=this.collectedLeaveElements[Qt],Qn=Tn[Ss];Qn&&Qn.setForRemoval&&(ui.push(Tn),dr.add(Tn),Qn.hasAnimation?this.driver.query(Tn,".ng-star-inserted",!0).forEach(Sr=>dr.add(Sr)):mi.add(Tn))}const T=new Map,P=Ba(qn,Array.from(dr));P.forEach((Qt,Tn)=>{const Qn=kr+Cn++;T.set(Tn,Qn),Qt.forEach(Sr=>Hi(Sr,Qn))}),h.push(()=>{ir.forEach((Qt,Tn)=>{const Qn=xn.get(Tn);Qt.forEach(Sr=>Lo(Sr,Qn))}),P.forEach((Qt,Tn)=>{const Qn=T.get(Tn);Qt.forEach(Sr=>Lo(Sr,Qn))}),ui.forEach(Qt=>{this.processLeaveNode(Qt)})});const H=[],ue=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(d).forEach(Qn=>{const Sr=Qn.player,yi=Qn.element;if(H.push(Sr),this.collectedEnterElements.length){const vs=yi[Ss];if(vs&&vs.setForMove){if(vs.previousTriggersValues&&vs.previousTriggersValues.has(Qn.triggerName)){const _o=vs.previousTriggersValues.get(Qn.triggerName),Jo=this.statesByElement.get(Qn.element);Jo&&Jo[Qn.triggerName]&&(Jo[Qn.triggerName].value=_o)}return void Sr.destroy()}}const Yi=!In||!this.driver.containsElement(In,yi),Ps=T.get(yi),Sa=xn.get(yi),Mi=this._buildInstruction(Qn,_,Sa,Ps,Yi);if(Mi.errors&&Mi.errors.length)return void ue.push(Mi);if(Yi)return Sr.onStart(()=>eo(yi,Mi.fromStyles)),Sr.onDestroy(()=>Vr(yi,Mi.toStyles)),void N.push(Sr);if(Qn.isFallbackTransition)return Sr.onStart(()=>eo(yi,Mi.fromStyles)),Sr.onDestroy(()=>Vr(yi,Mi.toStyles)),void N.push(Sr);const Cc=[];Mi.timelines.forEach(vs=>{vs.stretchStartingKeyframe=!0,this.disabledNodes.has(vs.element)||Cc.push(vs)}),Mi.timelines=Cc,_.append(yi,Mi.timelines),le.push({instruction:Mi,player:Sr,element:yi}),Mi.queriedElements.forEach(vs=>qr(me,vs,[]).push(Sr)),Mi.preStyleProps.forEach((vs,_o)=>{const Jo=Object.keys(vs);if(Jo.length){let xa=Ue.get(_o);xa||Ue.set(_o,xa=new Set),Jo.forEach(Nu=>xa.add(Nu))}}),Mi.postStyleProps.forEach((vs,_o)=>{const Jo=Object.keys(vs);let xa=pt.get(_o);xa||pt.set(_o,xa=new Set),Jo.forEach(Nu=>xa.add(Nu))})});if(ue.length){const Qt=[];ue.forEach(Tn=>{Qt.push(function fs(I,h){return new v.vHH(3505,Wn)}())}),H.forEach(Tn=>Tn.destroy()),this.reportError(Qt)}const Ie=new Map,Te=new Map;le.forEach(Qt=>{const Tn=Qt.element;_.has(Tn)&&(Te.set(Tn,Tn),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,Ie))}),N.forEach(Qt=>{const Tn=Qt.element;this._getPreviousPlayers(Tn,!1,Qt.namespaceId,Qt.triggerName,null).forEach(Sr=>{qr(Ie,Tn,[]).push(Sr),Sr.destroy()})});const We=ui.filter(Qt=>Vo(Qt,Ue,pt)),Vt=new Map;mo(Vt,this.driver,mi,pt,un).forEach(Qt=>{Vo(Qt,Ue,pt)&&We.push(Qt)});const ln=new Map;ir.forEach((Qt,Tn)=>{mo(ln,this.driver,new Set(Qt),Ue,"!")}),We.forEach(Qt=>{const Tn=Vt.get(Qt),Qn=ln.get(Qt);Vt.set(Qt,Object.assign(Object.assign({},Tn),Qn))});const Bn=[],Mn=[],zi={};le.forEach(Qt=>{const{element:Tn,player:Qn,instruction:Sr}=Qt;if(_.has(Tn)){if(qt.has(Tn))return Qn.onDestroy(()=>Vr(Tn,Sr.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(Sr.totalTime),void N.push(Qn);let yi=zi;if(Te.size>1){let Ps=Tn;const Sa=[];for(;Ps=Ps.parentNode;){const Mi=Te.get(Ps);if(Mi){yi=Mi;break}Sa.push(Ps)}Sa.forEach(Mi=>Te.set(Mi,yi))}const Yi=this._buildAnimation(Qn.namespaceId,Sr,Ie,Z,ln,Vt);if(Qn.setRealPlayer(Yi),yi===zi)Bn.push(Qn);else{const Ps=this.playersByElement.get(yi);Ps&&Ps.length&&(Qn.parentPlayer=fi(Ps)),N.push(Qn)}}else eo(Tn,Sr.fromStyles),Qn.onDestroy(()=>Vr(Tn,Sr.toStyles)),Mn.push(Qn),qt.has(Tn)&&N.push(Qn)}),Mn.forEach(Qt=>{const Tn=Z.get(Qt.element);if(Tn&&Tn.length){const Qn=fi(Tn);Qt.setRealPlayer(Qn)}}),N.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<ui.length;Qt++){const Tn=ui[Qt],Qn=Tn[Ss];if(Lo(Tn,kr),Qn&&Qn.hasAnimation)continue;let Sr=[];if(me.size){let Yi=me.get(Tn);Yi&&Yi.length&&Sr.push(...Yi);let Ps=this.driver.query(Tn,ai,!0);for(let Sa=0;Sa<Ps.length;Sa++){let Mi=me.get(Ps[Sa]);Mi&&Mi.length&&Sr.push(...Mi)}}const yi=Sr.filter(Yi=>!Yi.destroyed);yi.length?xu(this,Tn,yi):this.processLeaveNode(Tn)}return ui.length=0,Bn.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const Tn=this.players.indexOf(Qt);this.players.splice(Tn,1)}),Qt.play()}),Bn}elementContainsData(h,d){let _=!1;const N=d[Ss];return N&&N.setForRemoval&&(_=!0),this.playersByElement.has(d)&&(_=!0),this.playersByQueriedElement.has(d)&&(_=!0),this.statesByElement.has(d)&&(_=!0),this._fetchNamespace(h).elementContainsData(d)||_}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,d,_,N,Z){let le=[];if(d){const me=this.playersByQueriedElement.get(h);me&&(le=me)}else{const me=this.playersByElement.get(h);if(me){const Ue=!Z||Z==da;me.forEach(pt=>{pt.queued||!Ue&&pt.triggerName!=N||le.push(pt)})}}return(_||N)&&(le=le.filter(me=>!(_&&_!=me.namespaceId||N&&N!=me.triggerName))),le}_beforeAnimationBuild(h,d,_){const Z=d.element,le=d.isRemovalTransition?void 0:h,me=d.isRemovalTransition?void 0:d.triggerName;for(const Ue of d.timelines){const pt=Ue.element,qt=pt!==Z,In=qr(_,pt,[]);this._getPreviousPlayers(pt,qt,le,me,d.toState).forEach(ir=>{const xn=ir.getRealPlayer();xn.beforeDestroy&&xn.beforeDestroy(),ir.destroy(),In.push(ir)})}eo(Z,d.fromStyles)}_buildAnimation(h,d,_,N,Z,le){const me=d.triggerName,Ue=d.element,pt=[],qt=new Set,In=new Set,qn=d.timelines.map(xn=>{const Cn=xn.element;qt.add(Cn);const ui=Cn[Ss];if(ui&&ui.removedBeforeQueried)return new $t(xn.duration,xn.delay);const dr=Cn!==Ue,mi=function ha(I){const h=[];return Mu(I,h),h}((_.get(Cn)||Bs).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===Cn),T=Z.get(Cn),P=le.get(Cn),H=Ca(0,this._normalizer,0,xn.keyframes,T,P),ue=this._buildPlayer(xn,H,mi);if(xn.subTimeline&&N&&In.add(Cn),dr){const Ie=new Ko(h,me,Cn);Ie.setRealPlayer(ue),pt.push(Ie)}return ue});pt.forEach(xn=>{qr(this.playersByQueriedElement,xn.element,[]).push(xn),xn.onDone(()=>function eu(I,h,d){let _;if(I instanceof Map){if(_=I.get(h),_){if(_.length){const N=_.indexOf(d);_.splice(N,1)}0==_.length&&I.delete(h)}}else if(_=I[h],_){if(_.length){const N=_.indexOf(d);_.splice(N,1)}0==_.length&&delete I[h]}return _}(this.playersByQueriedElement,xn.element,xn))}),qt.forEach(xn=>Hi(xn,Ni));const ir=fi(qn);return ir.onDestroy(()=>{qt.forEach(xn=>Lo(xn,Ni)),Vr(Ue,d.toStyles)}),In.forEach(xn=>{qr(N,xn,[]).push(ir)}),ir}_buildPlayer(h,d,_){return d.length>0?this.driver.animate(h.element,d,h.duration,h.delay,h.easing,_):new $t(h.duration,h.delay)}}class Ko{constructor(h,d,_){this.namespaceId=h,this.triggerName=d,this.element=_,this._player=new $t,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,Object.keys(this._queuedCallbacks).forEach(d=>{this._queuedCallbacks[d].forEach(_=>na(h,d,void 0,_))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const d=this._player;d.triggerCallback&&h.onStart(()=>d.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,d){qr(this._queuedCallbacks,h,[]).push(d)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const d=this._player;d.triggerCallback&&d.triggerCallback(h)}}function Su(I){return I&&1===I.nodeType}function Wu(I,h){const d=I.style.display;return I.style.display=null!=h?h:"none",d}function mo(I,h,d,_,N){const Z=[];d.forEach(Ue=>Z.push(Wu(Ue)));const le=[];_.forEach((Ue,pt)=>{const qt={};Ue.forEach(In=>{const qn=qt[In]=h.computeStyle(pt,In,N);(!qn||0==qn.length)&&(pt[Ss]=Xa,le.push(pt))}),I.set(pt,qt)});let me=0;return d.forEach(Ue=>Wu(Ue,Z[me++])),le}function Ba(I,h){const d=new Map;if(I.forEach(me=>d.set(me,[])),0==h.length)return d;const N=new Set(h),Z=new Map;function le(me){if(!me)return 1;let Ue=Z.get(me);if(Ue)return Ue;const pt=me.parentNode;return Ue=d.has(pt)?pt:N.has(pt)?1:le(pt),Z.set(me,Ue),Ue}return h.forEach(me=>{const Ue=le(me);1!==Ue&&d.get(Ue).push(me)}),d}function Hi(I,h){var d;null===(d=I.classList)||void 0===d||d.add(h)}function Lo(I,h){var d;null===(d=I.classList)||void 0===d||d.remove(h)}function xu(I,h,d){fi(d).onDone(()=>I.processLeaveNode(h))}function Mu(I,h){for(let d=0;d<I.length;d++){const _=I[d];_ instanceof cr?Mu(_.players,h):h.push(_)}}function Vo(I,h,d){const _=d.get(I);if(!_)return!1;let N=h.get(I);return N?_.forEach(Z=>N.add(Z)):h.set(I,_),d.delete(I),!0}class fa{constructor(h,d,_){this.bodyNode=h,this._driver=d,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(N,Z)=>{},this._transitionEngine=new du(h,d,_),this._timelineEngine=new Ui(h,d,_),this._transitionEngine.onRemovalComplete=(N,Z)=>this.onRemovalComplete(N,Z)}registerTrigger(h,d,_,N,Z){const le=h+"-"+N;let me=this._triggerCache[le];if(!me){const Ue=[],qt=xi(this._driver,Z,Ue,[]);if(Ue.length)throw function Do(I,h){return new v.vHH(3404,Wn)}();me=function He(I,h,d){return new la(I,h,d)}(N,qt,this._normalizer),this._triggerCache[le]=me}this._transitionEngine.registerTrigger(d,N,me)}register(h,d){this._transitionEngine.register(h,d)}destroy(h,d){this._transitionEngine.destroy(h,d)}onInsert(h,d,_,N){this._transitionEngine.insertNode(h,d,_,N)}onRemove(h,d,_,N){this._transitionEngine.removeNode(h,d,N||!1,_)}disableAnimations(h,d){this._transitionEngine.markElementAsDisabled(h,d)}process(h,d,_,N){if("@"==_.charAt(0)){const[Z,le]=Ls(_);this._timelineEngine.command(Z,d,le,N)}else this._transitionEngine.trigger(h,d,_,N)}listen(h,d,_,N,Z){if("@"==_.charAt(0)){const[le,me]=Ls(_);return this._timelineEngine.listen(le,d,me,Z)}return this._transitionEngine.listen(h,d,_,N,Z)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Aa=(()=>{class I{constructor(d,_,N){this._element=d,this._startStyles=_,this._endStyles=N,this._state=0;let Z=I.initialStylesByElement.get(d);Z||I.initialStylesByElement.set(d,Z={}),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vr(this._element,this._initialStyles),this._endStyles&&(Vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(eo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eo(this._element,this._endStyles),this._endStyles=null),Vr(this._element,this._initialStyles),this._state=3)}}return I.initialStylesByElement=new WeakMap,I})();function Pu(I){let h=null;const d=Object.keys(I);for(let _=0;_<d.length;_++){const N=d[_];qu(N)&&(h=h||{},h[N]=I[N])}return h}function qu(I){return"display"===I||"position"===I}class Bi{constructor(h,d,_,N){this.element=h,this.keyframes=d,this.options=_,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(h,d,_){return h.animate(d,_)}onStart(h){this._onStartFns.push(h)}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h={};if(this.hasStarted()){const d=this._finalKeyframe;Object.keys(d).forEach(_=>{"offset"!=_&&(h[_]=this._finished?d[_]:ms(this.element,_))})}this.currentSnapshot=h}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}class pl{validateStyleProperty(h){return lo(h)}matchesElement(h,d){return!1}containsElement(h,d){return ba(h,d)}getParentElement(h){return Vs(h)}query(h,d,_){return co(h,d,_)}computeStyle(h,d,_){return window.getComputedStyle(h)[d]}animate(h,d,_,N,Z,le=[]){const Ue={duration:_,delay:N,fill:0==N?"both":"forwards"};Z&&(Ue.easing=Z);const pt={},qt=le.filter(qn=>qn instanceof Bi);(function Fa(I,h){return 0===I||0===h})(_,N)&&qt.forEach(qn=>{let ir=qn.currentSnapshot;Object.keys(ir).forEach(xn=>pt[xn]=ir[xn])}),d=function $u(I,h,d){const _=Object.keys(d);if(_.length&&h.length){let Z=h[0],le=[];if(_.forEach(me=>{Z.hasOwnProperty(me)||le.push(me),Z[me]=d[me]}),le.length)for(var N=1;N<h.length;N++){let me=h[N];le.forEach(function(Ue){me[Ue]=ms(I,Ue)})}}return h}(h,d=d.map(qn=>Zr(qn,!1)),pt);const In=function wc(I,h){let d=null,_=null;return Array.isArray(h)&&h.length?(d=Pu(h[0]),h.length>1&&(_=Pu(h[h.length-1]))):h&&(d=Pu(h)),d||_?new Aa(I,d,_):null}(h,d);return new Bi(h,d,Ue,In)}}let pa=(()=>{class I extends nn{constructor(d,_){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(_.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(d){const _=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(d)?Gt(d):d;return io(this._renderer,null,_,"register",[N]),new Ki(_,this._renderer)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(v.FYo),v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class Ki extends class Sn{}{constructor(h,d){super(),this._id=h,this._renderer=d}create(h,d){return new fu(this._id,h,d||{},this._renderer)}}class fu{constructor(h,d,_,N){this.id=h,this.element=d,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(h,d){return this._renderer.listen(this.element,`@@${this.id}:${h}`,d)}_command(h,...d){return io(this._renderer,this.element,this.id,h,d)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){var h,d;return null!==(d=null===(h=this._renderer.engine.players[+this.id])||void 0===h?void 0:h.getPosition())&&void 0!==d?d:0}}function io(I,h,d,_,N){return I.setProperty(h,`@@${d}:${_}`,N)}const di="@.disabled";let nu=(()=>{class I{constructor(d,_,N){this.delegate=d,this.engine=_,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=(Z,le)=>{const me=null==le?void 0:le.parentNode(Z);me&&le.removeChild(me,Z)}}createRenderer(d,_){const Z=this.delegate.createRenderer(d,_);if(!(d&&_&&_.data&&_.data.animation)){let qt=this._rendererCache.get(Z);return qt||(qt=new Fi("",Z,this.engine),this._rendererCache.set(Z,qt)),qt}const le=_.id,me=_.id+"-"+this._currentId;this._currentId++,this.engine.register(me,d);const Ue=qt=>{Array.isArray(qt)?qt.forEach(Ue):this.engine.registerTrigger(le,me,d,qt.name,qt)};return _.data.animation.forEach(Ue),new pi(this,me,Z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,_,N){d>=0&&d<this._microtaskId?this._zone.run(()=>_(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Z=>{const[le,me]=Z;le(me)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(v.FYo),v.LFG(fa),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class Fi{constructor(h,d,_){this.namespaceId=h,this.delegate=d,this.engine=_,this.destroyNode=this.delegate.destroyNode?N=>d.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(h,d){return this.delegate.createElement(h,d)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,d){this.delegate.appendChild(h,d),this.engine.onInsert(this.namespaceId,d,h,!1)}insertBefore(h,d,_,N=!0){this.delegate.insertBefore(h,d,_),this.engine.onInsert(this.namespaceId,d,h,N)}removeChild(h,d,_){this.engine.onRemove(this.namespaceId,d,this.delegate,_)}selectRootElement(h,d){return this.delegate.selectRootElement(h,d)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,d,_,N){this.delegate.setAttribute(h,d,_,N)}removeAttribute(h,d,_){this.delegate.removeAttribute(h,d,_)}addClass(h,d){this.delegate.addClass(h,d)}removeClass(h,d){this.delegate.removeClass(h,d)}setStyle(h,d,_,N){this.delegate.setStyle(h,d,_,N)}removeStyle(h,d,_){this.delegate.removeStyle(h,d,_)}setProperty(h,d,_){"@"==d.charAt(0)&&d==di?this.disableAnimations(h,!!_):this.delegate.setProperty(h,d,_)}setValue(h,d){this.delegate.setValue(h,d)}listen(h,d,_){return this.delegate.listen(h,d,_)}disableAnimations(h,d){this.engine.disableAnimations(h,d)}}class pi extends Fi{constructor(h,d,_,N){super(d,_,N),this.factory=h,this.namespaceId=d}setProperty(h,d,_){"@"==d.charAt(0)?"."==d.charAt(1)&&d==di?this.disableAnimations(h,_=void 0===_||!!_):this.engine.process(this.namespaceId,h,d.substr(1),_):this.delegate.setProperty(h,d,_)}listen(h,d,_){if("@"==d.charAt(0)){const N=function ru(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(h);let Z=d.substr(1),le="";return"@"!=Z.charAt(0)&&([Z,le]=function ja(I){const h=I.indexOf(".");return[I.substring(0,h),I.substr(h+1)]}(Z)),this.engine.listen(this.namespaceId,N,Z,le,me=>{this.factory.scheduleListenerCallback(me._data||-1,_,me)})}return this.delegate.listen(h,d,_)}}let xs=(()=>{class I extends fa{constructor(d,_,N){super(d.body,_,N)}ngOnDestroy(){this.flush()}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0),v.LFG(Si),v.LFG(ci))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const ji=new v.OlP("AnimationModuleType"),Ru=[{provide:nn,useClass:pa},{provide:ci,useFactory:function iu(){return new Wl}},{provide:fa,useClass:xs},{provide:v.FYo,useFactory:function Ou(I,h,d){return new nu(I,h,d)},deps:[at,fa,v.R0b]}],ga=[{provide:Si,useFactory:()=>new pl},{provide:ji,useValue:"BrowserAnimations"},...Ru],gi=[{provide:Si,useClass:ia},{provide:ji,useValue:"NoopAnimations"},...Ru];let Ks=(()=>{class I{static withConfig(d){return{ngModule:I,providers:d.disableAnimations?gi:ga}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:ga,imports:[Fr]}),I})();var su=B(2011),ma=B(3692),pu=B(7246),Yo=B(89);const yo_firebase={projectId:"tusalajuegosferrero",appId:"1:1087230018168:web:82bf6db7ae24c80744638d",storageBucket:"tusalajuegosferrero.appspot.com",locationId:"us-central",apiKey:"AIzaSyD85kWtl1fjlcXDC8TMskXGTuoL7V22Qao",authDomain:"tusalajuegosferrero.firebaseapp.com",messagingSenderId:"1087230018168",measurementId:"G-J94M4CMXQB"};var ou=B(577),Uo=B(6389),Ms=B(2635);let Qo=(()=>{class I{constructor(){this.title="tuSalaJuegosFerrero"}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-root"]],decls:1,vars:0,template:function(d,_){1&d&&v._UZ(0,"router-outlet")},directives:[Pe.lC],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}']}),I})();var js=B(7044);let gu=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I,bootstrap:[Qo]}),I.\u0275inj=v.cJS({providers:[],imports:[[Fr,es,K.u5,ou.JuegosModule,Uo.m,(0,ma.hX)(()=>(0,ma.ZF)(yo_firebase)),(0,pu.AR)(()=>(0,pu.v0)()),(0,Yo.Cm)(()=>(0,Yo.ad)()),K.UX,su.hO.initializeApp(yo_firebase),Ks,Io.forRoot(),Ms.x,js.T]]}),I})();(0,v.G48)(),Cr().bootstrapModule(gu).catch(I=>console.error(I))},8306:(Ft,$e,B)=>{B.d($e,{y:()=>ae});var m=B(2961),v=B(727),x=B(8822),we=B(4671);var Me=B(2416),ce=B(576),Ge=B(2806);let ae=(()=>{class ot{constructor(_t){_t&&(this._subscribe=_t)}lift(_t){const Re=new ot;return Re.source=this,Re.operator=_t,Re}subscribe(_t,Re,nt){const bt=function st(ot){return ot&&ot instanceof m.Lv||function Oe(ot){return ot&&(0,ce.m)(ot.next)&&(0,ce.m)(ot.error)&&(0,ce.m)(ot.complete)}(ot)&&(0,v.Nn)(ot)}(_t)?_t:new m.Hp(_t,Re,nt);return(0,Ge.x)(()=>{const{operator:Pt,source:ze}=this;bt.add(Pt?Pt.call(bt,ze):ze?this._subscribe(bt):this._trySubscribe(bt))}),bt}_trySubscribe(_t){try{return this._subscribe(_t)}catch(Re){_t.error(Re)}}forEach(_t,Re){return new(Re=fe(Re))((nt,bt)=>{const Pt=new m.Hp({next:ze=>{try{_t(ze)}catch(Ye){bt(Ye),Pt.unsubscribe()}},error:bt,complete:nt});this.subscribe(Pt)})}_subscribe(_t){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(_t)}[x.L](){return this}pipe(..._t){return function De(ot){return 0===ot.length?we.y:1===ot.length?ot[0]:function(_t){return ot.reduce((Re,nt)=>nt(Re),_t)}}(_t)(this)}toPromise(_t){return new(_t=fe(_t))((Re,nt)=>{let bt;this.subscribe(Pt=>bt=Pt,Pt=>nt(Pt),()=>Re(bt))})}}return ot.create=Qe=>new ot(Qe),ot})();function fe(ot){var Qe;return null!==(Qe=null!=ot?ot:Me.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Ft,$e,B)=>{B.d($e,{x:()=>Me});var m=B(8306),v=B(727);const we=(0,B(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=B(8737),De=B(2806);let Me=(()=>{class Ge extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Oe=new ce(this,this);return Oe.operator=fe,Oe}_throwIfClosed(){if(this.closed)throw new we}next(fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(fe)}})}error(fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(fe)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Oe,isStopped:st,observers:ot}=this;return Oe||st?v.Lc:(this.currentObservers=null,ot.push(fe),new v.w0(()=>{this.currentObservers=null,(0,oe.P)(ot,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Oe,thrownError:st,isStopped:ot}=this;Oe?fe.error(st):ot&&fe.complete()}asObservable(){const fe=new m.y;return fe.source=this,fe}}return Ge.create=(ae,fe)=>new ce(ae,fe),Ge})();class ce extends Me{constructor(ae,fe){super(),this.destination=ae,this.source=fe}next(ae){var fe,Oe;null===(Oe=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Oe||Oe.call(fe,ae)}error(ae){var fe,Oe;null===(Oe=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Oe||Oe.call(fe,ae)}complete(){var ae,fe;null===(fe=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===fe||fe.call(ae)}_subscribe(ae){var fe,Oe;return null!==(Oe=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ae))&&void 0!==Oe?Oe:v.Lc}}},2961:(Ft,$e,B)=>{B.d($e,{Hp:()=>_t,Lv:()=>Oe});var m=B(576),v=B(727),x=B(2416),we=B(7849);function oe(){}const De=Ge("C",void 0,void 0);function Ge(ze,Ye,dt){return{kind:ze,value:Ye,error:dt}}var ae=B(3410),fe=B(2806);class Oe extends v.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,v.Nn)(Ye)&&Ye.add(this)):this.destination=Pt}static create(Ye,dt,Xe){return new _t(Ye,dt,Xe)}next(Ye){this.isStopped?bt(function ce(ze){return Ge("N",ze,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?bt(function Me(ze){return Ge("E",void 0,ze)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?bt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function ot(ze,Ye){return st.call(ze,Ye)}class Qe{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:dt}=this;if(dt.next)try{dt.next(Ye)}catch(Xe){Re(Xe)}}error(Ye){const{partialObserver:dt}=this;if(dt.error)try{dt.error(Ye)}catch(Xe){Re(Xe)}else Re(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(dt){Re(dt)}}}class _t extends Oe{constructor(Ye,dt,Xe){let yt;if(super(),(0,m.m)(Ye)||!Ye)yt={next:null!=Ye?Ye:void 0,error:null!=dt?dt:void 0,complete:null!=Xe?Xe:void 0};else{let ye;this&&x.v.useDeprecatedNextContext?(ye=Object.create(Ye),ye.unsubscribe=()=>this.unsubscribe(),yt={next:Ye.next&&ot(Ye.next,ye),error:Ye.error&&ot(Ye.error,ye),complete:Ye.complete&&ot(Ye.complete,ye)}):yt=Ye}this.destination=new Qe(yt)}}function Re(ze){x.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(ze):(0,we.h)(ze)}function bt(ze,Ye){const{onStoppedNotification:dt}=x.v;dt&&ae.z.setTimeout(()=>dt(ze,Ye))}const Pt={closed:!0,next:oe,error:function nt(ze){throw ze},complete:oe}},727:(Ft,$e,B)=>{B.d($e,{Lc:()=>De,w0:()=>oe,Nn:()=>Me});var m=B(576);const x=(0,B(3888).d)(Ge=>function(fe){Ge(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Oe,st)=>`${st+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var we=B(8737);class oe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const ot of fe)ot.remove(this);else fe.remove(this);const{initialTeardown:Oe}=this;if((0,m.m)(Oe))try{Oe()}catch(ot){ae=ot instanceof x?ot.errors:[ot]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const ot of st)try{ce(ot)}catch(Qe){ae=null!=ae?ae:[],Qe instanceof x?ae=[...ae,...Qe.errors]:ae.push(Qe)}}if(ae)throw new x(ae)}}add(ae){var fe;if(ae&&ae!==this)if(this.closed)ce(ae);else{if(ae instanceof oe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(ae)}}_hasParent(ae){const{_parentage:fe}=this;return fe===ae||Array.isArray(fe)&&fe.includes(ae)}_addParent(ae){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ae),fe):fe?[fe,ae]:ae}_removeParent(ae){const{_parentage:fe}=this;fe===ae?this._parentage=null:Array.isArray(fe)&&(0,we.P)(fe,ae)}remove(ae){const{_finalizers:fe}=this;fe&&(0,we.P)(fe,ae),ae instanceof oe&&ae._removeParent(this)}}oe.EMPTY=(()=>{const Ge=new oe;return Ge.closed=!0,Ge})();const De=oe.EMPTY;function Me(Ge){return Ge instanceof oe||Ge&&"closed"in Ge&&(0,m.m)(Ge.remove)&&(0,m.m)(Ge.add)&&(0,m.m)(Ge.unsubscribe)}function ce(Ge){(0,m.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(Ft,$e,B)=>{B.d($e,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ft,$e,B)=>{B.d($e,{z:()=>oe});var m=B(8189),x=B(7669),we=B(8996);function oe(...De){return function v(){return(0,m.J)(1)}()((0,we.D)(De,(0,x.yG)(De)))}},515:(Ft,$e,B)=>{B.d($e,{E:()=>v});const v=new(B(8306).y)(oe=>oe.complete())},8996:(Ft,$e,B)=>{B.d($e,{D:()=>Ye});var m=B(8421),v=B(5363),x=B(9468),De=B(8306),ce=B(2202),Ge=B(576),ae=B(9672);function Oe(dt,Xe){if(!dt)throw new Error("Iterable cannot be null");return new De.y(yt=>{(0,ae.f)(yt,Xe,()=>{const ye=dt[Symbol.asyncIterator]();(0,ae.f)(yt,Xe,()=>{ye.next().then(Tt=>{Tt.done?yt.complete():yt.next(Tt.value)})},0,!0)})})}var st=B(3670),ot=B(8239),Qe=B(1144),_t=B(6495),Re=B(2206),nt=B(4532),bt=B(3260);function Ye(dt,Xe){return Xe?function ze(dt,Xe){if(null!=dt){if((0,st.c)(dt))return function we(dt,Xe){return(0,m.Xf)(dt).pipe((0,x.R)(Xe),(0,v.Q)(Xe))}(dt,Xe);if((0,Qe.z)(dt))return function Me(dt,Xe){return new De.y(yt=>{let ye=0;return Xe.schedule(function(){ye===dt.length?yt.complete():(yt.next(dt[ye++]),yt.closed||this.schedule())})})}(dt,Xe);if((0,ot.t)(dt))return function oe(dt,Xe){return(0,m.Xf)(dt).pipe((0,x.R)(Xe),(0,v.Q)(Xe))}(dt,Xe);if((0,Re.D)(dt))return Oe(dt,Xe);if((0,_t.T)(dt))return function fe(dt,Xe){return new De.y(yt=>{let ye;return(0,ae.f)(yt,Xe,()=>{ye=dt[ce.h](),(0,ae.f)(yt,Xe,()=>{let Tt,Ne;try{({value:Tt,done:Ne}=ye.next())}catch(je){return void yt.error(je)}Ne?yt.complete():yt.next(Tt)},0,!0)}),()=>(0,Ge.m)(null==ye?void 0:ye.return)&&ye.return()})}(dt,Xe);if((0,bt.L)(dt))return function Pt(dt,Xe){return Oe((0,bt.Q)(dt),Xe)}(dt,Xe)}throw(0,nt.z)(dt)}(dt,Xe):(0,m.Xf)(dt)}},8421:(Ft,$e,B)=>{B.d($e,{Xf:()=>st});var m=B(655),v=B(1144),x=B(8239),we=B(8306),oe=B(3670),De=B(2206),Me=B(4532),ce=B(6495),Ge=B(3260),ae=B(576),fe=B(7849),Oe=B(8822);function st(ze){if(ze instanceof we.y)return ze;if(null!=ze){if((0,oe.c)(ze))return function ot(ze){return new we.y(Ye=>{const dt=ze[Oe.L]();if((0,ae.m)(dt.subscribe))return dt.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,v.z)(ze))return function Qe(ze){return new we.y(Ye=>{for(let dt=0;dt<ze.length&&!Ye.closed;dt++)Ye.next(ze[dt]);Ye.complete()})}(ze);if((0,x.t)(ze))return function _t(ze){return new we.y(Ye=>{ze.then(dt=>{Ye.closed||(Ye.next(dt),Ye.complete())},dt=>Ye.error(dt)).then(null,fe.h)})}(ze);if((0,De.D)(ze))return nt(ze);if((0,ce.T)(ze))return function Re(ze){return new we.y(Ye=>{for(const dt of ze)if(Ye.next(dt),Ye.closed)return;Ye.complete()})}(ze);if((0,Ge.L)(ze))return function bt(ze){return nt((0,Ge.Q)(ze))}(ze)}throw(0,Me.z)(ze)}function nt(ze){return new we.y(Ye=>{(function Pt(ze,Ye){var dt,Xe,yt,ye;return(0,m.mG)(this,void 0,void 0,function*(){try{for(dt=(0,m.KL)(ze);!(Xe=yield dt.next()).done;)if(Ye.next(Xe.value),Ye.closed)return}catch(Tt){yt={error:Tt}}finally{try{Xe&&!Xe.done&&(ye=dt.return)&&(yield ye.call(dt))}finally{if(yt)throw yt.error}}Ye.complete()})})(ze,Ye).catch(dt=>Ye.error(dt))})}},6451:(Ft,$e,B)=>{B.d($e,{T:()=>De});var m=B(8189),v=B(8421),x=B(515),we=B(7669),oe=B(8996);function De(...Me){const ce=(0,we.yG)(Me),Ge=(0,we._6)(Me,1/0),ae=Me;return ae.length?1===ae.length?(0,v.Xf)(ae[0]):(0,m.J)(Ge)((0,oe.D)(ae,ce)):x.E}},9646:(Ft,$e,B)=>{B.d($e,{of:()=>x});var m=B(7669),v=B(8996);function x(...we){const oe=(0,m.yG)(we);return(0,v.D)(we,oe)}},5403:(Ft,$e,B)=>{B.d($e,{x:()=>v});var m=B(2961);function v(we,oe,De,Me,ce){return new x(we,oe,De,Me,ce)}class x extends m.Lv{constructor(oe,De,Me,ce,Ge,ae){super(oe),this.onFinalize=Ge,this.shouldUnsubscribe=ae,this._next=De?function(fe){try{De(fe)}catch(Oe){oe.error(Oe)}}:super._next,this._error=ce?function(fe){try{ce(fe)}catch(Oe){oe.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(fe){oe.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},6590:(Ft,$e,B)=>{B.d($e,{d:()=>x});var m=B(4482),v=B(5403);function x(we){return(0,m.e)((oe,De)=>{let Me=!1;oe.subscribe((0,v.x)(De,ce=>{Me=!0,De.next(ce)},()=>{Me||De.next(we),De.complete()}))})}},9300:(Ft,$e,B)=>{B.d($e,{h:()=>x});var m=B(4482),v=B(5403);function x(we,oe){return(0,m.e)((De,Me)=>{let ce=0;De.subscribe((0,v.x)(Me,Ge=>we.call(oe,Ge,ce++)&&Me.next(Ge)))})}},590:(Ft,$e,B)=>{B.d($e,{P:()=>Me});var m=B(6805),v=B(9300),x=B(5698),we=B(6590),oe=B(8068),De=B(4671);function Me(ce,Ge){const ae=arguments.length>=2;return fe=>fe.pipe(ce?(0,v.h)((Oe,st)=>ce(Oe,st,fe)):De.y,(0,x.q)(1),ae?(0,we.d)(Ge):(0,oe.T)(()=>new m.K))}},4004:(Ft,$e,B)=>{B.d($e,{U:()=>x});var m=B(4482),v=B(5403);function x(we,oe){return(0,m.e)((De,Me)=>{let ce=0;De.subscribe((0,v.x)(Me,Ge=>{Me.next(we.call(oe,Ge,ce++))}))})}},8189:(Ft,$e,B)=>{B.d($e,{J:()=>x});var m=B(5577),v=B(4671);function x(we=1/0){return(0,m.z)(v.y,we)}},5577:(Ft,$e,B)=>{B.d($e,{z:()=>ce});var m=B(4004),v=B(8421),x=B(4482),we=B(9672),oe=B(5403),Me=B(576);function ce(Ge,ae,fe=1/0){return(0,Me.m)(ae)?ce((Oe,st)=>(0,m.U)((ot,Qe)=>ae(Oe,ot,st,Qe))((0,v.Xf)(Ge(Oe,st))),fe):("number"==typeof ae&&(fe=ae),(0,x.e)((Oe,st)=>function De(Ge,ae,fe,Oe,st,ot,Qe,_t){const Re=[];let nt=0,bt=0,Pt=!1;const ze=()=>{Pt&&!Re.length&&!nt&&ae.complete()},Ye=Xe=>nt<Oe?dt(Xe):Re.push(Xe),dt=Xe=>{ot&&ae.next(Xe),nt++;let yt=!1;(0,v.Xf)(fe(Xe,bt++)).subscribe((0,oe.x)(ae,ye=>{null==st||st(ye),ot?Ye(ye):ae.next(ye)},()=>{yt=!0},void 0,()=>{if(yt)try{for(nt--;Re.length&&nt<Oe;){const ye=Re.shift();Qe?(0,we.f)(ae,Qe,()=>dt(ye)):dt(ye)}ze()}catch(ye){ae.error(ye)}}))};return Ge.subscribe((0,oe.x)(ae,Ye,()=>{Pt=!0,ze()})),()=>{null==_t||_t()}}(Oe,st,Ge,fe)))}},5363:(Ft,$e,B)=>{B.d($e,{Q:()=>we});var m=B(9672),v=B(4482),x=B(5403);function we(oe,De=0){return(0,v.e)((Me,ce)=>{Me.subscribe((0,x.x)(ce,Ge=>(0,m.f)(ce,oe,()=>ce.next(Ge),De),()=>(0,m.f)(ce,oe,()=>ce.complete(),De),Ge=>(0,m.f)(ce,oe,()=>ce.error(Ge),De)))})}},5026:(Ft,$e,B)=>{B.d($e,{R:()=>we});var m=B(4482),v=B(5403);function x(oe,De,Me,ce,Ge){return(ae,fe)=>{let Oe=Me,st=De,ot=0;ae.subscribe((0,v.x)(fe,Qe=>{const _t=ot++;st=Oe?oe(st,Qe,_t):(Oe=!0,Qe),ce&&fe.next(st)},Ge&&(()=>{Oe&&fe.next(st),fe.complete()})))}}function we(oe,De){return(0,m.e)(x(oe,De,arguments.length>=2,!0))}},3099:(Ft,$e,B)=>{B.d($e,{B:()=>oe});var m=B(8421),v=B(7579),x=B(2961),we=B(4482);function oe(Me={}){const{connector:ce=(()=>new v.x),resetOnError:Ge=!0,resetOnComplete:ae=!0,resetOnRefCountZero:fe=!0}=Me;return Oe=>{let st,ot,Qe,_t=0,Re=!1,nt=!1;const bt=()=>{null==ot||ot.unsubscribe(),ot=void 0},Pt=()=>{bt(),st=Qe=void 0,Re=nt=!1},ze=()=>{const Ye=st;Pt(),null==Ye||Ye.unsubscribe()};return(0,we.e)((Ye,dt)=>{_t++,!nt&&!Re&&bt();const Xe=Qe=null!=Qe?Qe:ce();dt.add(()=>{_t--,0===_t&&!nt&&!Re&&(ot=De(ze,fe))}),Xe.subscribe(dt),!st&&_t>0&&(st=new x.Hp({next:yt=>Xe.next(yt),error:yt=>{nt=!0,bt(),ot=De(Pt,Ge,yt),Xe.error(yt)},complete:()=>{Re=!0,bt(),ot=De(Pt,ae),Xe.complete()}}),(0,m.Xf)(Ye).subscribe(st))})(Oe)}}function De(Me,ce,...Ge){if(!0===ce)return void Me();if(!1===ce)return;const ae=new x.Hp({next:()=>{ae.unsubscribe(),Me()}});return ce(...Ge).subscribe(ae)}},8675:(Ft,$e,B)=>{B.d($e,{O:()=>we});var m=B(7272),v=B(7669),x=B(4482);function we(...oe){const De=(0,v.yG)(oe);return(0,x.e)((Me,ce)=>{(De?(0,m.z)(oe,Me,De):(0,m.z)(oe,Me)).subscribe(ce)})}},9468:(Ft,$e,B)=>{B.d($e,{R:()=>v});var m=B(4482);function v(x,we=0){return(0,m.e)((oe,De)=>{De.add(x.schedule(()=>oe.subscribe(De),we))})}},3900:(Ft,$e,B)=>{B.d($e,{w:()=>we});var m=B(8421),v=B(4482),x=B(5403);function we(oe,De){return(0,v.e)((Me,ce)=>{let Ge=null,ae=0,fe=!1;const Oe=()=>fe&&!Ge&&ce.complete();Me.subscribe((0,x.x)(ce,st=>{null==Ge||Ge.unsubscribe();let ot=0;const Qe=ae++;(0,m.Xf)(oe(st,Qe)).subscribe(Ge=(0,x.x)(ce,_t=>ce.next(De?De(st,_t,Qe,ot++):_t),()=>{Ge=null,Oe()}))},()=>{fe=!0,Oe()}))})}},5698:(Ft,$e,B)=>{B.d($e,{q:()=>we});var m=B(515),v=B(4482),x=B(5403);function we(oe){return oe<=0?()=>m.E:(0,v.e)((De,Me)=>{let ce=0;De.subscribe((0,x.x)(Me,Ge=>{++ce<=oe&&(Me.next(Ge),oe<=ce&&Me.complete())}))})}},8505:(Ft,$e,B)=>{B.d($e,{b:()=>oe});var m=B(576),v=B(4482),x=B(5403),we=B(4671);function oe(De,Me,ce){const Ge=(0,m.m)(De)||Me||ce?{next:De,error:Me,complete:ce}:De;return Ge?(0,v.e)((ae,fe)=>{var Oe;null===(Oe=Ge.subscribe)||void 0===Oe||Oe.call(Ge);let st=!0;ae.subscribe((0,x.x)(fe,ot=>{var Qe;null===(Qe=Ge.next)||void 0===Qe||Qe.call(Ge,ot),fe.next(ot)},()=>{var ot;st=!1,null===(ot=Ge.complete)||void 0===ot||ot.call(Ge),fe.complete()},ot=>{var Qe;st=!1,null===(Qe=Ge.error)||void 0===Qe||Qe.call(Ge,ot),fe.error(ot)},()=>{var ot,Qe;st&&(null===(ot=Ge.unsubscribe)||void 0===ot||ot.call(Ge)),null===(Qe=Ge.finalize)||void 0===Qe||Qe.call(Ge)}))}):we.y}},8068:(Ft,$e,B)=>{B.d($e,{T:()=>we});var m=B(6805),v=B(4482),x=B(5403);function we(De=oe){return(0,v.e)((Me,ce)=>{let Ge=!1;Me.subscribe((0,x.x)(ce,ae=>{Ge=!0,ce.next(ae)},()=>Ge?ce.complete():ce.error(De())))})}function oe(){return new m.K}},4408:(Ft,$e,B)=>{B.d($e,{o:()=>oe});var m=B(727);class v extends m.w0{constructor(Me,ce){super()}schedule(Me,ce=0){return this}}const x={setInterval(De,Me,...ce){const{delegate:Ge}=x;return(null==Ge?void 0:Ge.setInterval)?Ge.setInterval(De,Me,...ce):setInterval(De,Me,...ce)},clearInterval(De){const{delegate:Me}=x;return((null==Me?void 0:Me.clearInterval)||clearInterval)(De)},delegate:void 0};var we=B(8737);class oe extends v{constructor(Me,ce){super(Me,ce),this.scheduler=Me,this.work=ce,this.pending=!1}schedule(Me,ce=0){if(this.closed)return this;this.state=Me;const Ge=this.id,ae=this.scheduler;return null!=Ge&&(this.id=this.recycleAsyncId(ae,Ge,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ae,this.id,ce),this}requestAsyncId(Me,ce,Ge=0){return x.setInterval(Me.flush.bind(Me,this),Ge)}recycleAsyncId(Me,ce,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return ce;x.clearInterval(ce)}execute(Me,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Me,ce);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,ce){let ae,Ge=!1;try{this.work(Me)}catch(fe){Ge=!0,ae=fe||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Me,scheduler:ce}=this,{actions:Ge}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ge,this),null!=Me&&(this.id=this.recycleAsyncId(ce,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ft,$e,B)=>{B.d($e,{v:()=>x});var m=B(6063);class v{constructor(oe,De=v.now){this.schedulerActionCtor=oe,this.now=De}schedule(oe,De=0,Me){return new this.schedulerActionCtor(this,oe).schedule(Me,De)}}v.now=m.l.now;class x extends v{constructor(oe,De=v.now){super(oe,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:De}=this;if(this._active)return void De.push(oe);let Me;this._active=!0;do{if(Me=oe.execute(oe.state,oe.delay))break}while(oe=De.shift());if(this._active=!1,Me){for(;oe=De.shift();)oe.unsubscribe();throw Me}}}},4986:(Ft,$e,B)=>{B.d($e,{z:()=>x});var m=B(4408);const x=new(B(7565).v)(m.o)},6063:(Ft,$e,B)=>{B.d($e,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(Ft,$e,B)=>{B.d($e,{z:()=>m});const m={setTimeout(v,x,...we){const{delegate:oe}=m;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(v,x,...we):setTimeout(v,x,...we)},clearTimeout(v){const{delegate:x}=m;return((null==x?void 0:x.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(Ft,$e,B)=>{B.d($e,{h:()=>v});const v=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ft,$e,B)=>{B.d($e,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ft,$e,B)=>{B.d($e,{K:()=>v});const v=(0,B(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ft,$e,B)=>{B.d($e,{_6:()=>De,jO:()=>we,yG:()=>oe});var m=B(576);function x(Me){return Me[Me.length-1]}function we(Me){return(0,m.m)(x(Me))?Me.pop():void 0}function oe(Me){return function v(Me){return Me&&(0,m.m)(Me.schedule)}(x(Me))?Me.pop():void 0}function De(Me,ce){return"number"==typeof x(Me)?Me.pop():ce}},4742:(Ft,$e,B)=>{B.d($e,{D:()=>oe});const{isArray:m}=Array,{getPrototypeOf:v,prototype:x,keys:we}=Object;function oe(Me){if(1===Me.length){const ce=Me[0];if(m(ce))return{args:ce,keys:null};if(function De(Me){return Me&&"object"==typeof Me&&v(Me)===x}(ce)){const Ge=we(ce);return{args:Ge.map(ae=>ce[ae]),keys:Ge}}}return{args:Me,keys:null}}},8737:(Ft,$e,B)=>{function m(v,x){if(v){const we=v.indexOf(x);0<=we&&v.splice(we,1)}}B.d($e,{P:()=>m})},3888:(Ft,$e,B)=>{function m(v){const we=v(oe=>{Error.call(oe),oe.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}B.d($e,{d:()=>m})},1810:(Ft,$e,B)=>{function m(v,x){return v.reduce((we,oe,De)=>(we[oe]=x[De],we),{})}B.d($e,{n:()=>m})},2806:(Ft,$e,B)=>{B.d($e,{O:()=>we,x:()=>x});var m=B(2416);let v=null;function x(oe){if(m.v.useDeprecatedSynchronousErrorHandling){const De=!v;if(De&&(v={errorThrown:!1,error:null}),oe(),De){const{errorThrown:Me,error:ce}=v;if(v=null,Me)throw ce}}else oe()}function we(oe){m.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=oe)}},9672:(Ft,$e,B)=>{function m(v,x,we,oe=0,De=!1){const Me=x.schedule(function(){we(),De?v.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(v.add(Me),!De)return Me}B.d($e,{f:()=>m})},4671:(Ft,$e,B)=>{function m(v){return v}B.d($e,{y:()=>m})},1144:(Ft,$e,B)=>{B.d($e,{z:()=>m});const m=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Ft,$e,B)=>{B.d($e,{D:()=>v});var m=B(576);function v(x){return Symbol.asyncIterator&&(0,m.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(Ft,$e,B)=>{function m(v){return"function"==typeof v}B.d($e,{m:()=>m})},3670:(Ft,$e,B)=>{B.d($e,{c:()=>x});var m=B(8822),v=B(576);function x(we){return(0,v.m)(we[m.L])}},6495:(Ft,$e,B)=>{B.d($e,{T:()=>x});var m=B(2202),v=B(576);function x(we){return(0,v.m)(null==we?void 0:we[m.h])}},8239:(Ft,$e,B)=>{B.d($e,{t:()=>v});var m=B(576);function v(x){return(0,m.m)(null==x?void 0:x.then)}},3260:(Ft,$e,B)=>{B.d($e,{L:()=>we,Q:()=>x});var m=B(655),v=B(576);function x(oe){return(0,m.FC)(this,arguments,function*(){const Me=oe.getReader();try{for(;;){const{value:ce,done:Ge}=yield(0,m.qq)(Me.read());if(Ge)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(ce)}}finally{Me.releaseLock()}})}function we(oe){return(0,v.m)(null==oe?void 0:oe.getReader)}},4482:(Ft,$e,B)=>{B.d($e,{A:()=>v,e:()=>x});var m=B(576);function v(we){return(0,m.m)(null==we?void 0:we.lift)}function x(we){return oe=>{if(v(oe))return oe.lift(function(De){try{return we(De,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ft,$e,B)=>{B.d($e,{Z:()=>we});var m=B(4004);const{isArray:v}=Array;function we(oe){return(0,m.U)(De=>function x(oe,De){return v(De)?oe(...De):oe(De)}(oe,De))}},7849:(Ft,$e,B)=>{B.d($e,{h:()=>x});var m=B(2416),v=B(3410);function x(we){v.z.setTimeout(()=>{const{onUnhandledError:oe}=m.v;if(!oe)throw we;oe(we)})}},4532:(Ft,$e,B)=>{function m(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d($e,{z:()=>m})},655:(Ft,$e,B)=>{function we(Ne,je){var Ze={};for(var at in Ne)Object.prototype.hasOwnProperty.call(Ne,at)&&je.indexOf(at)<0&&(Ze[at]=Ne[at]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(at=Object.getOwnPropertySymbols(Ne);it<at.length;it++)je.indexOf(at[it])<0&&Object.prototype.propertyIsEnumerable.call(Ne,at[it])&&(Ze[at[it]]=Ne[at[it]])}return Ze}function ce(Ne,je,Ze,at){return new(Ze||(Ze=Promise))(function(Ct,Lt){function tn(Dn){try{ft(at.next(Dn))}catch(rn){Lt(rn)}}function fn(Dn){try{ft(at.throw(Dn))}catch(rn){Lt(rn)}}function ft(Dn){Dn.done?Ct(Dn.value):function it(Ct){return Ct instanceof Ze?Ct:new Ze(function(Lt){Lt(Ct)})}(Dn.value).then(tn,fn)}ft((at=at.apply(Ne,je||[])).next())})}function Re(Ne){return this instanceof Re?(this.v=Ne,this):new Re(Ne)}function nt(Ne,je,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,at=Ze.apply(Ne,je||[]),Ct=[];return it={},Lt("next"),Lt("throw"),Lt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Lt(Kt){at[Kt]&&(it[Kt]=function(An){return new Promise(function(bn,Fn){Ct.push([Kt,An,bn,Fn])>1||tn(Kt,An)})})}function tn(Kt,An){try{!function fn(Kt){Kt.value instanceof Re?Promise.resolve(Kt.value.v).then(ft,Dn):rn(Ct[0][2],Kt)}(at[Kt](An))}catch(bn){rn(Ct[0][3],bn)}}function ft(Kt){tn("next",Kt)}function Dn(Kt){tn("throw",Kt)}function rn(Kt,An){Kt(An),Ct.shift(),Ct.length&&tn(Ct[0][0],Ct[0][1])}}function Pt(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,je=Ne[Symbol.asyncIterator];return je?je.call(Ne):(Ne=function Oe(Ne){var je="function"==typeof Symbol&&Symbol.iterator,Ze=je&&Ne[je],at=0;if(Ze)return Ze.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&at>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[at++],done:!Ne}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),Ze={},at("next"),at("throw"),at("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function at(Ct){Ze[Ct]=Ne[Ct]&&function(Lt){return new Promise(function(tn,fn){!function it(Ct,Lt,tn,fn){Promise.resolve(fn).then(function(ft){Ct({value:ft,done:tn})},Lt)}(tn,fn,(Lt=Ne[Ct](Lt)).done,Lt.value)})}}}B.d($e,{FC:()=>nt,KL:()=>Pt,_T:()=>we,mG:()=>ce,qq:()=>Re})},9808:(Ft,$e,B)=>{B.d($e,{Do:()=>ze,EM:()=>Wn,HT:()=>oe,JF:()=>Jr,K0:()=>Me,Mx:()=>oi,O5:()=>Ci,PM:()=>Js,S$:()=>Re,V_:()=>ae,Ye:()=>Ye,b0:()=>Pt,bD:()=>ds,ez:()=>$o,lw:()=>ce,mr:()=>bt,q:()=>x,sg:()=>er,w_:()=>De});var m=B(5e3);let v=null;function x(){return v}function oe(V){v||(v=V)}class De{}const Me=new m.OlP("DocumentToken");let ce=(()=>{class V{historyGo(L){throw new Error("Not implemented")}}return V.\u0275fac=function(L){return new(L||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return function Ge(){return(0,m.LFG)(fe)}()},providedIn:"platform"}),V})();const ae=new m.OlP("Location Initialized");let fe=(()=>{class V extends ce{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(L){const ne=x().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",L,!1),()=>ne.removeEventListener("popstate",L)}onHashChange(L){const ne=x().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",L,!1),()=>ne.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,ne,be){Oe()?this._history.pushState(L,ne,be):this.location.hash=be}replaceState(L,ne,be){Oe()?this._history.replaceState(L,ne,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return V.\u0275fac=function(L){return new(L||V)(m.LFG(Me))},V.\u0275prov=m.Yz7({token:V,factory:function(){return function st(){return new fe((0,m.LFG)(Me))}()},providedIn:"platform"}),V})();function Oe(){return!!window.history.pushState}function ot(V,Y){if(0==V.length)return Y;if(0==Y.length)return V;let L=0;return V.endsWith("/")&&L++,Y.startsWith("/")&&L++,2==L?V+Y.substring(1):1==L?V+Y:V+"/"+Y}function Qe(V){const Y=V.match(/#|\?|$/),L=Y&&Y.index||V.length;return V.slice(0,L-("/"===V[L-1]?1:0))+V.slice(L)}function _t(V){return V&&"?"!==V[0]?"?"+V:V}let Re=(()=>{class V{historyGo(L){throw new Error("Not implemented")}}return V.\u0275fac=function(L){return new(L||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return function nt(V){const Y=(0,m.LFG)(Me).location;return new Pt((0,m.LFG)(ce),Y&&Y.origin||"")}()},providedIn:"root"}),V})();const bt=new m.OlP("appBaseHref");let Pt=(()=>{class V extends Re{constructor(L,ne){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==ne&&(ne=this._platformLocation.getBaseHrefFromDOM()),null==ne)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ne}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ot(this._baseHref,L)}path(L=!1){const ne=this._platformLocation.pathname+_t(this._platformLocation.search),be=this._platformLocation.hash;return be&&L?`${ne}${be}`:ne}pushState(L,ne,be,lt){const Et=this.prepareExternalUrl(be+_t(lt));this._platformLocation.pushState(L,ne,Et)}replaceState(L,ne,be,lt){const Et=this.prepareExternalUrl(be+_t(lt));this._platformLocation.replaceState(L,ne,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ne,be;null===(be=(ne=this._platformLocation).historyGo)||void 0===be||be.call(ne,L)}}return V.\u0275fac=function(L){return new(L||V)(m.LFG(ce),m.LFG(bt,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),ze=(()=>{class V extends Re{constructor(L,ne){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(L){const ne=ot(this._baseHref,L);return ne.length>0?"#"+ne:ne}pushState(L,ne,be,lt){let Et=this.prepareExternalUrl(be+_t(lt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(L,ne,Et)}replaceState(L,ne,be,lt){let Et=this.prepareExternalUrl(be+_t(lt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(L,ne,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ne,be;null===(be=(ne=this._platformLocation).historyGo)||void 0===be||be.call(ne,L)}}return V.\u0275fac=function(L){return new(L||V)(m.LFG(ce),m.LFG(bt,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),Ye=(()=>{class V{constructor(L,ne){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const be=this._platformStrategy.getBaseHref();this._platformLocation=ne,this._baseHref=Qe(yt(be)),this._platformStrategy.onPopState(lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:lt.state,type:lt.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,ne=""){return this.path()==this.normalize(L+_t(ne))}normalize(L){return V.stripTrailingSlash(function Xe(V,Y){return V&&Y.startsWith(V)?Y.substring(V.length):Y}(this._baseHref,yt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,ne="",be=null){this._platformStrategy.pushState(be,"",L,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+_t(ne)),be)}replaceState(L,ne="",be=null){this._platformStrategy.replaceState(be,"",L,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+_t(ne)),be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var ne,be;null===(be=(ne=this._platformStrategy).historyGo)||void 0===be||be.call(ne,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}))}_notifyUrlChangeListeners(L="",ne){this._urlChangeListeners.forEach(be=>be(L,ne))}subscribe(L,ne,be){return this._subject.subscribe({next:L,error:ne,complete:be})}}return V.normalizeQueryParams=_t,V.joinWithSlash=ot,V.stripTrailingSlash=Qe,V.\u0275fac=function(L){return new(L||V)(m.LFG(Re),m.LFG(ce))},V.\u0275prov=m.Yz7({token:V,factory:function(){return function dt(){return new Ye((0,m.LFG)(Re),(0,m.LFG)(ce))}()},providedIn:"root"}),V})();function yt(V){return V.replace(/\/index.html$/,"")}function oi(V,Y){Y=encodeURIComponent(Y);for(const L of V.split(";")){const ne=L.indexOf("="),[be,lt]=-1==ne?[L,""]:[L.slice(0,ne),L.slice(ne+1)];if(be.trim()===Y)return decodeURIComponent(lt)}return null}class Ti{constructor(Y,L,ne,be){this.$implicit=Y,this.ngForOf=L,this.index=ne,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class V{constructor(L,ne,be){this._viewContainer=L,this._template=ne,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ne=this._viewContainer;L.forEachOperation((be,lt,Et)=>{if(null==be.previousIndex)ne.createEmbeddedView(this._template,new Ti(be.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)ne.remove(null===lt?void 0:lt);else if(null!==lt){const Xt=ne.get(lt);ne.move(Xt,Et),Ei(Xt,be)}});for(let be=0,lt=ne.length;be<lt;be++){const Xt=ne.get(be).context;Xt.index=be,Xt.count=lt,Xt.ngForOf=this._ngForOf}L.forEachIdentityChange(be=>{Ei(ne.get(be.currentIndex),be)})}static ngTemplateContextGuard(L,ne){return!0}}return V.\u0275fac=function(L){return new(L||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function Ei(V,Y){V.context.$implicit=Y.item}let Ci=(()=>{class V{constructor(L,ne){this._viewContainer=L,this._context=new br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){ke("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){ke("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ne){return!0}}return V.\u0275fac=function(L){return new(L||V)(m.Y36(m.s_b),m.Y36(m.Rgc))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class br{constructor(){this.$implicit=null,this.ngIf=null}}function ke(V,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,m.AaK)(Y)}'.`)}let $o=(()=>{class V{}return V.\u0275fac=function(L){return new(L||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({}),V})();const ds="browser";function Js(V){return"server"===V}let Wn=(()=>{class V{}return V.\u0275prov=(0,m.Yz7)({token:V,providedIn:"root",factory:()=>new ts((0,m.LFG)(Me),window)}),V})();class ts{constructor(Y,L){this.document=Y,this.window=L,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const L=function uo(V,Y){const L=V.getElementById(Y)||V.getElementsByName(Y)[0];if(L)return L;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ne=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let be=ne.currentNode;for(;be;){const lt=be.shadowRoot;if(lt){const Et=lt.getElementById(Y)||lt.querySelector(`[name="${Y}"]`);if(Et)return Et}be=ne.nextNode()}}return null}(this.document,Y);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Y)}}scrollToElement(Y){const L=Y.getBoundingClientRect(),ne=L.left+this.window.pageXOffset,be=L.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(ne-lt[0],be-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=$i(this.window.history)||$i(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch(Y){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Y){return!1}}}function $i(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Jr{}},5e3:(Ft,$e,B)=>{B.d($e,{$8M:()=>Nn,$Z:()=>Gp,AFp:()=>EE,AaK:()=>ce,BQk:()=>rl,CHM:()=>Tr,CRH:()=>X0,CZH:()=>Iv,CqO:()=>Zp,EJc:()=>IC,EiD:()=>$a,EpF:()=>Wm,F4k:()=>qm,FYo:()=>O0,FiY:()=>Fi,G48:()=>WC,GfV:()=>R0,Gpc:()=>fe,JOm:()=>vo,JVY:()=>ui,L6k:()=>dr,LAX:()=>T,LFG:()=>Bi,LSH:()=>D,Lbi:()=>EC,NdJ:()=>Kp,OlP:()=>ci,Oqu:()=>ug,PXZ:()=>VC,Q6J:()=>Bd,QGY:()=>qp,Qsj:()=>fw,R0b:()=>ll,RDi:()=>$i,Rgc:()=>Cg,SBq:()=>_g,Sil:()=>TC,Suo:()=>J0,TTD:()=>cs,TgZ:()=>td,Tol:()=>sy,Udp:()=>sg,VLi:()=>kC,X6Q:()=>GC,XFs:()=>sn,Xpm:()=>ni,Y36:()=>pc,YKP:()=>L0,YNc:()=>tf,Yjl:()=>qe,Yz7:()=>An,ZZ4:()=>Lv,_Bn:()=>x0,_UZ:()=>nd,_Vd:()=>Oy,_c5:()=>uI,_uU:()=>uy,aQg:()=>Vv,c2e:()=>wC,cJS:()=>Fn,cg1:()=>ad,d8E:()=>wf,dDg:()=>DE,deG:()=>lu,dqk:()=>Hn,eBb:()=>mi,eFA:()=>xE,ekj:()=>og,g9A:()=>CE,h0i:()=>xf,hGG:()=>lI,hij:()=>pf,iGM:()=>Q0,ifc:()=>kt,ip1:()=>vE,kL8:()=>G_,lG2:()=>Pe,mCW:()=>ln,n5z:()=>Ht,oAB:()=>ie,oJD:()=>f,oxw:()=>Jp,pB0:()=>P,q3G:()=>w,q4F:()=>N0,qLn:()=>hd,qOj:()=>Pl,qZA:()=>$d,qzn:()=>xn,s9C:()=>cf,sBO:()=>qC,sIi:()=>hc,s_b:()=>ky,soG:()=>Tv,tBr:()=>nu,tb:()=>IE,tp0:()=>ru,uIk:()=>xp,vHH:()=>Qe,vpe:()=>Gl,wAp:()=>ur,xp6:()=>El,yhl:()=>Cn,ynx:()=>Hd,z2F:()=>Pv,z3N:()=>ir,zSh:()=>Rd,zs3:()=>Bu});var m=B(7579),v=B(727),x=B(8306),we=B(6451),oe=B(3099);function De(n){for(let r in n)if(n[r]===De)return r;throw Error("Could not find renamed property on target object.")}function Me(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ge(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=De({__forward_ref__:De});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return ce(this())},n}function Oe(n){return st(n)?n():n}function st(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===fe}class Qe extends Error{constructor(r,o){super(function _t(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}function Ye(n,r){const o=r?` in ${r}`:"";throw new Qe(-201,`No provider for ${nt(n)} found${o}`)}function fn(n,r){null==n&&function ft(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function An(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function En(n){return jn(n,Cr)||jn(n,Fr)}function jn(n,r){return n.hasOwnProperty(r)?n[r]:null}function wr(n){return n&&(n.hasOwnProperty($n)||n.hasOwnProperty(Lr))?n[$n]:null}const Cr=De({\u0275prov:De}),$n=De({\u0275inj:De}),Fr=De({ngInjectableDef:De}),Lr=De({ngInjectorDef:De});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let zn;function an(n){const r=zn;return zn=n,r}function ti(n,r,o){const u=En(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&sn.Optional?null:void 0!==r?r:void Ye(ce(n),"Injector")}function $r(n){return{toString:n}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),kt=(()=>{return(n=kt||(kt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",kt;var n})();const pn="undefined"!=typeof globalThis&&globalThis,Wt="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Hn=pn||"undefined"!=typeof global&&global||Wt||Hr,Gn={},gn=[],vi=De({\u0275cmp:De}),Un=De({\u0275dir:De}),Nr=De({\u0275pipe:De}),yn=De({\u0275mod:De}),Pn=De({\u0275fac:De}),On=De({__NG_ELEMENT_ID__:De});let Kn=0;function ni(n){return $r(()=>{const o={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||kt.Emulated,id:"c",styles:n.styles||gn,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,g=n.features,E=n.pipes;return u.id+=Kn++,u.inputs=K(n.inputs,o),u.outputs=K(n.outputs),g&&g.forEach(S=>S(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(Qr):null,u.pipeDefs=E?()=>("function"==typeof E?E():E).map(ve):null,u})}function Qr(n){return Rt(n)||function _n(n){return n[Un]||null}(n)}function ve(n){return function nn(n){return n[Nr]||null}(n)}const ge={};function ie(n){return $r(()=>{const r={type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ge[n.id]=n.type),r})}function K(n,r){if(null==n)return Gn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],g=l;Array.isArray(l)&&(g=l[1],l=l[0]),o[l]=u,r&&(r[l]=g)}return o}const Pe=ni;function qe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rt(n){return n[vi]||null}function Sn(n,r){const o=n[yn]||null;if(!o&&!0===r)throw new Error(`Type ${ce(n)} does not have '\u0275mod' property.`);return o}function Be(n){return Array.isArray(n)&&"object"==typeof n[1]}function ht(n){return Array.isArray(n)&&!0===n[1]}function At(n){return 0!=(8&n.flags)}function wn(n){return 2==(2&n.flags)}function rr(n){return 1==(1&n.flags)}function Jn(n){return null!==n.template}function or(n){return 0!=(512&n[2])}function tr(n,r){return n.hasOwnProperty(Pn)?n[Pn]:null}class bo{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function cs(){return Is}function Is(n){return n.type.prototype.ngOnChanges&&(n.setInput=Fs),ao}function ao(){const n=ds(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===Gn)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Fs(n,r,o,u){const l=ds(n)||function Oa(n,r){return n[$o]=r}(n,{previous:Gn,current:null}),g=l.current||(l.current={}),E=l.previous,S=this.declaredInputs[o],O=E[S];g[S]=new bo(O&&O.currentValue,r,E===Gn),n[u]=r}cs.ngInherit=!0;const $o="__ngSimpleChanges__";function ds(n){return n[$o]||null}let ts;function $i(n){ts=n}function uo(){return void 0!==ts?ts:"undefined"!=typeof document?document:void 0}function Jr(n){return!!n.listen}const V={createRenderer:(n,r)=>uo()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function lt(n,r){return L(r[n])}function Et(n,r){return L(r[n.index])}function _r(n,r){return n.data[r]}function Yn(n,r){const o=r[n];return Be(o)?o:o[0]}function ar(n){return 4==(4&n[2])}function ii(n){return 128==(128&n[2])}function Wr(n,r){return null==r?null:n[r]}function hs(n){n[18]=0}function nr(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const Rn={lFrame:sa(null),bindingsEnabled:!0};function k(){return Rn.bindingsEnabled}function _e(){return Rn.lFrame.lView}function xt(){return Rn.lFrame.tView}function Tr(n){return Rn.lFrame.contextLView=n,n[8]}function yr(){let n=Zi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zi(){return Rn.lFrame.currentTNode}function rs(n,r){const o=Rn.lFrame;o.currentTNode=n,o.isParent=r}function Ai(){return Rn.lFrame.isParent}function fi(){Rn.lFrame.isParent=!1}function Ao(){return Rn.lFrame.bindingIndex++}function Ts(n){const r=Rn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Za(n,r){const o=Rn.lFrame;o.bindingIndex=o.bindingRootIndex=n,ra(r)}function ra(n){Rn.lFrame.currentDirectiveIndex=n}function lo(n){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ka(){return Rn.lFrame.currentQueryIndex}function ba(n){Rn.lFrame.currentQueryIndex=n}function co(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ss(n,r,o){if(o&sn.SkipSelf){let l=r,g=n;for(;!(l=l.parent,null!==l||o&sn.Host||(l=co(g),null===l||(g=g[15],10&l.type))););if(null===l)return!1;r=l,n=g}const u=Rn.lFrame=Si();return u.currentTNode=r,u.lView=n,!0}function ia(n){const r=Si(),o=n[1];Rn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Si(){const n=Rn.lFrame,r=null===n?null:n.child;return null===r?sa(n):r}function sa(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function oa(){const n=Rn.lFrame;return Rn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qs=oa;function Us(){const n=oa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ri(){return Rn.lFrame.selectedIndex}function Ni(n){Rn.lFrame.selectedIndex=n}function ai(){const n=Rn.lFrame;return _r(n.tView,n.selectedIndex)}function Zr(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const g=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:G,ngOnDestroy:Q}=g;E&&(n.contentHooks||(n.contentHooks=[])).push(-o,E),S&&((n.contentHooks||(n.contentHooks=[])).push(o,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,S)),O&&(n.viewHooks||(n.viewHooks=[])).push(-o,O),G&&((n.viewHooks||(n.viewHooks=[])).push(o,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,G)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Q)}}function fo(n,r,o){eo(n,r,3,o)}function As(n,r,o,u){(3&n[2])===o&&eo(n,r,o,u)}function Vr(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function eo(n,r,o,u){const g=null!=u?u:-1,E=r.length-1;let S=0;for(let O=void 0!==u?65535&n[18]:0;O<E;O++)if("number"==typeof r[O+1]){if(S=r[O],null!=u&&S>=u)break}else r[O]<0&&(n[18]+=65536),(S<g||-1==g)&&(xo(n,o,r,O),n[18]=(4294901760&n[18])+O+2),O++}function xo(n,r,o,u){const l=o[u]<0,g=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(S)}finally{}}}else try{g.call(S)}finally{}}class to{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function gs(n,r,o){const u=Jr(n);let l=0;for(;l<o.length;){const g=o[l];if("number"==typeof g){if(0!==g)break;l++;const E=o[l++],S=o[l++],O=o[l++];u?n.setAttribute(r,S,O,E):r.setAttributeNS(E,S,O)}else{const E=g,S=o[++l];po(E)?u&&n.setProperty(r,E,S):u?n.setAttribute(r,E,S):r.setAttribute(E,S),l++}}return l}function ms(n){return 3===n||4===n||6===n}function po(n){return 64===n.charCodeAt(0)}function Ur(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?o=l:0===o||Mo(n,o,l,null,-1===o||2===o?r[++u]:null)}}return n}function Mo(n,r,o,u,l){let g=0,E=n.length;if(-1===r)E=-1;else for(;g<n.length;){const S=n[g++];if("number"==typeof S){if(S===r){E=-1;break}if(S>r){E=g-1;break}}}for(;g<n.length;){const S=n[g];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[g+1]=l));if(u===n[g+1])return void(n[g+2]=l)}g++,null!==u&&g++,null!==l&&g++}-1!==E&&(n.splice(E,0,r),g=E+1),n.splice(g++,0,o),null!==u&&n.splice(g++,0,u),null!==l&&n.splice(g++,0,l)}function no(n){return-1!==n}function Po(n){return 32767&n}function Mt(n,r){let o=function Iu(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let Xr=!0;function ys(n){const r=Xr;return Xr=n,r}let Zo=0;function rt(n,r){const o=xi(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,It(u.data,n),It(r,null),It(u.blueprint,null));const l=M(n,r),g=n.injectorIndex;if(no(l)){const E=Po(l),S=Mt(l,r),O=S[1].data;for(let G=0;G<8;G++)r[g+G]=S[E+G]|O[E+G]}return r[g+8]=l,g}function It(n,r){n.push(0,0,0,0,0,0,0,0,r)}function xi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function M(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=r;for(;null!==l;){const g=l[1],E=g.type;if(u=2===E?g.declTNode:1===E?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function b(n,r,o){!function Yt(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(On)&&(u=o[On]),null==u&&(u=o[On]=Zo++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function F(n,r,o){if(o&sn.Optional)return n;Ye(r,"NodeInjector")}function $(n,r,o,u){if(o&sn.Optional&&void 0===u&&(u=null),0==(o&(sn.Self|sn.Host))){const l=n[9],g=an(void 0);try{return l?l.get(r,u,o&sn.Optional):ti(r,u,o&sn.Optional)}finally{an(g)}}return F(u,r,o)}function ee(n,r,o,u=sn.Default,l){if(null!==n){const g=function St(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(On)?n[On]:void 0;return"number"==typeof r?r>=0?255&r:Se:r}(o);if("function"==typeof g){if(!ss(r,n,u))return u&sn.Host?F(l,o,u):$(r,o,u,l);try{const E=g(u);if(null!=E||u&sn.Optional)return E;Ye(o)}finally{qs()}}else if("number"==typeof g){let E=null,S=xi(n,r),O=-1,G=u&sn.Host?r[16][6]:null;for((-1===S||u&sn.SkipSelf)&&(O=-1===S?M(n,r):r[S+8],-1!==O&&Br(u,!1)?(E=r[1],S=Po(O),r=Mt(O,r)):S=-1);-1!==S;){const Q=r[1];if(vr(g,S,Q.data)){const de=tt(S,r,o,E,u,G);if(de!==he)return de}O=r[S+8],-1!==O&&Br(u,r[1].data[S+8]===G)&&vr(g,S,r)?(E=Q,S=Po(O),r=Mt(O,r)):S=-1}}}return $(r,o,u,l)}const he={};function Se(){return new hr(yr(),_e())}function tt(n,r,o,u,l,g){const E=r[1],S=E.data[n+8],Q=Jt(S,E,o,null==u?wn(S)&&Xr:u!=E&&0!=(3&S.type),l&sn.Host&&g===S);return null!==Q?Xn(r,E,Q,S):he}function Jt(n,r,o,u,l){const g=n.providerIndexes,E=r.data,S=1048575&g,O=n.directiveStart,Q=g>>20,xe=l?S+Q:n.directiveEnd;for(let Ke=u?S:S+Q;Ke<xe;Ke++){const wt=E[Ke];if(Ke<O&&o===wt||Ke>=O&&wt.type===o)return Ke}if(l){const Ke=E[O];if(Ke&&Jn(Ke)&&Ke.type===o)return O}return null}function Xn(n,r,o,u){let l=n[o];const g=r.data;if(function aa(n){return n instanceof to}(l)){const E=l;E.resolving&&function bt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(nt(g[o]));const S=ys(E.canSeeViewProviders);E.resolving=!0;const O=E.injectImpl?an(E.injectImpl):null;ss(n,u,sn.Default);try{l=n[o]=E.factory(void 0,g,n,u),r.firstCreatePass&&o>=u.directiveStart&&function os(n,r,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:g}=r.type.prototype;if(u){const E=Is(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,E)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,g))}(o,g[o],r)}finally{null!==O&&an(O),ys(S),E.resolving=!1,qs()}}return l}function vr(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Br(n,r){return!(n&sn.Self||n&sn.Host&&r)}class hr{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return ee(this._tNode,this._lView,r,u,o)}}function Ht(n){return $r(()=>{const r=n.prototype.constructor,o=r[Pn]||Oo(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const g=l[Pn]||Oo(l);if(g&&g!==o)return g;l=Object.getPrototypeOf(l)}return g=>new g})}function Oo(n){return st(n)?()=>{const r=Oo(Oe(n));return r&&r()}:tr(n)}function Nn(n){return function C(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const g=o[l];if(ms(g))break;if(0===g)l+=2;else if("number"==typeof g)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(g===r)return o[l+1];l+=2}}}return null}(yr(),n)}const Ar="__parameters__";function Zs(n,r,o){return $r(()=>{const u=function La(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(r);function l(...g){if(this instanceof l)return u.apply(this,g),this;const E=new l(...g);return S.annotation=E,S;function S(O,G,Q){const de=O.hasOwnProperty(Ar)?O[Ar]:Object.defineProperty(O,Ar,{value:[]})[Ar];for(;de.length<=Q;)de.push(null);return(de[Q]=de[Q]||[]).push(E),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class ci{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=An({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lu=new ci("AnalyzeForEntryComponents");function Ui(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(r===n&&(r=n.slice(0,o)),Ui(u,r)):r!==n&&r.push(u)}return r}function No(n,r){n.forEach(o=>Array.isArray(o)?No(o,r):r(o))}function Da(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function ca(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Kr(n,r,o){let u=ko(n,r);return u>=0?n[1|u]=o:(u=~u,function Bs(n,r,o,u){let l=n.length;if(l==r)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function da(n,r){const o=ko(n,r);if(o>=0)return n[1|o]}function ko(n,r){return function du(n,r,o){let u=0,l=n.length>>o;for(;l!==u;){const g=u+(l-u>>1),E=n[g<<o];if(r===E)return g<<o;E>r?l=g:u=g+1}return~(l<<o)}(n,r,1)}const Lo={},xu="__NG_DI_FLAG__",ha="ngTempTokenPath",fl=/\n/gm,fa="__source",wc=De({provide:String,useValue:De});let Aa;function Pu(n){const r=Aa;return Aa=n,r}function qu(n,r=sn.Default){if(void 0===Aa)throw new Qe(203,"");return null===Aa?ti(n,void 0,r):Aa.get(n,r&sn.Optional?null:void 0,r)}function Bi(n,r=sn.Default){return(function Ln(){return zn}()||qu)(Oe(n),r)}const pa=Bi;function Ki(n){const r=[];for(let o=0;o<n.length;o++){const u=Oe(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Qe(900,"");let l,g=sn.Default;for(let E=0;E<u.length;E++){const S=u[E],O=io(S);"number"==typeof O?-1===O?l=S.token:g|=O:l=S}r.push(Bi(l,g))}else r.push(Bi(u))}return r}function fu(n,r){return n[xu]=r,n.prototype[xu]=r,n}function io(n){return n[xu]}const nu=fu(Zs("Inject",n=>({token:n})),-1),Fi=fu(Zs("Optional"),8),ru=fu(Zs("SkipSelf"),4);let Ms,d;function js(n){var r;return(null===(r=function Qo(){if(void 0===Ms&&(Ms=null,Hn.trustedTypes))try{Ms=Hn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ms}())||void 0===r?void 0:r.createHTML(n))||n}function N(n){var r;return(null===(r=function _(){if(void 0===d&&(d=null,Hn.trustedTypes))try{d=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return d}())||void 0===r?void 0:r.createHTML(n))||n}class me{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ue extends me{getTypeName(){return"HTML"}}class pt extends me{getTypeName(){return"Style"}}class qt extends me{getTypeName(){return"Script"}}class In extends me{getTypeName(){return"URL"}}class qn extends me{getTypeName(){return"ResourceURL"}}function ir(n){return n instanceof me?n.changingThisBreaksApplicationSecurity:n}function xn(n,r){const o=Cn(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Cn(n){return n instanceof me&&n.getTypeName()||null}function ui(n){return new Ue(n)}function dr(n){return new pt(n)}function mi(n){return new qt(n)}function T(n){return new In(n)}function P(n){return new qn(n)}class ue{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(js(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Ie{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=js(r),o;const u=this.inertDocument.createElement("body");return u.innerHTML=js(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const o=r.attributes;for(let l=o.length-1;0<l;l--){const E=o.item(l).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const We=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ln(n){return(n=String(n)).match(We)||n.match(zt)?n:"unsafe:"+n}function Mn(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function zi(...n){const r={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(r[u]=!0);return r}const Qt=Mn("area,br,col,hr,img,wbr"),Tn=Mn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Mn("rp,rt"),Ps=zi(Qt,zi(Tn,Mn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zi(Qn,Mn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zi(Qn,Tn)),Sa=Mn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mi=Mn("srcset"),vs=zi(Sa,Mi,Mn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_o=Mn("script,style,template");class Jo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Ps.hasOwnProperty(o))return this.sanitizedSomething=!0,!_o.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=r.attributes;for(let l=0;l<u.length;l++){const g=u.item(l),E=g.name,S=E.toLowerCase();if(!vs.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let O=g.value;Sa[S]&&(O=ln(O)),Mi[S]&&(n=O,O=(n=String(n)).split(",").map(r=>ln(r.trim())).join(", ")),this.buf.push(" ",E,'="',ld(O),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Ps.hasOwnProperty(o)&&!Qt.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(ld(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const xa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nu=/([^\#-~ |!])/g;function ld(n){return n.replace(/&/g,"&amp;").replace(xa,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Nu,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kl;function $a(n,r){let o=null;try{Kl=Kl||function H(n){const r=new Ie(n);return function Te(){try{return!!(new window.DOMParser).parseFromString(js(""),"text/html")}catch(n){return!1}}()?new ue(r):r}(n);let u=r?String(r):"";o=Kl.getInertBodyElement(u);let l=5,g=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=g,g=o.innerHTML,o=Kl.getInertBodyElement(u)}while(u!==g);return js((new Jo).sanitizeChildren(Ic(o)||o))}finally{if(o){const u=Ic(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ic(n){return"content"in n&&function gl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var w=(()=>((w=w||{})[w.NONE=0]="NONE",w[w.HTML=1]="HTML",w[w.STYLE=2]="STYLE",w[w.SCRIPT=3]="SCRIPT",w[w.URL=4]="URL",w[w.RESOURCE_URL=5]="RESOURCE_URL",w))();function f(n){const r=$s();return r?N(r.sanitize(w.HTML,n)||""):xn(n,"HTML")?N(ir(n)):$a(uo(),Re(n))}function D(n){const r=$s();return r?r.sanitize(w.URL,n)||"":xn(n,"URL")?ir(n):ln(Re(n))}function $s(){const n=_e();return n&&n[12]}const bc="__ngContext__";function Ii(n,r){n[bc]=r}function mu(n){const r=function Ku(n){return n[bc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Tc(n){return n.ngOriginalError}function Gy(n,...r){n.error(...r)}class hd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),u=function zy(n){return n&&n.ngErrorLogger||Gy}(r);u(this._console,"ERROR",r),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Tc(r);for(;o&&Tc(o);)o=Tc(o);return o||null}}const qy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Hn))();function ku(n){return n instanceof Function?n():n}var vo=(()=>((vo=vo||{})[vo.Important=1]="Important",vo[vo.DashCase=2]="DashCase",vo))();function lh(n,r){return undefined(n,r)}function nc(n){const r=n[3];return ht(r)?r[3]:r}function gd(n){return Pg(n[13])}function Nf(n){return Pg(n[4])}function Pg(n){for(;null!==n&&!ht(n);)n=n[4];return n}function zr(n,r,o,u,l){if(null!=u){let g,E=!1;ht(u)?g=u:Be(u)&&(E=!0,u=u[0]);const S=L(u);0===n&&null!==o?null==l?Vg(r,o,S):_l(r,o,S,l||null,!0):1===n&&null!==o?_l(r,o,S,l||null,!0):2===n?function jf(n,r,o){const u=ph(n,r);u&&function Ky(n,r,o,u){Jr(n)?n.removeChild(r,o,u):r.removeChild(o)}(n,u,r,o)}(r,S,E):3===n&&r.destroyNode(S),null!=g&&function Yy(n,r,o,u,l){const g=o[7];g!==L(o)&&zr(r,n,u,g,l);for(let S=10;S<o.length;S++){const O=o[S];xc(O[1],O,n,r,u,g)}}(r,n,g,o,l)}}function Ac(n,r,o){if(Jr(n))return n.createElement(r,o);{const u=null!==o?function Wn(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function Sc(n,r){const o=n[9],u=o.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,nr(l,-1)),o.splice(u,1)}function rc(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&Sc(l,u),r>0&&(n[o-1][4]=u[4]);const g=ca(n,10+r);!function Og(n,r){xc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const E=g[19];null!==E&&E.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function yd(n,r){if(!(256&r[2])){const o=r[11];Jr(o)&&o.destroyNode&&xc(n,r,o,3,null,null),function Ng(n){let r=n[13];if(!r)return fh(n[1],n);for(;r;){let o=null;if(Be(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)Be(r)&&fh(r[1],r),r=r[3];null===r&&(r=n),Be(r)&&fh(r[1],r),o=r&&r[4]}r=o}}(r)}}function fh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Fg(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=r[o[u]];if(!(l instanceof to)){const g=o[u+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const S=l[g[E]],O=g[E+1];try{O.call(S)}finally{}}else try{g.call(l)}finally{}}}}(n,r),function kg(n,r){const o=n.cleanup,u=r[7];let l=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const E=o[g+1],S="function"==typeof E?E(r):L(r[E]),O=u[l=o[g+2]],G=o[g+3];"boolean"==typeof G?S.removeEventListener(o[g],O,G):G>=0?u[l=G]():u[l=-G].unsubscribe(),g+=2}else{const E=u[l=o[g+1]];o[g].call(E)}if(null!==u){for(let g=l+1;g<u.length;g++)u[g]();r[7]=null}}(n,r),1===r[1].type&&Jr(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&ht(r[3])){o!==r[3]&&Sc(o,r);const u=r[19];null!==u&&u.detachView(n)}}}function Lg(n,r,o){return function Vf(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===kt.None||l===kt.Emulated)return null}return Et(u,o)}(n,r.parent,o)}function _l(n,r,o,u,l){Jr(n)?n.insertBefore(r,o,u,l):r.insertBefore(o,u,l)}function Vg(n,r,o){Jr(n)?n.appendChild(r,o):r.appendChild(o)}function Ug(n,r,o,u,l){null!==u?_l(n,r,o,u,l):Vg(n,r,o)}function ph(n,r){return Jr(n)?n.parentNode(r):r.parentNode}let Bg=function Bf(n,r,o){return 40&n.type?Et(n,o):null};function _d(n,r,o,u){const l=Lg(n,u,r),g=r[11],S=function ic(n,r,o){return Bg(n,r,o)}(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)Ug(g,l,o[O],S,!1);else Ug(g,l,o,S,!1)}function vl(n,r){if(null!==r){const o=r.type;if(3&o)return Et(r,n);if(4&o)return vd(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return vl(n,u);{const l=n[r.index];return ht(l)?vd(-1,l):L(l)}}if(32&o)return lh(r,n)()||L(n[r.index]);{const u=yu(n,r);return null!==u?Array.isArray(u)?u[0]:vl(nc(n[16]),u):vl(n,r.next)}}return null}function yu(n,r){return null!==r?n[16][6].projection[r.projection]:null}function vd(n,r){const o=10+n+1;if(o<r.length){const u=r[o],l=u[1].firstChild;if(null!==l)return vl(u,l)}return r[7]}function sc(n,r,o,u,l,g,E){for(;null!=o;){const S=u[o.index],O=o.type;if(E&&0===r&&(S&&Ii(L(S),u),o.flags|=4),64!=(64&o.flags))if(8&O)sc(n,r,o.child,u,l,g,!1),zr(r,n,l,S,g);else if(32&O){const G=lh(o,u);let Q;for(;Q=G();)zr(r,n,l,Q,g);zr(r,n,l,S,g)}else 16&O?$f(n,r,u,o,l,g):zr(r,n,l,S,g);o=E?o.projectionNext:o.next}}function xc(n,r,o,u,l,g){sc(o,u,n.firstChild,r,l,g,!1)}function $f(n,r,o,u,l,g){const E=o[16],O=E[6].projection[u.projection];if(Array.isArray(O))for(let G=0;G<O.length;G++)zr(r,n,l,O[G],g);else sc(n,r,O,E[3],l,g,!0)}function Mc(n,r,o){Jr(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Ed(n,r,o){Jr(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function $g(n,r,o){let u=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const g=r.length;if(l+g===u||n.charCodeAt(l+g)<=32)return l}o=l+1}}const mh="ng-template";function Hg(n,r,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==$g(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function zg(n){return 4===n.type&&n.value!==mh}function Gg(n,r,o){return r===(4!==n.type||o?n.value:mh)}function Xy(n,r,o){let u=4;const l=n.attrs||[],g=function Wg(n){for(let r=0;r<n.length;r++)if(ms(n[r]))return r;return n.length}(l);let E=!1;for(let S=0;S<r.length;S++){const O=r[S];if("number"!=typeof O){if(!E)if(4&u){if(u=2|1&u,""!==O&&!Gg(n,O,o)||""===O&&1===r.length){if(_u(u))return!1;E=!0}}else{const G=8&u?O:r[++S];if(8&u&&null!==n.attrs){if(!Hg(n.attrs,G,o)){if(_u(u))return!1;E=!0}continue}const de=e_(8&u?"class":O,l,zg(n),o);if(-1===de){if(_u(u))return!1;E=!0;continue}if(""!==G){let xe;xe=de>g?"":l[de+1].toLowerCase();const Ke=8&u?xe:null;if(Ke&&-1!==$g(Ke,G,0)||2&u&&G!==xe){if(_u(u))return!1;E=!0}}}}else{if(!E&&!_u(u)&&!_u(O))return!1;if(E&&_u(O))continue;E=!1,u=O|1&u}}return _u(u)||E}function _u(n){return 0==(1&n)}function e_(n,r,o,u){if(null===r)return-1;let l=0;if(u||!o){let g=!1;for(;l<r.length;){const E=r[l];if(E===n)return l;if(3===E||6===E)g=!0;else{if(1===E||2===E){let S=r[++l];for(;"string"==typeof S;)S=r[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=g?1:2}return-1}return function t_(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Yu(n,r,o=!1){for(let u=0;u<r.length;u++)if(Xy(n,r[u],o))return!0;return!1}function Fu(n,r){return n?":not("+r.trim()+")":r}function Zg(n){let r=n[0],o=1,u=2,l="",g=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&u){const S=n[++o];l+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+E:4&u&&(l+=" "+E);else""!==l&&!_u(E)&&(r+=Fu(g,l),l=""),u=E,g=g||!_u(u);o++}return""!==l&&(r+=Fu(g,l)),r}const gr={};function El(n){wl(xt(),_e(),Ri()+n,!1)}function wl(n,r,o,u){if(!u)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&fo(r,g,o)}else{const g=n.preOrderHooks;null!==g&&As(r,g,0,o)}Ni(o)}function Il(n,r){return n<<17|r<<2}function au(n){return n>>17&32767}function _h(n){return 2|n}function Lu(n){return(131068&n)>>2}function zf(n,r){return-131069&n|r<<2}function vh(n){return 1|n}function Xu(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],g=o[u+1];if(-1!==g){const E=n.data[g];ba(l),E.contentQueries(2,r[g],g)}}}function Fc(n,r,o,u,l,g,E,S,O,G){const Q=r.blueprint.slice();return Q[0]=l,Q[2]=140|u,hs(Q),Q[3]=Q[15]=n,Q[8]=o,Q[10]=E||n&&n[10],Q[11]=S||n&&n[11],Q[12]=O||n&&n[12]||null,Q[9]=G||n&&n[9]||null,Q[6]=g,Q[16]=2==r.type?n[16]:Q,Q}function Lc(n,r,o,u,l){let g=n.data[r];if(null===g)g=function Dh(n,r,o,u,l){const g=Zi(),E=Ai(),O=n.data[r]=function sp(n,r,o,u,l,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,o,r,u,l);return null===n.firstChild&&(n.firstChild=O),null!==g&&(E?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O)),O}(n,r,o,u,l),function Vs(){return Rn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=u,g.attrs=l;const E=function fs(){const n=Rn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return rs(g,!0),g}function Vc(n,r,o,u){if(0===o)return-1;const l=r.length;for(let g=0;g<o;g++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function Al(n,r,o){ia(r);try{const u=n.viewQuery;null!==u&&Pd(1,u,o);const l=n.template;null!==l&&ip(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xu(n,r),n.staticViewQueries&&Pd(2,n.viewQuery,o);const g=n.components;null!==g&&function a_(n,r){for(let o=0;o<r.length;o++)p_(n,r[o])}(r,g)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Us()}}function ac(n,r,o,u){const l=r[2];if(256!=(256&l)){ia(r);try{hs(r),function Wo(n){return Rn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ip(n,r,o,2,u);const E=3==(3&l);if(E){const G=n.preOrderCheckHooks;null!==G&&fo(r,G,null)}else{const G=n.preOrderHooks;null!==G&&As(r,G,0,null),Vr(r,0)}if(function pm(n){for(let r=gd(n);null!==r;r=Nf(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const l=o[u],g=l[3];0==(1024&l[2])&&nr(g,1),l[2]|=1024}}}(r),function Nh(n){for(let r=gd(n);null!==r;r=Nf(r))for(let o=10;o<r.length;o++){const u=r[o],l=u[1];ii(u)&&ac(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&Xu(n,r),E){const G=n.contentCheckHooks;null!==G&&fo(r,G)}else{const G=n.contentHooks;null!==G&&As(r,G,1),Vr(r,1)}!function em(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ni(~l);else{const g=l,E=o[++u],S=o[++u];Za(E,g),S(2,r[g])}}}finally{Ni(-1)}}(n,r);const S=n.components;null!==S&&function tm(n,r){for(let o=0;o<r.length;o++)gm(n,r[o])}(r,S);const O=n.viewQuery;if(null!==O&&Pd(2,O,u),E){const G=n.viewCheckHooks;null!==G&&fo(r,G)}else{const G=n.viewHooks;null!==G&&As(r,G,2),Vr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,nr(r[3],-1))}finally{Us()}}}function u_(n,r,o,u){const l=r[10],E=ar(r);try{!E&&l.begin&&l.begin(),E&&Al(n,r,u),ac(n,r,o,u)}finally{!E&&l.end&&l.end()}}function ip(n,r,o,u,l){const g=Ri(),E=2&u;try{Ni(-1),E&&r.length>20&&wl(n,r,20,!1),o(u,l)}finally{Ni(g)}}function nm(n,r,o){if(At(r)){const l=r.directiveEnd;for(let g=r.directiveStart;g<l;g++){const E=n.data[g];E.contentQueries&&E.contentQueries(1,o[g],g)}}}function Ah(n,r,o){!k()||(function xh(n,r,o,u){const l=o.directiveStart,g=o.directiveEnd;n.firstCreatePass||rt(o,r),Ii(u,r);const E=o.initialInputs;for(let S=l;S<g;S++){const O=n.data[S],G=Jn(O);G&&fm(r,o,O);const Q=Xn(r,n,S,o);Ii(Q,r),null!==E&&f_(0,S-l,Q,O,0,E),G&&(Yn(o.index,r)[8]=Q)}}(n,r,o,Et(o,r)),128==(128&o.flags)&&function up(n,r,o){const u=o.directiveStart,l=o.directiveEnd,E=o.index,S=function is(){return Rn.lFrame.currentDirectiveIndex}();try{Ni(E);for(let O=u;O<l;O++){const G=n.data[O],Q=r[O];ra(O),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Mh(G,Q)}}finally{Ni(-1),ra(S)}}(n,r,o))}function el(n,r,o=Et){const u=r.localNames;if(null!==u){let l=r.index+1;for(let g=0;g<u.length;g+=2){const E=u[g+1],S=-1===E?o(r,n):n[E];n[l++]=S}}}function Uc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Id(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Id(n,r,o,u,l,g,E,S,O,G){const Q=20+u,de=Q+l,xe=function rm(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:gr);return o}(Q,de),Ke="function"==typeof G?G():G;return xe[1]={type:n,blueprint:xe,template:o,queries:null,viewQuery:S,declTNode:r,data:xe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:Ke,incompleteFirstPass:!1}}function om(n,r,o,u){const l=hp(r);null===o?l.push(u):(l.push(o),n.firstCreatePass&&_m(n).push(u,l.length-1))}function oo(n,r,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(r,l):o[u]=[r,l]}return o}function Ga(n,r,o,u,l,g,E,S){const O=Et(r,o);let Q,G=r.inputs;!S&&null!=G&&(Q=G[u])?(Uh(n,o,Q,u,l),wn(r)&&function h_(n,r){const o=Yn(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(u=function d_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=E?E(l,r.value||"",u):l,Jr(g)?g.setProperty(O,u,l):po(u)||(O.setProperty?O.setProperty(u,l):O[u]=l))}function Td(n,r,o,u){let l=!1;if(k()){const g=function um(n,r,o){const u=n.directiveRegistry;let l=null;if(u)for(let g=0;g<u.length;g++){const E=u[g];Yu(o,E.selectors,!1)&&(l||(l=[]),b(rt(o,r),n,E.type),Jn(E)?(lm(n,o),l.unshift(E)):l.push(E))}return l}(n,r,o),E=null===u?null:{"":-1};if(null!==g){l=!0,Ph(o,n.data.length,g.length);for(let Q=0;Q<g.length;Q++){const de=g[Q];de.providersResolver&&de.providersResolver(de)}let S=!1,O=!1,G=Vc(n,r,g.length,null);for(let Q=0;Q<g.length;Q++){const de=g[Q];o.mergedAttrs=Ur(o.mergedAttrs,de.hostAttrs),hm(n,o,r,G,de),dm(G,de,E),null!==de.contentQueries&&(o.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(o.flags|=128);const xe=de.type.prototype;!S&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),S=!0),!O&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),O=!0),G++}!function c_(n,r){const u=r.directiveEnd,l=n.data,g=r.attrs,E=[];let S=null,O=null;for(let G=r.directiveStart;G<u;G++){const Q=l[G],de=Q.inputs,xe=null===g||zg(r)?null:Bc(de,g);E.push(xe),S=oo(de,G,S),O=oo(Q.outputs,G,O)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=16),S.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=S,r.outputs=O}(n,o)}E&&function cm(n,r,o){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const g=o[r[l+1]];if(null==g)throw new Qe(-301,!1);u.push(r[l],g)}}}(o,u,E)}return o.mergedAttrs=Ur(o.mergedAttrs,o.attrs),l}function Sh(n,r,o,u,l,g){const E=g.hostBindings;if(E){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const O=~r.index;(function Dd(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(S)!=O&&S.push(O),S.push(u,l,E)}}function Mh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function lm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function dm(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Jn(r)&&(o[""]=n)}}function Ph(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function hm(n,r,o,u,l){n.data[u]=l;const g=l.factory||(l.factory=tr(l.type)),E=new to(g,Jn(l),null);n.blueprint[u]=E,o[u]=E,Sh(n,r,0,u,Vc(n,o,l.hostVars,gr),l)}function fm(n,r,o){const u=Et(r,n),l=Uc(o),g=n[10],E=Fh(n,Fc(n,l,null,o.onPush?64:16,u,r,g,g.createRenderer(u,o),null,null));n[r.index]=E}function Uu(n,r,o,u,l,g){const E=Et(n,r);!function Oh(n,r,o,u,l,g,E){if(null==g)Jr(n)?n.removeAttribute(r,l,o):r.removeAttribute(l);else{const S=null==E?Re(g):E(g,u||"",l);Jr(n)?n.setAttribute(r,l,S,o):o?r.setAttributeNS(o,l,S):r.setAttribute(l,S)}}(r[11],E,g,n.value,o,u,l)}function f_(n,r,o,u,l,g){const E=g[r];if(null!==E){const S=u.setInput;for(let O=0;O<E.length;){const G=E[O++],Q=E[O++],de=E[O++];null!==S?u.setInput(o,de,G,Q):o[Q]=de}}}function Bc(n,r){let o=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return o}function Rh(n,r,o,u){return new Array(n,!0,!1,r,null,0,u,o,null,null)}function gm(n,r){const o=Yn(r,n);if(ii(o)){const u=o[1];80&o[2]?ac(u,o,u.template,o[8]):o[5]>0&&kh(o)}}function kh(n){for(let u=gd(n);null!==u;u=Nf(u))for(let l=10;l<u.length;l++){const g=u[l];if(1024&g[2]){const E=g[1];ac(E,g,E.template,g[8])}else g[5]>0&&kh(g)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Yn(o[u],n);ii(l)&&l[5]>0&&kh(l)}}function p_(n,r){const o=Yn(r,n),u=o[1];(function lp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),Al(u,o,o[8])}function Fh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Sd(n){for(;n;){n[2]|=64;const r=nc(n);if(or(n)&&!r)return n;n=r}return null}function Md(n){!function Lh(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],u=mu(o),l=u[1];u_(l,u,l.template,o)}}(n[8])}function Pd(n,r,o){ba(0),r(n,o)}const dp=(()=>Promise.resolve(null))();function hp(n){return n[7]||(n[7]=[])}function _m(n){return n.cleanup||(n.cleanup=[])}function Od(n,r){const o=n[9],u=o?o.get(hd,null):null;u&&u.handleError(r)}function Uh(n,r,o,u,l){for(let g=0;g<o.length;){const E=o[g++],S=o[g++],O=r[E],G=n.data[E];null!==G.setInput?G.setInput(O,l,u,S):O[S]=l}}function tl(n,r,o){const u=lt(r,n);!function kf(n,r,o){Jr(n)?n.setValue(r,o):r.textContent=o}(n[11],u,o)}function Bh(n,r,o){let u=o?n.styles:null,l=o?n.classes:null,g=0;if(null!==r)for(let E=0;E<r.length;E++){const S=r[E];"number"==typeof S?g=S:1==g?l=Ge(l,S):2==g&&(u=Ge(u,S+": "+r[++E]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}const jc=new ci("INJECTOR",-1);class $c{get(r,o=Lo){if(o===Lo){const u=new Error(`NullInjectorError: No provider for ${ce(r)}!`);throw u.name="NullInjectorError",u}return o}}const Rd=new ci("Set Injector scope."),Hc={},y_={};let pp;function vm(){return void 0===pp&&(pp=new $c),pp}function Em(n,r=null,o=null,u){const l=jh(n,r,o,u);return l._resolveInjectorDefTypes(),l}function jh(n,r=null,o=null,u){return new __(n,o,r||vm(),u)}class __{constructor(r,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&No(o,S=>this.processProvider(S,r,o)),No([r],S=>this.processInjectorType(S,[],g)),this.records.set(jc,Sl(void 0,this));const E=this.records.get(Rd);this.scope=null!=E?E.value:null,this.source=l||("object"==typeof r?null:ce(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Lo,u=sn.Default){this.assertNotDestroyed();const l=Pu(this),g=an(void 0);try{if(!(u&sn.SkipSelf)){let S=this.records.get(r);if(void 0===S){const O=function wm(n){return"function"==typeof n||"object"==typeof n&&n instanceof ci}(r)&&En(r);S=O&&this.injectableDefInScope(O)?Sl(gp(r),Hc):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(u&sn.Self?vm():this.parent).get(r,o=u&sn.Optional&&o===Lo?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[ha]=E[ha]||[]).unshift(ce(r)),l)throw E;return function tu(n,r,o,u){const l=n[ha];throw r[fa]&&l.unshift(r[fa]),n.message=function di(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=ce(r);if(Array.isArray(r))l=r.map(ce).join(" -> ");else if("object"==typeof r){let g=[];for(let E in r)if(r.hasOwnProperty(E)){let S=r[E];g.push(E+":"+("string"==typeof S?JSON.stringify(S):ce(S)))}l=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(fl,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ha]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{an(g),Pu(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,l)=>r.push(ce(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(r,o,u){if(!(r=Oe(r)))return!1;let l=wr(r);const g=null==l&&r.ngModule||void 0,E=void 0===g?r:g,S=-1!==u.indexOf(E);if(void 0!==g&&(l=wr(g)),null==l)return!1;if(null!=l.imports&&!S){let Q;u.push(E);try{No(l.imports,de=>{this.processInjectorType(de,o,u)&&(void 0===Q&&(Q=[]),Q.push(de))})}finally{}if(void 0!==Q)for(let de=0;de<Q.length;de++){const{ngModule:xe,providers:Ke}=Q[de];No(Ke,wt=>this.processProvider(wt,xe,Ke||gn))}}this.injectorDefTypes.add(E);const O=tr(E)||(()=>new E);this.records.set(E,Sl(O,Hc));const G=l.providers;if(null!=G&&!S){const Q=r;No(G,de=>this.processProvider(de,Q,G))}return void 0!==g&&void 0!==r.providers}processProvider(r,o,u){let l=lc(r=Oe(r))?r:Oe(r&&r.provide);const g=function mp(n,r,o){return kd(n)?Sl(void 0,n.useValue):Sl(uc(n),Hc)}(r);if(lc(r)||!0!==r.multi)this.records.get(l);else{let E=this.records.get(l);E||(E=Sl(void 0,Hc,!0),E.factory=()=>Ki(E.multi),this.records.set(l,E)),l=r,E.multi.push(r)}this.records.set(l,g)}hydrate(r,o){return o.value===Hc&&(o.value=y_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function xl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Oe(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function gp(n){const r=En(n),o=null!==r?r.factory:tr(n);if(null!==o)return o;if(n instanceof ci)throw new Qe(204,!1);if(n instanceof Function)return function Nd(n){const r=n.length;if(r>0)throw function Ua(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}(r,"?"),new Qe(204,!1);const o=function fr(n){const r=n&&(n[Cr]||n[Fr]);if(r){const o=function bi(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Qe(204,!1)}function uc(n,r,o){let u;if(lc(n)){const l=Oe(n);return tr(l)||gp(l)}if(kd(n))u=()=>Oe(n.useValue);else if(function yp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ki(n.deps||[]));else if(function Fd(n){return!(!n||!n.useExisting)}(n))u=()=>Bi(Oe(n.useExisting));else{const l=Oe(n&&(n.useClass||n.provide));if(!function vp(n){return!!n.deps}(n))return tr(l)||gp(l);u=()=>new l(...Ki(n.deps))}return u}function Sl(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function kd(n){return null!==n&&"object"==typeof n&&wc in n}function lc(n){return"function"==typeof n}let Bu=(()=>{class n{static create(o,u){var l;if(Array.isArray(o))return Em({name:""},u,o,"");{const g=null!==(l=o.name)&&void 0!==l?l:"";return Em({name:g},o.parent,o.providers,g)}}}return n.THROW_IF_NOT_FOUND=Lo,n.NULL=new $c,n.\u0275prov=An({token:n,providedIn:"any",factory:()=>Bi(jc)}),n.__NG_ELEMENT_ID__=-1,n})();function Ml(n,r){Zr(mu(n)[1],yr())}function Pl(n){let r=function dc(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let l;if(Jn(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Qe(903,"");l=r.\u0275dir}if(l){if(o){u.push(l);const E=n;E.inputs=Ol(n.inputs),E.declaredInputs=Ol(n.declaredInputs),E.outputs=Ol(n.outputs);const S=l.hostBindings;S&&Ip(n,S);const O=l.viewQuery,G=l.contentQueries;if(O&&E_(n,O),G&&w_(n,G),Me(n.inputs,l.inputs),Me(n.declaredInputs,l.declaredInputs),Me(n.outputs,l.outputs),Jn(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const g=l.features;if(g)for(let E=0;E<g.length;E++){const S=g[E];S&&S.ngInherit&&S(n),S===Pl&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Om(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=Ur(l.hostAttrs,o=Ur(o,l.hostAttrs))}}(u)}function Ol(n){return n===Gn?{}:n===gn?[]:n}function E_(n,r){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{r(u,l),o(u,l)}:r}function w_(n,r){const o=n.contentQueries;n.contentQueries=o?(u,l,g)=>{r(u,l,g),o(u,l,g)}:r}function Ip(n,r){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{r(u,l),o(u,l)}:r}let Kh=null;function Gc(){if(!Kh){const n=Hn.Symbol;if(n&&n.iterator)Kh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Kh=u)}}}return Kh}function hc(n){return!!Sp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gc()in n)}function Sp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Bo(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function xp(n,r,o,u){const l=_e();return Bo(l,Ao(),r)&&(xt(),Uu(ai(),l,n,r,o,u)),xp}function Nl(n,r,o,u){return Bo(n,Ao(),o)?r+Re(o)+u:gr}function tf(n,r,o,u,l,g,E,S){const O=_e(),G=xt(),Q=n+20,de=G.firstCreatePass?function Pp(n,r,o,u,l,g,E,S,O){const G=r.consts,Q=Lc(r,n,4,E||null,Wr(G,S));Td(r,o,Q,Wr(G,O)),Zr(r,Q);const de=Q.tViews=Id(2,Q,u,l,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,Q),de.queries=r.queries.embeddedTView(Q)),Q}(Q,G,O,r,o,u,l,g,E):G.data[Q];rs(de,!1);const xe=O[11].createComment("");_d(G,O,xe,de),Ii(xe,O),Fh(O,O[Q]=Rh(xe,O,xe,de)),rr(de)&&Ah(G,O,de),null!=E&&el(O,de,S)}function pc(n,r=sn.Default){const o=_e();return null===o?Bi(n,r):ee(yr(),o,Oe(n),r)}function Gp(){throw new Error("invalid")}function Bd(n,r,o){const u=_e();return Bo(u,Ao(),r)&&Ga(xt(),ai(),u,n,r,u[11],o,!1),Bd}function jd(n,r,o,u,l){const E=l?"class":"style";Uh(n,o,r.inputs[E],E,u)}function td(n,r,o,u){const l=_e(),g=xt(),E=20+n,S=l[11],O=l[E]=Ac(S,r,function ps(){return Rn.lFrame.currentNamespace}()),G=g.firstCreatePass?function uf(n,r,o,u,l,g,E){const S=r.consts,G=Lc(r,n,2,l,Wr(S,g));return Td(r,o,G,Wr(S,E)),null!==G.attrs&&Bh(G,G.attrs,!1),null!==G.mergedAttrs&&Bh(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(E,g,l,0,r,o,u):g.data[E];rs(G,!0);const Q=G.mergedAttrs;null!==Q&&gs(S,O,Q);const de=G.classes;null!==de&&Ed(S,O,de);const xe=G.styles;return null!==xe&&Mc(S,O,xe),64!=(64&G.flags)&&_d(g,l,O,G),0===function Ho(){return Rn.lFrame.elementDepthCount}()&&Ii(O,l),function zo(){Rn.lFrame.elementDepthCount++}(),rr(G)&&(Ah(g,l,G),nm(g,G,l)),null!==u&&el(l,G),td}function $d(){let n=yr();Ai()?fi():(n=n.parent,rs(n,!1));const r=n;!function j(){Rn.lFrame.elementDepthCount--}();const o=xt();return o.firstCreatePass&&(Zr(o,n),At(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ka(n){return 0!=(16&n.flags)}(r)&&jd(o,r,_e(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ju(n){return 0!=(32&n.flags)}(r)&&jd(o,r,_e(),r.stylesWithoutHost,!1),$d}function nd(n,r,o,u){return td(n,r,o,u),$d(),nd}function Hd(n,r,o){const u=_e(),l=xt(),g=n+20,E=l.firstCreatePass?function Wp(n,r,o,u,l){const g=r.consts,E=Wr(g,u),S=Lc(r,n,8,"ng-container",E);return null!==E&&Bh(S,E,!0),Td(r,o,S,Wr(g,l)),null!==r.queries&&r.queries.elementStart(r,S),S}(g,l,u,r,o):l.data[g];rs(E,!0);const S=u[g]=u[11].createComment("");return _d(l,u,S,E),Ii(S,u),rr(E)&&(Ah(l,u,E),nm(l,E,u)),null!=o&&el(u,E),Hd}function rl(){let n=yr();const r=xt();return Ai()?fi():(n=n.parent,rs(n,!1)),r.firstCreatePass&&(Zr(r,n),At(n)&&r.queries.elementEnd(n)),rl}function Wm(){return _e()}function qp(n){return!!n&&"function"==typeof n.then}function qm(n){return!!n&&"function"==typeof n.subscribe}const Zp=qm;function Kp(n,r,o,u){const l=_e(),g=xt(),E=yr();return function Zm(n,r,o,u,l,g,E,S){const O=rr(u),Q=n.firstCreatePass&&_m(n),de=r[8],xe=hp(r);let Ke=!0;if(3&u.type||S){const dn=Et(u,r),kn=S?S(dn):dn,Ot=xe.length,sr=S?li=>S(L(li[u.index])):u.index;if(Jr(o)){let li=null;if(!S&&O&&(li=function M_(n,r,o,u){const l=n.cleanup;if(null!=l)for(let g=0;g<l.length-1;g+=2){const E=l[g];if(E===o&&l[g+1]===u){const S=r[7],O=l[g+2];return S.length>O?S[O]:null}"string"==typeof E&&(g+=2)}return null}(n,r,l,u.index)),null!==li)(li.__ngLastListenerFn__||li).__ngNextListenerFn__=g,li.__ngLastListenerFn__=g,Ke=!1;else{g=Qp(u,r,de,g,!1);const Li=o.listen(kn,l,g);xe.push(g,Li),Q&&Q.push(l,sr,Ot,Ot+1)}}else g=Qp(u,r,de,g,!0),kn.addEventListener(l,g,E),xe.push(g),Q&&Q.push(l,sr,Ot,E)}else g=Qp(u,r,de,g,!1);const wt=u.outputs;let Zt;if(Ke&&null!==wt&&(Zt=wt[l])){const dn=Zt.length;if(dn)for(let kn=0;kn<dn;kn+=2){const Cu=r[Zt[kn]][Zt[kn+1]].subscribe(g),nh=xe.length;xe.push(g,Cu),Q&&Q.push(l,u.index,nh,-(nh+1))}}}(g,l,l[11],E,n,r,!!o,u),Kp}function Km(n,r,o,u){try{return!1!==o(u)}catch(l){return Od(n,l),!1}}function Qp(n,r,o,u,l){return function g(E){if(E===Function)return u;const S=2&n.flags?Yn(n.index,r):r;0==(32&r[2])&&Sd(S);let O=Km(r,0,u,E),G=g.__ngNextListenerFn__;for(;G;)O=Km(r,0,G,E)&&O,G=G.__ngNextListenerFn__;return l&&!1===O&&(E.preventDefault(),E.returnValue=!1),O}}function Jp(n=1){return function kr(n){return(Rn.lFrame.contextLView=function ho(n,r){for(;n>0;)r=r[15],n--;return r}(n,Rn.lFrame.contextLView))[8]}(n)}function cf(n,r,o){return df(n,"",r,"",o),cf}function df(n,r,o,u,l){const g=_e(),E=Nl(g,r,o,u);return E!==gr&&Ga(xt(),ai(),g,n,E,g[11],l,!1),df}function rg(n,r,o,u,l){const g=n[o+1],E=null===r;let S=u?au(g):Lu(g),O=!1;for(;0!==S&&(!1===O||E);){const Q=n[S+1];R_(n[S],r)&&(O=!0,n[S+1]=u?vh(Q):_h(Q)),S=u?au(Q):Lu(Q)}O&&(n[o+1]=u?_h(g):vh(g))}function R_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ko(n,r)>=0}const Hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jm(n){return n.substring(Hs.key,Hs.keyEnd)}function Xm(n,r){const o=Hs.textEnd;return o===r?-1:(r=Hs.keyEnd=function ty(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,Hs.key=r,o),Gi(n,r,o))}function Gi(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function sg(n,r,o){return ya(n,r,o,!1),sg}function og(n,r){return ya(n,r,null,!0),og}function sy(n){!function wu(n,r,o,u){const l=xt(),g=Ts(2);l.firstUpdatePass&&al(l,null,g,u);const E=_e();if(o!==gr&&Bo(E,g,o)){const S=l.data[Ri()];if(ff(S,u)&&!ol(l,g)){let O=u?S.classesWithoutHost:S.stylesWithoutHost;null!==O&&(o=Ge(O,o||"")),jd(l,S,E,o,u)}else!function U_(n,r,o,u,l,g,E,S){l===gr&&(l=gn);let O=0,G=0,Q=0<l.length?l[0]:null,de=0<g.length?g[0]:null;for(;null!==Q||null!==de;){const xe=O<l.length?l[O+1]:void 0,Ke=G<g.length?g[G+1]:void 0;let Zt,wt=null;Q===de?(O+=2,G+=2,xe!==Ke&&(wt=de,Zt=Ke)):null===de||null!==Q&&Q<de?(O+=2,wt=Q):(G+=2,wt=de,Zt=Ke),null!==wt&&Ul(n,r,o,u,wt,Zt,E,S),Q=O<l.length?l[O]:null,de=G<g.length?g[G]:null}}(l,S,E,E[11],E[g+1],E[g+1]=function oy(n,r,o){if(null==o||""===o)return gn;const u=[],l=ir(o);if(Array.isArray(l))for(let g=0;g<l.length;g++)n(u,l[g],!0);else if("object"==typeof l)for(const g in l)l.hasOwnProperty(g)&&n(u,g,l[g]);else"string"==typeof l&&r(u,l);return u}(n,r,o),u,g)}}(Kr,Eu,n,!0)}function Eu(n,r){for(let o=function N_(n){return function ey(n){Hs.key=0,Hs.keyEnd=0,Hs.value=0,Hs.valueEnd=0,Hs.textEnd=n.length}(n),Xm(n,Gi(n,0,Hs.textEnd))}(r);o>=0;o=Xm(r,o))Kr(n,Jm(r),!0)}function ya(n,r,o,u){const l=_e(),g=xt(),E=Ts(2);g.firstUpdatePass&&al(g,n,E,u),r!==gr&&Bo(l,E,r)&&Ul(g,g.data[Ri()],l,l[11],n,l[E+1]=function ay(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ce(ir(n)))),n}(r,o),u,E)}function ol(n,r){return r>=n.expandoStartIndex}function al(n,r,o,u){const l=n.data;if(null===l[o+1]){const g=l[Ri()],E=ol(n,o);ff(g,u)&&null===r&&!E&&(r=!1),r=function l0(n,r,o,u){const l=lo(n);let g=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(o=id(o=ag(null,n,r,o,u),r.attrs,u),g=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==l)if(o=ag(l,n,r,o,u),null===g){let O=function gc(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Lu(u))return n[au(u)]}(n,r,u);void 0!==O&&Array.isArray(O)&&(O=ag(null,n,r,O[1],u),O=id(O,r.attrs,u),function hf(n,r,o,u){n[au(o?r.classBindings:r.styleBindings)]=u}(n,r,u,O))}else g=function V_(n,r,o){let u;const l=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<l;g++)u=id(u,n[g].hostAttrs,o);return id(u,r.attrs,o)}(n,r,u)}return void 0!==g&&(u?r.residualClasses=g:r.residualStyles=g),o}(l,g,r,u),function P_(n,r,o,u,l,g){let E=g?r.classBindings:r.styleBindings,S=au(E),O=Lu(E);n[u]=o;let Q,G=!1;if(Array.isArray(o)){const de=o;Q=de[1],(null===Q||ko(de,Q)>0)&&(G=!0)}else Q=o;if(l)if(0!==O){const xe=au(n[S+1]);n[u+1]=Il(xe,S),0!==xe&&(n[xe+1]=zf(n[xe+1],u)),n[S+1]=function Hf(n,r){return 131071&n|r<<17}(n[S+1],u)}else n[u+1]=Il(S,0),0!==S&&(n[S+1]=zf(n[S+1],u)),S=u;else n[u+1]=Il(O,0),0===S?S=u:n[O+1]=zf(n[O+1],u),O=u;G&&(n[u+1]=_h(n[u+1])),rg(n,Q,u,!0),rg(n,Q,u,!1),function O_(n,r,o,u,l){const g=l?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&ko(g,r)>=0&&(o[u+1]=vh(o[u+1]))}(r,Q,n,u,g),E=Il(S,O),g?r.classBindings=E:r.styleBindings=E}(l,g,r,o,E,u)}}function ag(n,r,o,u,l){let g=null;const E=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<E&&(g=r[S],u=id(u,g.hostAttrs,l),g!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function id(n,r,o){const u=o?1:2;let l=-1;if(null!==r)for(let g=0;g<r.length;g++){const E=r[g];"number"==typeof E?l=E:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Kr(n,E,!!o||r[++g]))}return void 0===n?null:n}function Ul(n,r,o,u,l,g,E,S){if(!(3&r.type))return;const O=n.data,G=O[S+1];Bl(function Gf(n){return 1==(1&n)}(G)?Wd(O,r,o,l,Lu(G),E):void 0)||(Bl(g)||function yh(n){return 2==(2&n)}(G)&&(g=Wd(O,null,o,l,S,E)),function Qy(n,r,o,u,l){const g=Jr(n);if(r)l?g?n.addClass(o,u):o.classList.add(u):g?n.removeClass(o,u):o.classList.remove(u);else{let E=-1===u.indexOf("-")?void 0:vo.DashCase;if(null==l)g?n.removeStyle(o,u,E):o.style.removeProperty(u);else{const S="string"==typeof l&&l.endsWith("!important");S&&(l=l.slice(0,-10),E|=vo.Important),g?n.setStyle(o,u,l,E):o.style.setProperty(u,l,S?"important":"")}}}(u,E,lt(Ri(),o),l,g))}function Wd(n,r,o,u,l,g){const E=null===r;let S;for(;l>0;){const O=n[l],G=Array.isArray(O),Q=G?O[1]:O,de=null===Q;let xe=o[l+1];xe===gr&&(xe=de?gn:void 0);let Ke=de?da(xe,u):Q===u?xe:void 0;if(G&&!Bl(Ke)&&(Ke=da(O,u)),Bl(Ke)&&(S=Ke,E))return S;const wt=n[l+1];l=E?au(wt):Lu(wt)}if(null!==r){let O=g?r.residualClasses:r.residualStyles;null!=O&&(S=da(O,u))}return S}function Bl(n){return void 0!==n}function ff(n,r){return 0!=(n.flags&(r?16:32))}function uy(n,r=""){const o=_e(),u=xt(),l=n+20,g=u.firstCreatePass?Lc(u,l,1,r,null):u.data[l],E=o[l]=function hh(n,r){return Jr(n)?n.createText(r):n.createTextNode(r)}(o[11],r);_d(u,o,E,g),rs(g,!1)}function ug(n){return pf("",n,""),ug}function pf(n,r,o){const u=_e(),l=Nl(u,n,r,o);return l!==gr&&tl(u,Ri(),l),pf}function wf(n,r,o){const u=_e();if(Bo(u,Ao(),r)){const g=xt(),E=ai();Ga(g,E,u,n,r,function fp(n,r,o){return(null===n||Jn(n))&&(o=function ne(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}(lo(g.data),E,u),o,!0)}return wf}const $l=void 0;var _y=["en",[["a","p"],["AM","PM"],$l],[["AM","PM"],$l,$l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$l,"{1} 'at' {0}",$l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yy(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let mc={};function ad(n){const r=function p0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=W_(r);if(o)return o;const u=r.split("-")[0];if(o=W_(u),o)return o;if("en"===u)return _y;throw new Error(`Missing locale data for the locale "${n}".`)}function G_(n){return ad(n)[ur.PluralCase]}function W_(n){return n in mc||(mc[n]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[n]),mc[n]}var ur=(()=>((ur=ur||{})[ur.LocaleId=0]="LocaleId",ur[ur.DayPeriodsFormat=1]="DayPeriodsFormat",ur[ur.DayPeriodsStandalone=2]="DayPeriodsStandalone",ur[ur.DaysFormat=3]="DaysFormat",ur[ur.DaysStandalone=4]="DaysStandalone",ur[ur.MonthsFormat=5]="MonthsFormat",ur[ur.MonthsStandalone=6]="MonthsStandalone",ur[ur.Eras=7]="Eras",ur[ur.FirstDayOfWeek=8]="FirstDayOfWeek",ur[ur.WeekendRange=9]="WeekendRange",ur[ur.DateFormat=10]="DateFormat",ur[ur.TimeFormat=11]="TimeFormat",ur[ur.DateTimeFormat=12]="DateTimeFormat",ur[ur.NumberSymbols=13]="NumberSymbols",ur[ur.NumberFormats=14]="NumberFormats",ur[ur.CurrencyCode=15]="CurrencyCode",ur[ur.CurrencySymbol=16]="CurrencySymbol",ur[ur.CurrencyName=17]="CurrencyName",ur[ur.Currencies=18]="Currencies",ur[ur.Directionality=19]="Directionality",ur[ur.PluralCase=20]="PluralCase",ur[ur.ExtraData=21]="ExtraData",ur))();const Hl="en-US";let Ey=Hl;function rv(n,r,o,u,l){if(n=Oe(n),Array.isArray(n))for(let g=0;g<n.length;g++)rv(n[g],r,o,u,l);else{const g=xt(),E=_e();let S=lc(n)?n:Oe(n.provide),O=uc(n);const G=yr(),Q=1048575&G.providerIndexes,de=G.directiveStart,xe=G.providerIndexes>>20;if(lc(n)||!n.multi){const Ke=new to(O,l,pc),wt=sv(S,r,l?Q:Q+xe,de);-1===wt?(b(rt(G,E),g,S),iv(g,n,r.length),r.push(S),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(Ke),E.push(Ke)):(o[wt]=Ke,E[wt]=Ke)}else{const Ke=sv(S,r,Q+xe,de),wt=sv(S,r,Q,Q+xe),Zt=Ke>=0&&o[Ke],dn=wt>=0&&o[wt];if(l&&!dn||!l&&!Zt){b(rt(G,E),g,S);const kn=function aw(n,r,o,u,l){const g=new to(n,o,pc);return g.multi=[],g.index=r,g.componentProviders=0,S0(g,l,u&&!o),g}(l?ow:sw,o.length,l,u,O);!l&&dn&&(o[wt].providerFactory=kn),iv(g,n,r.length,0),r.push(S),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(kn),E.push(kn)}else iv(g,n,Ke>-1?Ke:wt,S0(o[l?wt:Ke],O,!l&&u));!l&&u&&dn&&o[wt].componentProviders++}}}function iv(n,r,o,u){const l=lc(r),g=function _p(n){return!!n.useClass}(r);if(l||g){const O=(g?Oe(r.useClass):r).prototype.ngOnDestroy;if(O){const G=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Q=G.indexOf(o);-1===Q?G.push(o,[u,O]):G[Q+1].push(u,O)}else G.push(o,O)}}}function S0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function sv(n,r,o,u){for(let l=o;l<u;l++)if(r[l]===n)return l;return-1}function sw(n,r,o,u){return ov(this.multi,[])}function ow(n,r,o,u){const l=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=Xn(o,o[1],this.providerFactory.index,u);g=S.slice(0,E),ov(l,g);for(let O=E;O<S.length;O++)g.push(S[O])}else g=[],ov(l,g);return g}function ov(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function x0(n,r=[]){return o=>{o.providersResolver=(u,l)=>function iw(n,r,o){const u=xt();if(u.firstCreatePass){const l=Jn(n);rv(o,u.data,u.blueprint,l,!0),rv(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class M0{}class cw{resolveComponentFactory(r){throw function lw(n){const r=Error(`No component factory found for ${ce(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Oy=(()=>{class n{}return n.NULL=new cw,n})();function dw(){return Sf(yr(),_e())}function Sf(n,r){return new _g(Et(n,r))}let _g=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=dw,n})();function hw(n){return n instanceof _g?n.nativeElement:n}class O0{}let fw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gw(){const n=_e(),o=Yn(yr().index,n);return function pw(n){return n[11]}(Be(o)?o:n)}(),n})(),mw=(()=>{class n{}return n.\u0275prov=An({token:n,providedIn:"root",factory:()=>null}),n})();class R0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const N0=new R0("13.3.11"),av={};function Ry(n,r,o,u,l=!1){for(;null!==o;){const g=r[o.index];if(null!==g&&u.push(L(g)),ht(g))for(let S=10;S<g.length;S++){const O=g[S],G=O[1].firstChild;null!==G&&Ry(O[1],O,G,u)}const E=o.type;if(8&E)Ry(n,r,o.child,u);else if(32&E){const S=lh(o,r);let O;for(;O=S();)u.push(O)}else if(16&E){const S=yu(r,o);if(Array.isArray(S))u.push(...S);else{const O=nc(r[16]);Ry(O[1],O,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class vg{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Ry(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ht(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(rc(r,u),ca(o,u))}this._attachedToViewContainer=!1}yd(this._lView[1],this._lView)}onDestroy(r){om(this._lView[1],this._lView,null,r)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function xd(n,r,o){const u=r[10];u.begin&&u.begin();try{ac(n,r,n.template,o)}catch(l){throw Od(r,l),l}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rg(n,r){xc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=r}}class yw extends vg{constructor(r){super(r),this._view=r}detectChanges(){Md(this._view)}checkNoChanges(){}get context(){return null}}class k0 extends Oy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Rt(r);return new uv(o,this.ngModule)}}function F0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class uv extends M0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function n_(n){return n.map(Zg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return F0(this.componentDef.inputs)}get outputs(){return F0(this.componentDef.outputs)}create(r,o,u,l){const g=(l=l||this.ngModule)?function vw(n,r){return{get:(o,u,l)=>{const g=n.get(o,av,l);return g!==av||u===av?g:r.get(o,u,l)}}}(r,l.injector):r,E=g.get(O0,V),S=g.get(mw,null),O=E.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",Q=u?function sm(n,r,o){if(Jr(n))return n.selectRootElement(r,o===kt.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(O,u,this.componentDef.encapsulation):Ac(E.createRenderer(null,this.componentDef),G,function _w(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(G)),de=this.componentDef.onPush?576:528,xe=function cc(n,r){return{components:[],scheduler:n||qy,clean:dp,playerHandler:r||null,flags:0}}(),Ke=Id(0,null,null,1,0,null,null,null,null,null),wt=Fc(null,Ke,xe,de,null,null,E,O,S,g);let Zt,dn;ia(wt);try{const kn=function qh(n,r,o,u,l,g){const E=o[1];o[20]=n;const O=Lc(E,20,2,"#host",null),G=O.mergedAttrs=r.hostAttrs;null!==G&&(Bh(O,G,!0),null!==n&&(gs(l,n,G),null!==O.classes&&Ed(l,n,O.classes),null!==O.styles&&Mc(l,n,O.styles)));const Q=u.createRenderer(n,r),de=Fc(o,Uc(r),null,r.onPush?64:16,o[20],O,u,Q,g||null,null);return E.firstCreatePass&&(b(rt(O,o),E,r.type),lm(E,O),Ph(O,o.length,1)),Fh(o,de),o[20]=de}(Q,this.componentDef,wt,E,O);if(Q)if(u)gs(O,Q,["ng-version",N0.full]);else{const{attrs:Ot,classes:sr}=function Kg(n){const r=[],o=[];let u=1,l=2;for(;u<n.length;){let g=n[u];if("string"==typeof g)2===l?""!==g&&r.push(g,n[++u]):8===l&&o.push(g);else{if(!_u(l))break;l=g}u++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Ot&&gs(O,Q,Ot),sr&&sr.length>0&&Ed(O,Q,sr.join(" "))}if(dn=_r(Ke,20),void 0!==o){const Ot=dn.projection=[];for(let sr=0;sr<this.ngContentSelectors.length;sr++){const li=o[sr];Ot.push(null!=li?Array.from(li):null)}}Zt=function Zh(n,r,o,u,l){const g=o[1],E=function am(n,r,o){const u=yr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),hm(n,u,r,Vc(n,r,1,null),o));const l=Xn(r,n,u.directiveStart,u);Ii(l,r);const g=Et(u,r);return g&&Ii(g,r),l}(g,o,r);if(u.components.push(E),n[8]=E,l&&l.forEach(O=>O(E,r)),r.contentQueries){const O=yr();r.contentQueries(1,E,O.directiveStart)}const S=yr();return!g.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ni(S.index),Sh(o[1],S,0,S.directiveStart,S.directiveEnd,r),Mh(r,E)),E}(kn,this.componentDef,wt,xe,[Ml]),Al(Ke,wt,null)}finally{Us()}return new ww(this.componentType,Zt,Sf(dn,wt),wt,dn)}}class ww extends class uw{}{constructor(r,o,u,l,g){super(),this.location=u,this._rootLView=l,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new yw(l),this.componentType=r}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class xf{}class L0{}const Mf=new Map;class B0 extends xf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new k0(this);const u=Sn(r);this._bootstrapComponents=ku(u.bootstrap),this._r3Injector=jh(r,o,[{provide:xf,useValue:this},{provide:Oy,useValue:this.componentFactoryResolver}],ce(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Bu.THROW_IF_NOT_FOUND,u=sn.Default){return r===Bu||r===xf||r===jc?this:this._r3Injector.get(r,o,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class lv extends L0{constructor(r){super(),this.moduleType=r,null!==Sn(r)&&function Iw(n){const r=new Set;!function o(u){const l=Sn(u,!0),g=l.id;null!==g&&(function V0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${ce(r)} vs ${ce(r.name)}`)}(g,Mf.get(g),u),Mf.set(g,u));const E=ku(l.imports);for(const S of E)r.has(S)||(r.add(S),o(S))}(n)}(r)}create(r){return new B0(this.moduleType,r)}}function cv(n){return r=>{setTimeout(n,void 0,r)}}const Gl=class jw extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){var l,g,E;let S=r,O=o||(()=>null),G=u;if(r&&"object"==typeof r){const de=r;S=null===(l=de.next)||void 0===l?void 0:l.bind(de),O=null===(g=de.error)||void 0===g?void 0:g.bind(de),G=null===(E=de.complete)||void 0===E?void 0:E.bind(de)}this.__isAsync&&(O=cv(O),S&&(S=cv(S)),G&&(G=cv(G)));const Q=super.subscribe({next:S,error:O,complete:G});return r instanceof v.w0&&r.add(Q),Q}};function $w(){return this._results[Gc()]()}class dv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Gc(),u=dv.prototype;u[o]||(u[o]=$w)}get changes(){return this._changes||(this._changes=new Gl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const l=Ui(r);(this._changesDetected=!function Va(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],g=r[u];if(o&&(l=o(l),g=o(g)),g!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();const Hw=Cg,zw=class extends Hw{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r){const o=this._declarationTContainer.tViews,u=Fc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(o)),Al(o,u,r),new vg(u)}};function Gw(){return Ny(yr(),_e())}function Ny(n,r){return 4&n.type?new zw(r,n,Sf(n,r)):null}let ky=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();function Ww(){return Z0(yr(),_e())}const qw=ky,W0=class extends qw{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Sf(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){const r=M(this._hostTNode,this._hostLView);if(no(r)){const o=Mt(r,this._hostLView),u=Po(r);return new hr(o[1].data[u+8],o)}return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=q0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){const l=r.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(r,o,u,l,g){const E=r&&!function _s(n){return"function"==typeof n}(r);let S;if(E)S=o;else{const de=o||{};S=de.index,u=de.injector,l=de.projectableNodes,g=de.ngModuleRef}const O=E?r:new uv(Rt(r)),G=u||this.parentInjector;if(!g&&null==O.ngModule){const xe=(E?G:this.parentInjector).get(xf,null);xe&&(g=xe)}const Q=O.create(G,l,void 0,g);return this.insert(Q.hostView,S),Q}insert(r,o){const u=r._lView,l=u[1];if(function Pr(n){return ht(n[3])}(u)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const de=u[3],xe=new W0(de,de[6],de[3]);xe.detach(xe.indexOf(r))}}const g=this._adjustIndex(o),E=this._lContainer;!function Lf(n,r,o,u){const l=10+u,g=o.length;u>0&&(o[l-1][4]=r),u<g-10?(r[4]=o[l],Da(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const E=r[17];null!==E&&o!==E&&function md(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(E,r);const S=r[19];null!==S&&S.insertView(n),r[2]|=128}(l,u,E,g);const S=vd(g,E),O=u[11],G=ph(O,E[7]);return null!==G&&function Zy(n,r,o,u,l,g){u[0]=l,u[6]=r,xc(n,u,o,1,l,g)}(l,E[6],O,u,G,S),r.attachToViewContainerRef(),Da(hv(E),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=q0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=rc(this._lContainer,o);u&&(ca(hv(this._lContainer),o),yd(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=rc(this._lContainer,o);return u&&null!=ca(hv(this._lContainer),o)?new vg(u):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function q0(n){return n[8]}function hv(n){return n[8]||(n[8]=[])}function Z0(n,r){let o;const u=r[n.index];if(ht(u))o=u;else{let l;if(8&n.type)l=L(u);else{const g=r[11];l=g.createComment("");const E=Et(n,r);_l(g,ph(g,E),l,function Uf(n,r){return Jr(n)?n.nextSibling(r):r.nextSibling}(g,E),!1)}r[n.index]=o=Rh(u,r,l,n),Fh(r,o)}return new W0(o,n,r)}class fv{constructor(r){this.queryList=r,this.matches=null}clone(){return new fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let g=0;g<u;g++){const E=o.getByIndex(g);l.push(this.queries[E.indexInDeclarationView].clone())}return new pv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==nE(r,o).matches&&this.queries[o].setDirty()}}class K0{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class gv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(r,l);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new gv(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class mv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new mv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const g=u[l];this.matchTNodeWithReadOption(r,o,Yw(o,g)),this.matchTNodeWithReadOption(r,o,Jt(o,r,g,!1,!1))}else u===Cg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Jt(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===_g||l===ky||l===Cg&&4&o.type)this.addMatch(o.index,-2);else{const g=Jt(o,r,l,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Yw(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function Jw(n,r,o,u){return-1===o?function Qw(n,r){return 11&n.type?Sf(n,r):4&n.type?Ny(n,r):null}(r,n):-2===o?function Xw(n,r,o){return o===_g?Sf(r,n):o===Cg?Ny(r,n):o===ky?Z0(r,n):void 0}(n,r,u):Xn(n,n[1],o,r)}function Y0(n,r,o,u){const l=r[19].queries[u];if(null===l.matches){const g=n.data,E=o.matches,S=[];for(let O=0;O<E.length;O+=2){const G=E[O];S.push(G<0?null:Jw(r,g[G],E[O+1],o.metadata.read))}l.matches=S}return l.matches}function yv(n,r,o,u){const l=n.queries.getByIndex(o),g=l.matches;if(null!==g){const E=Y0(n,r,l,o);for(let S=0;S<g.length;S+=2){const O=g[S];if(O>0)u.push(E[S/2]);else{const G=g[S+1],Q=r[-O];for(let de=10;de<Q.length;de++){const xe=Q[de];xe[17]===xe[3]&&yv(xe[1],xe,G,u)}if(null!==Q[9]){const de=Q[9];for(let xe=0;xe<de.length;xe++){const Ke=de[xe];yv(Ke[1],Ke,G,u)}}}}}return u}function Q0(n){const r=_e(),o=xt(),u=Ka();ba(u+1);const l=nE(o,u);if(n.dirty&&ar(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const g=l.crossesNgTemplate?yv(o,r,u,[]):Y0(o,r,l,u);n.reset(g,hw),n.notifyOnChanges()}return!0}return!1}function J0(n,r,o,u){const l=xt();if(l.firstCreatePass){const g=yr();(function tE(n,r,o){null===n.queries&&(n.queries=new gv),n.queries.track(new mv(r,o))})(l,new K0(r,o,u),g.index),function nC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function eE(n,r,o){const u=new dv(4==(4&o));om(n,r,u,u.destroy),null===r[19]&&(r[19]=new pv),r[19].queries.push(new fv(u))}(l,_e(),o)}function X0(){return function tC(n,r){return n[19].queries[r].queryList}(_e(),Ka())}function nE(n,r){return n.queries.getByIndex(r)}function Vy(...n){}const vE=new ci("Application Initializer");let Iv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Vy,this.reject=Vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const g=this.appInits[l]();if(qp(g))o.push(g);else if(Zp(g)){const E=new Promise((S,O)=>{g.subscribe({complete:S,error:O})});o.push(E)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Bi(vE,8))},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EE=new ci("AppId",{providedIn:"root",factory:function wE(){return`${bv()}${bv()}${bv()}`}});function bv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CE=new ci("Platform Initializer"),EC=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IE=new ci("appBootstrapListener");let wC=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Tv=new ci("LocaleId",{providedIn:"root",factory:()=>pa(Tv,sn.Optional|sn.SkipSelf)||function CC(){return"undefined"!=typeof $localize&&$localize.locale||Hl}()}),IC=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let TC=(()=>{class n{compileModuleSync(o){return new lv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=ku(Sn(o).declarations).reduce((E,S)=>{const O=Rt(S);return O&&E.push(new uv(O)),E},[]);return new bC(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AC=(()=>Promise.resolve(0))();function Dv(n){"undefined"==typeof Zone?AC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ll{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function SC(){let n=Hn.requestAnimationFrame,r=Hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function PC(n){const r=()=>{!function MC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,g,E,S)=>{try{return bE(n),o.invokeTask(l,g,E,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),TE(n)}},onInvoke:(o,u,l,g,E,S,O)=>{try{return bE(n),o.invoke(l,g,E,S,O)}finally{n.shouldCoalesceRunChangeDetection&&r(),TE(n)}},onHasTask:(o,u,l,g)=>{o.hasTask(l,g),u===l&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,Sv(n),Av(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,l,g)=>(o.handleError(l,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ll.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ll.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,l){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+l,r,xC,Vy,Vy);try{return g.runTask(E,o,u)}finally{g.cancelTask(E)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const xC={};function Av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TE(n){n._nesting--,Av(n)}class OC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,l){return r.apply(o,u)}}let DE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ll.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Bi(ll))},n.\u0275prov=An({token:n,factory:n.\u0275fac}),n})(),RC=(()=>{class n{constructor(){this._applications=new Map,xv.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return xv.findTestabilityInTree(this,o,u)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class NC{addToWindow(r){}findTestabilityInTree(r,o,u){return null}}function kC(n){xv=n}let xv=new NC,eh=null;const AE=new ci("AllowMultipleToken"),SE=new ci("PlatformOnDestroy");class VC{constructor(r,o){this.name=r,this.token=o}}function xE(n,r,o=[]){const u=`Platform: ${r}`,l=new ci(u);return(g=[])=>{let E=Mv();if(!E||E.injector.get(AE,!1)){const S=[...o,...g,{provide:l,useValue:!0}];n?n(S):function UC(n){if(eh&&!eh.get(AE,!1))throw new Qe(400,"");eh=n;const r=n.get(ME),o=n.get(CE,null);o&&o.forEach(u=>u())}(function jC(n=[],r){return Bu.create({name:r,providers:[{provide:Rd,useValue:"platform"},{provide:SE,useValue:()=>eh=null},...n]})}(S,u))}return function BC(n){const r=Mv();if(!r)throw new Qe(401,"");return r}()}}function Mv(){var n;return null!==(n=null==eh?void 0:eh.get(ME))&&void 0!==n?n:null}let ME=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const S=function $C(n,r){let o;return o="noop"===n?new OC:("zone.js"===n?void 0:n)||new ll({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),O=[{provide:ll,useValue:S}];return S.run(()=>{const G=Bu.create({providers:O,parent:this.injector,name:o.moduleType.name}),Q=o.create(G),de=Q.injector.get(hd,null);if(!de)throw new Qe(402,"");return S.runOutsideAngular(()=>{const xe=S.onError.subscribe({next:Ke=>{de.handleError(Ke)}});Q.onDestroy(()=>{Ov(this._modules,Q),xe.unsubscribe()})}),function HC(n,r,o){try{const u=o();return qp(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(de,S,()=>{const xe=Q.injector.get(Iv);return xe.runInitializers(),xe.donePromise.then(()=>(function q_(n){fn(n,"Expected localeId to be defined"),"string"==typeof n&&(Ey=n.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(Tv,Hl)||Hl),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(o,u=[]){const l=PE({},u);return function FC(n,r,o){const u=new lv(o);return Promise.resolve(u)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,l))}_moduleDoBootstrap(o){const u=o.injector.get(Pv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Qe(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(SE,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Bi(Bu))},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function PE(n,r){return Array.isArray(r)?r.reduce(PE,n):Object.assign(Object.assign({},n),r)}let Pv=(()=>{class n{constructor(o,u,l,g){this._zone=o,this._injector=u,this._exceptionHandler=l,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new x.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),S=new x.y(O=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{ll.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{ll.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{G.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,we.T)(E,S.pipe((0,oe.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Qe(405,"");let l;l=o instanceof M0?o:this._injector.get(Oy).resolveComponentFactory(o),this.componentTypes.push(l.componentType);const g=function LC(n){return n.isBoundToModule}(l)?void 0:this._injector.get(xf),S=l.create(Bu.NULL,[],u||l.selector,g),O=S.location.nativeElement,G=S.injector.get(DE,null),Q=G&&S.injector.get(RC);return G&&Q&&Q.registerApplication(O,G),S.onDestroy(()=>{this.detachView(S.hostView),Ov(this.components,S),Q&&Q.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ov(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(IE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(Bi(ll),Bi(Bu),Bi(hd),Bi(Iv))},n.\u0275prov=An({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ov(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let RE=!0,NE=!1;function GC(){return NE=!0,RE}function WC(){if(NE)throw new Error("Cannot enable prod mode after platform setup.");RE=!1}let qC=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZC,n})();function ZC(n){return function KC(n,r,o){if(wn(n)&&!o){const u=Yn(n.index,r);return new vg(u,u)}return 47&n.type?new vg(r[16],r):null}(yr(),_e(),16==(16&n))}class VE{constructor(){}supports(r){return hc(r)}create(r){return new tI(r)}}const eI=(n,r)=>r;class tI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eI}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,l=0,g=null;for(;o||u;){const E=!u||o&&o.currentIndex<BE(u,l,g)?o:u,S=BE(E,l,g),O=E.currentIndex;if(E===u)l--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)l++;else{g||(g=[]);const G=S-l,Q=O-l;if(G!=Q){for(let xe=0;xe<G;xe++){const Ke=xe<g.length?g[xe]:g[xe]=0,wt=Ke+xe;Q<=wt&&wt<G&&(g[xe]=Ke+1)}g[E.previousIndex]=Q-G}}S!==O&&r(E,S,O)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!hc(r))throw new Qe(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,g,E,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)g=r[S],E=this._trackByFn(S,g),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,g,E,S)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,E,S),u=!0),o=o._next}else l=0,function Rm(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Gc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,S=>{E=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,S,E,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,E,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,l){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,l)):r=this._addAfter(new nI(o,u),g,l),r}_verifyReinsertion(r,o,u,l){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?r=this._reinsertAfter(g,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,g=r._nextRemoved;return null===l?this._removalsHead=g:l._nextRemoved=g,null===g?this._removalsTail=l:g._prevRemoved=l,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class nI{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class UE{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new rI,this.map.set(o,u)),u.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BE(n,r,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+r+l}class jE{constructor(){}supports(r){return r instanceof Map||Sp(r)}create(){return new iI}}class iI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Sp(r)))throw new Qe(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const g=l._prev,E=l._next;return g&&(g._next=E),E&&(E._prev=g),l._next=null,l._prev=null,l}const u=new sI(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class sI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new Lv([new VE])}let Lv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||$E()),deps:[[n,new ru,new Fi]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Qe(901,"")}}return n.\u0275prov=An({token:n,providedIn:"root",factory:$E}),n})();function HE(){return new Vv([new jE])}let Vv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||HE()),deps:[[n,new ru,new Fi]]}}find(o){const u=this.factories.find(g=>g.supports(o));if(u)return u;throw new Qe(901,"")}}return n.\u0275prov=An({token:n,providedIn:"root",factory:HE}),n})();const uI=xE(null,"core",[]);let lI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Bi(Pv))},n.\u0275mod=ie({type:n}),n.\u0275inj=Fn({}),n})()},2382:(Ft,$e,B)=>{B.d($e,{Fj:()=>ze,qu:()=>Ho,NI:()=>wi,u:()=>Is,cw:()=>Ci,sg:()=>Oi,u5:()=>Rn,JJ:()=>Rr,JL:()=>Gr,F:()=>Be,UX:()=>ns,kI:()=>Tt,_Y:()=>Co});var m=B(5e3),v=B(9808),x=B(8306),we=B(4742),oe=B(8421),De=B(7669),Me=B(5403),ce=B(3268),Ge=B(1810),fe=B(8996),Oe=B(4004);let st=(()=>{class j{constructor(R,X){this._renderer=R,this._elementRef=X,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(R,X){this._renderer.setProperty(this._elementRef.nativeElement,R,X)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(m.Qsj),m.Y36(m.SBq))},j.\u0275dir=m.lG2({type:j}),j})(),ot=(()=>{class j extends st{}return j.\u0275fac=function(){let k;return function(X){return(k||(k=m.n5z(j)))(X||j)}}(),j.\u0275dir=m.lG2({type:j,features:[m.qOj]}),j})();const Qe=new m.OlP("NgValueAccessor"),nt={provide:Qe,useExisting:(0,m.Gpc)(()=>ze),multi:!0},Pt=new m.OlP("CompositionEventMode");let ze=(()=>{class j extends st{constructor(R,X,_e){super(R,X),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bt(){const j=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Pt,8))},j.\u0275dir=m.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,X){1&R&&m.NdJ("input",function(xt){return X._handleInput(xt.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(xt){return X._compositionEnd(xt.target.value)})},features:[m._Bn([nt]),m.qOj]}),j})();function Ye(j){return null==j||0===j.length}function dt(j){return null!=j&&"number"==typeof j.length}const Xe=new m.OlP("NgValidators"),yt=new m.OlP("NgAsyncValidators"),ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tt{static min(k){return function Ne(j){return k=>{if(Ye(k.value)||Ye(j))return null;const R=parseFloat(k.value);return!isNaN(R)&&R<j?{min:{min:j,actual:k.value}}:null}}(k)}static max(k){return function je(j){return k=>{if(Ye(k.value)||Ye(j))return null;const R=parseFloat(k.value);return!isNaN(R)&&R>j?{max:{max:j,actual:k.value}}:null}}(k)}static required(k){return function Ze(j){return Ye(j.value)?{required:!0}:null}(k)}static requiredTrue(k){return function at(j){return!0===j.value?null:{required:!0}}(k)}static email(k){return function it(j){return Ye(j.value)||ye.test(j.value)?null:{email:!0}}(k)}static minLength(k){return function Ct(j){return k=>Ye(k.value)||!dt(k.value)?null:k.value.length<j?{minlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Lt(j){return k=>dt(k.value)&&k.value.length>j?{maxlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static pattern(k){return function tn(j){if(!j)return fn;let k,R;return"string"==typeof j?(R="","^"!==j.charAt(0)&&(R+="^"),R+=j,"$"!==j.charAt(j.length-1)&&(R+="$"),k=new RegExp(R)):(R=j.toString(),k=j),X=>{if(Ye(X.value))return null;const _e=X.value;return k.test(_e)?null:{pattern:{requiredPattern:R,actualValue:_e}}}}(k)}static nullValidator(k){return null}static compose(k){return Fn(k)}static composeAsync(k){return jn(k)}}function fn(j){return null}function ft(j){return null!=j}function Dn(j){const k=(0,m.QGY)(j)?(0,fe.D)(j):j;return(0,m.CqO)(k),k}function rn(j){let k={};return j.forEach(R=>{k=null!=R?Object.assign(Object.assign({},k),R):k}),0===Object.keys(k).length?null:k}function Kt(j,k){return k.map(R=>R(j))}function bn(j){return j.map(k=>function An(j){return!j.validate}(k)?k:R=>k.validate(R))}function Fn(j){if(!j)return null;const k=j.filter(ft);return 0==k.length?null:function(R){return rn(Kt(R,k))}}function En(j){return null!=j?Fn(bn(j)):null}function jn(j){if(!j)return null;const k=j.filter(ft);return 0==k.length?null:function(R){return function ae(...j){const k=(0,De.jO)(j),{args:R,keys:X}=(0,we.D)(j),_e=new x.y(xt=>{const{length:Tr}=R;if(!Tr)return void xt.complete();const yr=new Array(Tr);let Zi=Tr,fs=Tr;for(let rs=0;rs<Tr;rs++){let Ai=!1;(0,oe.Xf)(R[rs]).subscribe((0,Me.x)(xt,fi=>{Ai||(Ai=!0,fs--),yr[rs]=fi},()=>Zi--,void 0,()=>{(!Zi||!Ai)&&(fs||xt.next(X?(0,Ge.n)(X,yr):yr),xt.complete())}))}});return k?_e.pipe((0,ce.Z)(k)):_e}(Kt(R,k).map(Dn)).pipe((0,Oe.U)(rn))}}function fr(j){return null!=j?jn(bn(j)):null}function bi(j,k){return null===j?[k]:Array.isArray(j)?[...j,k]:[j,k]}function wr(j){return j._rawValidators}function Cr(j){return j._rawAsyncValidators}function $n(j){return j?Array.isArray(j)?j:[j]:[]}function Fr(j,k){return Array.isArray(j)?j.includes(k):j===k}function Lr(j,k){const R=$n(k);return $n(j).forEach(_e=>{Fr(R,_e)||R.push(_e)}),R}function sn(j,k){return $n(k).filter(R=>!Fr(j,R))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=fr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,R){return!!this.control&&this.control.hasError(k,R)}getError(k,R){return this.control?this.control.getError(k,R):null}}class Ln extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends zn{get formDirective(){return null}get path(){return null}}class ti{constructor(k){this._cd=k}is(k){var R,X,_e;return"submitted"===k?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(_e=null===(X=this._cd)||void 0===X?void 0:X.control)||void 0===_e?void 0:_e[k])}}let Rr=(()=>{class j extends ti{constructor(R){super(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(Ln,2))},j.\u0275dir=m.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,X){2&R&&m.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))},features:[m.qOj]}),j})(),Gr=(()=>{class j extends ti{constructor(R){super(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(an,10))},j.\u0275dir=m.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,X){2&R&&m.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))("ng-submitted",X.is("submitted"))},features:[m.qOj]}),j})();function Kn(j,k){ve(j,k),k.valueAccessor.writeValue(j.value),function ie(j,k){k.valueAccessor.registerOnChange(R=>{j._pendingValue=R,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&K(j,k)})}(j,k),function Pe(j,k){const R=(X,_e)=>{k.valueAccessor.writeValue(X),_e&&k.viewToModelUpdate(X)};j.registerOnChange(R),k._registerOnDestroy(()=>{j._unregisterOnChange(R)})}(j,k),function se(j,k){k.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&K(j,k),"submit"!==j.updateOn&&j.markAsTouched()})}(j,k),function Qr(j,k){if(k.valueAccessor.setDisabledState){const R=X=>{k.valueAccessor.setDisabledState(X)};j.registerOnDisabledChange(R),k._registerOnDestroy(()=>{j._unregisterOnDisabledChange(R)})}}(j,k)}function ni(j,k,R=!0){const X=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(X),k.valueAccessor.registerOnTouched(X)),ge(j,k),j&&(k._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function Yr(j,k){j.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(k)})}function ve(j,k){const R=wr(j);null!==k.validator?j.setValidators(bi(R,k.validator)):"function"==typeof R&&j.setValidators([R]);const X=Cr(j);null!==k.asyncValidator?j.setAsyncValidators(bi(X,k.asyncValidator)):"function"==typeof X&&j.setAsyncValidators([X]);const _e=()=>j.updateValueAndValidity();Yr(k._rawValidators,_e),Yr(k._rawAsyncValidators,_e)}function ge(j,k){let R=!1;if(null!==j){if(null!==k.validator){const _e=wr(j);if(Array.isArray(_e)&&_e.length>0){const xt=_e.filter(Tr=>Tr!==k.validator);xt.length!==_e.length&&(R=!0,j.setValidators(xt))}}if(null!==k.asyncValidator){const _e=Cr(j);if(Array.isArray(_e)&&_e.length>0){const xt=_e.filter(Tr=>Tr!==k.asyncValidator);xt.length!==_e.length&&(R=!0,j.setAsyncValidators(xt))}}}const X=()=>{};return Yr(k._rawValidators,X),Yr(k._rawAsyncValidators,X),R}function K(j,k){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function qe(j,k){ve(j,k)}function Dt(j,k){j._syncPendingControls(),k.forEach(R=>{const X=R.control;"submit"===X.updateOn&&X._pendingChange&&(R.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}function Le(j,k){const R=j.indexOf(k);R>-1&&j.splice(R,1)}const et="VALID",Nt="INVALID",pe="PENDING",q="DISABLED";function Ce(j){return(xr(j)?j.validators:j)||null}function ut(j){return Array.isArray(j)?En(j):j||null}function $t(j,k){return(xr(k)?k.asyncValidators:j)||null}function cr(j){return Array.isArray(j)?fr(j):j||null}function xr(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}const on=j=>j instanceof wi,oi=j=>j instanceof Ci,Ir=j=>j instanceof br;function Rs(j){return on(j)?j.value:j.getRawValue()}function Ti(j,k){const R=oi(j),X=j.controls;if(!(R?Object.keys(X):X).length)throw new m.vHH(1e3,"");if(!X[k])throw new m.vHH(1001,"")}function er(j,k){oi(j),j._forEachChild((X,_e)=>{if(void 0===k[_e])throw new m.vHH(1002,"")})}class Ei{constructor(k,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=R,this._composedValidatorFn=ut(this._rawValidators),this._composedAsyncValidatorFn=cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===et}get invalid(){return this.status===Nt}get pending(){return this.status==pe}get disabled(){return this.status===q}get enabled(){return this.status!==q}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=ut(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=cr(k)}addValidators(k){this.setValidators(Lr(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Lr(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(sn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(sn(k,this._rawAsyncValidators))}hasValidator(k){return Fr(this._rawValidators,k)}hasAsyncValidator(k){return Fr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=pe,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=q,this.errors=null,this._forEachChild(X=>{X.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:R})),this._onDisabledChange.forEach(X=>X(!0))}enable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=et,this._forEachChild(X=>{X.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:R})),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===et||this.status===pe)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?q:et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;const R=Dn(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,R={}){this.errors=k,this._updateControlsErrors(!1!==R.emitEvent)}get(k){return function J(j,k,R){if(null==k||(Array.isArray(k)||(k=k.split(R)),Array.isArray(k)&&0===k.length))return null;let X=j;return k.forEach(_e=>{X=oi(X)?X.controls.hasOwnProperty(_e)?X.controls[_e]:null:Ir(X)&&X.at(_e)||null}),X}(this,k,".")}getError(k,R){const X=R?this.get(R):this;return X&&X.errors?X.errors[k]:null}hasError(k,R){return!!this.getError(k,R)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?q:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(Nt)?Nt:et}_anyControlsHaveStatus(k){return this._anyControls(R=>R.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){xr(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wi extends Ei{constructor(k=null,R,X){super(Ce(R),$t(X,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xr(R)&&R.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(k)?k.value:k)}setValue(k,R={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(k,R={}){this.setValue(k,R)}reset(k=this.defaultValue,R={}){this._applyFormState(k),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Le(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Le(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class Ci extends Ei{constructor(k,R,X){super(Ce(R),$t(X,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,R){return this.controls[k]?this.controls[k]:(this.controls[k]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(k,R,X={}){this.registerControl(k,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(k,R,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],R&&this.registerControl(k,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,R={}){er(this,k),Object.keys(k).forEach(X=>{Ti(this,X),this.controls[X].setValue(k[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(Object.keys(k).forEach(X=>{this.controls[X]&&this.controls[X].patchValue(k[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k={},R={}){this._forEachChild((X,_e)=>{X.reset(k[_e],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(k,R,X)=>(k[X]=Rs(R),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(R,X)=>!!X._syncPendingControls()||R);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(R=>{const X=this.controls[R];X&&k(X,R)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const R of Object.keys(this.controls)){const X=this.controls[R];if(this.contains(R)&&k(X))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,R,X)=>((R.enabled||this.disabled)&&(k[X]=R.value),k))}_reduceChildren(k,R){let X=k;return this._forEachChild((_e,xt)=>{X=R(X,_e,xt)}),X}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class br extends Ei{constructor(k,R,X){super(Ce(R),$t(X,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,R={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(k,R,X={}){this.controls.splice(k,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(k,R,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),R&&(this.controls.splice(k,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,R={}){er(this,k),k.forEach((X,_e)=>{Ti(this,_e),this.at(_e).setValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(k.forEach((X,_e)=>{this.at(_e)&&this.at(_e).patchValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k=[],R={}){this._forEachChild((X,_e)=>{X.reset(k[_e],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(k=>Rs(k))}clear(k={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((R,X)=>!!X._syncPendingControls()||R,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((R,X)=>{k(R,X)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(R=>R.enabled&&k(R))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const ke={provide:an,useExisting:(0,m.Gpc)(()=>Be)},Ae=(()=>Promise.resolve(null))();let Be=(()=>{class j extends an{constructor(R,X){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new Ci({},En(R),fr(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){Ae.then(()=>{const X=this._findContainer(R.path);R.control=X.registerControl(R.name,R.control),Kn(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){Ae.then(()=>{const X=this._findContainer(R.path);X&&X.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){Ae.then(()=>{const X=this._findContainer(R.path),_e=new Ci({});qe(_e,R),X.registerControl(R.name,_e),_e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){Ae.then(()=>{const X=this._findContainer(R.path);X&&X.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,X){Ae.then(()=>{this.form.get(R.path).setValue(X)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,Dt(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(Xe,10),m.Y36(yt,10))},j.\u0275dir=m.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,X){1&R&&m.NdJ("submit",function(xt){return X.onSubmit(xt)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ke]),m.qOj]}),j})(),Co=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275dir=m.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),Cs=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({}),j})();const va=new m.OlP("NgModelWithFormControlWarning"),Di={provide:an,useExisting:(0,m.Gpc)(()=>Oi)};let Oi=(()=>{class j extends an{constructor(R,X){super(),this.validators=R,this.asyncValidators=X,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(R),this._setAsyncValidators(X)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ge(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const X=this.form.get(R.path);return Kn(X,R),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),X}getControl(R){return this.form.get(R.path)}removeControl(R){ni(R.control||null,R,!1),Le(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,X){this.form.get(R.path).setValue(X)}onSubmit(R){return this.submitted=!0,Dt(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const X=R.control,_e=this.form.get(R.path);X!==_e&&(ni(X||null,R),on(_e)&&(Kn(_e,R),R.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const X=this.form.get(R.path);qe(X,R),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const X=this.form.get(R.path);X&&function Rt(j,k){return ge(j,k)}(X,R)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ve(this.form,this),this._oldForm&&ge(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(Xe,10),m.Y36(yt,10))},j.\u0275dir=m.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(R,X){1&R&&m.NdJ("submit",function(xt){return X.onSubmit(xt)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Di]),m.qOj,m.TTD]}),j})();const cs={provide:Ln,useExisting:(0,m.Gpc)(()=>Is)};let Is=(()=>{class j extends Ln{constructor(R,X,_e,xt,Tr){super(),this._ngModelWarningConfig=Tr,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(X),this._setAsyncValidators(_e),this.valueAccessor=function Gt(j,k){if(!k)return null;let R,X,_e;return Array.isArray(k),k.forEach(xt=>{xt.constructor===ze?R=xt:function vt(j){return Object.getPrototypeOf(j.constructor)===ot}(xt)?X=xt:_e=xt}),_e||X||R||null}(0,xt)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),function lr(j,k){if(!j.hasOwnProperty("model"))return!1;const R=j.model;return!!R.isFirstChange()||!Object.is(k,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function On(j,k){return[...k.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(R){return new(R||j)(m.Y36(an,13),m.Y36(Xe,10),m.Y36(yt,10),m.Y36(Qe,10),m.Y36(va,8))},j.\u0275dir=m.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([cs]),m.qOj,m.TTD]}),j})(),nr=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[[Cs]]}),j})(),Rn=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[nr]}),j})(),ns=(()=>{class j{static withConfig(R){return{ngModule:j,providers:[{provide:va,useValue:R.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[nr]}),j})(),Ho=(()=>{class j{group(R,X=null){const _e=this._reduceControls(R);let yr,xt=null,Tr=null;return null!=X&&(function Do(j){return void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn}(X)?(xt=null!=X.validators?X.validators:null,Tr=null!=X.asyncValidators?X.asyncValidators:null,yr=null!=X.updateOn?X.updateOn:void 0):(xt=null!=X.validator?X.validator:null,Tr=null!=X.asyncValidator?X.asyncValidator:null)),new Ci(_e,{asyncValidators:Tr,updateOn:yr,validators:xt})}control(R,X,_e){return new wi(R,X,_e)}array(R,X,_e){const xt=R.map(Tr=>this._createControl(Tr));return new br(xt,X,_e)}_reduceControls(R){const X={};return Object.keys(R).forEach(_e=>{X[_e]=this._createControl(R[_e])}),X}_createControl(R){return on(R)||oi(R)||Ir(R)?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return j.\u0275fac=function(R){return new(R||j)},j.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac,providedIn:ns}),j})()},5839:(Ft,$e,B)=>{B.d($e,{F0:()=>Vr,rH:()=>as,yS:()=>to,Bz:()=>no,lC:()=>Wn});var m=B(5e3),v=B(7579);class x extends v.x{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const C=super._subscribe(b);return!C.closed&&b.next(this._value),C}getValue(){const{hasError:b,thrownError:C,_value:F}=this;if(b)throw C;return this._throwIfClosed(),F}next(b){super.next(this._value=b)}}var we=B(8306),oe=B(4742),De=B(8996),Me=B(4671),ce=B(3268),Ge=B(7669),ae=B(1810),fe=B(5403),Oe=B(9672);function Qe(M,b,C){M?(0,Oe.f)(C,M,b):b()}var _t=B(576);function Re(M,b){const C=(0,_t.m)(M)?M:()=>M,F=$=>$.error(C());return new we.y(b?$=>b.schedule(F,0,$):F)}var nt=B(8421);function bt(M){return new we.y(b=>{(0,nt.Xf)(M()).subscribe(b)})}var Pt=B(727),ze=B(4482);function Ye(){return(0,ze.e)((M,b)=>{let C=null;M._refCount++;const F=(0,fe.x)(b,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(C=null);const $=M._connection,ee=C;C=null,$&&(!ee||$===ee)&&$.unsubscribe(),b.unsubscribe()});M.subscribe(F),F.closed||(C=M.connect())})}class dt extends we.y{constructor(b,C){super(),this.source=b,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Pt.w0;const C=this.getSubject();b.add(this.source.subscribe((0,fe.x)(C,void 0,()=>{this._teardown(),C.complete()},F=>{this._teardown(),C.error(F)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Pt.w0.EMPTY)}return b}refCount(){return Ye()(this)}}var Xe=B(9646),yt=B(6805),ye=B(7272),Tt=B(515);function Ne(M){return(0,ze.e)((b,C)=>{let ee,F=null,$=!1;F=b.subscribe((0,fe.x)(C,void 0,void 0,he=>{ee=(0,nt.Xf)(M(he,Ne(M)(b))),F?(F.unsubscribe(),F=null,ee.subscribe(C)):$=!0})),$&&(F.unsubscribe(),F=null,ee.subscribe(C))})}var je=B(5577);function Ze(M,b){return(0,_t.m)(b)?(0,je.z)(M,b,1):(0,je.z)(M,1)}var at=B(9300);function it(M){return M<=0?()=>Tt.E:(0,ze.e)((b,C)=>{let F=[];b.subscribe((0,fe.x)(C,$=>{F.push($),M<F.length&&F.shift()},()=>{for(const $ of F)C.next($);C.complete()},void 0,()=>{F=null}))})}var Ct=B(8068),Lt=B(6590),ft=B(4004),Dn=B(3900),rn=B(5698),Kt=B(8675),An=B(5026),bn=B(590),Fn=B(8505),En=B(8189),jn=B(9808);class fr{constructor(b,C){this.id=b,this.url=C}}class bi extends fr{constructor(b,C,F="imperative",$=null){super(b,C),this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends fr{constructor(b,C,F){super(b,C),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cr extends fr{constructor(b,C,F){super(b,C),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $n extends fr{constructor(b,C,F){super(b,C),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fr extends fr{constructor(b,C,F,$){super(b,C),this.urlAfterRedirects=F,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends fr{constructor(b,C,F,$){super(b,C),this.urlAfterRedirects=F,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends fr{constructor(b,C,F,$,ee){super(b,C),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=ee}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zn extends fr{constructor(b,C,F,$){super(b,C),this.urlAfterRedirects=F,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends fr{constructor(b,C,F,$){super(b,C),this.urlAfterRedirects=F,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an{constructor(b){this.route=b}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ti{constructor(b){this.route=b}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(b){this.snapshot=b}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(b){this.snapshot=b}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(b){this.snapshot=b}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(b){this.snapshot=b}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(b,C,F){this.routerEvent=b,this.position=C,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class pn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C[0]:C}return null}getAll(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Wt(M){return new pn(M)}const Hr="ngNavigationCancelingError";function si(M){const b=Error("NavigationCancelingError: "+M);return b[Hr]=!0,b}function _i(M,b,C){const F=C.path.split("/");if(F.length>M.length||"full"===C.pathMatch&&(b.hasChildren()||F.length<M.length))return null;const $={};for(let ee=0;ee<F.length;ee++){const he=F[ee],Se=M[ee];if(he.startsWith(":"))$[he.substring(1)]=Se;else if(he!==Se.path)return null}return{consumed:M.slice(0,F.length),posParams:$}}function Gn(M,b){const C=M?Object.keys(M):void 0,F=b?Object.keys(b):void 0;if(!C||!F||C.length!=F.length)return!1;let $;for(let ee=0;ee<C.length;ee++)if($=C[ee],!gn(M[$],b[$]))return!1;return!0}function gn(M,b){if(Array.isArray(M)&&Array.isArray(b)){if(M.length!==b.length)return!1;const C=[...M].sort(),F=[...b].sort();return C.every(($,ee)=>F[ee]===$)}return M===b}function vi(M){return Array.prototype.concat.apply([],M)}function Un(M){return M.length>0?M[M.length-1]:null}function yn(M,b){for(const C in M)M.hasOwnProperty(C)&&b(M[C],C)}function Pn(M){return(0,m.CqO)(M)?M:(0,m.QGY)(M)?(0,De.D)(Promise.resolve(M)):(0,Xe.of)(M)}const Kn={exact:function ve(M,b,C){if(!nn(M.segments,b.segments)||!K(M.segments,b.segments,C)||M.numberOfChildren!==b.numberOfChildren)return!1;for(const F in b.children)if(!M.children[F]||!ve(M.children[F],b.children[F],C))return!1;return!0},subset:ie},ni={exact:function Qr(M,b){return Gn(M,b)},subset:function ge(M,b){return Object.keys(b).length<=Object.keys(M).length&&Object.keys(b).every(C=>gn(M[C],b[C]))},ignored:()=>!0};function Yr(M,b,C){return Kn[C.paths](M.root,b.root,C.matrixParams)&&ni[C.queryParams](M.queryParams,b.queryParams)&&!("exact"===C.fragment&&M.fragment!==b.fragment)}function ie(M,b,C){return se(M,b,b.segments,C)}function se(M,b,C,F){if(M.segments.length>C.length){const $=M.segments.slice(0,C.length);return!(!nn($,C)||b.hasChildren()||!K($,C,F))}if(M.segments.length===C.length){if(!nn(M.segments,C)||!K(M.segments,C,F))return!1;for(const $ in b.children)if(!M.children[$]||!ie(M.children[$],b.children[$],F))return!1;return!0}{const $=C.slice(0,M.segments.length),ee=C.slice(M.segments.length);return!!(nn(M.segments,$)&&K(M.segments,$,F)&&M.children[kt])&&se(M.children[kt],b,ee,F)}}function K(M,b,C){return b.every((F,$)=>ni[C](M[$].parameters,F.parameters))}class Pe{constructor(b,C,F){this.root=b,this.queryParams=C,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return vt.serialize(this)}}class qe{constructor(b,C){this.segments=b,this.children=C,this.parent=null,yn(C,(F,$)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class Rt{constructor(b,C){this.path=b,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return q(this)}}function nn(M,b){return M.length===b.length&&M.every((C,F)=>C.path===b[F].path)}class un{}class lr{parse(b){const C=new Ir(b);return new Pe(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(b){const C=`/${Gt(b.root,!0)}`,F=function Ce(M){const b=Object.keys(M).map(C=>{const F=M[C];return Array.isArray(F)?F.map($=>`${Ve(C)}=${Ve($)}`).join("&"):`${Ve(C)}=${Ve(F)}`}).filter(C=>!!C);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${C}${F}${"string"==typeof b.fragment?`#${function gt(M){return encodeURI(M)}(b.fragment)}`:""}`}}const vt=new lr;function Dt(M){return M.segments.map(b=>q(b)).join("/")}function Gt(M,b){if(!M.hasChildren())return Dt(M);if(b){const C=M.children[kt]?Gt(M.children[kt],!1):"",F=[];return yn(M.children,($,ee)=>{ee!==kt&&F.push(`${ee}:${Gt($,!1)}`)}),F.length>0?`${C}(${F.join("//")})`:C}{const C=function Sn(M,b){let C=[];return yn(M.children,(F,$)=>{$===kt&&(C=C.concat(b(F,$)))}),yn(M.children,(F,$)=>{$!==kt&&(C=C.concat(b(F,$)))}),C}(M,(F,$)=>$===kt?[Gt(M.children[kt],!1)]:[`${$}:${Gt(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[kt]?`${Dt(M)}/${C[0]}`:`${Dt(M)}/(${C.join("//")})`}}function Le(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ve(M){return Le(M).replace(/%3B/gi,";")}function et(M){return Le(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(M){return decodeURIComponent(M)}function pe(M){return Nt(M.replace(/\+/g,"%20"))}function q(M){return`${et(M.path)}${function J(M){return Object.keys(M).map(b=>`;${et(b)}=${et(M[b])}`).join("")}(M.parameters)}`}const ut=/^[^\/()?;=#]+/;function $t(M){const b=M.match(ut);return b?b[0]:""}const cr=/^[^=?&#]+/,on=/^[^&#]+/;class Ir{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(b.length>0||Object.keys(C).length>0)&&(F[kt]=new qe(b,C)),F}parseSegment(){const b=$t(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(b),new Rt(Nt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const C=$t(this.remaining);if(!C)return;this.capture(C);let F="";if(this.consumeOptional("=")){const $=$t(this.remaining);$&&(F=$,this.capture(F))}b[Nt(C)]=Nt(F)}parseQueryParam(b){const C=function xr(M){const b=M.match(cr);return b?b[0]:""}(this.remaining);if(!C)return;this.capture(C);let F="";if(this.consumeOptional("=")){const he=function oi(M){const b=M.match(on);return b?b[0]:""}(this.remaining);he&&(F=he,this.capture(F))}const $=pe(C),ee=pe(F);if(b.hasOwnProperty($)){let he=b[$];Array.isArray(he)||(he=[he],b[$]=he),he.push(ee)}else b[$]=ee}parseParens(b){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=$t(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let ee;F.indexOf(":")>-1?(ee=F.substr(0,F.indexOf(":")),this.capture(ee),this.capture(":")):b&&(ee=kt);const he=this.parseChildren();C[ee]=1===Object.keys(he).length?he[kt]:new qe([],he),this.consumeOptional("//")}return C}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new Error(`Expected "${b}".`)}}class Rs{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const C=this.pathFromRoot(b);return C.length>1?C[C.length-2]:null}children(b){const C=Ti(b,this._root);return C?C.children.map(F=>F.value):[]}firstChild(b){const C=Ti(b,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(b){const C=er(b,this._root);return C.length<2?[]:C[C.length-2].children.map($=>$.value).filter($=>$!==b)}pathFromRoot(b){return er(b,this._root).map(C=>C.value)}}function Ti(M,b){if(M===b.value)return b;for(const C of b.children){const F=Ti(M,C);if(F)return F}return null}function er(M,b){if(M===b.value)return[b];for(const C of b.children){const F=er(M,C);if(F.length)return F.unshift(b),F}return[]}class Ei{constructor(b,C){this.value=b,this.children=C}toString(){return`TreeNode(${this.value})`}}function wi(M){const b={};return M&&M.children.forEach(C=>b[C.value.outlet]=C),b}class Ci extends Rs{constructor(b,C){super(b),this.snapshot=C,rr(this,b)}toString(){return this.snapshot.toString()}}function br(M,b){const C=function ke(M,b){const he=new At([],{},{},"",{},kt,b,null,M.root,-1,{});return new wn("",new Ei(he,[]))}(M,b),F=new x([new Rt("",{})]),$=new x({}),ee=new x({}),he=new x({}),Se=new x(""),tt=new Ae(F,$,he,Se,ee,kt,b,C.root);return tt.snapshot=C.root,new Ci(new Ei(tt,[]),C)}class Ae{constructor(b,C,F,$,ee,he,Se,tt){this.url=b,this.params=C,this.queryParams=F,this.fragment=$,this.data=ee,this.outlet=he,this.component=Se,this._futureSnapshot=tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(b=>Wt(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(b=>Wt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Be(M,b="emptyOnly"){const C=M.pathFromRoot;let F=0;if("always"!==b)for(F=C.length-1;F>=1;){const $=C[F],ee=C[F-1];if($.routeConfig&&""===$.routeConfig.path)F--;else{if(ee.component)break;F--}}return function ht(M){return M.reduce((b,C)=>({params:Object.assign(Object.assign({},b.params),C.params),data:Object.assign(Object.assign({},b.data),C.data),resolve:Object.assign(Object.assign({},b.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(F))}class At{constructor(b,C,F,$,ee,he,Se,tt,Jt,Xn,St){this.url=b,this.params=C,this.queryParams=F,this.fragment=$,this.data=ee,this.outlet=he,this.component=Se,this.routeConfig=tt,this._urlSegment=Jt,this._lastPathIndex=Xn,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wn extends Rs{constructor(b,C){super(C),this.url=b,rr(this,C)}toString(){return Jn(this._root)}}function rr(M,b){b.value._routerState=M,b.children.forEach(C=>rr(M,C))}function Jn(M){const b=M.children.length>0?` { ${M.children.map(Jn).join(", ")} } `:"";return`${M.value}${b}`}function or(M){if(M.snapshot){const b=M.snapshot,C=M._futureSnapshot;M.snapshot=C,Gn(b.queryParams,C.queryParams)||M.queryParams.next(C.queryParams),b.fragment!==C.fragment&&M.fragment.next(C.fragment),Gn(b.params,C.params)||M.params.next(C.params),function mr(M,b){if(M.length!==b.length)return!1;for(let C=0;C<M.length;++C)if(!Gn(M[C],b[C]))return!1;return!0}(b.url,C.url)||M.url.next(C.url),Gn(b.data,C.data)||M.data.next(C.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Wi(M,b){const C=Gn(M.params,b.params)&&function _n(M,b){return nn(M,b)&&M.every((C,F)=>Gn(C.parameters,b[F].parameters))}(M.url,b.url);return C&&!(!M.parent!=!b.parent)&&(!M.parent||Wi(M.parent,b.parent))}function Mr(M,b,C){if(C&&M.shouldReuseRoute(b.value,C.value.snapshot)){const F=C.value;F._futureSnapshot=b.value;const $=function ki(M,b,C){return b.children.map(F=>{for(const $ of C.children)if(M.shouldReuseRoute(F.value,$.value.snapshot))return Mr(M,F,$);return Mr(M,F)})}(M,b,C);return new Ei(F,$)}{if(M.shouldAttach(b.value)){const ee=M.retrieve(b.value);if(null!==ee){const he=ee.route;return he.value._futureSnapshot=b.value,he.children=b.children.map(Se=>Mr(M,Se)),he}}const F=function Co(M){return new Ae(new x(M.url),new x(M.params),new x(M.queryParams),new x(M.fragment),new x(M.data),M.outlet,M.component,M)}(b.value),$=b.children.map(ee=>Mr(M,ee));return new Ei(F,$)}}function zs(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Gs(M){return"object"==typeof M&&null!=M&&M.outlets}function ks(M,b,C,F,$){let ee={};if(F&&yn(F,(Se,tt)=>{ee[tt]=Array.isArray(Se)?Se.map(Jt=>`${Jt}`):`${Se}`}),M===b)return new Pe(C,ee,$);const he=Cs(M,b,C);return new Pe(he,ee,$)}function Cs(M,b,C){const F={};return yn(M.children,($,ee)=>{F[ee]=$===b?C:Cs($,b,C)}),new qe(M.segments,F)}class Ws{constructor(b,C,F){if(this.isAbsolute=b,this.numberOfDoubleDots=C,this.commands=F,b&&F.length>0&&zs(F[0]))throw new Error("Root segment cannot have matrix parameters");const $=F.find(Gs);if($&&$!==Un(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ea{constructor(b,C,F){this.segmentGroup=b,this.processChildren=C,this.index=F}}function Ea(M,b,C){if(M||(M=new qe([],{})),0===M.segments.length&&M.hasChildren())return Di(M,b,C);const F=function Oi(M,b,C){let F=0,$=b;const ee={match:!1,pathIndex:0,commandIndex:0};for(;$<M.segments.length;){if(F>=C.length)return ee;const he=M.segments[$],Se=C[F];if(Gs(Se))break;const tt=`${Se}`,Jt=F<C.length-1?C[F+1]:null;if($>0&&void 0===tt)break;if(tt&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!tr(tt,Jt,he))return ee;F+=2}else{if(!tr(tt,{},he))return ee;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(M,b,C),$=C.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const ee=new qe(M.segments.slice(0,F.pathIndex),{});return ee.children[kt]=new qe(M.segments.slice(F.pathIndex),M.children),Di(ee,0,$)}return F.match&&0===$.length?new qe(M.segments,{}):F.match&&!M.hasChildren()?qi(M,b,C):F.match?Di(M,0,$):qi(M,b,C)}function Di(M,b,C){if(0===C.length)return new qe(M.segments,{});{const F=function jo(M){return Gs(M[0])?M[0].outlets:{[kt]:M}}(C),$={};return yn(F,(ee,he)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&($[he]=Ea(M.children[he],b,ee))}),yn(M.children,(ee,he)=>{void 0===F[he]&&($[he]=ee)}),new qe(M.segments,$)}}function qi(M,b,C){const F=M.segments.slice(0,b);let $=0;for(;$<C.length;){const ee=C[$];if(Gs(ee)){const tt=ls(ee.outlets);return new qe(F,tt)}if(0===$&&zs(C[0])){F.push(new Rt(M.segments[b].path,Pa(C[0]))),$++;continue}const he=Gs(ee)?ee.outlets[kt]:`${ee}`,Se=$<C.length-1?C[$+1]:null;he&&Se&&zs(Se)?(F.push(new Rt(he,Pa(Se))),$+=2):(F.push(new Rt(he,{})),$++)}return new qe(F,{})}function ls(M){const b={};return yn(M,(C,F)=>{"string"==typeof C&&(C=[C]),null!==C&&(b[F]=qi(new qe([],{}),0,C))}),b}function Pa(M){const b={};return yn(M,(C,F)=>b[F]=`${C}`),b}function tr(M,b,C){return M==C.path&&Gn(b,C.parameters)}class cs{constructor(b,C,F,$){this.routeReuseStrategy=b,this.futureState=C,this.currState=F,this.forwardEvent=$}activate(b){const C=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,F,b),or(this.futureState.root),this.activateChildRoutes(C,F,b)}deactivateChildRoutes(b,C,F){const $=wi(C);b.children.forEach(ee=>{const he=ee.value.outlet;this.deactivateRoutes(ee,$[he],F),delete $[he]}),yn($,(ee,he)=>{this.deactivateRouteAndItsChildren(ee,F)})}deactivateRoutes(b,C,F){const $=b.value,ee=C?C.value:null;if($===ee)if($.component){const he=F.getContext($.outlet);he&&this.deactivateChildRoutes(b,C,he.children)}else this.deactivateChildRoutes(b,C,F);else ee&&this.deactivateRouteAndItsChildren(C,F)}deactivateRouteAndItsChildren(b,C){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,C):this.deactivateRouteAndOutlet(b,C)}detachAndStoreRouteSubtree(b,C){const F=C.getContext(b.value.outlet),$=F&&b.value.component?F.children:C,ee=wi(b);for(const he of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[he],$);if(F&&F.outlet){const he=F.outlet.detach(),Se=F.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:he,route:b,contexts:Se})}}deactivateRouteAndOutlet(b,C){const F=C.getContext(b.value.outlet),$=F&&b.value.component?F.children:C,ee=wi(b);for(const he of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[he],$);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(b,C,F){const $=wi(C);b.children.forEach(ee=>{this.activateRoutes(ee,$[ee.value.outlet],F),this.forwardEvent(new Gr(ee.value.snapshot))}),b.children.length&&this.forwardEvent(new $r(b.value.snapshot))}activateRoutes(b,C,F){const $=b.value,ee=C?C.value:null;if(or($),$===ee)if($.component){const he=F.getOrCreateContext($.outlet);this.activateChildRoutes(b,C,he.children)}else this.activateChildRoutes(b,C,F);else if($.component){const he=F.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Se=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),he.children.onOutletReAttached(Se.contexts),he.attachRef=Se.componentRef,he.route=Se.route.value,he.outlet&&he.outlet.attach(Se.componentRef,Se.route.value),or(Se.route.value),this.activateChildRoutes(b,null,he.children)}else{const Se=function Is(M){for(let b=M.parent;b;b=b.parent){const C=b.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}($.snapshot),tt=Se?Se.module.componentFactoryResolver:null;he.attachRef=null,he.route=$,he.resolver=tt,he.outlet&&he.outlet.activateWith($,tt),this.activateChildRoutes(b,null,he.children)}}else this.activateChildRoutes(b,null,F)}}class ao{constructor(b,C){this.routes=b,this.module=C}}function Fs(M){return"function"==typeof M}function ds(M){return M instanceof Pe}const Js=Symbol("INITIAL_VALUE");function bs(){return(0,Dn.w)(M=>function st(...M){const b=(0,Ge.yG)(M),C=(0,Ge.jO)(M),{args:F,keys:$}=(0,oe.D)(M);if(0===F.length)return(0,De.D)([],b);const ee=new we.y(function ot(M,b,C=Me.y){return F=>{Qe(b,()=>{const{length:$}=M,ee=new Array($);let he=$,Se=$;for(let tt=0;tt<$;tt++)Qe(b,()=>{const Jt=(0,De.D)(M[tt],b);let Xn=!1;Jt.subscribe((0,fe.x)(F,St=>{ee[tt]=St,Xn||(Xn=!0,Se--),Se||F.next(C(ee.slice()))},()=>{--he||F.complete()}))},F)},F)}}(F,b,$?he=>(0,ae.n)($,he):Me.y));return C?ee.pipe((0,ce.Z)(C)):ee}(M.map(b=>b.pipe((0,rn.q)(1),(0,Kt.O)(Js)))).pipe((0,An.R)((b,C)=>{let F=!1;return C.reduce(($,ee,he)=>$!==Js?$:(ee===Js&&(F=!0),F||!1!==ee&&he!==C.length-1&&!ds(ee)?$:ee),b)},Js),(0,at.h)(b=>b!==Js),(0,ft.U)(b=>ds(b)?b:!0===b),(0,rn.q)(1)))}class wa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new es,this.attachRef=null}}class es{constructor(){this.contexts=new Map}onChildOutletCreated(b,C){const F=this.getOrCreateContext(b);F.outlet=C,this.contexts.set(b,F)}onChildOutletDestroyed(b){const C=this.getContext(b);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let C=this.getContext(b);return C||(C=new wa,this.contexts.set(b,C)),C}getContext(b){return this.contexts.get(b)||null}}let Wn=(()=>{class M{constructor(C,F,$,ee,he){this.parentContexts=C,this.location=F,this.resolver=$,this.changeDetector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=ee||kt,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,F){this.activated=C,this._activatedRoute=F,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const he=(F=F||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),Se=this.parentContexts.getOrCreateContext(this.name).children,tt=new ts(C,Se,this.location.injector);this.activated=this.location.createComponent(he,this.location.length,tt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(C){return new(C||M)(m.Y36(es),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},M.\u0275dir=m.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class ts{constructor(b,C,F){this.route=b,this.childContexts=C,this.parent=F}get(b,C){return b===Ae?this.route:b===es?this.childContexts:this.parent.get(b,C)}}let $i=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275cmp=m.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,F){1&C&&m._UZ(0,"router-outlet")},directives:[Wn],encapsulation:2}),M})();function uo(M,b=""){for(let C=0;C<M.length;C++){const F=M[C];Ra(F,Jr(b,F))}}function Ra(M,b){M.children&&uo(M.children,b)}function Jr(M,b){return b?M||b.path?M&&!b.path?`${M}/`:!M&&b.path?b.path:`${M}/${b.path}`:"":M}function V(M){const b=M.children&&M.children.map(V),C=b?Object.assign(Object.assign({},M),{children:b}):Object.assign({},M);return!C.component&&(b||C.loadChildren)&&C.outlet&&C.outlet!==kt&&(C.component=$i),C}function Y(M){return M.outlet||kt}function L(M,b){const C=M.filter(F=>Y(F)===b);return C.push(...M.filter(F=>Y(F)!==b)),C}const ne={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function be(M,b,C){var F;if(""===b.path)return"full"===b.pathMatch&&(M.hasChildren()||C.length>0)?Object.assign({},ne):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const ee=(b.matcher||_i)(C,M,b);if(!ee)return Object.assign({},ne);const he={};yn(ee.posParams,(tt,Jt)=>{he[Jt]=tt.path});const Se=ee.consumed.length>0?Object.assign(Object.assign({},he),ee.consumed[ee.consumed.length-1].parameters):he;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:C.slice(ee.consumed.length),parameters:Se,positionalParamSegments:null!==(F=ee.posParams)&&void 0!==F?F:{}}}function lt(M,b,C,F,$="corrected"){if(C.length>0&&function _r(M,b,C){return C.some(F=>Yn(M,b,F)&&Y(F)!==kt)}(M,C,F)){const he=new qe(b,function Xt(M,b,C,F){const $={};$[kt]=F,F._sourceSegment=M,F._segmentIndexShift=b.length;for(const ee of C)if(""===ee.path&&Y(ee)!==kt){const he=new qe([],{});he._sourceSegment=M,he._segmentIndexShift=b.length,$[Y(ee)]=he}return $}(M,b,F,new qe(C,M.children)));return he._sourceSegment=M,he._segmentIndexShift=b.length,{segmentGroup:he,slicedSegments:[]}}if(0===C.length&&function pr(M,b,C){return C.some(F=>Yn(M,b,F))}(M,C,F)){const he=new qe(M.segments,function Et(M,b,C,F,$,ee){const he={};for(const Se of F)if(Yn(M,C,Se)&&!$[Y(Se)]){const tt=new qe([],{});tt._sourceSegment=M,tt._segmentIndexShift="legacy"===ee?M.segments.length:b.length,he[Y(Se)]=tt}return Object.assign(Object.assign({},$),he)}(M,b,C,F,M.children,$));return he._sourceSegment=M,he._segmentIndexShift=b.length,{segmentGroup:he,slicedSegments:C}}const ee=new qe(M.segments,M.children);return ee._sourceSegment=M,ee._segmentIndexShift=b.length,{segmentGroup:ee,slicedSegments:C}}function Yn(M,b,C){return(!(M.hasChildren()||b.length>0)||"full"!==C.pathMatch)&&""===C.path}function ar(M,b,C,F){return!!(Y(M)===F||F!==kt&&Yn(b,C,M))&&("**"===M.path||be(b,M,C).matched)}function ii(M,b,C){return 0===b.length&&!M.children[C]}class Pr{constructor(b){this.segmentGroup=b||null}}class Wr{constructor(b){this.urlTree=b}}function hs(M){return Re(new Pr(M))}function nr(M){return Re(new Wr(M))}class Ho{constructor(b,C,F,$,ee){this.configLoader=C,this.urlSerializer=F,this.urlTree=$,this.config=ee,this.allowRedirects=!0,this.ngModule=b.get(m.h0i)}apply(){const b=lt(this.urlTree.root,[],[],this.config).segmentGroup,C=new qe(b.segments,b.children);return this.expandSegmentGroup(this.ngModule,this.config,C,kt).pipe((0,ft.U)(ee=>this.createUrlTree(j(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ne(ee=>{if(ee instanceof Wr)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof Pr?this.noMatchError(ee):ee}))}match(b){return this.expandSegmentGroup(this.ngModule,this.config,b.root,kt).pipe((0,ft.U)($=>this.createUrlTree(j($),b.queryParams,b.fragment))).pipe(Ne($=>{throw $ instanceof Pr?this.noMatchError($):$}))}noMatchError(b){return new Error(`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,C,F){const $=b.segments.length>0?new qe([],{[kt]:b}):b;return new Pe($,C,F)}expandSegmentGroup(b,C,F,$){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(b,C,F).pipe((0,ft.U)(ee=>new qe([],ee))):this.expandSegment(b,F,C,F.segments,$,!0)}expandChildren(b,C,F){const $=[];for(const ee of Object.keys(F.children))"primary"===ee?$.unshift(ee):$.push(ee);return(0,De.D)($).pipe(Ze(ee=>{const he=F.children[ee],Se=L(C,ee);return this.expandSegmentGroup(b,Se,he,ee).pipe((0,ft.U)(tt=>({segment:tt,outlet:ee})))}),(0,An.R)((ee,he)=>(ee[he.outlet]=he.segment,ee),{}),function tn(M,b){const C=arguments.length>=2;return F=>F.pipe(M?(0,at.h)(($,ee)=>M($,ee,F)):Me.y,it(1),C?(0,Lt.d)(b):(0,Ct.T)(()=>new yt.K))}())}expandSegment(b,C,F,$,ee,he){return(0,De.D)(F).pipe(Ze(Se=>this.expandSegmentAgainstRoute(b,C,F,Se,$,ee,he).pipe(Ne(Jt=>{if(Jt instanceof Pr)return(0,Xe.of)(null);throw Jt}))),(0,bn.P)(Se=>!!Se),Ne((Se,tt)=>{if(Se instanceof yt.K||"EmptyError"===Se.name)return ii(C,$,ee)?(0,Xe.of)(new qe([],{})):hs(C);throw Se}))}expandSegmentAgainstRoute(b,C,F,$,ee,he,Se){return ar($,C,ee,he)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(b,C,$,ee,he):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,C,F,$,ee,he):hs(C):hs(C)}expandSegmentAgainstRouteUsingRedirect(b,C,F,$,ee,he){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,F,$,he):this.expandRegularSegmentAgainstRouteUsingRedirect(b,C,F,$,ee,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,C,F,$){const ee=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?nr(ee):this.lineralizeSegments(F,ee).pipe((0,je.z)(he=>{const Se=new qe(he,{});return this.expandSegment(b,Se,C,he,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,C,F,$,ee,he){const{matched:Se,consumedSegments:tt,remainingSegments:Jt,positionalParamSegments:Xn}=be(C,$,ee);if(!Se)return hs(C);const St=this.applyRedirectCommands(tt,$.redirectTo,Xn);return $.redirectTo.startsWith("/")?nr(St):this.lineralizeSegments($,St).pipe((0,je.z)(vr=>this.expandSegment(b,C,F,vr.concat(Jt),he,!1)))}matchSegmentAgainstRoute(b,C,F,$,ee){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,Xe.of)(F._loadedConfig):this.configLoader.load(b.injector,F)).pipe((0,ft.U)(St=>(F._loadedConfig=St,new qe($,{})))):(0,Xe.of)(new qe($,{}));const{matched:he,consumedSegments:Se,remainingSegments:tt}=be(C,F,$);return he?this.getChildConfig(b,F,$).pipe((0,je.z)(Xn=>{const St=Xn.module,vr=Xn.routes,{segmentGroup:Br,slicedSegments:hr}=lt(C,Se,tt,vr),Ht=new qe(Br.segments,Br.children);if(0===hr.length&&Ht.hasChildren())return this.expandChildren(St,vr,Ht).pipe((0,ft.U)(Ar=>new qe(Se,Ar)));if(0===vr.length&&0===hr.length)return(0,Xe.of)(new qe(Se,{}));const Oo=Y(F)===ee;return this.expandSegment(St,Ht,vr,hr,Oo?kt:ee,!0).pipe((0,ft.U)(ro=>new qe(Se.concat(ro.segments),ro.children)))})):hs(C)}getChildConfig(b,C,F){return C.children?(0,Xe.of)(new ao(C.children,b)):C.loadChildren?void 0!==C._loadedConfig?(0,Xe.of)(C._loadedConfig):this.runCanLoadGuards(b.injector,C,F).pipe((0,je.z)($=>$?this.configLoader.load(b.injector,C).pipe((0,ft.U)(ee=>(C._loadedConfig=ee,ee))):function ns(M){return Re(si(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))}(C))):(0,Xe.of)(new ao([],b))}runCanLoadGuards(b,C,F){const $=C.canLoad;if(!$||0===$.length)return(0,Xe.of)(!0);const ee=$.map(he=>{const Se=b.get(he);let tt;if(function Oa(M){return M&&Fs(M.canLoad)}(Se))tt=Se.canLoad(C,F);else{if(!Fs(Se))throw new Error("Invalid CanLoad guard");tt=Se(C,F)}return Pn(tt)});return(0,Xe.of)(ee).pipe(bs(),(0,Fn.b)(he=>{if(!ds(he))return;const Se=si(`Redirecting to "${this.urlSerializer.serialize(he)}"`);throw Se.url=he,Se}),(0,ft.U)(he=>!0===he))}lineralizeSegments(b,C){let F=[],$=C.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,Xe.of)(F);if($.numberOfChildren>1||!$.children[kt])return Re(new Error(`Only absolute redirects can have named outlets. redirectTo: '${b.redirectTo}'`));$=$.children[kt]}}applyRedirectCommands(b,C,F){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),b,F)}applyRedirectCreatreUrlTree(b,C,F,$){const ee=this.createSegmentGroup(b,C.root,F,$);return new Pe(ee,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(b,C){const F={};return yn(b,($,ee)=>{if("string"==typeof $&&$.startsWith(":")){const Se=$.substring(1);F[ee]=C[Se]}else F[ee]=$}),F}createSegmentGroup(b,C,F,$){const ee=this.createSegments(b,C.segments,F,$);let he={};return yn(C.children,(Se,tt)=>{he[tt]=this.createSegmentGroup(b,Se,F,$)}),new qe(ee,he)}createSegments(b,C,F,$){return C.map(ee=>ee.path.startsWith(":")?this.findPosParam(b,ee,$):this.findOrReturn(ee,F))}findPosParam(b,C,F){const $=F[C.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${b}'. Cannot find '${C.path}'.`);return $}findOrReturn(b,C){let F=0;for(const $ of C){if($.path===b.path)return C.splice(F),$;F++}return b}}function j(M){const b={};for(const F of Object.keys(M.children)){const ee=j(M.children[F]);(ee.segments.length>0||ee.hasChildren())&&(b[F]=ee)}return function zo(M){if(1===M.numberOfChildren&&M.children[kt]){const b=M.children[kt];return new qe(M.segments.concat(b.segments),b.children)}return M}(new qe(M.segments,b))}class R{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class X{constructor(b,C){this.component=b,this.route=C}}function _e(M,b,C){const F=M._root;return Zi(F,b?b._root:null,C,[F.value])}function Tr(M,b,C){const F=function yr(M){if(!M)return null;for(let b=M.parent;b;b=b.parent){const C=b.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(b);return(F?F.module.injector:C).get(M)}function Zi(M,b,C,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=wi(b);return M.children.forEach(he=>{(function fs(M,b,C,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=M.value,he=b?b.value:null,Se=C?C.getContext(M.value.outlet):null;if(he&&ee.routeConfig===he.routeConfig){const tt=function rs(M,b,C){if("function"==typeof C)return C(M,b);switch(C){case"pathParamsChange":return!nn(M.url,b.url);case"pathParamsOrQueryParamsChange":return!nn(M.url,b.url)||!Gn(M.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wi(M,b)||!Gn(M.queryParams,b.queryParams);default:return!Wi(M,b)}}(he,ee,ee.routeConfig.runGuardsAndResolvers);tt?$.canActivateChecks.push(new R(F)):(ee.data=he.data,ee._resolvedData=he._resolvedData),Zi(M,b,ee.component?Se?Se.children:null:C,F,$),tt&&Se&&Se.outlet&&Se.outlet.isActivated&&$.canDeactivateChecks.push(new X(Se.outlet.component,he))}else he&&Ai(b,Se,$),$.canActivateChecks.push(new R(F)),Zi(M,null,ee.component?Se?Se.children:null:C,F,$)})(he,ee[he.value.outlet],C,F.concat([he.value]),$),delete ee[he.value.outlet]}),yn(ee,(he,Se)=>Ai(he,C.getContext(Se),$)),$}function Ai(M,b,C){const F=wi(M),$=M.value;yn(F,(ee,he)=>{Ai(ee,$.component?b?b.children.getContext(he):null:b,C)}),C.canDeactivateChecks.push(new X($.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,$))}class Ao{}function Ts(M){return new we.y(b=>b.error(M))}class Ia{constructor(b,C,F,$,ee,he){this.rootComponentType=b,this.config=C,this.urlTree=F,this.url=$,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=he}recognize(){const b=lt(this.urlTree.root,[],[],this.config.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,b,kt);if(null===C)return null;const F=new At([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Ei(F,C),ee=new wn(this.url,$);return this.inheritParamsAndData(ee._root),ee}inheritParamsAndData(b){const C=b.value,F=Be(C,this.paramsInheritanceStrategy);C.params=Object.freeze(F.params),C.data=Object.freeze(F.data),b.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(b,C,F){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,C):this.processSegment(b,C,C.segments,F)}processChildren(b,C){const F=[];for(const ee of Object.keys(C.children)){const he=C.children[ee],Se=L(b,ee),tt=this.processSegmentGroup(Se,he,ee);if(null===tt)return null;F.push(...tt)}const $=lo(F);return function Za(M){M.sort((b,C)=>b.value.outlet===kt?-1:C.value.outlet===kt?1:b.value.outlet.localeCompare(C.value.outlet))}($),$}processSegment(b,C,F,$){for(const ee of b){const he=this.processSegmentAgainstRoute(ee,C,F,$);if(null!==he)return he}return ii(C,F,$)?[]:null}processSegmentAgainstRoute(b,C,F,$){if(b.redirectTo||!ar(b,C,F,$))return null;let ee,he=[],Se=[];if("**"===b.path){const Br=F.length>0?Un(F).parameters:{};ee=new At(F,Br,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(b),Y(b),b.component,b,ba(C),co(C)+F.length,ia(b))}else{const Br=be(C,b,F);if(!Br.matched)return null;he=Br.consumedSegments,Se=Br.remainingSegments,ee=new At(he,Br.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(b),Y(b),b.component,b,ba(C),co(C)+he.length,ia(b))}const tt=function is(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(b),{segmentGroup:Jt,slicedSegments:Xn}=lt(C,he,Se,tt.filter(Br=>void 0===Br.redirectTo),this.relativeLinkResolution);if(0===Xn.length&&Jt.hasChildren()){const Br=this.processChildren(tt,Jt);return null===Br?null:[new Ei(ee,Br)]}if(0===tt.length&&0===Xn.length)return[new Ei(ee,[])];const St=Y(b)===$,vr=this.processSegment(tt,Jt,Xn,St?kt:$);return null===vr?null:[new Ei(ee,vr)]}}function ra(M){const b=M.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function lo(M){const b=[],C=new Set;for(const F of M){if(!ra(F)){b.push(F);continue}const $=b.find(ee=>F.value.routeConfig===ee.value.routeConfig);void 0!==$?($.children.push(...F.children),C.add($)):b.push(F)}for(const F of C){const $=lo(F.children);b.push(new Ei(F.value,$))}return b.filter(F=>!C.has(F))}function ba(M){let b=M;for(;b._sourceSegment;)b=b._sourceSegment;return b}function co(M){let b=M,C=b._segmentIndexShift?b._segmentIndexShift:0;for(;b._sourceSegment;)b=b._sourceSegment,C+=b._segmentIndexShift?b._segmentIndexShift:0;return C-1}function ss(M){return M.data||{}}function ia(M){return M.resolve||{}}function Us(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function ho(M){return(0,Dn.w)(b=>{const C=M(b);return C?(0,De.D)(C).pipe((0,ft.U)(()=>b)):(0,Xe.of)(b)})}class ai extends class Ni{shouldDetach(b){return!1}store(b,C){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,C){return b.routeConfig===C.routeConfig}}{}const Ds=new m.OlP("ROUTES");class So{constructor(b,C,F,$){this.injector=b,this.compiler=C,this.onLoadStartListener=F,this.onLoadEndListener=$}load(b,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const $=this.loadModuleFactory(C.loadChildren).pipe((0,ft.U)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(C);const he=ee.create(b);return new ao(vi(he.injector.get(Ds,void 0,m.XFs.Self|m.XFs.Optional)).map(V),he)}),Ne(ee=>{throw C._loader$=void 0,ee}));return C._loader$=new dt($,()=>new v.x).pipe(Ye()),C._loader$}loadModuleFactory(b){return Pn(b()).pipe((0,je.z)(C=>C instanceof m.YKP?(0,Xe.of)(C):(0,De.D)(this.compiler.compileModuleAsync(C))))}}class Ya{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,C){return b}}function ps(M){throw M}function os(M,b,C){return b.parse("/")}function Zr(M,b){return(0,Xe.of)(null)}const fo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},As={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class M{constructor(C,F,$,ee,he,Se,tt){this.rootComponentType=C,this.urlSerializer=F,this.rootContexts=$,this.location=ee,this.config=tt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new v.x,this.errorHandler=ps,this.malformedUriErrorHandler=os,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zr,afterPreactivation:Zr},this.urlHandlingStrategy=new Ya,this.routeReuseStrategy=new ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=he.get(m.h0i),this.console=he.get(m.c2e);const St=he.get(m.R0b);this.isNgZoneEnabled=St instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(tt),this.currentUrlTree=function On(){return new Pe(new qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new So(he,Se,vr=>this.triggerEvent(new an(vr)),vr=>this.triggerEvent(new ti(vr))),this.routerState=br(this.currentUrlTree,this.rootComponentType),this.transitions=new x({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const F=this.events;return C.pipe((0,at.h)($=>0!==$.id),(0,ft.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Dn.w)($=>{let ee=!1,he=!1;return(0,Xe.of)($).pipe((0,Fn.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.currentRawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Dn.w)(Se=>{const tt=this.browserUrlTree.toString(),Jt=!this.navigated||Se.extractedUrl.toString()!==tt||tt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Jt)&&this.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return xo(Se.source)&&(this.browserUrlTree=Se.extractedUrl),(0,Xe.of)(Se).pipe((0,Dn.w)(St=>{const vr=this.transitions.getValue();return F.next(new bi(St.id,this.serializeUrl(St.extractedUrl),St.source,St.restoredState)),vr!==this.transitions.getValue()?Tt.E:Promise.resolve(St)}),function k(M,b,C,F){return(0,Dn.w)($=>function Do(M,b,C,F,$){return new Ho(M,b,C,F,$).apply()}(M,b,C,$.extractedUrl,F).pipe((0,ft.U)(ee=>Object.assign(Object.assign({},$),{urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fn.b)(St=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:St.urlAfterRedirects})}),function Si(M,b,C,F,$){return(0,je.z)(ee=>function Vs(M,b,C,F,$="emptyOnly",ee="legacy"){try{const he=new Ia(M,b,C,F,$,ee).recognize();return null===he?Ts(new Ao):(0,Xe.of)(he)}catch(he){return Ts(he)}}(M,b,ee.urlAfterRedirects,C(ee.urlAfterRedirects),F,$).pipe((0,ft.U)(he=>Object.assign(Object.assign({},ee),{targetSnapshot:he}))))}(this.rootComponentType,this.config,St=>this.serializeUrl(St),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fn.b)(St=>{if("eager"===this.urlUpdateStrategy){if(!St.extras.skipLocationChange){const Br=this.urlHandlingStrategy.merge(St.urlAfterRedirects,St.rawUrl);this.setBrowserUrl(Br,St)}this.browserUrlTree=St.urlAfterRedirects}const vr=new Fr(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);F.next(vr)}));if(Jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vr,extractedUrl:Br,source:hr,restoredState:Ht,extras:Oo}=Se,Nn=new bi(vr,this.serializeUrl(Br),hr,Ht);F.next(Nn);const ro=br(Br,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},Se),{targetSnapshot:ro,urlAfterRedirects:Br,extras:Object.assign(Object.assign({},Oo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Se.rawUrl,Se.resolve(null),Tt.E}),ho(Se=>{const{targetSnapshot:tt,id:Jt,extractedUrl:Xn,rawUrl:St,extras:{skipLocationChange:vr,replaceUrl:Br}}=Se;return this.hooks.beforePreactivation(tt,{navigationId:Jt,appliedUrlTree:Xn,rawUrlTree:St,skipLocationChange:!!vr,replaceUrl:!!Br})}),(0,Fn.b)(Se=>{const tt=new Lr(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot);this.triggerEvent(tt)}),(0,ft.U)(Se=>Object.assign(Object.assign({},Se),{guards:_e(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)})),function fi(M,b){return(0,je.z)(C=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:ee,canDeactivateChecks:he}}=C;return 0===he.length&&0===ee.length?(0,Xe.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function Ca(M,b,C,F){return(0,De.D)(M).pipe((0,je.z)($=>function Wo(M,b,C,F,$){const ee=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,Xe.of)(!0);const he=ee.map(Se=>{const tt=Tr(Se,b,$);let Jt;if(function ri(M){return M&&Fs(M.canDeactivate)}(tt))Jt=Pn(tt.canDeactivate(M,b,C,F));else{if(!Fs(tt))throw new Error("Invalid CanDeactivate guard");Jt=Pn(tt(M,b,C,F))}return Jt.pipe((0,bn.P)())});return(0,Xe.of)(he).pipe(bs())}($.component,$.route,C,b,F)),(0,bn.P)($=>!0!==$,!0))}(he,F,$,M).pipe((0,je.z)(Se=>Se&&function $o(M){return"boolean"==typeof M}(Se)?function na(M,b,C,F){return(0,De.D)(b).pipe(Ze($=>(0,ye.z)(function Xs(M,b){return null!==M&&b&&b(new Pi(M)),(0,Xe.of)(!0)}($.route.parent,F),function Go(M,b){return null!==M&&b&&b(new Rr(M)),(0,Xe.of)(!0)}($.route,F),function Ls(M,b,C){const F=b[b.length-1],ee=b.slice(0,b.length-1).reverse().map(he=>function xt(M){const b=M.routeConfig?M.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:M,guards:b}:null}(he)).filter(he=>null!==he).map(he=>bt(()=>{const Se=he.guards.map(tt=>{const Jt=Tr(tt,he.node,C);let Xn;if(function Vi(M){return M&&Fs(M.canActivateChild)}(Jt))Xn=Pn(Jt.canActivateChild(F,M));else{if(!Fs(Jt))throw new Error("Invalid CanActivateChild guard");Xn=Pn(Jt(F,M))}return Xn.pipe((0,bn.P)())});return(0,Xe.of)(Se).pipe(bs())}));return(0,Xe.of)(ee).pipe(bs())}(M,$.path,C),function qr(M,b,C){const F=b.routeConfig?b.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Xe.of)(!0);const $=F.map(ee=>bt(()=>{const he=Tr(ee,b,C);let Se;if(function To(M){return M&&Fs(M.canActivate)}(he))Se=Pn(he.canActivate(b,M));else{if(!Fs(he))throw new Error("Invalid CanActivate guard");Se=Pn(he(b,M))}return Se.pipe((0,bn.P)())}));return(0,Xe.of)($).pipe(bs())}(M,$.route,C))),(0,bn.P)($=>!0!==$,!0))}(F,ee,M,b):(0,Xe.of)(Se)),(0,ft.U)(Se=>Object.assign(Object.assign({},C),{guardsResult:Se})))})}(this.ngModule.injector,Se=>this.triggerEvent(Se)),(0,Fn.b)(Se=>{if(ds(Se.guardsResult)){const Jt=si(`Redirecting to "${this.serializeUrl(Se.guardsResult)}"`);throw Jt.url=Se.guardsResult,Jt}const tt=new sn(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.triggerEvent(tt)}),(0,at.h)(Se=>!!Se.guardsResult||(this.restoreHistory(Se),this.cancelNavigationTransition(Se,""),!1)),ho(Se=>{if(Se.guards.canActivateChecks.length)return(0,Xe.of)(Se).pipe((0,Fn.b)(tt=>{const Jt=new zn(tt.id,this.serializeUrl(tt.extractedUrl),this.serializeUrl(tt.urlAfterRedirects),tt.targetSnapshot);this.triggerEvent(Jt)}),(0,Dn.w)(tt=>{let Jt=!1;return(0,Xe.of)(tt).pipe(function sa(M,b){return(0,je.z)(C=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=C;if(!$.length)return(0,Xe.of)(C);let ee=0;return(0,De.D)($).pipe(Ze(he=>function oa(M,b,C,F){return function qs(M,b,C,F){const $=Us(M);if(0===$.length)return(0,Xe.of)({});const ee={};return(0,De.D)($).pipe((0,je.z)(he=>function kr(M,b,C,F){const $=Tr(M,b,F);return Pn($.resolve?$.resolve(b,C):$(b,C))}(M[he],b,C,F).pipe((0,Fn.b)(Se=>{ee[he]=Se}))),it(1),(0,je.z)(()=>Us(ee).length===$.length?(0,Xe.of)(ee):Tt.E))}(M._resolve,M,b,F).pipe((0,ft.U)(ee=>(M._resolvedData=ee,M.data=Object.assign(Object.assign({},M.data),Be(M,C).resolve),null)))}(he.route,F,M,b)),(0,Fn.b)(()=>ee++),it(1),(0,je.z)(he=>ee===$.length?(0,Xe.of)(C):Tt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fn.b)({next:()=>Jt=!0,complete:()=>{Jt||(this.restoreHistory(tt),this.cancelNavigationTransition(tt,"At least one route resolver didn't emit any value."))}}))}),(0,Fn.b)(tt=>{const Jt=new Ln(tt.id,this.serializeUrl(tt.extractedUrl),this.serializeUrl(tt.urlAfterRedirects),tt.targetSnapshot);this.triggerEvent(Jt)}))}),ho(Se=>{const{targetSnapshot:tt,id:Jt,extractedUrl:Xn,rawUrl:St,extras:{skipLocationChange:vr,replaceUrl:Br}}=Se;return this.hooks.afterPreactivation(tt,{navigationId:Jt,appliedUrlTree:Xn,rawUrlTree:St,skipLocationChange:!!vr,replaceUrl:!!Br})}),(0,ft.U)(Se=>{const tt=function Ns(M,b,C){const F=Mr(M,b._root,C?C._root:void 0);return new Ci(F,b)}(this.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return Object.assign(Object.assign({},Se),{targetRouterState:tt})}),(0,Fn.b)(Se=>{this.currentUrlTree=Se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Se),this.browserUrlTree=Se.urlAfterRedirects)}),((M,b,C)=>(0,ft.U)(F=>(new cs(b,F.targetRouterState,F.currentRouterState,C).activate(M),F)))(this.rootContexts,this.routeReuseStrategy,Se=>this.triggerEvent(Se)),(0,Fn.b)({next(){ee=!0},complete(){ee=!0}}),function fn(M){return(0,ze.e)((b,C)=>{try{b.subscribe(C)}finally{C.add(M)}})}(()=>{var Se;ee||he||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Se=this.currentNavigation)||void 0===Se?void 0:Se.id)===$.id&&(this.currentNavigation=null)}),Ne(Se=>{if(he=!0,function Hn(M){return M&&M[Hr]}(Se)){const tt=ds(Se.url);tt||(this.navigated=!0,this.restoreHistory($,!0));const Jt=new Cr($.id,this.serializeUrl($.extractedUrl),Se.message);F.next(Jt),tt?setTimeout(()=>{const Xn=this.urlHandlingStrategy.merge(Se.url,this.rawUrlTree),St={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xo($.source)};this.scheduleNavigation(Xn,"imperative",null,St,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const tt=new $n($.id,this.serializeUrl($.extractedUrl),Se);F.next(tt);try{$.resolve(this.errorHandler(Se))}catch(Jt){$.reject(Jt)}}return Tt.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const F="popstate"===C.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var $;const ee={replaceUrl:!0},he=(null===($=C.state)||void 0===$?void 0:$.navigationId)?C.state:null;if(he){const tt=Object.assign({},he);delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(ee.state=tt)}const Se=this.parseUrl(C.url);this.scheduleNavigation(Se,F,he,ee)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){uo(C),this.config=C.map(V),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,F={}){const{relativeTo:$,queryParams:ee,fragment:he,queryParamsHandling:Se,preserveFragment:tt}=F,Jt=$||this.routerState.root,Xn=tt?this.currentUrlTree.fragment:he;let St=null;switch(Se){case"merge":St=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ee);break;case"preserve":St=this.currentUrlTree.queryParams;break;default:St=ee||null}return null!==St&&(St=this.removeEmptyProps(St)),function _a(M,b,C,F,$){if(0===C.length)return ks(b.root,b.root,b.root,F,$);const ee=function Io(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Ws(!0,0,M);let b=0,C=!1;const F=M.reduce(($,ee,he)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Se={};return yn(ee.outlets,(tt,Jt)=>{Se[Jt]="string"==typeof tt?tt.split("/"):tt}),[...$,{outlets:Se}]}if(ee.segmentPath)return[...$,ee.segmentPath]}return"string"!=typeof ee?[...$,ee]:0===he?(ee.split("/").forEach((Se,tt)=>{0==tt&&"."===Se||(0==tt&&""===Se?C=!0:".."===Se?b++:""!=Se&&$.push(Se))}),$):[...$,ee]},[]);return new Ws(C,b,F)}(C);if(ee.toRoot())return ks(b.root,b.root,new qe([],{}),F,$);const he=function ta(M,b,C){if(M.isAbsolute)return new ea(b.root,!0,0);if(-1===C.snapshot._lastPathIndex){const ee=C.snapshot._urlSegment;return new ea(ee,ee===b.root,0)}const F=zs(M.commands[0])?0:1;return function va(M,b,C){let F=M,$=b,ee=C;for(;ee>$;){if(ee-=$,F=F.parent,!F)throw new Error("Invalid number of '../'");$=F.segments.length}return new ea(F,!1,$-ee)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+F,M.numberOfDoubleDots)}(ee,b,M),Se=he.processChildren?Di(he.segmentGroup,he.index,ee.commands):Ea(he.segmentGroup,he.index,ee.commands);return ks(b.root,he.segmentGroup,Se,F,$)}(Jt,this.currentUrlTree,C,St,null!=Xn?Xn:null)}navigateByUrl(C,F={skipLocationChange:!1}){const $=ds(C)?C:this.parseUrl(C),ee=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,F)}navigate(C,F={skipLocationChange:!1}){return function eo(M){for(let b=0;b<M.length;b++){const C=M[b];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${b}`)}}(C),this.navigateByUrl(this.createUrlTree(C,F),F)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let F;try{F=this.urlSerializer.parse(C)}catch($){F=this.malformedUriErrorHandler($,this.urlSerializer,C)}return F}isActive(C,F){let $;if($=!0===F?Object.assign({},fo):!1===F?Object.assign({},As):F,ds(C))return Yr(this.currentUrlTree,C,$);const ee=this.parseUrl(C);return Yr(this.currentUrlTree,ee,$)}removeEmptyProps(C){return Object.keys(C).reduce((F,$)=>{const ee=C[$];return null!=ee&&(F[$]=ee),F},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new wr(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,F,$,ee,he){var Se,tt;if(this.disposed)return Promise.resolve(!1);let Jt,Xn,St;he?(Jt=he.resolve,Xn=he.reject,St=he.promise):St=new Promise((hr,Ht)=>{Jt=hr,Xn=Ht});const vr=++this.navigationId;let Br;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Br=$&&$.\u0275routerPageId?$.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?null!==(Se=this.browserPageId)&&void 0!==Se?Se:0:(null!==(tt=this.browserPageId)&&void 0!==tt?tt:0)+1):Br=0,this.setTransition({id:vr,targetPageId:Br,source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:ee,resolve:Jt,reject:Xn,promise:St,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),St.catch(hr=>Promise.reject(hr))}setBrowserUrl(C,F){const $=this.urlSerializer.serialize(C),ee=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl?this.location.replaceState($,"",ee):this.location.go($,"",ee)}restoreHistory(C,F=!1){var $,ee;if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===he?this.currentUrlTree===(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)&&0===he&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(he)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,F){const $=new Cr(C.id,this.serializeUrl(C.extractedUrl),F);this.triggerEvent($),C.resolve(!1)}generateNgRouterState(C,F){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:F}:{navigationId:C}}}return M.\u0275fac=function(C){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function xo(M){return"imperative"!==M}let as=(()=>{class M{constructor(C,F,$,ee,he){this.router=C,this.route=F,this.tabIndexAttribute=$,this.renderer=ee,this.el=he,this.commands=null,this.onChanges=new v.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const F=this.renderer,$=this.el.nativeElement;null!==C?F.setAttribute($,"tabindex",C):F.removeAttribute($,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return M.\u0275fac=function(C){return new(C||M)(m.Y36(Vr),m.Y36(Ae),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},M.\u0275dir=m.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,F){1&C&&m.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),M})(),to=(()=>{class M{constructor(C,F,$){this.router=C,this.route=F,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new v.x,this.subscription=C.events.subscribe(ee=>{ee instanceof wr&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:null}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,F,$,ee,he){if(0!==C||F||$||ee||he||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Se={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Se),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return M.\u0275fac=function(C){return new(C||M)(m.Y36(Vr),m.Y36(Ae),m.Y36(jn.S$))},M.\u0275dir=m.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,F){1&C&&m.NdJ("click",function(ee){return F.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&C&&m.uIk("target",F.target)("href",F.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),M})();function aa(M){return""===M||!!M}class Qa{}class ju{preload(b,C){return(0,Xe.of)(null)}}let Fa=(()=>{class M{constructor(C,F,$,ee){this.router=C,this.injector=$,this.preloadingStrategy=ee,this.loader=new So($,F,tt=>C.triggerEvent(new an(tt)),tt=>C.triggerEvent(new ti(tt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(C=>C instanceof wr),Ze(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(m.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,F){const $=[];for(const ee of F)if(ee.loadChildren&&!ee.canLoad&&ee._loadedConfig){const he=ee._loadedConfig;$.push(this.processRoutes(he.module,he.routes))}else ee.loadChildren&&!ee.canLoad?$.push(this.preloadConfig(C,ee)):ee.children&&$.push(this.processRoutes(C,ee.children));return(0,De.D)($).pipe((0,En.J)(),(0,ft.U)(ee=>{}))}preloadConfig(C,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,Xe.of)(F._loadedConfig):this.loader.load(C.injector,F)).pipe((0,je.z)(ee=>(F._loadedConfig=ee,this.processRoutes(ee.module,ee.routes)))))}}return M.\u0275fac=function(C){return new(C||M)(m.LFG(Vr),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Qa))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})(),$u=(()=>{class M{constructor(C,F,$={}){this.router=C,this.viewportScroller=F,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof wr&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Zn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,F){this.router.triggerEvent(new Zn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(C){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();const ms=new m.OlP("ROUTER_CONFIGURATION"),po=new m.OlP("ROUTER_FORROOT_GUARD"),Ur=[jn.Ye,{provide:un,useClass:lr},{provide:Vr,useFactory:function ys(M,b,C,F,$,ee,he={},Se,tt){const Jt=new Vr(null,M,b,C,F,$,vi(ee));return Se&&(Jt.urlHandlingStrategy=Se),tt&&(Jt.routeReuseStrategy=tt),function Ja(M,b){M.errorHandler&&(b.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(b.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(b.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(b.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(b.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(b.canceledNavigationResolution=M.canceledNavigationResolution)}(he,Jt),he.enableTracing&&Jt.events.subscribe(Xn=>{var St,vr;null===(St=console.group)||void 0===St||St.call(console,`Router Event: ${Xn.constructor.name}`),console.log(Xn.toString()),console.log(Xn),null===(vr=console.groupEnd)||void 0===vr||vr.call(console)}),Jt},deps:[un,es,jn.Ye,m.zs3,m.Sil,Ds,ms,[class qo{},new m.FiY],[class Ri{},new m.FiY]]},es,{provide:Ae,useFactory:function en(M){return M.routerState.root},deps:[Vr]},Fa,ju,class ka{preload(b,C){return C().pipe(Ne(()=>(0,Xe.of)(null)))}},{provide:ms,useValue:{enableTracing:!1}}];function Mo(){return new m.PXZ("Router",Vr)}let no=(()=>{class M{constructor(C,F){}static forRoot(C,F){return{ngModule:M,providers:[Ur,Xr(C),{provide:po,useFactory:Mt,deps:[[Vr,new m.FiY,new m.tp0]]},{provide:ms,useValue:F||{}},{provide:jn.S$,useFactory:Iu,deps:[jn.lw,[new m.tBr(jn.mr),new m.FiY],ms]},{provide:$u,useFactory:Po,deps:[Vr,jn.EM,ms]},{provide:Qa,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:ju},{provide:m.PXZ,multi:!0,useFactory:Mo},[mn,{provide:m.ip1,multi:!0,useFactory:Zo,deps:[mn]},{provide:rt,useFactory:Yt,deps:[mn]},{provide:m.tb,multi:!0,useExisting:rt}]]}}static forChild(C){return{ngModule:M,providers:[Xr(C)]}}}return M.\u0275fac=function(C){return new(C||M)(m.LFG(po,8),m.LFG(Vr,8))},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({}),M})();function Po(M,b,C){return C.scrollOffset&&b.setOffset(C.scrollOffset),new $u(M,b,C)}function Iu(M,b,C={}){return C.useHash?new jn.Do(M,b):new jn.b0(M,b)}function Mt(M){return"guarded"}function Xr(M){return[{provide:m.deG,multi:!0,useValue:M},{provide:Ds,multi:!0,useValue:M}]}let mn=(()=>{class M{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new v.x}appInitializer(){return this.injector.get(jn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const $=new Promise(Se=>F=Se),ee=this.injector.get(Vr),he=this.injector.get(ms);return"disabled"===he.initialNavigation?(ee.setUpLocationChangeListener(),F(!0)):"enabled"===he.initialNavigation||"enabledBlocking"===he.initialNavigation?(ee.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ee.initialNavigation()):F(!0),$})}bootstrapListener(C){const F=this.injector.get(ms),$=this.injector.get(Fa),ee=this.injector.get($u),he=this.injector.get(Vr),Se=this.injector.get(m.z2F);C===Se.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&he.initialNavigation(),$.setUpPreloading(),ee.init(),he.resetRootComponentType(Se.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(C){return new(C||M)(m.LFG(m.zs3))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function Zo(M){return M.appInitializer.bind(M)}function Yt(M){return M.bootstrapListener.bind(M)}const rt=new m.OlP("Router Initializer")},3942:(Ft,$e,B)=>{B.d($e,{Z:()=>Qe});var m=B(2090),v=B(4859),x=B(6881),we=B(1877);class oe{constructor(Re,nt){this._delegate=Re,this.firebase=nt,(0,x._addComponent)(Re,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Re,nt=x._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const Pt=this._delegate.container.getProvider(Re);return!Pt.isInitialized()&&"EXPLICIT"===(null===(bt=Pt.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:nt})}_removeServiceInstance(Re,nt=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(nt)}_addComponent(Re){(0,x._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,x._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Ge(){const _t=function ce(_t){const Re={},nt={__esModule:!0,initializeApp:function ze(yt,ye={}){const Tt=x.initializeApp(yt,ye);if((0,m.r3)(Re,Tt.name))return Re[Tt.name];const Ne=new _t(Tt,nt);return Re[Tt.name]=Ne,Ne},app:Pt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function dt(yt){const ye=yt.name,Tt=ye.replace("-compat","");if(x._registerComponent(yt)&&"PUBLIC"===yt.type){const Ne=(je=Pt())=>{if("function"!=typeof je[Tt])throw Me.create("invalid-app-argument",{appName:ye});return je[Tt]()};void 0!==yt.serviceProps&&(0,m.ZB)(Ne,yt.serviceProps),nt[Tt]=Ne,_t.prototype[Tt]=function(...je){return this._getService.bind(this,ye).apply(this,yt.multipleInstances?je:[])}}return"PUBLIC"===yt.type?nt[Tt]:null},removeApp:function bt(yt){delete Re[yt]},useAsService:function Xe(yt,ye){return"serverAuth"===ye?null:ye},modularAPIs:x}};function Pt(yt){if(!(0,m.r3)(Re,yt=yt||x._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:yt});return Re[yt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Ye(){return Object.keys(Re).map(yt=>Re[yt])}}),Pt.App=_t,nt}(oe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function Re(nt){(0,m.ZB)(_t,nt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),_t}(),fe=new we.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=ae;!function ot(_t){(0,x.registerVersion)("@firebase/app-compat","0.2.10",_t)}()},6881:(Ft,$e,B)=>{B.r($e),B.d($e,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>gn,_DEFAULT_ENTRY_NAME:()=>$r,_addComponent:()=>kt,_addOrOverwriteComponent:()=>pn,_apps:()=>Gr,_clearComponents:()=>Hn,_components:()=>Zn,_getProvider:()=>Hr,_registerComponent:()=>Wt,_removeServiceInstance:()=>si,deleteApp:()=>yn,getApp:()=>Un,getApps:()=>Nr,initializeApp:()=>vi,onLog:()=>Kn,registerVersion:()=>On,setLogLevel:()=>ni});var m=B(5861),v=B(4859),x=B(1877),we=B(2090);let De,Me;const ae=new WeakMap,fe=new WeakMap,Oe=new WeakMap,st=new WeakMap,ot=new WeakMap;let Re={get(Le,Ve,gt){if(Le instanceof IDBTransaction){if("done"===Ve)return fe.get(Le);if("objectStoreNames"===Ve)return Le.objectStoreNames||Oe.get(Le);if("store"===Ve)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return ze(Le[Ve])},set:(Le,Ve,gt)=>(Le[Ve]=gt,!0),has:(Le,Ve)=>Le instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in Le};function Pt(Le){return"function"==typeof Le?function bt(Le){return Le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Le)?function(...Ve){return Le.apply(Ye(this),Ve),ze(ae.get(this))}:function(...Ve){return ze(Le.apply(Ye(this),Ve))}:function(Ve,...gt){const et=Le.call(Ye(this),Ve,...gt);return Oe.set(et,Ve.sort?Ve.sort():[Ve]),ze(et)}}(Le):(Le instanceof IDBTransaction&&function _t(Le){if(fe.has(Le))return;const Ve=new Promise((gt,et)=>{const Nt=()=>{Le.removeEventListener("complete",pe),Le.removeEventListener("error",q),Le.removeEventListener("abort",q)},pe=()=>{gt(),Nt()},q=()=>{et(Le.error||new DOMException("AbortError","AbortError")),Nt()};Le.addEventListener("complete",pe),Le.addEventListener("error",q),Le.addEventListener("abort",q)});fe.set(Le,Ve)}(Le),((Le,Ve)=>Ve.some(gt=>Le instanceof gt))(Le,function ce(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Le,Re):Le)}function ze(Le){if(Le instanceof IDBRequest)return function Qe(Le){const Ve=new Promise((gt,et)=>{const Nt=()=>{Le.removeEventListener("success",pe),Le.removeEventListener("error",q)},pe=()=>{gt(ze(Le.result)),Nt()},q=()=>{et(Le.error),Nt()};Le.addEventListener("success",pe),Le.addEventListener("error",q)});return Ve.then(gt=>{gt instanceof IDBCursor&&ae.set(gt,Le)}).catch(()=>{}),ot.set(Ve,Le),Ve}(Le);if(st.has(Le))return st.get(Le);const Ve=Pt(Le);return Ve!==Le&&(st.set(Le,Ve),ot.set(Ve,Le)),Ve}const Ye=Le=>ot.get(Le),yt=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Tt=new Map;function Ne(Le,Ve){if(!(Le instanceof IDBDatabase)||Ve in Le||"string"!=typeof Ve)return;if(Tt.get(Ve))return Tt.get(Ve);const gt=Ve.replace(/FromIndex$/,""),et=Ve!==gt,Nt=ye.includes(gt);if(!(gt in(et?IDBIndex:IDBObjectStore).prototype)||!Nt&&!yt.includes(gt))return;const pe=function(){var q=(0,m.Z)(function*(J,...Ce){const ut=this.transaction(J,Nt?"readwrite":"readonly");let $t=ut.store;return et&&($t=$t.index(Ce.shift())),(yield Promise.all([$t[gt](...Ce),Nt&&ut.done]))[0]});return function(Ce){return q.apply(this,arguments)}}();return Tt.set(Ve,pe),pe}!function nt(Le){Re=Le(Re)}(Le=>$y(jy({},Le),{get:(Ve,gt,et)=>Ne(Ve,gt)||Le.get(Ve,gt,et),has:(Ve,gt)=>!!Ne(Ve,gt)||Le.has(Ve,gt)}));class je{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function Ze(Le){const Ve=Le.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(gt)){const et=gt.getImmediate();return`${et.library}/${et.version}`}return null}).filter(gt=>gt).join(" ")}}const at="@firebase/app",Ct=new x.Yd("@firebase/app"),$r="[DEFAULT]",Rr={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gr=new Map,Zn=new Map;function kt(Le,Ve){try{Le.container.addComponent(Ve)}catch(gt){Ct.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Le.name}`,gt)}}function pn(Le,Ve){Le.container.addOrOverwriteComponent(Ve)}function Wt(Le){const Ve=Le.name;if(Zn.has(Ve))return Ct.debug(`There were multiple attempts to register component ${Ve}.`),!1;Zn.set(Ve,Le);for(const gt of Gr.values())kt(gt,Le);return!0}function Hr(Le,Ve){const gt=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),Le.container.getProvider(Ve)}function si(Le,Ve,gt=$r){Hr(Le,Ve).clearInstance(gt)}function Hn(){Zn.clear()}const mr=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(Ve,gt,et){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const gn="9.22.0";function vi(Le,Ve={}){let gt=Le;"object"!=typeof Ve&&(Ve={name:Ve});const et=Object.assign({name:$r,automaticDataCollectionEnabled:!1},Ve),Nt=et.name;if("string"!=typeof Nt||!Nt)throw mr.create("bad-app-name",{appName:String(Nt)});if(gt||(gt=(0,we.aH)()),!gt)throw mr.create("no-options");const pe=Gr.get(Nt);if(pe){if((0,we.vZ)(gt,pe.options)&&(0,we.vZ)(et,pe.config))return pe;throw mr.create("duplicate-app",{appName:Nt})}const q=new v.H0(Nt);for(const Ce of Zn.values())q.addComponent(Ce);const J=new Gn(gt,et,q);return Gr.set(Nt,J),J}function Un(Le=$r){const Ve=Gr.get(Le);if(!Ve&&Le===$r&&(0,we.aH)())return vi();if(!Ve)throw mr.create("no-app",{appName:Le});return Ve}function Nr(){return Array.from(Gr.values())}function yn(Le){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,m.Z)(function*(Le){const Ve=Le.name;Gr.has(Ve)&&(Gr.delete(Ve),yield Promise.all(Le.container.getProviders().map(gt=>gt.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function On(Le,Ve,gt){var et;let Nt=null!==(et=Rr[Le])&&void 0!==et?et:Le;gt&&(Nt+=`-${gt}`);const pe=Nt.match(/\s|\//),q=Ve.match(/\s|\//);if(pe||q){const J=[`Unable to register library "${Nt}" with version "${Ve}":`];return pe&&J.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),pe&&q&&J.push("and"),q&&J.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void Ct.warn(J.join(" "))}Wt(new v.wA(`${Nt}-version`,()=>({library:Nt,version:Ve}),"VERSION"))}function Kn(Le,Ve){if(null!==Le&&"function"!=typeof Le)throw mr.create("invalid-log-argument");(0,x.Am)(Le,Ve)}function ni(Le){(0,x.Ub)(Le)}const ve="firebase-heartbeat-store";let ge=null;function ie(){return ge||(ge=function dt(Le,Ve,{blocked:gt,upgrade:et,blocking:Nt,terminated:pe}={}){const q=indexedDB.open(Le,Ve),J=ze(q);return et&&q.addEventListener("upgradeneeded",Ce=>{et(ze(q.result),Ce.oldVersion,Ce.newVersion,ze(q.transaction),Ce)}),gt&&q.addEventListener("blocked",Ce=>gt(Ce.oldVersion,Ce.newVersion,Ce)),J.then(Ce=>{pe&&Ce.addEventListener("close",()=>pe()),Nt&&Ce.addEventListener("versionchange",ut=>Nt(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),J}("firebase-heartbeat-database",1,{upgrade:(Le,Ve)=>{0===Ve&&Le.createObjectStore(ve)}}).catch(Le=>{throw mr.create("idb-open",{originalErrorMessage:Le.message})})),ge}function K(){return(K=(0,m.Z)(function*(Le){try{return yield(yield ie()).transaction(ve).objectStore(ve).get(Rt(Le))}catch(Ve){if(Ve instanceof we.ZR)Ct.warn(Ve.message);else{const gt=mr.create("idb-get",{originalErrorMessage:null==Ve?void 0:Ve.message});Ct.warn(gt.message)}}})).apply(this,arguments)}function Pe(Le,Ve){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(Le,Ve){try{const et=(yield ie()).transaction(ve,"readwrite");yield et.objectStore(ve).put(Ve,Rt(Le)),yield et.done}catch(gt){if(gt instanceof we.ZR)Ct.warn(gt.message);else{const et=mr.create("idb-set",{originalErrorMessage:null==gt?void 0:gt.message});Ct.warn(et.message)}}})).apply(this,arguments)}function Rt(Le){return`${Le.name}!${Le.options.appId}`}class Sn{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new vt(gt),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var Ve=this;return(0,m.Z)(function*(){const et=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=un();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Ve._heartbeatsCache.heartbeats.some(pe=>pe.date===Nt))return Ve._heartbeatsCache.heartbeats.push({date:Nt,agent:et}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(pe=>{const q=new Date(pe.date).valueOf();return Date.now()-q<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,m.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const gt=un(),{heartbeatsToSend:et,unsentEntries:Nt}=function lr(Le,Ve=1024){const gt=[];let et=Le.slice();for(const Nt of Le){const pe=gt.find(q=>q.agent===Nt.agent);if(pe){if(pe.dates.push(Nt.date),Dt(gt)>Ve){pe.dates.pop();break}}else if(gt.push({agent:Nt.agent,dates:[Nt.date]}),Dt(gt)>Ve){gt.pop();break}et=et.slice(1)}return{heartbeatsToSend:gt,unsentEntries:et}}(Ve._heartbeatsCache.heartbeats),pe=(0,we.L)(JSON.stringify({version:2,heartbeats:et}));return Ve._heartbeatsCache.lastSentHeartbeatDate=gt,Nt.length>0?(Ve._heartbeatsCache.heartbeats=Nt,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),pe})()}}function un(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,m.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function se(Le){return K.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var gt=this;return(0,m.Z)(function*(){var et;if(yield gt._canUseIndexedDBPromise){const pe=yield gt.read();return Pe(gt.app,{lastSentHeartbeatDate:null!==(et=Ve.lastSentHeartbeatDate)&&void 0!==et?et:pe.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var gt=this;return(0,m.Z)(function*(){var et;if(yield gt._canUseIndexedDBPromise){const pe=yield gt.read();return Pe(gt.app,{lastSentHeartbeatDate:null!==(et=Ve.lastSentHeartbeatDate)&&void 0!==et?et:pe.lastSentHeartbeatDate,heartbeats:[...pe.heartbeats,...Ve.heartbeats]})}})()}}function Dt(Le){return(0,we.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function Gt(Le){Wt(new v.wA("platform-logger",Ve=>new je(Ve),"PRIVATE")),Wt(new v.wA("heartbeat",Ve=>new Sn(Ve),"PRIVATE")),On(at,"0.9.10",Le),On(at,"0.9.10","esm2017"),On("fire-js","")}("")},4859:(Ft,$e,B)=>{B.d($e,{H0:()=>ce,wA:()=>x});var m=B(5861),v=B(2090);class x{constructor(ae,fe,Oe){this.name=ae,this.instanceFactory=fe,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const we="[DEFAULT]";class oe{constructor(ae,fe){this.name=ae,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const fe=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(fe)){const Oe=new v.BH;if(this.instancesDeferred.set(fe,Oe),this.isInitialized(fe)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:fe});st&&Oe.resolve(st)}catch(st){}}return this.instancesDeferred.get(fe).promise}getImmediate(ae){var fe;const Oe=this.normalizeInstanceIdentifier(null==ae?void 0:ae.identifier),st=null!==(fe=null==ae?void 0:ae.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ot){if(st)return null;throw ot}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Me(Ge){return"EAGER"===Ge.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:we})}catch(fe){}for(const[fe,Oe]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(fe);try{const ot=this.getOrInitializeService({instanceIdentifier:st});Oe.resolve(ot)}catch(ot){}}}}clearInstance(ae=we){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,m.Z)(function*(){const fe=Array.from(ae.instances.values());yield Promise.all([...fe.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...fe.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=we){return this.instances.has(ae)}getOptions(ae=we){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:fe={}}=ae,Oe=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:Oe,options:fe});for(const[ot,Qe]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ot)&&Qe.resolve(st);return st}onInit(ae,fe){var Oe;const st=this.normalizeInstanceIdentifier(fe),ot=null!==(Oe=this.onInitCallbacks.get(st))&&void 0!==Oe?Oe:new Set;ot.add(ae),this.onInitCallbacks.set(st,ot);const Qe=this.instances.get(st);return Qe&&ae(Qe,st),()=>{ot.delete(ae)}}invokeOnInitCallbacks(ae,fe){const Oe=this.onInitCallbacks.get(fe);if(Oe)for(const st of Oe)try{st(ae,fe)}catch(ot){}}getOrInitializeService({instanceIdentifier:ae,options:fe={}}){let Oe=this.instances.get(ae);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=ae,Ge===we?void 0:Ge),options:fe}),this.instances.set(ae,Oe),this.instancesOptions.set(ae,fe),this.invokeOnInitCallbacks(Oe,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Oe)}catch(st){}var Ge;return Oe||null}normalizeInstanceIdentifier(ae=we){return this.component?this.component.multipleInstances?ae:we:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const fe=this.getProvider(ae.name);if(fe.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);fe.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const fe=new oe(ae,this);return this.providers.set(ae,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Ft,$e,B)=>{B.d($e,{Am:()=>Ge,Ub:()=>ce,Yd:()=>Me,in:()=>v});const m=[];var v=(()=>{return(ae=v||(v={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",v;var ae})();const x={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},we=v.INFO,oe={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},De=(ae,fe,...Oe)=>{if(fe<ae.logLevel)return;const st=(new Date).toISOString(),ot=oe[fe];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[ot](`[${st}]  ${ae.name}:`,...Oe)};class Me{constructor(fe){this.name=fe,this._logLevel=we,this._logHandler=De,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in v))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?x[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...fe),this._logHandler(this,v.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...fe),this._logHandler(this,v.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,v.INFO,...fe),this._logHandler(this,v.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,v.WARN,...fe),this._logHandler(this,v.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...fe),this._logHandler(this,v.ERROR,...fe)}}function ce(ae){m.forEach(fe=>{fe.setLogLevel(ae)})}function Ge(ae,fe){for(const Oe of m){let st=null;fe&&fe.level&&(st=x[fe.level]),Oe.userLogHandler=null===ae?null:(ot,Qe,..._t)=>{const Re=_t.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch(bt){return null}}).filter(nt=>nt).join(" ");Qe>=(null!=st?st:ot.logLevel)&&ae({level:v[Qe].toLowerCase(),message:Re,args:_t,type:ot.name})}}}},259:(Ft,$e,B)=>{B.d($e,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=B(6881);(0,m.registerVersion)("firebase","9.22.0","app")},9260:(Ft,$e,B)=>{B.d($e,{Z:()=>m.Z});var m=B(3942);m.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Ft,$e,B)=>{B.r($e);var m=B(5861),v=B(3942),x=B(1389),we=B(2090),Me=(B(6881),B(1877),B(4859));function ce(){return window}function fe(){return(fe=(0,m.Z)(function*(ie,se,K){var Pe;const{BuildInfo:qe}=ce();(0,x.as)(se.sessionId,"AuthEvent did not contain a session ID");const Rt=yield nt(se.sessionId),_n={};return(0,x.at)()?_n.ibi=qe.packageName:(0,x.au)()?_n.apn=qe.packageName:(0,x.av)(ie,"operation-not-supported-in-this-environment"),qe.displayName&&(_n.appDisplayName=qe.displayName),_n.sessionId=Rt,(0,x.aw)(ie,K,se.type,void 0,null!==(Pe=se.eventId)&&void 0!==Pe?Pe:void 0,_n)})).apply(this,arguments)}function st(){return(st=(0,m.Z)(function*(ie){const{BuildInfo:se}=ce(),K={};(0,x.at)()?K.iosBundleId=se.packageName:(0,x.au)()?K.androidPackageName=se.packageName:(0,x.av)(ie,"operation-not-supported-in-this-environment"),yield(0,x.ax)(ie,K)})).apply(this,arguments)}function _t(){return(_t=(0,m.Z)(function*(ie,se,K){const{cordova:Pe}=ce();let qe=()=>{};try{yield new Promise((Rt,_n)=>{let nn=null;function Sn(){var vt;Rt();const Dt=null===(vt=Pe.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Dt&&Dt(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function un(){nn||(nn=window.setTimeout(()=>{_n((0,x.az)(ie,"redirect-cancelled-by-user"))},2e3))}function lr(){"visible"===(null==document?void 0:document.visibilityState)&&un()}se.addPassiveListener(Sn),document.addEventListener("resume",un,!1),(0,x.au)()&&document.addEventListener("visibilitychange",lr,!1),qe=()=>{se.removePassiveListener(Sn),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",lr,!1),nn&&window.clearTimeout(nn)}})}finally{qe()}})).apply(this,arguments)}function nt(ie){return bt.apply(this,arguments)}function bt(){return(bt=(0,m.Z)(function*(ie){const se=Pt(ie),K=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(K)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pt(ie){if((0,x.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const se=new ArrayBuffer(ie.length),K=new Uint8Array(se);for(let Pe=0;Pe<ie.length;Pe++)K[Pe]=ie.charCodeAt(Pe);return K}class Ye extends x.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(se)),super.onEvent(se)}initialized(){var se=this;return(0,m.Z)(function*(){yield se.initPromise})()}}function yt(ie){return ye.apply(this,arguments)}function ye(){return(ye=(0,m.Z)(function*(ie){const se=yield je()._get(Ze(ie));return se&&(yield je()._remove(Ze(ie))),se})).apply(this,arguments)}function Ne(){const ie=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Pe=Math.floor(Math.random()*se.length);ie.push(se.charAt(Pe))}return ie.join("")}function je(){return(0,x.aC)(x.b)}function Ze(ie){return(0,x.aD)("authEvent",ie.config.apiKey,ie.name)}function Ct(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[se,...K]=ie.split("?");return(0,we.zd)(K.join("?"))}function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.az)("no-auth-event")}}function bn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function En(ie=(0,we.z$)()){return!("file:"!==bn()&&"ionic:"!==bn()&&"capacitor:"!==bn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cr(){try{const ie=self.localStorage,se=x.aL();if(ie)return ie.setItem(se,"1"),ie.removeItem(se),!function wr(ie=(0,we.z$)()){return function fr(){return(0,we.w1)()&&11===(null==document?void 0:document.documentMode)}()||function bi(ie=(0,we.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,we.hl)()}catch(ie){return $n()&&(0,we.hl)()}return!1}function $n(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fr(){return(function Fn(){return"http:"===bn()||"https:"===bn()}()||(0,we.ru)()||En())&&!function jn(){return(0,we.b$)()||(0,we.UG)()}()&&Cr()&&!$n()}function Lr(){return En()&&"undefined"!=typeof document}function zn(){return(zn=(0,m.Z)(function*(){return!!Lr()&&new Promise(ie=>{const se=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(se),ie(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},ti=x.aA,Pi="persistence";function Rr(ie){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(ie){yield ie._initializationPromise;const se=kt(),K=x.aD(Pi,ie.config.apiKey,ie.name);se&&se.setItem(K,ie._getPersistence())})).apply(this,arguments)}function kt(){var ie;try{return(null===(ie=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch(se){return null}}const pn=x.aA;class Wt{constructor(){this.browserResolver=x.aC(x.k),this.cordovaResolver=x.aC(class tn{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aE,this._overrideRedirectResult=x.aF}_initialize(se){var K=this;return(0,m.Z)(function*(){const Pe=se._key();let qe=K.eventManagers.get(Pe);return qe||(qe=new Ye(se),K.eventManagers.set(Pe,qe),K.attachCallbackListeners(se,qe)),qe})()}_openPopup(se){(0,x.av)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,K,Pe,qe){var Rt=this;return(0,m.Z)(function*(){!function Re(ie){var se,K,Pe,qe,Rt,_n,nn,Sn,un,lr;const vt=ce();(0,x.aA)("function"==typeof(null===(se=null==vt?void 0:vt.universalLinks)||void 0===se?void 0:se.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aA)(void 0!==(null===(K=null==vt?void 0:vt.BuildInfo)||void 0===K?void 0:K.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aA)("function"==typeof(null===(Rt=null===(qe=null===(Pe=null==vt?void 0:vt.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===Rt?void 0:Rt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aA)("function"==typeof(null===(Sn=null===(nn=null===(_n=null==vt?void 0:vt.cordova)||void 0===_n?void 0:_n.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Sn?void 0:Sn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aA)("function"==typeof(null===(lr=null===(un=null==vt?void 0:vt.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===lr?void 0:lr.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const _n=yield Rt._initialize(se);yield _n.initialized(),_n.resetRedirect(),(0,x.aG)(),yield Rt._originValidation(se);const nn=function dt(ie,se,K=null){return{type:se,eventId:K,urlResponse:null,sessionId:Ne(),postBody:null,tenantId:ie.tenantId,error:(0,x.az)(ie,"no-auth-event")}}(se,Pe,qe);yield function Xe(ie,se){return je()._set(Ze(ie),se)}(se,nn);const Sn=yield function ae(ie,se,K){return fe.apply(this,arguments)}(se,nn,K),un=yield function ot(ie){const{cordova:se}=ce();return new Promise(K=>{se.plugins.browsertab.isAvailable(Pe=>{let qe=null;Pe?se.plugins.browsertab.openUrl(ie):qe=se.InAppBrowser.open(ie,(0,x.ay)()?"_blank":"_system","location=yes"),K(qe)})})}(Sn);return function Qe(ie,se,K){return _t.apply(this,arguments)}(se,_n,un)})()}_isIframeWebStorageSupported(se,K){throw new Error("Method not implemented.")}_originValidation(se){const K=se._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function Oe(ie){return st.apply(this,arguments)}(se)),this.originValidationPromises[K]}attachCallbackListeners(se,K){const{universalLinks:Pe,handleOpenURL:qe,BuildInfo:Rt}=ce(),_n=setTimeout((0,m.Z)(function*(){yield yt(se),K.onEvent(ft())}),500),nn=function(){var lr=(0,m.Z)(function*(vt){clearTimeout(_n);const Dt=yield yt(se);let Gt=null;Dt&&(null==vt?void 0:vt.url)&&(Gt=function Tt(ie,se){var K,Pe;const qe=function it(ie){const se=Ct(ie),K=se.link?decodeURIComponent(se.link):void 0,Pe=Ct(K).link,qe=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return Ct(qe).link||qe||Pe||K||ie}(se);if(qe.includes("/__/auth/callback")){const Rt=Ct(qe),_n=Rt.firebaseError?function at(ie){try{return JSON.parse(ie)}catch(se){return null}}(decodeURIComponent(Rt.firebaseError)):null,nn=null===(Pe=null===(K=null==_n?void 0:_n.code)||void 0===K?void 0:K.split("auth/"))||void 0===Pe?void 0:Pe[1],Sn=nn?(0,x.az)(nn):null;return Sn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Sn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:qe,postBody:null}}return null}(Dt,vt.url)),K.onEvent(Gt||ft())});return function(Dt){return lr.apply(this,arguments)}}();void 0!==Pe&&"function"==typeof Pe.subscribe&&Pe.subscribe(null,nn);const Sn=qe,un=`${Rt.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var lr=(0,m.Z)(function*(vt){if(vt.toLowerCase().startsWith(un)&&nn({url:vt}),"function"==typeof Sn)try{Sn(vt)}catch(Dt){console.error(Dt)}});return function(vt){return lr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aE,this._overrideRedirectResult=x.aF}_initialize(se){var K=this;return(0,m.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,K,Pe,qe){var Rt=this;return(0,m.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openPopup(se,K,Pe,qe)})()}_openRedirect(se,K,Pe,qe){var Rt=this;return(0,m.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openRedirect(se,K,Pe,qe)})()}_isIframeWebStorageSupported(se,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,K)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return Lr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,m.Z)(function*(){if(se.underlyingResolver)return;const K=yield function sn(){return zn.apply(this,arguments)}();se.underlyingResolver=K?se.cordovaResolver:se.browserResolver})()}}function Hr(ie){return ie.unwrap()}function Hn(ie){return mr(ie)}function mr(ie){const{_tokenResponse:se}=ie instanceof we.ZR?ie.customData:ie;if(!se)return null;if(!(ie instanceof we.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return x.P.credentialFromResult(ie);const K=se.providerId;if(!K||K===x.p.PASSWORD)return null;let Pe;switch(K){case x.p.GOOGLE:Pe=x.V;break;case x.p.FACEBOOK:Pe=x.U;break;case x.p.GITHUB:Pe=x.W;break;case x.p.TWITTER:Pe=x.Z;break;default:const{oauthIdToken:qe,oauthAccessToken:Rt,oauthTokenSecret:_n,pendingToken:nn,nonce:Sn}=se;return Rt||_n||qe||nn?nn?K.startsWith("saml.")?x.aO._create(K,nn):x.L._fromParams({providerId:K,signInMethod:K,pendingToken:nn,idToken:qe,accessToken:Rt}):new x.X(K).credential({idToken:qe,accessToken:Rt,rawNonce:Sn}):null}return ie instanceof we.ZR?Pe.credentialFromError(ie):Pe.credentialFromResult(ie)}function Gn(ie,se){return se.catch(K=>{throw K instanceof we.ZR&&function _i(ie,se){var K;const Pe=null===(K=se.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===(null==se?void 0:se.code))se.resolver=new Un(ie,x.aq(ie,se));else if(Pe){const qe=mr(se),Rt=se;qe&&(Rt.credential=qe,Rt.tenantId=Pe.tenantId||void 0,Rt.email=Pe.email||void 0,Rt.phoneNumber=Pe.phoneNumber||void 0)}}(ie,K),K}).then(K=>{const qe=K.user;return{operationType:K.operationType,credential:Hn(K),additionalUserInfo:x.ao(K),user:Nr.getOrCreate(qe)}})}function gn(ie,se){return vi.apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(ie,se){const K=yield se;return{verificationId:K.verificationId,confirm:Pe=>Gn(ie,K.confirm(Pe))}})).apply(this,arguments)}class Un{constructor(se,K){this.resolver=K,this.auth=function si(ie){return ie.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return Gn(Hr(this.auth),this.resolver.resolveSignIn(se))}}class Nr{constructor(se){this._delegate=se,this.multiFactor=x.ar(se)}static getOrCreate(se){return Nr.USER_MAP.has(se)||Nr.USER_MAP.set(se,new Nr(se)),Nr.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var K=this;return(0,m.Z)(function*(){return Gn(K.auth,x.a0(K._delegate,se))})()}linkWithPhoneNumber(se,K){var Pe=this;return(0,m.Z)(function*(){return gn(Pe.auth,x.l(Pe._delegate,se,K))})()}linkWithPopup(se){var K=this;return(0,m.Z)(function*(){return Gn(K.auth,x.d(K._delegate,se,Wt))})()}linkWithRedirect(se){var K=this;return(0,m.Z)(function*(){return yield Rr(x.aH(K.auth)),x.g(K._delegate,se,Wt)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var K=this;return(0,m.Z)(function*(){return Gn(K.auth,x.a1(K._delegate,se))})()}reauthenticateWithPhoneNumber(se,K){return gn(this.auth,x.r(this._delegate,se,K))}reauthenticateWithPopup(se){return Gn(this.auth,x.e(this._delegate,se,Wt))}reauthenticateWithRedirect(se){var K=this;return(0,m.Z)(function*(){return yield Rr(x.aH(K.auth)),x.h(K._delegate,se,Wt)})()}sendEmailVerification(se){return x.ae(this._delegate,se)}unlink(se){var K=this;return(0,m.Z)(function*(){return yield x.an(K._delegate,se),K})()}updateEmail(se){return x.aj(this._delegate,se)}updatePassword(se){return x.ak(this._delegate,se)}updatePhoneNumber(se){return x.u(this._delegate,se)}updateProfile(se){return x.ai(this._delegate,se)}verifyBeforeUpdateEmail(se,K){return x.af(this._delegate,se,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nr.USER_MAP=new WeakMap;const yn=x.aA;let Pn=(()=>{class ie{constructor(K,Pe){if(this.app=K,Pe.isInitialized())return this._delegate=Pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=K.options;yn(qe,"invalid-api-key",{appName:K.name}),yn(qe,"invalid-api-key",{appName:K.name});const Rt="undefined"!=typeof window?Wt:void 0;this._delegate=Pe.initialize({options:{persistence:Kn(qe,K.name),popupRedirectResolver:Rt}}),this._delegate._updateErrorMap(x.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Pe){x.I(this._delegate,K,Pe)}applyActionCode(K){return x.a5(this._delegate,K)}checkActionCode(K){return x.a6(this._delegate,K)}confirmPasswordReset(K,Pe){return x.a4(this._delegate,K,Pe)}createUserWithEmailAndPassword(K,Pe){var qe=this;return(0,m.Z)(function*(){return Gn(qe._delegate,x.a8(qe._delegate,K,Pe))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return x.ad(this._delegate,K)}isSignInWithEmailLink(K){return x.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,m.Z)(function*(){yn(Fr(),K._delegate,"operation-not-supported-in-this-environment");const Pe=yield x.j(K._delegate,Wt);return Pe?Gn(K._delegate,Promise.resolve(Pe)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function Dn(ie,se){(0,x.aH)(ie)._logFramework(se)}(this._delegate,K)}onAuthStateChanged(K,Pe,qe){const{next:Rt,error:_n,complete:nn}=On(K,Pe,qe);return this._delegate.onAuthStateChanged(Rt,_n,nn)}onIdTokenChanged(K,Pe,qe){const{next:Rt,error:_n,complete:nn}=On(K,Pe,qe);return this._delegate.onIdTokenChanged(Rt,_n,nn)}sendSignInLinkToEmail(K,Pe){return x.aa(this._delegate,K,Pe)}sendPasswordResetEmail(K,Pe){return x.a3(this._delegate,K,Pe||void 0)}setPersistence(K){var Pe=this;return(0,m.Z)(function*(){let qe;switch(function $r(ie,se){ti(Object.values(an).includes(se),ie,"invalid-persistence-type"),(0,we.b$)()?ti(se!==an.SESSION,ie,"unsupported-persistence-type"):(0,we.UG)()?ti(se===an.NONE,ie,"unsupported-persistence-type"):$n()?ti(se===an.NONE||se===an.LOCAL&&(0,we.hl)(),ie,"unsupported-persistence-type"):ti(se===an.NONE||Cr(),ie,"unsupported-persistence-type")}(Pe._delegate,K),K){case an.SESSION:qe=x.a;break;case an.LOCAL:qe=(yield x.aC(x.i)._isAvailable())?x.i:x.b;break;case an.NONE:qe=x.N;break;default:return x.av("argument-error",{appName:Pe._delegate.name})}return Pe._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return Gn(this._delegate,x._(this._delegate))}signInWithCredential(K){return Gn(this._delegate,x.$(this._delegate,K))}signInWithCustomToken(K){return Gn(this._delegate,x.a2(this._delegate,K))}signInWithEmailAndPassword(K,Pe){return Gn(this._delegate,x.a9(this._delegate,K,Pe))}signInWithEmailLink(K,Pe){return Gn(this._delegate,x.ac(this._delegate,K,Pe))}signInWithPhoneNumber(K,Pe){return gn(this._delegate,x.s(this._delegate,K,Pe))}signInWithPopup(K){var Pe=this;return(0,m.Z)(function*(){return yn(Fr(),Pe._delegate,"operation-not-supported-in-this-environment"),Gn(Pe._delegate,x.c(Pe._delegate,K,Wt))})()}signInWithRedirect(K){var Pe=this;return(0,m.Z)(function*(){return yn(Fr(),Pe._delegate,"operation-not-supported-in-this-environment"),yield Rr(Pe._delegate),x.f(Pe._delegate,K,Wt)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return x.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=an,ie})();function On(ie,se,K){let Pe=ie;"function"!=typeof ie&&({next:Pe,error:se,complete:K}=ie);const qe=Pe;return{next:_n=>qe(_n&&Nr.getOrCreate(_n)),error:se,complete:K}}function Kn(ie,se){const K=function Zn(ie,se){const K=kt();if(!K)return[];const Pe=x.aD(Pi,ie,se);switch(K.getItem(Pe)){case an.NONE:return[x.N];case an.LOCAL:return[x.i,x.a];case an.SESSION:return[x.a];default:return[]}}(ie,se);if("undefined"!=typeof self&&!K.includes(x.i)&&K.push(x.i),"undefined"!=typeof window)for(const Pe of[x.b,x.a])K.includes(Pe)||K.push(Pe);return K.includes(x.N)||K.push(x.N),K}class ni{constructor(){this.providerId="phone",this._delegate=new x.P(Hr(v.Z.auth()))}static credential(se,K){return x.P.credential(se,K)}verifyPhoneNumber(se,K){return this._delegate.verifyPhoneNumber(se,K)}unwrap(){return this._delegate}}ni.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,ni.PROVIDER_ID=x.P.PROVIDER_ID;const Yr=x.aA;class Qr{constructor(se,K,Pe=v.Z.app()){var qe;Yr(null===(qe=Pe.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:Pe.name}),this._delegate=new x.R(se,K,Pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ge(ie){ie.INTERNAL.registerComponent(new Me.wA("auth-compat",se=>{const K=se.getProvider("app-compat").getImmediate(),Pe=se.getProvider("auth");return new Pn(K,Pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.Q,FacebookAuthProvider:x.U,GithubAuthProvider:x.W,GoogleAuthProvider:x.V,OAuthProvider:x.X,SAMLAuthProvider:x.Y,PhoneAuthProvider:ni,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:Qr,TwitterAuthProvider:x.Z,Auth:Pn,AuthCredential:x.J,Error:we.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(v.Z)},5861:(Ft,$e,B)=>{function m(x,we,oe,De,Me,ce,Ge){try{var ae=x[ce](Ge),fe=ae.value}catch(Oe){return void oe(Oe)}ae.done?we(fe):Promise.resolve(fe).then(De,Me)}function v(x){return function(){var we=this,oe=arguments;return new Promise(function(De,Me){var ce=x.apply(we,oe);function Ge(fe){m(ce,De,Me,Ge,ae,"next",fe)}function ae(fe){m(ce,De,Me,Ge,ae,"throw",fe)}Ge(void 0)})}}B.d($e,{Z:()=>v})}},Ft=>{Ft(Ft.s=5316)}]);