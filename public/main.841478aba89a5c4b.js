"use strict";var db=Object.defineProperty,hb=Object.defineProperties,fb=Object.getOwnPropertyDescriptors,GE=Object.getOwnPropertySymbols,pb=Object.prototype.hasOwnProperty,gb=Object.prototype.propertyIsEnumerable,WE=(Gt,He,V)=>He in Gt?db(Gt,He,{enumerable:!0,configurable:!0,writable:!0,value:V}):Gt[He]=V,jy=(Gt,He)=>{for(var V in He||(He={}))pb.call(He,V)&&WE(Gt,V,He[V]);if(GE)for(var V of GE(He))gb.call(He,V)&&WE(Gt,V,He[V]);return Gt},$y=(Gt,He)=>hb(Gt,fb(He));(self.webpackChunktuSalaJuegosFerrero=self.webpackChunktuSalaJuegosFerrero||[]).push([[179],{2313:(Gt,He,V)=>{V.d(He,{nm:()=>Ur});var m=V(4976),oe=(V(5e3),V(3692),V(259),V(5861)),Ae=V(6881),Se=V(4859),de=V(2090),We=V(1877);const ae=new Map,he={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function at(Ve){return ae.get(Ve)||Object.assign({},he)}function tt(){return ke}class Je{constructor(Pe,ze,yt,Nt,Mn){if(this.operation=Pe,this.retryPolicy=ze,this.getWaitDuration=yt,this.lowerBound=Nt,this.upperBound=Mn,this.pending=null,this.nextErrorWaitInterval=Nt,Nt>Mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Pe){var ze=this;return(0,oe.Z)(function*(){ze.stop();try{ze.pending=new de.BH,yield function ht(Ve){return new Promise(Pe=>{setTimeout(Pe,Ve)})}(ze.getNextRun(Pe)),ze.pending.resolve(),yield ze.pending.promise,ze.pending=new de.BH,yield ze.operation(),ze.pending.resolve(),yield ze.pending.promise,ze.process(!0).catch(()=>{})}catch(yt){ze.retryPolicy(yt)?ze.process(!1).catch(()=>{}):ze.stop()}})()}getNextRun(Pe){if(Pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ze}}}const vt=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(Ve){if(!at(Ve).activated)throw vt.create("use-before-activation",{appName:Ve.name})}function Ye(Ve,Pe){return dt.apply(this,arguments)}function dt(){return(dt=(0,oe.Z)(function*({url:Ve,body:Pe},ze){const yt={"Content-Type":"application/json"},Nt=ze.getImmediate({optional:!0});if(Nt){const et=yield Nt.getHeartbeatsHeader();et&&(yt["X-Firebase-Client"]=et)}const Mn={method:"POST",body:JSON.stringify(Pe),headers:yt};let ar,le;try{ar=yield fetch(Ve,Mn)}catch(et){throw vt.create("fetch-network-error",{originalErrorMessage:null==et?void 0:et.message})}if(200!==ar.status)throw vt.create("fetch-status-error",{httpStatus:ar.status});try{le=yield ar.json()}catch(et){throw vt.create("fetch-parse-error",{originalErrorMessage:null==et?void 0:et.message})}const q=le.ttl.match(/^([\d.]+)(s)$/);if(!q||!q[2]||isNaN(Number(q[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${le.ttl}`});const $=1e3*Number(q[1]),_e=Date.now();return{token:le.token,expireTimeMillis:_e+$,issuedAtTimeMillis:_e}})).apply(this,arguments)}function zt(Ve,Pe){const{projectId:ze,appId:yt,apiKey:Nt}=Ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ze}/apps/${yt}:exchangeDebugToken?key=${Nt}`,body:{debug_token:Pe}}}const It="firebase-app-check-store";let dn=null;function Yt(){return dn||(dn=new Promise((Ve,Pe)=>{try{const ze=indexedDB.open("firebase-app-check-database",1);ze.onsuccess=yt=>{Ve(yt.target.result)},ze.onerror=yt=>{var Nt;Pe(vt.create("storage-open",{originalErrorMessage:null===(Nt=yt.target.error)||void 0===Nt?void 0:Nt.message}))},ze.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(It,{keyPath:"compositeKey"})}}catch(ze){Pe(vt.create("storage-open",{originalErrorMessage:null==ze?void 0:ze.message}))}}),dn)}function _r(){return(_r=(0,oe.Z)(function*(Ve,Pe){const yt=(yield Yt()).transaction(It,"readwrite"),Mn=yt.objectStore(It).put({compositeKey:Ve,value:Pe});return new Promise((ar,le)=>{Mn.onsuccess=q=>{ar()},yt.onerror=q=>{var $;le(vt.create("storage-set",{originalErrorMessage:null===($=q.target.error)||void 0===$?void 0:$.message}))}})})).apply(this,arguments)}const Kn=new We.Yd("@firebase/app-check");function hn(Ve,Pe){return(0,de.hl)()?function wn(Ve,Pe){return function qn(Ve,Pe){return _r.apply(this,arguments)}(function br(Ve){return`${Ve.options.appId}-${Ve.name}`}(Ve),Pe)}(Ve,Pe).catch(ze=>{Kn.warn(`Failed to write token to IndexedDB. Error: ${ze}`)}):Promise.resolve()}function pn(){return tt().enabled}function ni(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,oe.Z)(function*(){const Ve=tt();if(Ve.enabled&&Ve.token)return Ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const be={error:"UNKNOWN_ERROR"};function xe(Ve){return de.US.encodeString(JSON.stringify(Ve),!1)}function gt(Ve){return Le.apply(this,arguments)}function Le(){return(Le=(0,oe.Z)(function*(Ve,Pe=!1){const ze=Ve.app;St(ze);const yt=at(ze);let Mn,Nt=yt.token;if(Nt&&!Rn(Nt)&&(yt.token=void 0,Nt=void 0),!Nt){const q=yield yt.cachedTokenPromise;q&&(Rn(q)?Nt=q:yield hn(ze,void 0))}if(!Pe&&Nt&&Rn(Nt))return{token:Nt.token};let le,ar=!1;if(pn()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=Ye(zt(ze,yield ni()),Ve.heartbeatServiceProvider).finally(()=>{yt.exchangeTokenPromise=void 0}),ar=!0);const q=yield yt.exchangeTokenPromise;return yield hn(ze,q),yt.token=q,{token:q.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().finally(()=>{yt.exchangeTokenPromise=void 0}),ar=!0),Nt=yield at(ze).exchangeTokenPromise}catch(q){"appCheck/throttled"===q.code?Kn.warn(q.message):Kn.error(q),Mn=q}return Nt?Mn?le=Rn(Nt)?{token:Nt.token,internalError:Mn}:Ht(Mn):(le={token:Nt.token},yt.token=Nt,yield hn(ze,Nt)):le=Ht(Mn),ar&&pr(ze,le),le})).apply(this,arguments)}function On(Ve,Pe){const ze=at(Ve),yt=ze.tokenObservers.filter(Nt=>Nt.next!==Pe);0===yt.length&&ze.tokenRefresher&&ze.tokenRefresher.isRunning()&&ze.tokenRefresher.stop(),ze.tokenObservers=yt}function Cn(Ve){const{app:Pe}=Ve,ze=at(Pe);let yt=ze.tokenRefresher;yt||(yt=function Gr(Ve){const{app:Pe}=Ve;return new Je((0,oe.Z)(function*(){let yt;if(yt=at(Pe).token?yield gt(Ve,!0):yield gt(Ve),yt.error)throw yt.error;if(yt.internalError)throw yt.internalError}),()=>!0,()=>{const ze=at(Pe);if(ze.token){let yt=ze.token.issuedAtTimeMillis+.5*(ze.token.expireTimeMillis-ze.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,ze.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Ve),ze.tokenRefresher=yt),!yt.isRunning()&&ze.isTokenAutoRefreshEnabled&&yt.start()}function pr(Ve,Pe){const ze=at(Ve).tokenObservers;for(const yt of ze)try{"EXTERNAL"===yt.type&&null!=Pe.error?yt.error(Pe.error):yt.next(Pe)}catch(Nt){}}function Rn(Ve){return Ve.expireTimeMillis-Date.now()>0}function Ht(Ve){return{token:xe(be),error:Ve}}class dr{constructor(Pe,ze){this.app=Pe,this.heartbeatServiceProvider=ze}_delete(){const{tokenObservers:Pe}=at(this.app);for(const ze of Pe)On(this.app,ze.next);return Promise.resolve()}}const it="app-check-internal";!function jt(){(0,Ae._registerComponent)(new Se.wA("app-check",Ve=>function Nn(Ve,Pe){return new dr(Ve,Pe)}(Ve.getProvider("app").getImmediate(),Ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ve,Pe,ze)=>{Ve.getProvider(it).initialize()})),(0,Ae._registerComponent)(new Se.wA(it,Ve=>function Pr(Ve){return{getToken:Pe=>gt(Ve,Pe),addTokenListener:Pe=>function Xn(Ve,Pe,ze,yt){const{app:Nt}=Ve,Mn=at(Nt);if(Mn.tokenObservers=[...Mn.tokenObservers,{next:ze,error:yt,type:Pe}],Mn.token&&Rn(Mn.token)){const le=Mn.token;Promise.resolve().then(()=>{ze({token:le.token}),Cn(Ve)}).catch(()=>{})}Mn.cachedTokenPromise.then(()=>Cn(Ve))}(Ve,"INTERNAL",Pe),removeTokenListener:Pe=>On(Ve.app,Pe)}}(Ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.7.0")}();class Ur{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Gt,He,V)=>{V.d(He,{Ot:()=>Ee,ZF:()=>Ne,hX:()=>at,z6:()=>oe});var m=V(259),v=V(5e3),_=V(4976);class Ee{constructor(Je){return Je}}class oe{constructor(){return(0,m.C6)()}}const de=new v.OlP("angularfire2._apps"),We={provide:Ee,useFactory:function Se(Ge){return Ge&&1===Ge.length?Ge[0]:new Ee((0,m.Mq)())},deps:[[new v.FiY,de]]},ae={provide:oe,deps:[[new v.FiY,de]]};function he(Ge){return(Je,ht)=>{const nt=Je.runOutsideAngular(()=>Ge(ht));return new Ee(nt)}}let ke=(()=>{class Ge{constructor(ht){(0,m.KN)("angularfire",_.q4.full,"core"),(0,m.KN)("angularfire",_.q4.full,"app"),(0,m.KN)("angular",v.q4F.full,ht.toString())}}return Ge.\u0275fac=function(ht){return new(ht||Ge)(v.LFG(v.Lbi))},Ge.\u0275mod=v.oAB({type:Ge}),Ge.\u0275inj=v.cJS({providers:[We,ae]}),Ge})();function at(Ge,...Je){return{ngModule:ke,providers:[{provide:de,useFactory:he(Ge),multi:!0,deps:[v.R0b,v.zs3,_.HU,...Je]}]}}const Ne=(0,_.u3)(m.ZF,!0)},7246:(Gt,He,V)=>{V.d(He,{dh:()=>at,v0:()=>zt,AR:()=>Ge});var m=V(4976),v=V(5e3),_=V(3692),Ee=V(259),oe=V(2313),Ae=V(1389);V(2090),V(6881),V(1877),V(4859);class ke{constructor(kn){return kn}}class at{constructor(){return(0,m.vb)("auth")}}const tt=new v.OlP("angularfire2.auth-instances");function Ne(tn){return(kn,Ln)=>{const er=kn.runOutsideAngular(()=>tn(Ln));return new ke(er)}}const st={provide:at,deps:[[new v.FiY,tt]]},Mt={provide:ke,useFactory:function Ct(tn,kn){const Ln=(0,m.JM)("auth",tn,kn);return Ln&&new ke(Ln)},deps:[[new v.FiY,tt],_.Ot]};let Ft=(()=>{class tn{constructor(){(0,Ee.KN)("angularfire",m.q4.full,"auth")}}return tn.\u0275fac=function(Ln){return new(Ln||tn)},tn.\u0275mod=v.oAB({type:tn}),tn.\u0275inj=v.cJS({providers:[Mt,st]}),tn})();function Ge(tn,...kn){return{ngModule:Ft,providers:[{provide:tt,useFactory:Ne(tn),multi:!0,deps:[v.R0b,v.zs3,m.HU,_.z6,[new v.FiY,oe.nm],...kn]}]}}const zt=(0,m.u3)(Ae.o,!0)},1205:(Gt,He,V)=>{V.d(He,{zQ:()=>ut,rT:()=>Fe,f7:()=>Ye,L6:()=>ge,_Q:()=>St,lh:()=>qe,Qv:()=>vt,nw:()=>dt});var m=V(5e3),v=V(7579),_=V(9646),Ee=V(8306),oe=V(8996),Ae=V(6451),Se=V(6063);class de extends v.x{constructor($t=1/0,un=1/0,It=Se.l){super(),this._bufferSize=$t,this._windowTime=un,this._timestampProvider=It,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=un===1/0,this._bufferSize=Math.max(1,$t),this._windowTime=Math.max(1,un)}next($t){const{isStopped:un,_buffer:It,_infiniteTimeWindow:Yn,_timestampProvider:dn,_windowTime:Yt}=this;un||(It.push($t),!Yn&&It.push(dn.now()+Yt)),this._trimBuffer(),super.next($t)}_subscribe($t){this._throwIfClosed(),this._trimBuffer();const un=this._innerSubscribe($t),{_infiniteTimeWindow:It,_buffer:Yn}=this,dn=Yn.slice();for(let Yt=0;Yt<dn.length&&!$t.closed;Yt+=It?1:2)$t.next(dn[Yt]);return this._checkFinalizedStatuses($t),un}_trimBuffer(){const{_bufferSize:$t,_timestampProvider:un,_buffer:It,_infiniteTimeWindow:Yn}=this,dn=(Yn?1:2)*$t;if($t<1/0&&dn<It.length&&It.splice(0,It.length-dn),!Yn){const Yt=un.now();let xn=0;for(let wn=1;wn<It.length&&It[wn]<=Yt;wn+=2)xn=wn;xn&&It.splice(0,xn+1)}}}var We=V(3099);function ae(zt,$t,un){let It,Yn=!1;return zt&&"object"==typeof zt?({bufferSize:It=1/0,windowTime:$t=1/0,refCount:Yn=!1,scheduler:un}=zt):It=null!=zt?zt:1/0,(0,We.B)({connector:()=>new de(It,$t,un),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Yn})}var he=V(3900),ke=V(576);function at(zt,$t){return(0,ke.m)($t)?(0,he.w)(()=>zt,$t):(0,he.w)(()=>zt)}var ct=V(5363),tt=V(4004),Ct=V(590),Ne=V(9468),st=V(9300),Mt=V(4976),Ft=V(2011),Ge=V(9808),Je=V(2313);V(9260);const vt=new m.OlP("angularfire2.auth.use-emulator"),ge=new m.OlP("angularfire2.auth.settings"),St=new m.OlP("angularfire2.auth.tenant-id"),Fe=new m.OlP("angularfire2.auth.langugage-code"),qe=new m.OlP("angularfire2.auth.use-device-language"),Ye=new m.OlP("angularfire.auth.persistence"),dt=(zt,$t,un,It,Yn,dn,Yt,xn)=>(0,Ft.cc)(`${zt.name}.auth`,"AngularFireAuth",zt.name,()=>{const wn=$t.runOutsideAngular(()=>zt.auth());if(un&&wn.useEmulator(...un),It&&(wn.tenantId=It),wn.languageCode=Yn,dn&&wn.useDeviceLanguage(),Yt)for(const[Hn,Tn]of Object.entries(Yt))wn.settings[Hn]=Tn;return xn&&wn.setPersistence(xn),wn},[un,It,Yn,dn,Yt,xn]);let ut=(()=>{class zt{constructor(un,It,Yn,dn,Yt,xn,wn,Hn,Tn,qn,_r,di){const wr=new v.x,br=(0,_.of)(void 0).pipe((0,ct.Q)(Yt.outsideAngular),(0,he.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,tt.U)(()=>(0,Ft.on)(un,dn,It)),(0,tt.U)(Kn=>dt(Kn,dn,xn,Hn,Tn,qn,wn,_r)),ae({bufferSize:1,refCount:!1}));if((0,Ge.PM)(Yn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_.of)(null);else{br.pipe((0,Ct.P)()).subscribe();const Mr=br.pipe((0,he.w)(Jn=>Jn.getRedirectResult().then(Un=>Un,()=>null)),Mt.iC,ae({bufferSize:1,refCount:!1})),Vr=br.pipe((0,he.w)(Jn=>new Ee.y(Un=>({unsubscribe:dn.runOutsideAngular(()=>Jn.onAuthStateChanged(pn=>Un.next(pn),pn=>Un.error(pn),()=>Un.complete()))})))),hn=br.pipe((0,he.w)(Jn=>new Ee.y(Un=>({unsubscribe:dn.runOutsideAngular(()=>Jn.onIdTokenChanged(pn=>Un.next(pn),pn=>Un.error(pn),()=>Un.complete()))}))));this.authState=Mr.pipe(at(Vr),(0,Ne.R)(Yt.outsideAngular),(0,ct.Q)(Yt.insideAngular)),this.user=Mr.pipe(at(hn),(0,Ne.R)(Yt.outsideAngular),(0,ct.Q)(Yt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Jn=>Jn?(0,oe.D)(Jn.getIdToken()):(0,_.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Jn=>Jn?(0,oe.D)(Jn.getIdTokenResult()):(0,_.of)(null))),this.credential=(0,Ae.T)(Mr,wr,this.authState.pipe((0,st.h)(Jn=>!Jn))).pipe((0,tt.U)(Jn=>(null==Jn?void 0:Jn.user)?Jn:null),(0,Ne.R)(Yt.outsideAngular),(0,ct.Q)(Yt.insideAngular))}return(0,Ft.pX)(this,br,dn,{spy:{apply:(Kn,Mr,Vr)=>{(Kn.startsWith("signIn")||Kn.startsWith("createUser"))&&Vr.then(hn=>wr.next(hn))}}})}}return zt.\u0275fac=function(un){return new(un||zt)(m.LFG(Ft.Dh),m.LFG(Ft.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Mt.HU),m.LFG(vt,8),m.LFG(ge,8),m.LFG(St,8),m.LFG(Fe,8),m.LFG(qe,8),m.LFG(Ye,8),m.LFG(Je.nm,8))},zt.\u0275prov=m.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"any"}),zt})()},2011:(Gt,He,V)=>{V.d(He,{Dh:()=>de,GT:()=>Ae,cc:()=>ct,hO:()=>at,on:()=>ae,pX:()=>oe,xv:()=>We});var m=V(5e3),v=V(9260),_=V(4976);Gt=V.hmd(Gt);const Ee=["ngOnDestroy"],oe=(st,Mt,Ft,Ge={})=>new Proxy(st,{get:(Je,ht)=>Ft.runOutsideAngular(()=>{var nt;if(st[ht])return(null===(nt=null==Ge?void 0:Ge.spy)||void 0===nt?void 0:nt.get)&&Ge.spy.get(ht,st[ht]),st[ht];if(Ee.indexOf(ht)>-1)return()=>{};const vt=Mt.toPromise().then(ge=>{const St=ge&&ge[ht];return"function"==typeof St?St.bind(ge):St&&St.then?St.then(Fe=>Ft.run(()=>Fe)):Ft.run(()=>St)});return new Proxy(()=>{},{get:(ge,St)=>vt[St],apply:(ge,St,Fe)=>vt.then(qe=>{var Ye;const dt=qe&&qe(...Fe);return(null===(Ye=null==Ge?void 0:Ge.spy)||void 0===Ye?void 0:Ye.apply)&&Ge.spy.apply(ht,Fe,dt),dt})})})}),Ae=(st,Mt)=>{Mt.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(Ge=>{Object.defineProperty(st.prototype,Ge,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,Ge))})})};class Se{constructor(Mt){return Mt}}const de=new m.OlP("angularfire2.app.options"),We=new m.OlP("angularfire2.app.name");function ae(st,Mt,Ft){const Je="object"==typeof Ft&&Ft||{};Je.name=Je.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const nt=v.Z.apps.filter(vt=>vt&&vt.name===Je.name)[0]||Mt.runOutsideAngular(()=>v.Z.initializeApp(st,Je));try{JSON.stringify(st)!==JSON.stringify(nt.options)&&he("error",`${nt.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new Se(nt)}const he=(st,...Mt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[st](...Mt)},ke={provide:Se,useFactory:ae,deps:[de,m.R0b,[new m.FiY,We]]};let at=(()=>{class st{constructor(Ft){v.Z.registerVersion("angularfire",_.q4.full,"core"),v.Z.registerVersion("angularfire",_.q4.full,"app-compat"),v.Z.registerVersion("angular",m.q4F.full,Ft.toString())}static initializeApp(Ft,Ge){return{ngModule:st,providers:[{provide:de,useValue:Ft},{provide:We,useValue:Ge}]}}}return st.\u0275fac=function(Ft){return new(Ft||st)(m.LFG(m.Lbi))},st.\u0275mod=m.oAB({type:st}),st.\u0275inj=m.cJS({providers:[ke]}),st})();function ct(st,Mt,Ft,Ge,Je){const[,ht,nt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===st)||[];if(ht)return function tt(st,Mt){try{return st.toString()===Mt.toString()}catch(Ft){return st===Mt}}(Je,nt)||(Ne("error",`${Mt} was already initialized on the ${Ft} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:Je,was:nt})),ht;{const vt=Ge();return globalThis.\u0275AngularfireInstanceCache.push([st,vt,Je]),vt}}const Ct=!!Gt.hot,Ne=(st,...Mt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[st](...Mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Gt,He,V)=>{V.d(He,{gg:()=>Fe,ET:()=>wr,hJ:()=>Vr,BS:()=>Hn,PL:()=>Cn,ad:()=>Rn,b9:()=>Nn,Xo:()=>ai,Cm:()=>Yn,IO:()=>ri});var m=V(4976),v=V(5e3),_=V(7246),Ee=V(3692),oe=V(259),Ae=V(2313),Se=V(2810),de=V(8306),We=V(4004),ae={includeMetadataChanges:!1};function St(Tt,Rt){return void 0===Rt&&(Rt={}),function nt(Tt){return function he(Tt,Rt){return void 0===Rt&&(Rt=ae),new de.y(function(Qt){return{unsubscribe:(0,Se.cf)(Tt,Rt,{next:Qt.next.bind(Qt),error:Qt.error.bind(Qt),complete:Qt.complete.bind(Qt)})}})}(Tt,{includeMetadataChanges:!0}).pipe((0,We.U)(function(Rt){return Rt.docs}))}(Tt).pipe((0,We.U)(function(Qt){return Qt.map(function(Be){return function ct(Tt,Rt){void 0===Rt&&(Rt={});var Qt=Tt.data();return!Tt.exists()||"object"!=typeof Qt||null===Qt||Rt.idField&&(Qt[Rt.idField]=Tt.id),Qt}(Be,Rt)})}))}class Fe{constructor(Rt){return Rt}}const qe="firestore",ut=new v.OlP("angularfire2.firestore-instances");function zt(Tt){return(Rt,Qt)=>{const Be=Rt.runOutsideAngular(()=>Tt(Qt));return new Fe(Be)}}const $t={provide:class Ye{constructor(){return(0,m.vb)(qe)}},deps:[[new v.FiY,ut]]},un={provide:Fe,useFactory:function bt(Tt,Rt){const Qt=(0,m.JM)(qe,Tt,Rt);return Qt&&new Fe(Qt)},deps:[[new v.FiY,ut],Ee.Ot]};let It=(()=>{class Tt{constructor(){(0,oe.KN)("angularfire",m.q4.full,"fst")}}return Tt.\u0275fac=function(Qt){return new(Qt||Tt)},Tt.\u0275mod=v.oAB({type:Tt}),Tt.\u0275inj=v.cJS({providers:[un,$t]}),Tt})();function Yn(Tt,...Rt){return{ngModule:It,providers:[{provide:ut,useFactory:zt(Tt),multi:!0,deps:[v.R0b,v.zs3,m.HU,Ee.z6,[new v.FiY,_.dh],[new v.FiY,Ae.nm],...Rt]}]}}const Hn=(0,m.u3)(St,!0),wr=(0,m.u3)(Se.ET,!0),Vr=(0,m.u3)(Se.hJ,!0),Cn=(0,m.u3)(Se.PL,!0),Rn=(0,m.u3)(Se.ad,!0),Nn=(0,m.u3)(Se.b9,!0),ai=(0,m.u3)(Se.Xo,!0),ri=(0,m.u3)(Se.IO,!0)},4976:(Gt,He,V)=>{V.d(He,{q4:()=>wo,iC:()=>Pn,HU:()=>_t,vb:()=>K,JM:()=>N,u3:()=>Ci});var m=V(5e3),v=V(259),_=V(5861),Ee=V(6881),oe=V(2090),Ae=V(4859),Se=V(1877);let We,ae;const at=new WeakMap,ct=new WeakMap,tt=new WeakMap,Ct=new WeakMap,Ne=new WeakMap;let Ft={get(T,P,z){if(T instanceof IDBTransaction){if("done"===P)return ct.get(T);if("objectStoreNames"===P)return T.objectStoreNames||tt.get(T);if("store"===P)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return nt(T[P])},set:(T,P,z)=>(T[P]=z,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function ht(T){return"function"==typeof T?function Je(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(vt(this),P),nt(at.get(this))}:function(...P){return nt(T.apply(vt(this),P))}:function(P,...z){const ue=T.call(vt(this),P,...z);return tt.set(ue,P.sort?P.sort():[P]),nt(ue)}}(T):(T instanceof IDBTransaction&&function Mt(T){if(ct.has(T))return;const P=new Promise((z,ue)=>{const Ie=()=>{T.removeEventListener("complete",De),T.removeEventListener("error",Ke),T.removeEventListener("abort",Ke)},De=()=>{z(),Ie()},Ke=()=>{ue(T.error||new DOMException("AbortError","AbortError")),Ie()};T.addEventListener("complete",De),T.addEventListener("error",Ke),T.addEventListener("abort",Ke)});ct.set(T,P)}(T),((T,P)=>P.some(z=>T instanceof z))(T,function he(){return We||(We=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Ft):T)}function nt(T){if(T instanceof IDBRequest)return function st(T){const P=new Promise((z,ue)=>{const Ie=()=>{T.removeEventListener("success",De),T.removeEventListener("error",Ke)},De=()=>{z(nt(T.result)),Ie()},Ke=()=>{ue(T.error),Ie()};T.addEventListener("success",De),T.addEventListener("error",Ke)});return P.then(z=>{z instanceof IDBCursor&&at.set(z,T)}).catch(()=>{}),Ne.set(P,T),P}(T);if(Ct.has(T))return Ct.get(T);const P=ht(T);return P!==T&&(Ct.set(T,P),Ne.set(P,T)),P}const vt=T=>Ne.get(T),Fe=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],Ye=new Map;function dt(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Ye.get(P))return Ye.get(P);const z=P.replace(/FromIndex$/,""),ue=P!==z,Ie=qe.includes(z);if(!(z in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Fe.includes(z))return;const De=function(){var Ke=(0,_.Z)(function*(Wt,...Xt){const mn=this.transaction(Wt,Ie?"readwrite":"readonly");let Qn=mn.store;return ue&&(Qn=Qn.index(Xt.shift())),(yield Promise.all([Qn[z](...Xt),Ie&&mn.done]))[0]});return function(Xt){return Ke.apply(this,arguments)}}();return Ye.set(P,De),De}!function Ge(T){Ft=T(Ft)}(T=>$y(jy({},T),{get:(P,z,ue)=>dt(P,z)||T.get(P,z,ue),has:(P,z)=>!!dt(P,z)||T.has(P,z)}));const ut="@firebase/installations",$t="w:0.6.4",un="FIS_v2",wn=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Hn(T){return T instanceof oe.ZR&&T.code.includes("request-failed")}function Tn({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function qn(T){return{token:T.token,requestStatus:2,expiresIn:Vr(T.expiresIn),creationTime:Date.now()}}function _r(T,P){return di.apply(this,arguments)}function di(){return(di=(0,_.Z)(function*(T,P){const ue=(yield P.json()).error;return wn.create("request-failed",{requestName:T,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function wr({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function br(T,{refreshToken:P}){const z=wr(T);return z.append("Authorization",function hn(T){return`${un} ${T}`}(P)),z}function Kn(T){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,_.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Vr(T){return Number(T.replace("s","000"))}function Jn(T,P){return Un.apply(this,arguments)}function Un(){return(Un=(0,_.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:z}){const ue=Tn(T),Ie=wr(T),De=P.getImmediate({optional:!0});if(De){const mn=yield De.getHeartbeatsHeader();mn&&Ie.append("x-firebase-client",mn)}const Wt={method:"POST",headers:Ie,body:JSON.stringify({fid:z,authVersion:un,appId:T.appId,sdkVersion:$t})},Xt=yield Kn(()=>fetch(ue,Wt));if(Xt.ok){const mn=yield Xt.json();return{fid:mn.fid||z,registrationStatus:2,refreshToken:mn.refreshToken,authToken:qn(mn.authToken)}}throw yield _r("Create Installation",Xt)})).apply(this,arguments)}function pn(T){return new Promise(P=>{setTimeout(P,T)})}const Mi=/^[cdef][\w-]{21}$/;function be(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const z=function xe(T){return function ni(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Mi.test(z)?z:""}catch(T){return""}}function gt(T){return`${T.appName}!${T.appId}`}const Le=new Map;function xt(T,P){const z=gt(T);On(z,P),function Cn(T,P){const z=function pr(){return!Gr&&"BroadcastChannel"in self&&(Gr=new BroadcastChannel("[Firebase] FID Change"),Gr.onmessage=T=>{On(T.data.key,T.data.fid)}),Gr}();z&&z.postMessage({key:T,fid:P}),function Rn(){0===Le.size&&Gr&&(Gr.close(),Gr=null)}()}(z,P)}function On(T,P){const z=Le.get(T);if(z)for(const ue of z)ue(P)}let Gr=null;const Nn="firebase-installations-store";let Pr=null;function tn(){return Pr||(Pr=function ge(T,P,{blocked:z,upgrade:ue,blocking:Ie,terminated:De}={}){const Ke=indexedDB.open(T,P),Wt=nt(Ke);return ue&&Ke.addEventListener("upgradeneeded",Xt=>{ue(nt(Ke.result),Xt.oldVersion,Xt.newVersion,nt(Ke.transaction))}),z&&Ke.addEventListener("blocked",()=>z()),Wt.then(Xt=>{De&&Xt.addEventListener("close",()=>De()),Ie&&Xt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),Wt}("firebase-installations-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Nn)}})),Pr}function kn(T,P){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,_.Z)(function*(T,P){const z=gt(T),Ie=(yield tn()).transaction(Nn,"readwrite"),De=Ie.objectStore(Nn),Ke=yield De.get(z);return yield De.put(P,z),yield Ie.done,(!Ke||Ke.fid!==P.fid)&&xt(T,P.fid),P})).apply(this,arguments)}function er(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(T){const P=gt(T),ue=(yield tn()).transaction(Nn,"readwrite");yield ue.objectStore(Nn).delete(P),yield ue.done})).apply(this,arguments)}function ri(T,P){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,_.Z)(function*(T,P){const z=gt(T),Ie=(yield tn()).transaction(Nn,"readwrite"),De=Ie.objectStore(Nn),Ke=yield De.get(z),Wt=P(Ke);return void 0===Wt?yield De.delete(z):yield De.put(Wt,z),yield Ie.done,Wt&&(!Ke||Ke.fid!==Wt.fid)&&xt(T,Wt.fid),Wt})).apply(this,arguments)}function we(T){return me.apply(this,arguments)}function me(){return(me=(0,_.Z)(function*(T){let P;const z=yield ri(T.appConfig,ue=>{const Ie=ie(ue),De=se(T,Ie);return P=De.registrationPromise,De.installationEntry});return""===z.fid?{installationEntry:yield P}:{installationEntry:z,registrationPromise:P}})).apply(this,arguments)}function ie(T){return fn(T||{fid:be(),registrationStatus:0})}function se(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(wn.create("app-offline"))};const z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Y(T,P){return Re.apply(this,arguments)}(T,z);return{installationEntry:z,registrationPromise:ue}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Qe(T)}:{installationEntry:P}}function Re(){return(Re=(0,_.Z)(function*(T,P){try{const z=yield Jn(T,P);return kn(T.appConfig,z)}catch(z){throw Hn(z)&&409===z.customData.serverCode?yield er(T.appConfig):yield kn(T.appConfig,{fid:P.fid,registrationStatus:0}),z}})).apply(this,arguments)}function Qe(T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,_.Z)(function*(T){let P=yield In(T.appConfig);for(;1===P.registrationStatus;)yield pn(100),P=yield In(T.appConfig);if(0===P.registrationStatus){const{installationEntry:z,registrationPromise:ue}=yield we(T);return ue||z}return P})).apply(this,arguments)}function In(T){return ri(T,P=>{if(!P)throw wn.create("installation-not-found");return fn(P)})}function fn(T){return function Bn(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function gn(T,P){return vr.apply(this,arguments)}function vr(){return(vr=(0,_.Z)(function*({appConfig:T,heartbeatServiceProvider:P},z){const ue=Tt(T,z),Ie=br(T,z),De=P.getImmediate({optional:!0});if(De){const mn=yield De.getHeartbeatsHeader();mn&&Ie.append("x-firebase-client",mn)}const Wt={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:$t,appId:T.appId}})},Xt=yield Kn(()=>fetch(ue,Wt));if(Xt.ok)return qn(yield Xt.json());throw yield _r("Generate Auth Token",Xt)})).apply(this,arguments)}function Tt(T,{fid:P}){return`${Tn(T)}/${P}/authTokens:generate`}function Rt(T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(T,P=!1){let z;const ue=yield ri(T.appConfig,De=>{if(!nn(De))throw wn.create("not-registered");const Ke=De.authToken;if(!P&&An(Ke))return De;if(1===Ke.requestStatus)return z=Be(T,P),De;{if(!navigator.onLine)throw wn.create("app-offline");const Wt=ur(De);return z=it(T,Wt),Wt}});return z?yield z:ue.authToken})).apply(this,arguments)}function Be(T,P){return je.apply(this,arguments)}function je(){return(je=(0,_.Z)(function*(T,P){let z=yield Et(T.appConfig);for(;1===z.authToken.requestStatus;)yield pn(100),z=yield Et(T.appConfig);const ue=z.authToken;return 0===ue.requestStatus?Rt(T,P):ue})).apply(this,arguments)}function Et(T){return ri(T,P=>{if(!nn(P))throw wn.create("not-registered");return function kr(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function it(T,P){return jt.apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(T,P){try{const z=yield gn(T,P),ue=Object.assign(Object.assign({},P),{authToken:z});return yield kn(T.appConfig,ue),z}catch(z){if(!Hn(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const ue=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield kn(T.appConfig,ue)}else yield er(T.appConfig);throw z}})).apply(this,arguments)}function nn(T){return void 0!==T&&2===T.registrationStatus}function An(T){return 2===T.requestStatus&&!function Ur(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+36e5}(T)}function ur(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}function Bi(){return(Bi=(0,_.Z)(function*(T){const P=T,{installationEntry:z,registrationPromise:ue}=yield we(P);return ue?ue.catch(console.error):Rt(P).catch(console.error),z.fid})).apply(this,arguments)}function Sn(){return(Sn=(0,_.Z)(function*(T,P=!1){const z=T;return yield Ii(z),(yield Rt(z,P)).token})).apply(this,arguments)}function Ii(T){return Br.apply(this,arguments)}function Br(){return(Br=(0,_.Z)(function*(T){const{registrationPromise:P}=yield we(T);P&&(yield P)})).apply(this,arguments)}function Pe(T){return wn.create("missing-app-config-values",{valueName:T})}const ze="installations",Nt=T=>{const P=T.getProvider("app").getImmediate(),z=function Ve(T){if(!T||!T.options)throw Pe("App Configuration");if(!T.name)throw Pe("App Name");const P=["projectId","apiKey","appId"];for(const z of P)if(!T.options[z])throw Pe(z);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:z,heartbeatServiceProvider:(0,Ee._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Mn=T=>{const P=T.getProvider("app").getImmediate(),z=(0,Ee._getProvider)(P,ze).getImmediate();return{getId:()=>function gr(T){return Bi.apply(this,arguments)}(z),getToken:Ie=>function Hi(T){return Sn.apply(this,arguments)}(z,Ie)}};(function ar(){(0,Ee._registerComponent)(new Ae.wA(ze,Nt,"PUBLIC")),(0,Ee._registerComponent)(new Ae.wA("installations-internal",Mn,"PRIVATE"))})(),(0,Ee.registerVersion)(ut,"0.6.4"),(0,Ee.registerVersion)(ut,"0.6.4","esm2017");const le="@firebase/remote-config",q="0.4.4",vn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class So{constructor(P,z,ue,Ie){this.client=P,this.storage=z,this.storageCache=ue,this.logger=Ie}isCachedDataFresh(P,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-z,Ie=ue<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ie}.`),Ie}fetch(P){var z=this;return(0,_.Z)(function*(){const[ue,Ie]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Ie&&z.isCachedDataFresh(P.cacheMaxAgeMillis,ue))return Ie;P.eTag=Ie&&Ie.eTag;const De=yield z.client.fetch(P),Ke=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Ke.push(z.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Ke),De})()}}function ys(T=navigator){return T.languages&&T.languages[0]||T.language}class Ms{constructor(P,z,ue,Ie,De,Ke){this.firebaseInstallations=P,this.sdkVersion=z,this.namespace=ue,this.projectId=Ie,this.apiKey=De,this.appId=Ke}fetch(P){var z=this;return(0,_.Z)(function*(){const[ue,Ie]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Xt={sdk_version:z.sdkVersion,app_instance_id:ue,app_instance_id_token:Ie,app_id:z.appId,language_code:ys()},mn={method:"POST",headers:Wt,body:JSON.stringify(Xt)},Qn=fetch(Ke,mn),$n=new Promise((bi,rs)=>{P.signal.addEventListener(()=>{const Vs=new Error("The operation was aborted.");Vs.name="AbortError",rs(Vs)})});let Qi;try{yield Promise.race([Qn,$n]),Qi=yield Qn}catch(bi){let rs="fetch-client-network";throw"AbortError"===(null==bi?void 0:bi.name)&&(rs="fetch-timeout"),vn.create(rs,{originalErrorMessage:null==bi?void 0:bi.message})}let on=Qi.status;const Vn=Qi.headers.get("ETag")||void 0;let ir,Lr;if(200===Qi.status){let bi;try{bi=yield Qi.json()}catch(rs){throw vn.create("fetch-client-parse",{originalErrorMessage:null==rs?void 0:rs.message})}ir=bi.entries,Lr=bi.state}if("INSTANCE_STATE_UNSPECIFIED"===Lr?on=500:"NO_CHANGE"===Lr?on=304:("NO_TEMPLATE"===Lr||"EMPTY_CONFIG"===Lr)&&(ir={}),304!==on&&200!==on)throw vn.create("fetch-status",{httpStatus:on});return{status:on,eTag:Vn,config:ir}})()}}class Wo{constructor(P,z){this.client=P,this.storage=z}fetch(P){var z=this;return(0,_.Z)(function*(){const ue=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(P,ue)})()}attemptFetch(P,{throttleEndTimeMillis:z,backoffCount:ue}){var Ie=this;return(0,_.Z)(function*(){yield function ho(T,P){return new Promise((z,ue)=>{const Ie=Math.max(P-Date.now(),0),De=setTimeout(z,Ie);T.addEventListener(()=>{clearTimeout(De),ue(vn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,z);try{const De=yield Ie.client.fetch(P);return yield Ie.storage.deleteThrottleMetadata(),De}catch(De){if(!function js(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(De))throw De;const Ke={throttleEndTimeMillis:Date.now()+(0,oe.$s)(ue),backoffCount:ue+1};return yield Ie.storage.setThrottleMetadata(Ke),Ie.attemptFetch(P,Ke)}})()}}class xo{constructor(P,z,ue,Ie,De){this.app=P,this._client=z,this._storageCache=ue,this._storage=Ie,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gi(T,P){const z=T.target.error||void 0;return vn.create(P,{originalErrorMessage:z&&(null==z?void 0:z.message)})}const li="app_namespace_store";class us{constructor(P,z,ue,Ie=function Ca(){return new Promise((T,P)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=ue=>{P(Gi(ue,"storage-open"))},z.onsuccess=ue=>{T(ue.target.result)},z.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(z){P(vn.create("storage-open",{originalErrorMessage:null==z?void 0:z.message}))}})}()){this.appId=P,this.appName=z,this.namespace=ue,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var z=this;return(0,_.Z)(function*(){const ue=yield z.openDbPromise;return new Promise((Ie,De)=>{const Wt=ue.transaction([li],"readonly").objectStore(li),Xt=z.createCompositeKey(P);try{const mn=Wt.get(Xt);mn.onerror=Qn=>{De(Gi(Qn,"storage-get"))},mn.onsuccess=Qn=>{const $n=Qn.target.result;Ie($n?$n.value:void 0)}}catch(mn){De(vn.create("storage-get",{originalErrorMessage:null==mn?void 0:mn.message}))}})})()}set(P,z){var ue=this;return(0,_.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((De,Ke)=>{const Xt=Ie.transaction([li],"readwrite").objectStore(li),mn=ue.createCompositeKey(P);try{const Qn=Xt.put({compositeKey:mn,value:z});Qn.onerror=$n=>{Ke(Gi($n,"storage-set"))},Qn.onsuccess=()=>{De()}}catch(Qn){Ke(vn.create("storage-set",{originalErrorMessage:null==Qn?void 0:Qn.message}))}})})()}delete(P){var z=this;return(0,_.Z)(function*(){const ue=yield z.openDbPromise;return new Promise((Ie,De)=>{const Wt=ue.transaction([li],"readwrite").objectStore(li),Xt=z.createCompositeKey(P);try{const mn=Wt.delete(Xt);mn.onerror=Qn=>{De(Gi(Qn,"storage-delete"))},mn.onsuccess=()=>{Ie()}}catch(mn){De(vn.create("storage-delete",{originalErrorMessage:null==mn?void 0:mn.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class tr{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,_.Z)(function*(){const z=P.storage.getLastFetchStatus(),ue=P.storage.getLastSuccessfulFetchTimestampMillis(),Ie=P.storage.getActiveConfig(),De=yield z;De&&(P.lastFetchStatus=De);const Ke=yield ue;Ke&&(P.lastSuccessfulFetchTimestampMillis=Ke);const Wt=yield Ie;Wt&&(P.activeConfig=Wt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Ra(){return ii.apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}let Q,L;!function ls(){(0,Ee._registerComponent)(new Ae.wA("remote-config",function T(P,{instanceIdentifier:z}){const ue=P.getProvider("app").getImmediate(),Ie=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw vn.create("registration-window");if(!(0,oe.hl)())throw vn.create("indexed-db-unavailable");const{projectId:De,apiKey:Ke,appId:Wt}=ue.options;if(!De)throw vn.create("registration-project-id");if(!Ke)throw vn.create("registration-api-key");if(!Wt)throw vn.create("registration-app-id");const Xt=new us(Wt,ue.name,z=z||"firebase"),mn=new tr(Xt),Qn=new Se.Yd(le);Qn.logLevel=Se.in.ERROR;const $n=new Ms(Ie,Ee.SDK_VERSION,z,De,Ke,Wt),Qi=new Wo($n,Xt),on=new So(Qi,Xt,mn,Qn),Vn=new xo(ue,on,mn,Xt,Qn);return function Ao(T){const P=(0,oe.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Vn),Vn},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(le,q),(0,Ee.registerVersion)(le,q,"esm2017")}();const ft=new WeakMap,Dt=new WeakMap,ln=new WeakMap,Ar=new WeakMap,Ir=new WeakMap;let ci={get(T,P,z){if(T instanceof IDBTransaction){if("done"===P)return Dt.get(T);if("objectStoreNames"===P)return T.objectStoreNames||ln.get(T);if("store"===P)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return cr(T[P])},set:(T,P,z)=>(T[P]=z,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function vs(T){return"function"==typeof T?function Jr(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(zn(this),P),cr(ft.get(this))}:function(...P){return cr(T.apply(zn(this),P))}:function(P,...z){const ue=T.call(zn(this),P,...z);return ln.set(ue,P.sort?P.sort():[P]),cr(ue)}}(T):(T instanceof IDBTransaction&&function mr(T){if(Dt.has(T))return;const P=new Promise((z,ue)=>{const Ie=()=>{T.removeEventListener("complete",De),T.removeEventListener("error",Ke),T.removeEventListener("abort",Ke)},De=()=>{z(),Ie()},Ke=()=>{ue(T.error||new DOMException("AbortError","AbortError")),Ie()};T.addEventListener("complete",De),T.addEventListener("error",Ke),T.addEventListener("abort",Ke)});Dt.set(T,P)}(T),((T,P)=>P.some(z=>T instanceof z))(T,function ne(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ci):T)}function cr(T){if(T instanceof IDBRequest)return function rr(T){const P=new Promise((z,ue)=>{const Ie=()=>{T.removeEventListener("success",De),T.removeEventListener("error",Ke)},De=()=>{z(cr(T.result)),Ie()},Ke=()=>{ue(T.error),Ie()};T.addEventListener("success",De),T.addEventListener("error",Ke)});return P.then(z=>{z instanceof IDBCursor&&ft.set(z,T)}).catch(()=>{}),Ir.set(P,T),P}(T);if(Ar.has(T))return Ar.get(T);const P=vs(T);return P!==T&&(Ar.set(T,P),Ir.set(P,T)),P}const zn=T=>Ir.get(T);function cs(T,P,{blocked:z,upgrade:ue,blocking:Ie,terminated:De}={}){const Ke=indexedDB.open(T,P),Wt=cr(Ke);return ue&&Ke.addEventListener("upgradeneeded",Xt=>{ue(cr(Ke.result),Xt.oldVersion,Xt.newVersion,cr(Ke.transaction))}),z&&Ke.addEventListener("blocked",()=>z()),Wt.then(Xt=>{De&&Xt.addEventListener("close",()=>De()),Ie&&Xt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),Wt}function Mo(T,{blocked:P}={}){const z=indexedDB.deleteDatabase(T);return P&&z.addEventListener("blocked",()=>P()),cr(z).then(()=>{})}const Zo=["get","getKey","getAll","getAllKeys","count"],qo=["put","add","delete","clear"],j=new Map;function k(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(j.get(P))return j.get(P);const z=P.replace(/FromIndex$/,""),ue=P!==z,Ie=qo.includes(z);if(!(z in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Zo.includes(z))return;const De=function(){var Ke=(0,_.Z)(function*(Wt,...Xt){const mn=this.transaction(Wt,Ie?"readwrite":"readonly");let Qn=mn.store;return ue&&(Qn=Qn.index(Xt.shift())),(yield Promise.all([Qn[z](...Xt),Ie&&mn.done]))[0]});return function(Xt){return Ke.apply(this,arguments)}}();return j.set(P,De),De}!function jr(T){ci=T(ci)}(T=>$y(jy({},T),{get:(P,z,ue)=>k(P,z)||T.get(P,z,ue),has:(P,z)=>!!k(P,z)||T.has(P,z)}));const R="/firebase-messaging-sw.js",X="/firebase-cloud-messaging-push-scope",ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rr="google.c.a.c_id",Dr="google.c.a.c_l",ts="google.c.a.ts",Es="google.c.a.e";var Ri=(()=>{return(T=Ri||(Ri={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Ri;var T})();function vi(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ba(T){const z=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(z),Ie=new Uint8Array(ue.length);for(let De=0;De<ue.length;++De)Ie[De]=ue.charCodeAt(De);return Ie}const oa="fcm_token_details_db",no="fcm_token_object_Store";function Xr(T){return $s.apply(this,arguments)}function $s(){return $s=(0,_.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(oa))return null;let P=null;return(yield cs(oa,5,{upgrade:(ue=(0,_.Z)(function*(Ie,De,Ke,Wt){var Xt;if(De<2||!Ie.objectStoreNames.contains(no))return;const mn=Wt.objectStore(no),Qn=yield mn.index("fcmSenderId").get(T);if(yield mn.clear(),Qn)if(2===De){const $n=Qn;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;P={token:$n.fcmToken,createTime:null!==(Xt=$n.createTime)&&void 0!==Xt?Xt:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:vi($n.vapidKey)}}}else if(3===De){const $n=Qn;P={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:vi($n.auth),p256dh:vi($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:vi($n.vapidKey)}}}else if(4===De){const $n=Qn;P={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:vi($n.auth),p256dh:vi($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:vi($n.vapidKey)}}}}),function(De,Ke,Wt,Xt){return ue.apply(this,arguments)})})).close(),yield Mo(oa),yield Mo("fcm_vapid_details_db"),yield Mo("undefined"),Yo(P)?P:null;var ue}),$s.apply(this,arguments)}function Yo(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const Hs="firebase-messaging-store";let Ia=null;function qa(){return Ia||(Ia=cs("firebase-messaging-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Hs)}})),Ia}function hs(T){return aa.apply(this,arguments)}function aa(){return(aa=(0,_.Z)(function*(T){const P=fs(T),ue=yield(yield qa()).transaction(Hs).objectStore(Hs).get(P);if(ue)return ue;{const Ie=yield Xr(T.appConfig.senderId);if(Ie)return yield po(T,Ie),Ie}})).apply(this,arguments)}function po(T,P){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,_.Z)(function*(T,P){const z=fs(T),Ie=(yield qa()).transaction(Hs,"readwrite");return yield Ie.objectStore(Hs).put(P,z),yield Ie.done,P})).apply(this,arguments)}function Ta(T){return go.apply(this,arguments)}function go(){return(go=(0,_.Z)(function*(T){const P=fs(T),ue=(yield qa()).transaction(Hs,"readwrite");yield ue.objectStore(Hs).delete(P),yield ue.done})).apply(this,arguments)}function fs({appConfig:T}){return T.appId}const Ni=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function la(T,P){return ca.apply(this,arguments)}function ca(){return(ca=(0,_.Z)(function*(T,P){const z=yield Ui(T),ue=Rs(P),Ie={method:"POST",headers:z,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(Vi(T.appConfig),Ie)).json()}catch(Ke){throw Ni.create("token-subscribe-failed",{errorInfo:null==Ke?void 0:Ke.toString()})}if(De.error)throw Ni.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw Ni.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Ks(T,P){return zs.apply(this,arguments)}function zs(){return(zs=(0,_.Z)(function*(T,P){const z=yield Ui(T),ue=Rs(P.subscriptionOptions),Ie={method:"PATCH",headers:z,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(`${Vi(T.appConfig)}/${P.token}`,Ie)).json()}catch(Ke){throw Ni.create("token-update-failed",{errorInfo:null==Ke?void 0:Ke.toString()})}if(De.error)throw Ni.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw Ni.create("token-update-no-token");return De.token})).apply(this,arguments)}function zr(T,P){return mo.apply(this,arguments)}function mo(){return(mo=(0,_.Z)(function*(T,P){const ue={method:"DELETE",headers:yield Ui(T)};try{const De=yield(yield fetch(`${Vi(T.appConfig)}/${P}`,ue)).json();if(De.error)throw Ni.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(Ie){throw Ni.create("token-unsubscribe-failed",{errorInfo:null==Ie?void 0:Ie.toString()})}})).apply(this,arguments)}function Vi({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ui(T){return hi.apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*({appConfig:T,installations:P}){const z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Rs({p256dh:T,auth:P,endpoint:z,vapidKey:ue}){const Ie={web:{endpoint:z,auth:P,p256dh:T}};return ue!==ve&&(Ie.web.applicationPubKey=ue),Ie}const Oo=6048e5;function Qo(T){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(T){const P=yield ro(T.swRegistration,T.vapidKey),z={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:vi(P.getKey("auth")),p256dh:vi(P.getKey("p256dh"))},ue=yield hs(T.firebaseDependencies);if(ue){if(gs(ue.subscriptionOptions,z))return Date.now()>=ue.createTime+Oo?ei(T,{token:ue.token,createTime:Date.now(),subscriptionOptions:z}):ue.token;try{yield zr(T.firebaseDependencies,ue.token)}catch(Ie){console.warn(Ie)}return Ns(T.firebaseDependencies,z)}return Ns(T.firebaseDependencies,z)})).apply(this,arguments)}function ws(T){return ps.apply(this,arguments)}function ps(){return(ps=(0,_.Z)(function*(T){const P=yield hs(T.firebaseDependencies);P&&(yield zr(T.firebaseDependencies,P.token),yield Ta(T.firebaseDependencies));const z=yield T.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function ei(T,P){return yo.apply(this,arguments)}function yo(){return(yo=(0,_.Z)(function*(T,P){try{const z=yield Ks(T.firebaseDependencies,P),ue=Object.assign(Object.assign({},P),{token:z,createTime:Date.now()});return yield po(T.firebaseDependencies,ue),z}catch(z){throw yield ws(T),z}})).apply(this,arguments)}function Ns(T,P){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(T,P){const ue={token:yield la(T,P),createTime:Date.now(),subscriptionOptions:P};return yield po(T,ue),ue.token})).apply(this,arguments)}function ro(T,P){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,_.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ba(P)})})).apply(this,arguments)}function gs(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}function io(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function da(T,P){if(!P.notification)return;T.notification={};const z=P.notification.title;z&&(T.notification.title=z);const ue=P.notification.body;ue&&(T.notification.body=ue);const Ie=P.notification.image;Ie&&(T.notification.image=Ie);const De=P.notification.icon;De&&(T.notification.icon=De)}(P,T),function Na(T,P){!P.data||(T.data=P.data)}(P,T),function ha(T,P){var z,ue,Ie,De,Ke;if(!P.fcmOptions&&!(null===(z=P.notification)||void 0===z?void 0:z.click_action))return;T.fcmOptions={};const Wt=null!==(Ie=null===(ue=P.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ie?Ie:null===(De=P.notification)||void 0===De?void 0:De.click_action;Wt&&(T.fcmOptions.link=Wt);const Xt=null===(Ke=P.fcmOptions)||void 0===Ke?void 0:Ke.analytics_label;Xt&&(T.fcmOptions.analyticsLabel=Xt)}(P,T),P}function Qa(T){return"object"==typeof T&&!!T&&Rr in T}function ka(T,P){const z=[];for(let ue=0;ue<T.length;ue++)z.push(T.charAt(ue)),ue<P.length&&z.push(P.charAt(ue));return z.join("")}function Fa(T){return Ni.create("missing-app-config-values",{valueName:T})}ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $u{constructor(P,z,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function ju(T){if(!T||!T.options)throw Fa("App Configuration Object");if(!T.name)throw Fa("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:z}=T;for(const ue of P)if(!z[ue])throw Fa(ue);return{appName:T.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ie,installations:z,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Cs(T){return bs.apply(this,arguments)}function bs(){return(bs=(0,_.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(R,{scope:X}),T.swRegistration.update().catch(()=>{})}catch(P){throw Ni.create("failed-service-worker-registration",{browserErrorMessage:null==P?void 0:P.message})}})).apply(this,arguments)}function _o(T,P){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,_.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield Cs(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Ni.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function No(T,P){return so.apply(this,arguments)}function so(){return(so=(0,_.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=ve)})).apply(this,arguments)}function bu(){return(bu=(0,_.Z)(function*(T,P){if(!navigator)throw Ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ni.create("permission-blocked");return yield No(T,null==P?void 0:P.vapidKey),yield _o(T,null==P?void 0:P.serviceWorkerRegistration),Qo(T)})).apply(this,arguments)}function Vt(T,P,z){return si.apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(T,P,z){const ue=Is(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:z[Rr],message_name:z[Dr],message_time:z[ts],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Is(T){switch(T){case Ri.NOTIFICATION_CLICKED:return"notification_open";case Ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cn(){return(cn=(0,_.Z)(function*(T,P){const z=P.data;if(!z.isFirebaseMessaging)return;T.onMessageHandler&&z.messageType===Ri.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(io(z)):T.onMessageHandler.next(io(z)));const ue=z.data;Qa(ue)&&"1"===ue[Es]&&(yield Vt(T,z.messageType,ue))})).apply(this,arguments)}const bn="@firebase/messaging",sn=T=>{const P=new $u(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function Ja(T,P){return cn.apply(this,arguments)}(P,z)),P},lt=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:ue=>function ko(T,P){return bu.apply(this,arguments)}(P,ue)}};function ki(){return M.apply(this,arguments)}function M(){return(M=(0,_.Z)(function*(){try{yield(0,oe.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pt(){(0,Ee._registerComponent)(new Ae.wA("messaging",sn,"PUBLIC")),(0,Ee._registerComponent)(new Ae.wA("messaging-internal",lt,"PRIVATE")),(0,Ee.registerVersion)(bn,"0.12.4"),(0,Ee.registerVersion)(bn,"0.12.4","esm2017")}();const an="analytics",sr="firebase_id",qr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cr="https://www.googletagmanager.com/gtag/js",Jt=new Se.Yd("@firebase/analytics"),Gn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function oo(T){if(!T.startsWith(Cr)){const P=Gn.create("invalid-gtag-resource",{gtagURL:T});return Jt.warn(P.message),""}return T}function Fr(T){return Promise.all(T.map(P=>P.catch(z=>z)))}function Da(T,P){const z=function Zt(T,P){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(T,P)),z}("firebase-js-sdk-policy",{createScriptURL:oo}),ue=document.createElement("script"),Ie=`${Cr}?l=${T}&id=${P}`;ue.src=z?null==z?void 0:z.createScriptURL(Ie):Ie,ue.async=!0,document.head.appendChild(ue)}function Ys(T,P,z,ue,Ie,De){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,_.Z)(function*(T,P,z,ue,Ie,De){const Ke=ue[Ie];try{if(Ke)yield P[Ke];else{const Xt=(yield Fr(z)).find(mn=>mn.measurementId===Ie);Xt&&(yield P[Xt.appId])}}catch(Wt){Jt.error(Wt)}T("config",Ie,De)})).apply(this,arguments)}function Hu(T,P,z,ue,Ie){return mi.apply(this,arguments)}function mi(){return(mi=(0,_.Z)(function*(T,P,z,ue,Ie){try{let De=[];if(Ie&&Ie.send_to){let Ke=Ie.send_to;Array.isArray(Ke)||(Ke=[Ke]);const Wt=yield Fr(z);for(const Xt of Ke){const mn=Wt.find($n=>$n.measurementId===Xt),Qn=mn&&P[mn.appId];if(!Qn){De=[];break}De.push(Qn)}}0===De.length&&(De=Object.values(P)),yield Promise.all(De),T("event",ue,Ie||{})}catch(De){Jt.error(De)}})).apply(this,arguments)}function Zl(T){const P=window.document.getElementsByTagName("script");for(const z of Object.values(P))if(z.src&&z.src.includes(Cr)&&z.src.includes(T))return z;return null}const Gu=new class zu{constructor(P={},z=1e3){this.throttleMetadata=P,this.intervalMillis=z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,z){this.throttleMetadata[P]=z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function vo(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function cl(T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,_.Z)(function*(T){var P;const{appId:z,apiKey:ue}=T,Ie={method:"GET",headers:vo(ue)},De=qr.replace("{app-id}",z),Ke=yield fetch(De,Ie);if(200!==Ke.status&&304!==Ke.status){let Wt="";try{const Xt=yield Ke.json();(null===(P=Xt.error)||void 0===P?void 0:P.message)&&(Wt=Xt.error.message)}catch(Xt){}throw Gn.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:Wt})}return Ke.json()})).apply(this,arguments)}function fa(T){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(T,P=Gu,z){const{appId:ue,apiKey:Ie,measurementId:De}=T.options;if(!ue)throw Gn.create("no-app-id");if(!Ie){if(De)return{measurementId:De,appId:ue};throw Gn.create("no-api-key")}const Ke=P.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new Aa;return setTimeout((0,_.Z)(function*(){Wt.abort()}),void 0!==z?z:6e4),dl({appId:ue,apiKey:Ie,measurementId:De},Ke,Wt,P)})).apply(this,arguments)}function dl(T,P,z){return Va.apply(this,arguments)}function Va(){return(Va=(0,_.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:z},ue,Ie=Gu){var De;const{appId:Ke,measurementId:Wt}=T;try{yield Wi(ue,P)}catch(Xt){if(Wt)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${null==Xt?void 0:Xt.message}]`),{appId:Ke,measurementId:Wt};throw Xt}try{const Xt=yield cl(T);return Ie.deleteThrottleMetadata(Ke),Xt}catch(Xt){const mn=Xt;if(!Vo(mn)){if(Ie.deleteThrottleMetadata(Ke),Wt)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${null==mn?void 0:mn.message}]`),{appId:Ke,measurementId:Wt};throw Xt}const Qn=503===Number(null===(De=null==mn?void 0:mn.customData)||void 0===De?void 0:De.httpStatus)?(0,oe.$s)(z,Ie.intervalMillis,30):(0,oe.$s)(z,Ie.intervalMillis),$n={throttleEndTimeMillis:Date.now()+Qn,backoffCount:z+1};return Ie.setThrottleMetadata(Ke,$n),Jt.debug(`Calling attemptFetch again in ${Qn} millis`),dl(T,$n,ue,Ie)}})).apply(this,arguments)}function Wi(T,P){return new Promise((z,ue)=>{const Ie=Math.max(P-Date.now(),0),De=setTimeout(z,Ie);T.addEventListener(()=>{clearTimeout(De),ue(Gn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function Vo(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}class Aa{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let pa,Xo;function Du(){return(Du=(0,_.Z)(function*(T,P,z,ue,Ie){if(Ie&&Ie.global)T("event",z,ue);else{const De=yield P;T("event",z,Object.assign(Object.assign({},ue),{send_to:De}))}})).apply(this,arguments)}function eu(T){Xo=T}function Au(T){pa=T}function Su(){return hu.apply(this,arguments)}function hu(){return(hu=(0,_.Z)(function*(){if(!(0,oe.hl)())return Jt.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Jt.warn(Gn.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Eo(){return(Eo=(0,_.Z)(function*(T,P,z,ue,Ie,De,Ke){var Wt;const Xt=fa(T);Xt.then(on=>{z[on.measurementId]=on.appId,T.options.measurementId&&on.measurementId!==T.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${on.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(on=>Jt.error(on)),P.push(Xt);const mn=Su().then(on=>{if(on)return ue.getId()}),[Qn,$n]=yield Promise.all([Xt,mn]);Zl(De)||Da(De,Qn.measurementId),Xo&&(Ie("consent","default",Xo),eu(void 0)),Ie("js",new Date);const Qi=null!==(Wt=null==Ke?void 0:Ke.config)&&void 0!==Wt?Wt:{};return Qi.origin="firebase",Qi.update=!0,null!=$n&&(Qi[sr]=$n),Ie("config",Qn.measurementId,Qi),pa&&(Ie("set",pa),Au(void 0)),Qn.measurementId})).apply(this,arguments)}class Ba{constructor(P){this.app=P}_delete(){return delete Yi[this.app.options.appId],Promise.resolve()}}let Yi={},jo=[];const xu={};let fl,$o,ma="dataLayer",ya=!1;function Pu(T,P,z){!function Sa(){const T=[];if((0,oe.ru)()&&T.push("This is a browser extension environment."),(0,oe.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((ue,Ie)=>`(${Ie+1}) ${ue}`).join(" "),z=Gn.create("invalid-analytics-context",{errorInfo:P});Jt.warn(z.message)}}();const ue=T.options.appId;if(!ue)throw Gn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Gn.create("no-api-key");Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yi[ue])throw Gn.create("already-exists",{id:ue});if(!ya){!function La(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(ma);const{wrappedGtag:De,gtagCore:Ke}=function Wl(T,P,z,ue,Ie){let De=function(...Ke){window[ue].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(De=window[Ie]),window[Ie]=function lu(T,P,z,ue){function De(){return(De=(0,_.Z)(function*(Ke,...Wt){try{if("event"===Ke){const[Xt,mn]=Wt;yield Hu(T,P,z,Xt,mn)}else if("config"===Ke){const[Xt,mn]=Wt;yield Ys(T,P,z,ue,Xt,mn)}else if("consent"===Ke){const[Xt]=Wt;T("consent","update",Xt)}else if("get"===Ke){const[Xt,mn,Qn]=Wt;T("get",Xt,mn,Qn)}else if("set"===Ke){const[Xt]=Wt;T("set",Xt)}else T(Ke,...Wt)}catch(Xt){Jt.error(Xt)}})).apply(this,arguments)}return function Ie(Ke){return De.apply(this,arguments)}}(De,T,P,z),{gtagCore:De,wrappedGtag:window[Ie]}}(Yi,jo,xu,ma,"gtag");$o=De,fl=Ke,ya=!0}return Yi[ue]=function Wu(T,P,z,ue,Ie,De,Ke){return Eo.apply(this,arguments)}(T,jo,xu,P,fl,ma,z),new Ba(T)}function pl(){return _a.apply(this,arguments)}function _a(){return(_a=(0,_.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}const ja="@firebase/analytics";!function iu(){(0,Ee._registerComponent)(new Ae.wA(an,(P,{options:z})=>Pu(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Ee._registerComponent)(new Ae.wA("analytics-internal",function T(P){try{const z=P.getProvider(an).getImmediate();return{logEvent:(ue,Ie,De)=>function Ei(T,P,z,ue){T=(0,oe.m9)(T),function Ua(T,P,z,ue,Ie){return Du.apply(this,arguments)}($o,Yi[T.app.options.appId],P,z,ue).catch(Ie=>Jt.error(Ie))}(z,ue,Ie,De)}}catch(z){throw Gn.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Ee.registerVersion)(ja,"0.10.0"),(0,Ee.registerVersion)(ja,"0.10.0","esm2017")}();var Ou=V(4408),Ru=V(7565);const wi=new class va extends Ru.v{}(class qi extends Ou.o{constructor(P,z){super(P,z),this.scheduler=P,this.work=z}schedule(P,z=0){return z>0?super.schedule(P,z):(this.delay=z,this.state=P,this.scheduler.flush(this),this)}execute(P,z){return z>0||this.closed?super.execute(P,z):this._execute(P,z)}requestAsyncId(P,z,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(P,z,ue):P.flush(this)}});var qu=V(4986),su=V(8306),Ea=V(8505),pu=V(9468),ea=V(5363);const wo=new m.GfV("7.4.1"),ou="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",Ls="__angularfire_symbol__remoteConfigIsSupportedValue",ta="__angularfire_symbol__remoteConfigIsSupported",Ws="__angularfire_symbol__messagingIsSupportedValue",gu="__angularfire_symbol__messagingIsSupported";function N(T,P,z){if(P){if(1===P.length)return P[0];const De=P.filter(Ke=>Ke.app===z);if(1===De.length)return De[0]}return z.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=pl().then(T=>globalThis[ou]=T).catch(()=>globalThis[ou]=!1)),globalThis[gu]||(globalThis[gu]=ki().then(T=>globalThis[Ws]=T).catch(()=>globalThis[Ws]=!1)),globalThis[ta]||(globalThis[ta]=Ra().then(T=>globalThis[Ls]=T).catch(()=>globalThis[Ls]=!1));const K=(T,P)=>{const z=P?[P]:(0,v.C6)(),ue=[];return z.forEach(Ie=>{Ie.container.getProvider(T).instances.forEach(Ke=>{ue.includes(Ke)||ue.push(Ke)})}),ue};function ce(){}class ye{constructor(P,z=wi){this.zone=P,this.delegate=z}now(){return this.delegate.now()}schedule(P,z,ue){const Ie=this.zone;return this.delegate.schedule(function(Ke){Ie.runGuarded(()=>{P.apply(this,[Ke])})},z,ue)}}class $e{constructor(P){this.zone=P,this.task=null}call(P,z){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),z.pipe((0,Ea.b)({next:ue,complete:ue,error:ue})).subscribe(P).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _t=(()=>{class T{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new ye(Zone.current)),this.insideAngular=z.run(()=>new ye(Zone.current,qu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(z){return new(z||T)(m.LFG(m.R0b))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function en(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Fn(T){return en().ngZone.runOutsideAngular(()=>T())}function nr(T){return en().ngZone.run(()=>T())}function Pn(T){return en(),function fi(T){return function(z){return(z=z.lift(new $e(T.ngZone))).pipe((0,pu.R)(T.outsideAngular),(0,ea.Q)(T.insideAngular))}}(en())(T)}const Er=(T,P)=>function(){const ue=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),nr(()=>T.apply(void 0,ue))},Ci=(T,P)=>function(){let z;const ue=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof ue[De]&&(P&&(z||(z=nr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)))),ue[De]=Er(ue[De],z));const Ie=Fn(()=>T.apply(this,ue));if(!P){if(Ie instanceof su.y){const De=en();return Ie.pipe((0,pu.R)(De.outsideAngular),(0,ea.Q)(De.insideAngular))}return nr(()=>Ie)}return Ie instanceof su.y?Ie.pipe(Pn):Ie instanceof Promise?nr(()=>new Promise((De,Ke)=>Ie.then(Wt=>nr(()=>De(Wt)),Wt=>nr(()=>Ke(Wt))))):"function"==typeof Ie&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Ie.apply(this,arguments)}:nr(()=>Ie)}},1389:(Gt,He,V)=>{V.d(He,{$:()=>R,A:()=>he,D:()=>ct,I:()=>Or,J:()=>Nt,L:()=>lr,N:()=>ri,P:()=>Wu,Q:()=>us,R:()=>cu,U:()=>fo,V:()=>Ra,W:()=>ii,X:()=>Ki,Y:()=>ne,Z:()=>Te,_:()=>Ir,a:()=>F,a0:()=>ve,a1:()=>Rr,a2:()=>ds,a3:()=>no,a4:()=>$s,a5:()=>Po,a6:()=>Hs,a7:()=>qa,a8:()=>aa,a9:()=>Ka,aA:()=>ge,aB:()=>Ho,aC:()=>er,aD:()=>Yr,aE:()=>Ea,aF:()=>ji,aG:()=>nu,aH:()=>or,aL:()=>pe,aO:()=>Q,aa:()=>Ta,ab:()=>fs,ac:()=>ua,ad:()=>Ks,ae:()=>zr,af:()=>Vi,ai:()=>Oo,aj:()=>Ya,ak:()=>ws,an:()=>Jr,ao:()=>da,aq:()=>so,ar:()=>bn,as:()=>Fe,at:()=>fn,au:()=>Qe,av:()=>Ge,aw:()=>$n,ax:()=>gu,ay:()=>Bn,az:()=>Je,b:()=>D,c:()=>$o,d:()=>Pu,e:()=>wc,f:()=>ja,g:()=>va,h:()=>Ou,i:()=>Tu,j:()=>qu,k:()=>Lr,l:()=>Uo,m:()=>Vs,o:()=>gl,p:()=>de,r:()=>du,s:()=>ti,u:()=>Su});var m=V(5861),v=V(2090),_=V(6881),Ee=V(655),oe=V(1877),Ae=V(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ct=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},tt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new oe.Yd("@firebase/auth");function Ft(C,...f){st.logLevel<=oe.in.ERROR&&st.error(`Auth (${_.SDK_VERSION}): ${C}`,...f)}function Ge(C,...f){throw vt(C,...f)}function Je(C,...f){return vt(C,...f)}function ht(C,f,y){const A=Object.assign(Object.assign({},tt()),{[f]:y});return new v.LL("auth","Firebase",A).create(f,{appName:C.name})}function nt(C,f,y){if(!(f instanceof y))throw y.name!==f.constructor.name&&Ge(C,"argument-error"),ht(C,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(C,...f){if("string"!=typeof C){const y=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(y,...A)}return Ct.create(C,...f)}function ge(C,f,...y){if(!C)throw vt(f,...y)}function St(C){const f="INTERNAL ASSERTION FAILED: "+C;throw Ft(f),new Error(f)}function Fe(C,f){C||St(f)}function qe(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ye(){return"http:"===dt()||"https:"===dt()}function dt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class zt{constructor(f,y){this.shortDelay=f,this.longDelay=y,Fe(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(C,f){Fe(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}class un{static initialize(f,y,A){this.fetchImpl=f,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yn=new zt(3e4,6e4);function dn(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function Yt(C,f,y,A){return xn.apply(this,arguments)}function xn(){return(xn=(0,m.Z)(function*(C,f,y,A,Z={}){return wn(C,Z,(0,m.Z)(function*(){let te={},Ue={};A&&("GET"===f?Ue=A:te={body:JSON.stringify(A)});const pt=(0,v.xO)(Object.assign({key:C.config.apiKey},Ue)).slice(1),qt=yield C._getAdditionalHeaders();return qt["Content-Type"]="application/json",C.languageCode&&(qt["X-Firebase-Locale"]=C.languageCode),un.fetch()(_r(C,C.config.apiHost,y,pt),Object.assign({method:f,headers:qt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function wn(C,f,y){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(C,f,y){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},It),f);try{const Z=new di(C),te=yield Promise.race([y(),Z.promise]);Z.clearNetworkTimeout();const Ue=yield te.json();if("needConfirmation"in Ue)throw wr(C,"account-exists-with-different-credential",Ue);if(te.ok&&!("errorMessage"in Ue))return Ue;{const pt=te.ok?Ue.errorMessage:Ue.error.message,[qt,yn]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw wr(C,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===qt)throw wr(C,"email-already-in-use",Ue);if("USER_DISABLED"===qt)throw wr(C,"user-disabled",Ue);const Zn=A[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw ht(C,Zn,yn);Ge(C,Zn)}}catch(Z){if(Z instanceof v.ZR)throw Z;Ge(C,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Tn(C,f,y,A){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(C,f,y,A,Z={}){const te=yield Yt(C,f,y,A,Z);return"mfaPendingCredential"in te&&Ge(C,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function _r(C,f,y,A){const Z=`${f}${y}?${A}`;return C.config.emulator?$t(C.config,Z):`${C.config.apiScheme}://${Z}`}class di{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(Je(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(C,f,y){const A={appName:C.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const Z=Je(C,f,A);return Z.customData._tokenResponse=y,Z}function Kn(){return(Kn=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Mr(C,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hn(C,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Un(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Mi(){return(Mi=(0,m.Z)(function*(C,f=!1){const y=(0,v.m9)(C),A=yield y.getIdToken(f),Z=be(A);ge(Z&&Z.exp&&Z.auth_time&&Z.iat,y.auth,"internal-error");const te="object"==typeof Z.firebase?Z.firebase:void 0,Ue=null==te?void 0:te.sign_in_provider;return{claims:Z,token:A,authTime:Un(mt(Z.auth_time)),issuedAtTime:Un(mt(Z.iat)),expirationTime:Un(mt(Z.exp)),signInProvider:Ue||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function mt(C){return 1e3*Number(C)}function be(C){const[f,y,A]=C.split(".");if(void 0===f||void 0===y||void 0===A)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,v.tV)(y);return Z?JSON.parse(Z):(Ft("Failed to decode base64 JWT payload"),null)}catch(Z){return Ft("Caught error parsing JWT payload as JSON",null==Z?void 0:Z.toString()),null}}function gt(C,f){return Le.apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*(C,f,y=!1){if(y)return f;try{return yield f}catch(A){throw A instanceof v.ZR&&xt(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}function xt({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Ot{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Z=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,m.Z)(function*(){yield y.iteration()}),A)}iteration(){var f=this;return(0,m.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null==y?void 0:y.code)&&f.schedule(!0))}f.schedule()})()}}class Xn{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(C){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(C){var f;const y=C.auth,A=yield C.getIdToken(),Z=yield gt(C,hn(y,{idToken:A}));ge(null==Z?void 0:Z.users.length,y,"internal-error");const te=Z.users[0];C._notifyReloadListener(te);const Ue=(null===(f=te.providerUserInfo)||void 0===f?void 0:f.length)?Ht(te.providerUserInfo):[],pt=Rn(C.providerData,Ue),Zn=!!C.isAnonymous&&!(C.email&&te.passwordHash||(null==pt?void 0:pt.length)),$r={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:pt,metadata:new Xn(te.createdAt,te.lastLoginAt),isAnonymous:Zn};Object.assign(C,$r)})).apply(this,arguments)}function pr(){return(pr=(0,m.Z)(function*(C){const f=(0,v.m9)(C);yield On(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Rn(C,f){return[...C.filter(A=>!f.some(Z=>Z.providerId===A.providerId)),...f]}function Ht(C){return C.map(f=>{var{providerId:y}=f,A=(0,Ee._T)(f,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Nn(){return(Nn=(0,m.Z)(function*(C,f){const y=yield wn(C,{},(0,m.Z)(function*(){const A=(0,v.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Z,apiKey:te}=C.config,Ue=_r(C,Z,"/v1/token",`key=${te}`),pt=yield C._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Ue,{method:"POST",headers:pt,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ge(f.idToken,"internal-error"),ge(void 0!==f.idToken,"internal-error"),ge(void 0!==f.refreshToken,"internal-error");const y="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function xe(C){const f=be(C);return ge(f,"internal-error"),ge(void 0!==f.exp,"internal-error"),ge(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}getToken(f,y=!1){var A=this;return(0,m.Z)(function*(){return ge(!A.accessToken||A.refreshToken,f,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var A=this;return(0,m.Z)(function*(){const{accessToken:Z,refreshToken:te,expiresIn:Ue}=yield function dr(C,f){return Nn.apply(this,arguments)}(f,y);A.updateTokensAndExpiration(Z,te,Number(Ue))})()}updateTokensAndExpiration(f,y,A){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,y){const{refreshToken:A,accessToken:Z,expirationTime:te}=y,Ue=new Pr;return A&&(ge("string"==typeof A,"internal-error",{appName:f}),Ue.refreshToken=A),Z&&(ge("string"==typeof Z,"internal-error",{appName:f}),Ue.accessToken=Z),te&&(ge("number"==typeof te,"internal-error",{appName:f}),Ue.expirationTime=te),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pr,this.toJSON())}_performRefresh(){return St("not implemented")}}function tn(C,f){ge("string"==typeof C||void 0===C,"internal-error",{appName:f})}class kn{constructor(f){var{uid:y,auth:A,stsTokenManager:Z}=f,te=(0,Ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Xn(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,m.Z)(function*(){const A=yield gt(y,y.stsTokenManager.getToken(y.auth,f));return ge(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(f){return function ni(C){return Mi.apply(this,arguments)}(this,f)}reload(){return function Gr(C){return pr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ge(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const y=new kn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(f){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,y=!1){var A=this;return(0,m.Z)(function*(){let Z=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),Z=!0),y&&(yield On(A)),yield A.auth._persistUserIfCurrent(A),Z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,m.Z)(function*(){const y=yield f.getIdToken();return yield gt(f,function br(C,f){return Kn.apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var A,Z,te,Ue,pt,qt,yn,Zn;const $r=null!==(A=y.displayName)&&void 0!==A?A:void 0,Zs=null!==(Z=y.email)&&void 0!==Z?Z:void 0,is=null!==(te=y.phoneNumber)&&void 0!==te?te:void 0,ml=null!==(Ue=y.photoURL)&&void 0!==Ue?Ue:void 0,Ha=null!==(pt=y.tenantId)&&void 0!==pt?pt:void 0,Ic=null!==(qt=y._redirectEventId)&&void 0!==qt?qt:void 0,xi=null!==(yn=y.createdAt)&&void 0!==yn?yn:void 0,Ku=null!==(Zn=y.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:mu,emailVerified:cd,isAnonymous:za,providerData:Yl,stsTokenManager:yl}=y;ge(mu&&yl,f,"internal-error");const rh=Pr.fromJSON(this.name,yl);ge("string"==typeof mu,f,"internal-error"),tn($r,f.name),tn(Zs,f.name),ge("boolean"==typeof cd,f,"internal-error"),ge("boolean"==typeof za,f,"internal-error"),tn(is,f.name),tn(ml,f.name),tn(Ha,f.name),tn(Ic,f.name),tn(xi,f.name),tn(Ku,f.name);const dd=new kn({uid:mu,auth:f,email:Zs,emailVerified:cd,displayName:$r,isAnonymous:za,photoURL:ml,phoneNumber:is,tenantId:Ha,stsTokenManager:rh,createdAt:xi,lastLoginAt:Ku});return Yl&&Array.isArray(Yl)&&(dd.providerData=Yl.map(xr=>Object.assign({},xr))),Ic&&(dd._redirectEventId=Ic),dd}static _fromIdTokenResponse(f,y,A=!1){return(0,m.Z)(function*(){const Z=new Pr;Z.updateFromServerResponse(y);const te=new kn({uid:y.localId,auth:f,stsTokenManager:Z,isAnonymous:A});return yield On(te),te})()}}const Ln=new Map;function er(C){Fe(C instanceof Function,"Expected a class definition");let f=Ln.get(C);return f?(Fe(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,Ln.set(C,f),f)}const ri=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(y,A){var Z=this;return(0,m.Z)(function*(){Z.storage[y]=A})()}_get(y){var A=this;return(0,m.Z)(function*(){const Z=A.storage[y];return void 0===Z?null:Z})()}_remove(y){var A=this;return(0,m.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return C.type="NONE",C})();function Yr(C,f,y){return`firebase:${C}:${f}:${y}`}class we{constructor(f,y,A){this.persistence=f,this.auth=y,this.userKey=A;const{config:Z,name:te}=this.auth;this.fullUserKey=Yr(this.userKey,Z.apiKey,te),this.fullPersistenceKey=Yr("persistence",Z.apiKey,te),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,m.Z)(function*(){const y=yield f.persistence._get(f.fullUserKey);return y?kn._fromJSON(f.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,m.Z)(function*(){if(y.persistence===f)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y,A="authUser"){return(0,m.Z)(function*(){if(!y.length)return new we(er(ri),f,A);const Z=(yield Promise.all(y.map(function(){var yn=(0,m.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let te=Z[0]||er(ri);const Ue=Yr(A,f.config.apiKey,f.name);let pt=null;for(const yn of y)try{const Zn=yield yn._get(Ue);if(Zn){const $r=kn._fromJSON(f,Zn);yn!==te&&(pt=$r),te=yn;break}}catch(Zn){}const qt=Z.filter(yn=>yn._shouldAllowMigration);return te._shouldAllowMigration&&qt.length?(te=qt[0],pt&&(yield te._set(Ue,pt.toJSON())),yield Promise.all(y.map(function(){var yn=(0,m.Z)(function*(Zn){if(Zn!==te)try{yield Zn._remove(Ue)}catch($r){}});return function(Zn){return yn.apply(this,arguments)}}())),new we(te,f,A)):new we(te,f,A)})()}}function me(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Re(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Bt(f))return"Blackberry";if(In(f))return"Webos";if(se(f))return"Safari";if((f.includes("chrome/")||Y(f))&&!f.includes("edge/"))return"Chrome";if(Qe(f))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ie(C=(0,v.z$)()){return/firefox\//i.test(C)}function se(C=(0,v.z$)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Y(C=(0,v.z$)()){return/crios\//i.test(C)}function Re(C=(0,v.z$)()){return/iemobile/i.test(C)}function Qe(C=(0,v.z$)()){return/android/i.test(C)}function Bt(C=(0,v.z$)()){return/blackberry/i.test(C)}function In(C=(0,v.z$)()){return/webos/i.test(C)}function fn(C=(0,v.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Bn(C=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Tt(C=(0,v.z$)()){return fn(C)||Qe(C)||In(C)||Bt(C)||/windows phone/i.test(C)||Re(C)}function Qt(C,f=[]){let y;switch(C){case"Browser":y=me((0,v.z$)());break;case"Worker":y=`${me((0,v.z$)())}-${C}`;break;default:y=C}const A=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${_.SDK_VERSION}/${A}`}function je(){return(je=(0,m.Z)(function*(C){return(yield Yt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Et(C,f){return it.apply(this,arguments)}function it(){return(it=(0,m.Z)(function*(C,f){return Yt(C,"GET","/v2/recaptchaConfig",dn(C,f))})).apply(this,arguments)}function jt(C){return void 0!==C&&void 0!==C.getResponse}function nn(C){return void 0!==C&&void 0!==C.enterprise}class An{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function ur(C){return new Promise((f,y)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=f,A.onerror=Z=>{const te=Je("internal-error");te.customData=Z,y(te)},A.type="text/javascript",A.charset="UTF-8",function Ur(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(A)})}function kr(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Sn{constructor(f){this.type="recaptcha-enterprise",this.auth=or(f)}verify(f="verify",y=!1){var A=this;return(0,m.Z)(function*(){function te(){return te=(0,m.Z)(function*(pt){if(!y){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var qt=(0,m.Z)(function*(yn,Zn){Et(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($r=>{if(void 0!==$r.recaptchaKey){const Zs=new An($r);return null==pt.tenantId?pt._agentRecaptchaConfig=Zs:pt._tenantRecaptchaConfigs[pt.tenantId]=Zs,yn(Zs.siteKey)}Zn(new Error("recaptcha Enterprise site key undefined"))}).catch($r=>{Zn($r)})});return function(yn,Zn){return qt.apply(this,arguments)}}())}),te.apply(this,arguments)}function Ue(pt,qt,yn){const Zn=window.grecaptcha;nn(Zn)?Zn.enterprise.ready(()=>{Zn.enterprise.execute(pt,{action:f}).then($r=>{qt($r)}).catch(()=>{qt("NO_RECAPTCHA")})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,qt)=>{(function Z(pt){return te.apply(this,arguments)})(A.auth).then(yn=>{if(!y&&nn(window.grecaptcha))Ue(yn,pt,qt);else{if("undefined"==typeof window)return void qt(new Error("RecaptchaVerifier is only supported in browser"));ur("https://www.google.com/recaptcha/enterprise.js?render="+yn).then(()=>{Ue(yn,pt,qt)}).catch(Zn=>{qt(Zn)})}}).catch(yn=>{qt(yn)})})})()}}function Ii(C,f,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(C,f,y,A=!1){const Z=new Sn(C);let te;try{te=yield Z.verify(y)}catch(pt){te=yield Z.verify(y,!0)}const Ue=Object.assign({},f);return Object.assign(Ue,A?{captchaResp:te}:{captchaResponse:te}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}class Bs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const A=te=>new Promise((Ue,pt)=>{try{Ue(f(te))}catch(qt){pt(qt)}});A.onAbort=y,this.queue.push(A);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,m.Z)(function*(){if(y.auth.currentUser===f)return;const A=[];try{for(const Z of y.queue)yield Z(f),Z.onAbort&&A.push(Z.onAbort)}catch(Z){A.reverse();for(const te of A)try{te()}catch(Ue){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null==Z?void 0:Z.message})}})()}}class Ti{constructor(f,y,A,Z){this.app=f,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Di(this),this.idTokenSubscription=new Di(this),this.beforeStateQueue=new Bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(f,y){var A=this;return y&&(this._popupRedirectResolver=er(y)),this._initializationPromise=this.queue((0,m.Z)(function*(){var Z,te;if(!A._deleted&&(A.persistenceManager=yield we.create(A,f),!A._deleted)){if(null===(Z=A._popupRedirectResolver)||void 0===Z?void 0:Z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Ue){}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(te=A.currentUser)||void 0===te?void 0:te.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,m.Z)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUser(f){var y=this;return(0,m.Z)(function*(){var A;const Z=yield y.assertedPersistence.getCurrentUser();let te=Z,Ue=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const pt=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,qt=null==te?void 0:te._redirectEventId,yn=yield y.tryRedirectSignIn(f);(!pt||pt===qt)&&(null==yn?void 0:yn.user)&&(te=yn.user,Ue=!0)}if(!te)return y.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ue)try{yield y.beforeStateQueue.runMiddleware(te)}catch(pt){te=Z,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(pt))}return te?y.reloadAndSetCurrentUserOrClear(te):y.directlySetCurrentUser(null)}return ge(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===te._redirectEventId?y.directlySetCurrentUser(te):y.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(f){var y=this;return(0,m.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch(Z){yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,m.Z)(function*(){try{yield On(f)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function bt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,m.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,m.Z)(function*(){const A=f?(0,v.m9)(f):null;return A&&ge(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(f,y=!1){var A=this;return(0,m.Z)(function*(){if(!A._deleted)return f&&ge(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,m.Z)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,m.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var y=this;return this.queue((0,m.Z)(function*(){yield y.assertedPersistence.setPersistence(er(f))}))}initializeRecaptchaConfig(){var f=this;return(0,m.Z)(function*(){const y=yield Et(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new An(y);null==f.tenantId?f._agentRecaptchaConfig=A:f._tenantRecaptchaConfigs[f.tenantId]=A,A.emailPasswordEnabled&&new Sn(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new v.LL("auth","Firebase",f())}onAuthStateChanged(f,y,A){return this.registerStateListener(this.authStateSubscription,f,y,A)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,A){return this.registerStateListener(this.idTokenSubscription,f,y,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var A=this;return(0,m.Z)(function*(){const Z=yield A.getOrInitRedirectPersistenceManager(y);return null===f?Z.removeCurrentUser():Z.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,m.Z)(function*(){if(!y.redirectPersistenceManager){const A=f&&er(f)||y._popupRedirectResolver;ge(A,y,"argument-error"),y.redirectPersistenceManager=yield we.create(y,[er(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,m.Z)(function*(){var A,Z;return y._isInitialized&&(yield y.queue((0,m.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===f?y._currentUser:(null===(Z=y.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,m.Z)(function*(){if(f===y.currentUser)return y.queue((0,m.Z)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,A,Z){if(this._deleted)return()=>{};const te="function"==typeof y?y:y.next.bind(y),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(Ue,this,"internal-error"),Ue.then(()=>te(this.currentUser)),"function"==typeof y?f.addObserver(y,A,Z):f.addObserver(y)}directlySetCurrentUser(f){var y=this;return(0,m.Z)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,m.Z)(function*(){var y;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const Z=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();Z&&(A["X-Firebase-Client"]=Z);const te=yield f._getAppCheckToken();return te&&(A["X-Firebase-AppCheck"]=te),A})()}_getAppCheckToken(){var f=this;return(0,m.Z)(function*(){var y;const A=yield null===(y=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return(null==A?void 0:A.error)&&function Mt(C,...f){st.logLevel<=oe.in.WARN&&st.warn(`Auth (${_.SDK_VERSION}): ${C}`,...f)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function or(C){return(0,v.m9)(C)}class Di{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,v.ne)(y=>this.observer=y)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(C,f,y){const A=or(C);ge(A._canInitEmulator,A,"emulator-config-failed"),ge(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const Z=!!(null==y?void 0:y.disableWarnings),te=Ve(f),{host:Ue,port:pt}=function Pe(C){const f=Ve(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(A);if(Z){const te=Z[1];return{host:te,port:ze(A.substr(te.length+1))}}{const[te,Ue]=A.split(":");return{host:te,port:ze(Ue)}}}(f);A.config.emulator={url:`${te}//${Ue}${null===pt?"":`:${pt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ue,port:pt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function yt(){function C(){const f=document.createElement("p"),y=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Ve(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function ze(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}class Nt{constructor(f,y){this.providerId=f,this.signInMethod=y}toJSON(){return St("not implemented")}_getIdTokenResponse(f){return St("not implemented")}_linkToIdToken(f,y){return St("not implemented")}_getReauthenticationResolver(f){return St("not implemented")}}function Mn(C,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:resetPassword",dn(C,f))})).apply(this,arguments)}function le(C,f){return q.apply(this,arguments)}function q(){return(q=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $(C,f){return _e.apply(this,arguments)}function _e(){return(_e=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:update",dn(C,f))})).apply(this,arguments)}function et(C,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithPassword",dn(C,f))})).apply(this,arguments)}function Hr(C,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:sendOobCode",dn(C,f))})).apply(this,arguments)}function Li(C,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(C,f){return Hr(C,f)})).apply(this,arguments)}function zi(C,f){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(C,f){return Hr(C,f)})).apply(this,arguments)}function xs(C,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,m.Z)(function*(C,f){return Hr(C,f)})).apply(this,arguments)}function Do(C,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(C,f){return Hr(C,f)})).apply(this,arguments)}function co(){return(co=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithEmailLink",dn(C,f))})).apply(this,arguments)}function ui(){return(ui=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithEmailLink",dn(C,f))})).apply(this,arguments)}class gi extends Nt{constructor(f,y,A,Z=null){super("password",A),this._email=f,this._password=y,this._tenantId=Z}static _fromEmailAndPassword(f,y){return new gi(f,y,"password")}static _fromEmailAndCode(f,y,A=null){return new gi(f,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(f){var y=this;return(0,m.Z)(function*(){var A;switch(y.signInMethod){case"password":const Z={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null===(A=f._getRecaptchaConfig())||void 0===A?void 0:A.emailPasswordEnabled){const te=yield Ii(f,Z,"signInWithPassword");return et(f,te)}return et(f,Z).catch(function(){var te=(0,m.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pt=yield Ii(f,Z,"signInWithPassword");return et(f,pt)}return Promise.reject(Ue)});return function(Ue){return te.apply(this,arguments)}}());case"emailLink":return function Go(C,f){return co.apply(this,arguments)}(f,{email:y._email,oobCode:y._password});default:Ge(f,"internal-error")}})()}_linkToIdToken(f,y){var A=this;return(0,m.Z)(function*(){switch(A.signInMethod){case"password":return le(f,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ia(C,f){return ui.apply(this,arguments)}(f,{idToken:y,email:A._email,oobCode:A._password});default:Ge(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Oi(C,f){return es.apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithIdp",dn(C,f))})).apply(this,arguments)}class lr extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const y=new lr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(y.idToken=f.idToken),f.accessToken&&(y.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(y.nonce=f.nonce),f.pendingToken&&(y.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(y.accessToken=f.oauthToken,y.secret=f.oauthTokenSecret):Ge("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:Z}=y,te=(0,Ee._T)(y,["providerId","signInMethod"]);if(!A||!Z)return null;const Ue=new lr(A,Z);return Ue.idToken=te.idToken||void 0,Ue.accessToken=te.accessToken||void 0,Ue.secret=te.secret,Ue.nonce=te.nonce,Ue.pendingToken=te.pendingToken||null,Ue}_getIdTokenResponse(f){return Oi(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,Oi(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,Oi(f,y)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),f.postBody=(0,v.xO)(y)}return f}}function So(C,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:sendVerificationCode",dn(C,f))})).apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithPhoneNumber",dn(C,f))})).apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(C,f){const y=yield Tn(C,"POST","/v1/accounts:signInWithPhoneNumber",dn(C,f));if(y.temporaryProof)throw wr(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const _s={USER_NOT_FOUND:"user-not-found"};function xo(){return(xo=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithPhoneNumber",dn(C,Object.assign(Object.assign({},f),{operation:"REAUTH"})),_s)})).apply(this,arguments)}class Gi extends Nt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,y){return new Gi({verificationId:f,verificationCode:y})}static _fromTokenResponse(f,y){return new Gi({phoneNumber:f,temporaryProof:y})}_getIdTokenResponse(f){return function Ms(C,f){return ho.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,y){return function js(C,f){return Wo.apply(this,arguments)}(f,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Oa(C,f){return xo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:y,verificationId:A,verificationCode:Z}=this.params;return f&&y?{temporaryProof:f,phoneNumber:y}:{sessionInfo:A,code:Z}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:y,verificationCode:A,phoneNumber:Z,temporaryProof:te}=f;return A||y||Z||te?new Gi({verificationId:y,verificationCode:A,phoneNumber:Z,temporaryProof:te}):null}}class Ps{constructor(f){var y,A,Z,te,Ue,pt;const qt=(0,v.zd)((0,v.pd)(f)),yn=null!==(y=qt.apiKey)&&void 0!==y?y:null,Zn=null!==(A=qt.oobCode)&&void 0!==A?A:null,$r=function li(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=qt.mode)&&void 0!==Z?Z:null);ge(yn&&Zn&&$r,"argument-error"),this.apiKey=yn,this.operation=$r,this.code=Zn,this.continueUrl=null!==(te=qt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ue=qt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(pt=qt.tenantId)&&void 0!==pt?pt:null}static parseLink(f){const y=function to(C){const f=(0,v.zd)((0,v.pd)(C)).link,y=f?(0,v.zd)((0,v.pd)(f)).deep_link_id:null,A=(0,v.zd)((0,v.pd)(C)).deep_link_id;return(A?(0,v.zd)((0,v.pd)(A)).link:null)||A||y||f||C}(f);try{return new Ps(y)}catch(A){return null}}}let us=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,A){return gi._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const Z=Ps.parseLink(A);return ge(Z,"argument-error"),gi._fromEmailAndCode(y,Z.code,Z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class tr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ls extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ki extends ls{static credentialFromJSON(f){const y="string"==typeof f?JSON.parse(f):f;return ge("providerId"in y&&"signInMethod"in y,"argument-error"),lr._fromParams(y)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ge(f.idToken||f.accessToken,"argument-error"),lr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ki.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ki.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:Z,pendingToken:te,nonce:Ue,providerId:pt}=f;if(!A&&!Z&&!y&&!te||!pt)return null;try{return new Ki(pt)._credential({idToken:y,accessToken:A,nonce:Ue,pendingToken:te})}catch(qt){return null}}}let fo=(()=>{class C extends ls{constructor(){super("facebook.com")}static credential(y){return lr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(A){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Ra=(()=>{class C extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return lr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:Z}=y;if(!A&&!Z)return null;try{return C.credential(A,Z)}catch(te){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ii=(()=>{class C extends ls{constructor(){super("github.com")}static credential(y){return lr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(A){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Q extends Nt{constructor(f,y){super(f,f),this.pendingToken=y}_getIdTokenResponse(f){return Oi(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,Oi(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,Oi(f,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:Z,pendingToken:te}=y;return A&&Z&&te&&A===Z?new Q(A,te):null}static _create(f,y){return new Q(f,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ne extends tr{constructor(f){ge(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ne.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ne.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const y=Q.fromJSON(f);return ge(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:y,providerId:A}=f;if(!y||!A)return null;try{return Q._create(A,y)}catch(Z){return null}}}let Te=(()=>{class C extends ls{constructor(){super("twitter.com")}static credential(y,A){return lr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:Z}=y;if(!A||!Z)return null;try{return C.credential(A,Z)}catch(te){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function ft(C,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signUp",dn(C,f))})).apply(this,arguments)}class ln{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,y,A,Z=!1){return(0,m.Z)(function*(){const te=yield kn._fromIdTokenResponse(f,A,Z),Ue=Ar(A);return new ln({user:te,providerId:Ue,_tokenResponse:A,operationType:y})})()}static _forOperation(f,y,A){return(0,m.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const Z=Ar(A);return new ln({user:f,providerId:Z,_tokenResponse:A,operationType:y})})()}}function Ar(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ir(C){return rr.apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(C){var f;const y=or(C);if(yield y._initializationPromise,null===(f=y.currentUser)||void 0===f?void 0:f.isAnonymous)return new ln({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield ft(y,{returnSecureToken:!0}),Z=yield ln._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class mr extends v.ZR{constructor(f,y,A,Z){var te;super(y.code,y.message),this.operationType=A,this.user=Z,Object.setPrototypeOf(this,mr.prototype),this.customData={appName:f.name,tenantId:null!==(te=f.tenantId)&&void 0!==te?te:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,y,A,Z){return new mr(f,y,A,Z)}}function ci(C,f,y,A){return("reauthenticate"===f?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?mr._fromErrorAndOperation(C,te,f,A):te})}function jr(C){return new Set(C.map(({providerId:f})=>f).filter(f=>!!f))}function Jr(C,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,m.Z)(function*(C,f){const y=(0,v.m9)(C);yield cs(!0,y,f);const{providerUserInfo:A}=yield Mr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[f]}),Z=jr(A||[]);return y.providerData=y.providerData.filter(te=>Z.has(te.providerId)),Z.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function cr(C,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(C,f,y=!1){const A=yield gt(C,f._linkToIdToken(C.auth,yield C.getIdToken()),y);return ln._forOperation(C,"link",A)})).apply(this,arguments)}function cs(C,f,y){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,m.Z)(function*(C,f,y){yield On(f);const Z=!1===C?"provider-already-linked":"no-such-provider";ge(jr(f.providerData).has(y)===C,f.auth,Z)})).apply(this,arguments)}function Zo(C,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(C,f,y=!1){const{auth:A}=C,Z="reauthenticate";try{const te=yield gt(C,ci(A,Z,f,C),y);ge(te.idToken,A,"internal-error");const Ue=be(te.idToken);ge(Ue,A,"internal-error");const{sub:pt}=Ue;return ge(C.uid===pt,A,"user-mismatch"),ln._forOperation(C,Z,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&Ge(A,"user-mismatch"),te}})).apply(this,arguments)}function j(C,f){return k.apply(this,arguments)}function k(){return(k=(0,m.Z)(function*(C,f,y=!1){const A="signIn",Z=yield ci(C,A,f),te=yield ln._fromIdTokenResponse(C,A,Z);return y||(yield C._updateCurrentUser(te.user)),te})).apply(this,arguments)}function R(C,f){return X.apply(this,arguments)}function X(){return(X=(0,m.Z)(function*(C,f){return j(or(C),f)})).apply(this,arguments)}function ve(C,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(C,f){const y=(0,v.m9)(C);return yield cs(!1,y,f.providerId),cr(y,f)})).apply(this,arguments)}function Rr(C,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,m.Z)(function*(C,f){return Zo((0,v.m9)(C),f)})).apply(this,arguments)}function ts(C,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(C,f){return Tn(C,"POST","/v1/accounts:signInWithCustomToken",dn(C,f))})).apply(this,arguments)}function ds(C,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(C,f){const y=or(C),A=yield ts(y,{token:f,returnSecureToken:!0}),Z=yield ln._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class vi{constructor(f,y){this.factorId=f,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(f,y){return"phoneInfo"in y?ba._fromServerResponse(f,y):"totpInfo"in y?oa._fromServerResponse(f,y):Ge(f,"internal-error")}}class ba extends vi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,y){return new ba(y)}}class oa extends vi{constructor(f){super("totp",f)}static _fromServerResponse(f,y){return new oa(y)}}function Ko(C,f,y){var A;ge((null===(A=y.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),ge(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),f.continueUrl=y.url,f.dynamicLinkDomain=y.dynamicLinkDomain,f.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ge(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),f.iOSBundleId=y.iOS.bundleId),y.android&&(ge(y.android.packageName.length>0,C,"missing-android-pkg-name"),f.androidInstallApp=y.android.installApp,f.androidMinimumVersionCode=y.android.minimumVersion,f.androidPackageName=y.android.packageName)}function no(C,f,y){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,m.Z)(function*(C,f,y){var A;const Z=or(C),te={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null===(A=Z._getRecaptchaConfig())||void 0===A?void 0:A.emailPasswordEnabled){const Ue=yield Ii(Z,te,"getOobCode",!0);y&&Ko(Z,Ue,y),yield zi(Z,Ue)}else y&&Ko(Z,te,y),yield zi(Z,te).catch(function(){var Ue=(0,m.Z)(function*(pt){if("auth/missing-recaptcha-token"!==pt.code)return Promise.reject(pt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qt=yield Ii(Z,te,"getOobCode",!0);y&&Ko(Z,qt,y),yield zi(Z,qt)}});return function(pt){return Ue.apply(this,arguments)}}())}),Xr.apply(this,arguments)}function $s(C,f,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,m.Z)(function*(C,f,y){yield Mn((0,v.m9)(C),{oobCode:f,newPassword:y})})).apply(this,arguments)}function Po(C,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(C,f){yield $((0,v.m9)(C),{oobCode:f})})).apply(this,arguments)}function Hs(C,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,m.Z)(function*(C,f){const y=(0,v.m9)(C),A=yield Mn(y,{oobCode:f}),Z=A.requestType;switch(ge(Z,y,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(A.mfaInfo,y,"internal-error");default:ge(A.email,y,"internal-error")}let te=null;return A.mfaInfo&&(te=vi._fromServerResponse(or(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:te},operation:Z}})).apply(this,arguments)}function qa(C,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,m.Z)(function*(C,f){const{data:y}=yield Hs((0,v.m9)(C),f);return y.email})).apply(this,arguments)}function aa(C,f,y){return po.apply(this,arguments)}function po(){return po=(0,m.Z)(function*(C,f,y){var A;const Z=or(C),te={returnSecureToken:!0,email:f,password:y,clientType:"CLIENT_TYPE_WEB"};let Ue;if(null===(A=Z._getRecaptchaConfig())||void 0===A?void 0:A.emailPasswordEnabled){const yn=yield Ii(Z,te,"signUpPassword");Ue=ft(Z,yn)}else Ue=ft(Z,te).catch(function(){var yn=(0,m.Z)(function*(Zn){if("auth/missing-recaptcha-token"===Zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $r=yield Ii(Z,te,"signUpPassword");return ft(Z,$r)}return Promise.reject(Zn)});return function(Zn){return yn.apply(this,arguments)}}());const pt=yield Ue.catch(yn=>Promise.reject(yn)),qt=yield ln._fromIdTokenResponse(Z,"signIn",pt);return yield Z._updateCurrentUser(qt.user),qt}),po.apply(this,arguments)}function Ka(C,f,y){return R((0,v.m9)(C),us.credential(f,y))}function Ta(C,f,y){return go.apply(this,arguments)}function go(){return go=(0,m.Z)(function*(C,f,y){var A;const Z=or(C),te={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Ue(pt,qt){ge(qt.handleCodeInApp,Z,"argument-error"),qt&&Ko(Z,pt,qt)}if(null===(A=Z._getRecaptchaConfig())||void 0===A?void 0:A.emailPasswordEnabled){const pt=yield Ii(Z,te,"getOobCode",!0);Ue(pt,y),yield xs(Z,pt)}else Ue(te,y),yield xs(Z,te).catch(function(){var pt=(0,m.Z)(function*(qt){if("auth/missing-recaptcha-token"!==qt.code)return Promise.reject(qt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yn=yield Ii(Z,te,"getOobCode",!0);Ue(yn,y),yield xs(Z,yn)}});return function(qt){return pt.apply(this,arguments)}}())}),go.apply(this,arguments)}function fs(C,f){const y=Ps.parseLink(f);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function ua(C,f,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C),Z=us.credentialWithLink(f,y||qe());return ge(Z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),R(A,Z)})).apply(this,arguments)}function la(C,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:createAuthUri",dn(C,f))})).apply(this,arguments)}function Ks(C,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(C,f){const A={identifier:f,continueUri:Ye()?qe():"http://localhost"},{signinMethods:Z}=yield la((0,v.m9)(C),A);return Z||[]})).apply(this,arguments)}function zr(C,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(C,f){const y=(0,v.m9)(C),Z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};f&&Ko(y.auth,Z,f);const{email:te}=yield Li(y.auth,Z);te!==C.email&&(yield C.reload())})).apply(this,arguments)}function Vi(C,f,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:f};y&&Ko(A.auth,te,y);const{email:Ue}=yield Do(A.auth,te);Ue!==C.email&&(yield C.reload())})).apply(this,arguments)}function hi(C,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(C,f){return Yt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Oo(C,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(C,{displayName:f,photoURL:y}){if(void 0===f&&void 0===y)return;const A=(0,v.m9)(C),te={idToken:yield A.getIdToken(),displayName:f,photoUrl:y,returnSecureToken:!0},Ue=yield gt(A,hi(A.auth,te));A.displayName=Ue.displayName||null,A.photoURL=Ue.photoUrl||null;const pt=A.providerData.find(({providerId:qt})=>"password"===qt);pt&&(pt.displayName=A.displayName,pt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function Ya(C,f){return ps((0,v.m9)(C),f,null)}function ws(C,f){return ps((0,v.m9)(C),null,f)}function ps(C,f,y){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(C,f,y){const{auth:A}=C,te={idToken:yield C.getIdToken(),returnSecureToken:!0};f&&(te.email=f),y&&(te.password=y);const Ue=yield gt(C,le(A,te));yield C._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class Ns{constructor(f,y,A={}){this.isNewUser=f,this.providerId=y,this.profile=A}}class Wr extends Ns{constructor(f,y,A,Z){super(f,y,A),this.username=Z}}class ro extends Ns{constructor(f,y){super(f,"facebook.com",y)}}class Ro extends Wr{constructor(f,y){super(f,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class gs extends Ns{constructor(f,y){super(f,"google.com",y)}}class io extends Wr{constructor(f,y,A){super(f,"twitter.com",y,A)}}function da(C){const{user:f,_tokenResponse:y}=C;return f.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function yo(C){var f,y;if(!C)return null;const{providerId:A}=C,Z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},te=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&(null==C?void 0:C.idToken)){const Ue=null===(y=null===(f=be(C.idToken))||void 0===f?void 0:f.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ue)return new Ns(te,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!A)return null;switch(A){case"facebook.com":return new ro(te,Z);case"github.com":return new Ro(te,Z);case"google.com":return new gs(te,Z);case"twitter.com":return new io(te,Z,C.screenName||null);case"custom":case"anonymous":return new Ns(te,null);default:return new Ns(te,A,Z)}}(y)}class Zr{constructor(f,y,A){this.type=f,this.credential=y,this.auth=A}static _fromIdtoken(f,y){return new Zr("enroll",f,y)}static _fromMfaPendingCredential(f){return new Zr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var y,A;if(null==f?void 0:f.multiFactorSession){if(null===(y=f.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Zr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(A=f.multiFactorSession)||void 0===A?void 0:A.idToken)return Zr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class No{constructor(f,y,A){this.session=f,this.hints=y,this.signInResolver=A}static _fromError(f,y){const A=or(f),Z=y.customData._serverResponse,te=(Z.mfaInfo||[]).map(pt=>vi._fromServerResponse(A,pt));ge(Z.mfaPendingCredential,A,"internal-error");const Ue=Zr._fromMfaPendingCredential(Z.mfaPendingCredential);return new No(Ue,te,function(){var pt=(0,m.Z)(function*(qt){const yn=yield qt._process(A,Ue);delete Z.mfaInfo,delete Z.mfaPendingCredential;const Zn=Object.assign(Object.assign({},Z),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(y.operationType){case"signIn":const $r=yield ln._fromIdTokenResponse(A,y.operationType,Zn);return yield A._updateCurrentUser($r.user),$r;case"reauthenticate":return ge(y.user,A,"internal-error"),ln._forOperation(y.user,y.operationType,Zn);default:Ge(A,"internal-error")}});return function(qt){return pt.apply(this,arguments)}}())}resolveSignIn(f){var y=this;return(0,m.Z)(function*(){return y.signInResolver(f)})()}}function so(C,f){var y;const A=(0,v.m9)(C),Z=f;return ge(f.customData.operationType,A,"argument-error"),ge(null===(y=Z.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),No._fromError(A,Z)}function ko(C,f){return Yt(C,"POST","/v2/accounts/mfaEnrollment:start",dn(C,f))}class Ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>vi._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new Ja(f)}getSession(){var f=this;return(0,m.Z)(function*(){return Zr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,y){var A=this;return(0,m.Z)(function*(){const Z=f,te=yield A.getSession(),Ue=yield gt(A.user,Z._process(A.user.auth,te,y));return yield A.user._updateTokensIfNecessary(Ue),A.user.reload()})()}unenroll(f){var y=this;return(0,m.Z)(function*(){const A="string"==typeof f?f:f.uid,Z=yield y.user.getIdToken();try{const te=yield gt(y.user,function Is(C,f){return Yt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(C,f))}(y.user.auth,{idToken:Z,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ue})=>Ue!==A),yield y.user._updateTokensIfNecessary(te),yield y.user.reload()}catch(te){throw te}})()}}const cn=new WeakMap;function bn(C){const f=(0,v.m9)(C);return cn.has(f)||cn.set(f,Ja._fromUser(f)),cn.get(f)}const Jo="__sak";class sn{constructor(f,y){this.storageRetriever=f,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,y){return this.storage.setItem(f,JSON.stringify(y)),Promise.resolve()}_get(f){const y=this.storage.getItem(f);return Promise.resolve(y?JSON.parse(y):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const D=(()=>{class C extends sn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lt(){const C=(0,v.z$)();return se(C)||fn(C)}()&&function Rt(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const Z=this.storage.getItem(A),te=this.localCache[A];Z!==te&&y(A,te,Z)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((pt,qt,yn)=>{this.notifyListeners(pt,yn)});const Z=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(Z);if(y.newValue!==pt)null!==y.newValue?this.storage.setItem(Z,y.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===y.newValue&&!A)return}const te=()=>{const pt=this.storage.getItem(Z);!A&&this.localCache[Z]===pt||this.notifyListeners(Z,pt)},Ue=this.storage.getItem(Z);!function vr(){return(0,v.w1)()&&10===document.documentMode}()||Ue===y.newValue||y.newValue===y.oldValue?te():setTimeout(te,10)}notifyListeners(y,A){this.localCache[y]=A;const Z=this.listeners[y];if(Z)for(const te of Array.from(Z))te(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var Z=()=>super._set,te=this;return(0,m.Z)(function*(){yield Z().call(te,y,A),te.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,Z=this;return(0,m.Z)(function*(){const te=yield A().call(Z,y);return Z.localCache[y]=JSON.stringify(te),te})()}_remove(y){var A=()=>super._remove,Z=this;return(0,m.Z)(function*(){yield A().call(Z,y),delete Z.localCache[y]})()}}return C.type="LOCAL",C})(),F=(()=>{class C extends sn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return C.type="SESSION",C})();let ee=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(te=>te.isListeningto(y));if(A)return A;const Z=new C(y);return this.receivers.push(Z),Z}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,m.Z)(function*(){const Z=y,{eventId:te,eventType:Ue,data:pt}=Z.data,qt=A.handlersMap[Ue];if(!(null==qt?void 0:qt.size))return;Z.ports[0].postMessage({status:"ack",eventId:te,eventType:Ue});const yn=Array.from(qt).map(function(){var $r=(0,m.Z)(function*(Zs){return Zs(Z.origin,pt)});return function(Zs){return $r.apply(this,arguments)}}()),Zn=yield function H(C){return Promise.all(C.map(function(){var f=(0,m.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return f.apply(this,arguments)}}()))}(yn);Z.ports[0].postMessage({status:"done",eventId:te,eventType:Ue,response:Zn})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function pe(C="",f=10){let y="";for(let A=0;A<f;A++)y+=Math.floor(10*Math.random());return C+y}class Me{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,y,A=50){var Z=this;return(0,m.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Ue,pt;return new Promise((qt,yn)=>{const Zn=pe("",20);te.port1.start();const $r=setTimeout(()=>{yn(new Error("unsupported_event"))},A);pt={messageChannel:te,onMessage(Zs){const is=Zs;if(is.data.eventId===Zn)switch(is.data.status){case"ack":clearTimeout($r),Ue=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),qt(is.data.response);break;default:clearTimeout($r),clearTimeout(Ue),yn(new Error("invalid_response"))}}},Z.handlers.add(pt),te.port1.addEventListener("message",pt.onMessage),Z.target.postMessage({eventType:f,eventId:Zn,data:y},[te.port2])}).finally(()=>{pt&&Z.removeMessageHandler(pt)})})()}}function ot(){return window}function sr(){return void 0!==ot().WorkerGlobalScope&&"function"==typeof ot().importScripts}function Sr(){return(Sr=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Jt="firebaseLocalStorageDb",Gn="firebaseLocalStorage",oo="fbase_key";class Fr{constructor(f){this.request=f}toPromise(){return new Promise((f,y)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Zt(C,f){return C.transaction([Gn],f?"readwrite":"readonly").objectStore(Gn)}function La(){const C=indexedDB.open(Jt,1);return new Promise((f,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(Gn,{keyPath:oo})}catch(Z){y(Z)}}),C.addEventListener("success",(0,m.Z)(function*(){const A=C.result;A.objectStoreNames.contains(Gn)?f(A):(A.close(),yield function Da(){const C=indexedDB.deleteDatabase(Jt);return new Fr(C).toPromise()}(),f(yield La()))}))})}function Ys(C,f,y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,m.Z)(function*(C,f,y){const A=Zt(C,!0).put({[oo]:f,value:y});return new Fr(A).toPromise()})).apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(C,f){const y=Zt(C,!1).get(f),A=yield new Fr(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function lu(C,f){const y=Zt(C,!0).delete(f);return new Fr(y).toPromise()}const Tu=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,m.Z)(function*(){return y.db||(y.db=yield La()),y.db})()}_withRetries(y){var A=this;return(0,m.Z)(function*(){let Z=0;for(;;)try{const te=yield A._openDb();return yield y(te)}catch(te){if(Z++>3)throw te;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,m.Z)(function*(){return sr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,m.Z)(function*(){y.receiver=ee._getInstance(function Cr(){return sr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,m.Z)(function*(Z,te){return{keyProcessed:(yield y._poll()).includes(te.key)}});return function(Z,te){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,m.Z)(function*(Z,te){return["keyChanged"]});return function(Z,te){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,m.Z)(function*(){var A,Z;if(y.activeServiceWorker=yield function kt(){return Sr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Me(y.activeServiceWorker);const te=yield y.sender._send("ping",{},800);!te||(null===(A=te[0])||void 0===A?void 0:A.fulfilled)&&(null===(Z=te[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,m.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function qr(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch(Z){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const y=yield La();return yield Ys(y,Jo,"1"),yield lu(y,Jo),!0}catch(y){}return!1})()}_withPendingWrite(y){var A=this;return(0,m.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var Z=this;return(0,m.Z)(function*(){return Z._withPendingWrite((0,m.Z)(function*(){return yield Z._withRetries(te=>Ys(te,y,A)),Z.localCache[y]=A,Z.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,m.Z)(function*(){const Z=yield A._withRetries(te=>function Hu(C,f){return mi.apply(this,arguments)}(te,y));return A.localCache[y]=Z,Z})()}_remove(y){var A=this;return(0,m.Z)(function*(){return A._withPendingWrite((0,m.Z)(function*(){return yield A._withRetries(Z=>lu(Z,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,m.Z)(function*(){const A=yield y._withRetries(Ue=>{const pt=Zt(Ue,!1).getAll();return new Fr(pt).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const Z=[],te=new Set;for(const{fbase_key:Ue,value:pt}of A)te.add(Ue),JSON.stringify(y.localCache[Ue])!==JSON.stringify(pt)&&(y.notifyListeners(Ue,pt),Z.push(Ue));for(const Ue of Object.keys(y.localCache))y.localCache[Ue]&&!te.has(Ue)&&(y.notifyListeners(Ue,null),Z.push(Ue));return Z})()}notifyListeners(y,A){this.localCache[y]=A;const Z=this.listeners[y];if(Z)for(const te of Array.from(Z))te(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function zu(C,f){return Yt(C,"POST","/v2/accounts/mfaSignIn:start",dn(C,f))}const fa=1e12;class Ts{constructor(f){this.auth=f,this.counter=fa,this._widgets=new Map}render(f,y){const A=this.counter;return this._widgets.set(A,new dl(f,this.auth.name,y||{})),this.counter++,A}reset(f){var y;const A=f||fa;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(f){var y;return(null===(y=this._widgets.get(f||fa))||void 0===y?void 0:y.getResponse())||""}execute(f){var y=this;return(0,m.Z)(function*(){var A;return null===(A=y._widgets.get(f||fa))||void 0===A||A.execute(),""})()}}class dl{constructor(f,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof f?document.getElementById(f):f;ge(Z,"argument-error",{appName:y}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Va(C){const f=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)f.push(y.charAt(Math.floor(Math.random()*y.length)));return f.join("")}(50);const{callback:f,"expired-callback":y}=this.params;if(f)try{f(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wi=kr("rcb"),Vo=new zt(3e4,6e4);class pa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=ot().grecaptcha)||void 0===f?void 0:f.render)}load(f,y=""){return ge(function Ua(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),f,"argument-error"),this.shouldResolveImmediately(y)&&jt(ot().grecaptcha)?Promise.resolve(ot().grecaptcha):new Promise((A,Z)=>{const te=ot().setTimeout(()=>{Z(Je(f,"network-request-failed"))},Vo.get());ot()[Wi]=()=>{ot().clearTimeout(te),delete ot()[Wi];const pt=ot().grecaptcha;if(!pt||!jt(pt))return void Z(Je(f,"internal-error"));const qt=pt.render;pt.render=(yn,Zn)=>{const $r=qt(yn,Zn);return this.counter++,$r},this.hostLanguage=y,A(pt)},ur(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:Wi,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(te),Z(Je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var y;return!!(null===(y=ot().grecaptcha)||void 0===y?void 0:y.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Du{load(f){return(0,m.Z)(function*(){return new Ts(f)})()}clearedOneInstance(){}}const hl="recaptcha",Gs={theme:"light",type:"image"};class cu{constructor(f,y=Object.assign({},Gs),A){this.parameters=y,this.type=hl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=or(A),this.isInvisible="invisible"===this.parameters.size,ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof f?document.getElementById(f):f;ge(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Du:new pa,this.validateStartingState()}verify(){var f=this;return(0,m.Z)(function*(){f.assertNotDestroyed();const y=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(y)||new Promise(te=>{const Ue=pt=>{!pt||(f.tokenChangeListeners.delete(Ue),te(pt))};f.tokenChangeListeners.add(Ue),f.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof f)f(y);else if("string"==typeof f){const A=ot()[f];"function"==typeof A&&A(y)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,m.Z)(function*(){if(yield f.init(),!f.widgetId){let y=f.container;if(!f.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}f.widgetId=f.getAssertedRecaptcha().render(y,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,m.Z)(function*(){ge(Ye()&&!sr(),f.auth,"internal-error"),yield function Xa(){let C=null;return new Promise(f=>{"complete"!==document.readyState?(C=()=>f(),window.addEventListener("load",C)):f()}).catch(f=>{throw C&&window.removeEventListener("load",C),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const y=yield function Be(C){return je.apply(this,arguments)}(f.auth);ge(y,f.auth,"internal-error"),f.parameters.sitekey=y})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(f,y){this.verificationId=f,this.onConfirmation=y}confirm(f){const y=Gi._fromVerification(this.verificationId,f);return this.onConfirmation(y)}}function ti(C,f,y){return ga.apply(this,arguments)}function ga(){return(ga=(0,m.Z)(function*(C,f,y){const A=or(C),Z=yield eu(A,f,(0,v.m9)(y));return new ks(Z,te=>R(A,te))})).apply(this,arguments)}function Uo(C,f,y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C);yield cs(!1,A,"phone");const Z=yield eu(A.auth,f,(0,v.m9)(y));return new ks(Z,te=>ve(A,te))})).apply(this,arguments)}function du(C,f,y){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C),Z=yield eu(A.auth,f,(0,v.m9)(y));return new ks(Z,te=>Rr(A,te))})).apply(this,arguments)}function eu(C,f,y){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(C,f,y){var A;const Z=yield y.verify();try{let te;if(ge("string"==typeof Z,C,"argument-error"),ge(y.type===hl,C,"argument-error"),te="string"==typeof f?{phoneNumber:f}:f,"session"in te){const Ue=te.session;if("phoneNumber"in te)return ge("enroll"===Ue.type,C,"internal-error"),(yield ko(C,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{ge("signin"===Ue.type,C,"internal-error");const pt=(null===(A=te.multiFactorHint)||void 0===A?void 0:A.uid)||te.multiFactorUid;return ge(pt,C,"missing-multi-factor-info"),(yield zu(C,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield So(C,{phoneNumber:te.phoneNumber,recaptchaToken:Z});return Ue}}finally{y._reset()}})).apply(this,arguments)}function Su(C,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(C,f){yield cr((0,v.m9)(C),f)})).apply(this,arguments)}let Wu=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=or(y)}verifyPhoneNumber(y,A){return eu(this.auth,y,(0,v.m9)(A))}static credential(y,A){return Gi._fromVerification(y,A)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:Z}=y;return A&&Z?Gi._fromTokenResponse(A,Z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Eo(C,f){return f?er(f):(ge(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Ba extends Nt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Oi(f,this._buildIdpRequest())}_linkToIdToken(f,y){return Oi(f,this._buildIdpRequest(y))}_getReauthenticationResolver(f){return Oi(f,this._buildIdpRequest())}_buildIdpRequest(f){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(y.idToken=f),y}}function Yi(C){return j(C.auth,new Ba(C),C.bypassAuthState)}function jo(C){const{auth:f,user:y}=C;return ge(y,f,"internal-error"),Zo(y,new Ba(C),C.bypassAuthState)}function xu(C){return ma.apply(this,arguments)}function ma(){return(ma=(0,m.Z)(function*(C){const{auth:f,user:y}=C;return ge(y,f,"internal-error"),cr(y,new Ba(C),C.bypassAuthState)})).apply(this,arguments)}class Mu{constructor(f,y,A,Z,te=!1){this.auth=f,this.resolver=A,this.user=Z,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var f=this;return new Promise(function(){var y=(0,m.Z)(function*(A,Z){f.pendingPromise={resolve:A,reject:Z};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(te){f.reject(te)}});return function(A,Z){return y.apply(this,arguments)}}())}onAuthEvent(f){var y=this;return(0,m.Z)(function*(){const{urlResponse:A,sessionId:Z,postBody:te,tenantId:Ue,error:pt,type:qt}=f;if(pt)return void y.reject(pt);const yn={auth:y.auth,requestUri:A,sessionId:Z,tenantId:Ue||void 0,postBody:te||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(qt)(yn))}catch(Zn){y.reject(Zn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Yi;case"linkViaPopup":case"linkViaRedirect":return xu;case"reauthViaPopup":case"reauthViaRedirect":return jo;default:Ge(this.auth,"internal-error")}}resolve(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fl=new zt(2e3,1e4);function $o(C,f,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*(C,f,y){const A=or(C);nt(C,f,tr);const Z=Eo(A,y);return new Zi(A,"signInViaPopup",f,Z).executeNotNull()})).apply(this,arguments)}function wc(C,f,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C);nt(A.auth,f,tr);const Z=Eo(A.auth,y);return new Zi(A.auth,"reauthViaPopup",f,Z,A).executeNotNull()})).apply(this,arguments)}function Pu(C,f,y){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C);nt(A.auth,f,tr);const Z=Eo(A.auth,y);return new Zi(A.auth,"linkViaPopup",f,Z,A).executeNotNull()})).apply(this,arguments)}let Zi=(()=>{class C extends Mu{constructor(y,A,Z,te,Ue){super(y,A,te,Ue),this.provider=Z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,m.Z)(function*(){const A=yield y.execute();return ge(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,m.Z)(function*(){Fe(1===y.filter.length,"Popup operations only handle one event");const A=pe();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(Z=>{y.reject(Z)}),y.resolver._isIframeWebStorageSupported(y.auth,Z=>{Z||y.reject(Je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,Z;this.pollId=(null===(Z=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===Z?void 0:Z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,fl.get())};y()}}return C.currentPopupAction=null,C})();const _a=new Map;class ns extends Mu{constructor(f,y,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,y=this;return(0,m.Z)(function*(){let A=_a.get(y.auth._key());if(!A){try{const te=(yield function fu(C,f){return ao.apply(this,arguments)}(y.resolver,y.auth))?yield f().call(y):null;A=()=>Promise.resolve(te)}catch(Z){A=()=>Promise.reject(Z)}_a.set(y.auth._key(),A)}return y.bypassAuthState||_a.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var y=()=>super.onAuthEvent,A=this;return(0,m.Z)(function*(){if("signInViaRedirect"===f.type)return y().call(A,f);if("unknown"!==f.type){if(f.eventId){const Z=yield A.auth._redirectUserForId(f.eventId);if(Z)return A.user=Z,y().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function ao(){return(ao=(0,m.Z)(function*(C,f){const y=ru(f),A=Ei(C);if(!(yield A._isAvailable()))return!1;const Z="true"===(yield A._get(y));return yield A._remove(y),Z})).apply(this,arguments)}function tu(C,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(C,f){return Ei(C)._set(ru(f),"true")})).apply(this,arguments)}function nu(){_a.clear()}function ji(C,f){_a.set(C._key(),f)}function Ei(C){return er(C._redirectPersistence)}function ru(C){return Yr("pendingRedirect",C.config.apiKey,C.name)}function ja(C,f,y){return function Fs(C,f,y){return iu.apply(this,arguments)}(C,f,y)}function iu(){return(iu=(0,m.Z)(function*(C,f,y){const A=or(C);nt(C,f,tr),yield A._initializationPromise;const Z=Eo(A,y);return yield tu(Z,A),Z._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function Ou(C,f,y){return function qi(C,f,y){return Ru.apply(this,arguments)}(C,f,y)}function Ru(){return(Ru=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C);nt(A.auth,f,tr),yield A.auth._initializationPromise;const Z=Eo(A.auth,y);yield tu(Z,A.auth);const te=yield ea(A);return Z._openRedirect(A.auth,f,"reauthViaRedirect",te)})).apply(this,arguments)}function va(C,f,y){return function wi(C,f,y){return Qs.apply(this,arguments)}(C,f,y)}function Qs(){return(Qs=(0,m.Z)(function*(C,f,y){const A=(0,v.m9)(C);nt(A.auth,f,tr),yield A.auth._initializationPromise;const Z=Eo(A.auth,y);yield cs(!1,A,f.providerId),yield tu(Z,A.auth);const te=yield ea(A);return Z._openRedirect(A.auth,f,"linkViaRedirect",te)})).apply(this,arguments)}function qu(C,f){return su.apply(this,arguments)}function su(){return(su=(0,m.Z)(function*(C,f){return yield or(C)._initializationPromise,Ea(C,f,!1)})).apply(this,arguments)}function Ea(C,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,m.Z)(function*(C,f,y=!1){const A=or(C),Z=Eo(A,f),Ue=yield new ns(A,Z,y).execute();return Ue&&!y&&(delete Ue.user._redirectEventId,yield A._persistUserIfCurrent(Ue.user),yield A._setRedirectUser(null,f)),Ue})).apply(this,arguments)}function ea(C){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(C){const f=pe(`${C.uid}:::`);return C._redirectEventId=f,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),f})).apply(this,arguments)}class Ho{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(y=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ws(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ta(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=f,y=!0)),y}sendToConsumer(f,y){var A;if(f.error&&!ta(f)){const Z=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(Je(this.auth,Z))}else y.onAuthEvent(f)}isEventForConsumer(f,y){const A=null===y.eventId||!!f.eventId&&f.eventId===y.eventId;return y.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ls(f))}saveEventToCache(f){this.cachedEventUids.add(Ls(f)),this.lastProcessedEventTime=Date.now()}}function Ls(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function ta({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===(null==f?void 0:f.code)}function gu(C){return I.apply(this,arguments)}function I(){return(I=(0,m.Z)(function*(C,f={}){return Yt(C,"GET","/v1/projects",f)})).apply(this,arguments)}const h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d=/^https?/;function N(){return(N=(0,m.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield gu(C);for(const y of f)try{if(K(y))return}catch(A){}Ge(C,"unauthorized-domain")})).apply(this,arguments)}function K(C){const f=qe(),{protocol:y,hostname:A}=new URL(f);if(C.startsWith("chrome-extension://")){const Ue=new URL(C);return""===Ue.hostname&&""===A?"chrome-extension:"===y&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===y&&Ue.hostname===A}if(!d.test(y))return!1;if(h.test(C))return A===C;const Z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(A)}const ce=new zt(3e4,6e4);function ye(){const C=ot().___jsl;if(null==C?void 0:C.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let _t=null;function en(C){return _t=_t||function $e(C){return new Promise((f,y)=>{var A,Z,te;function Ue(){ye(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ye(),y(Je(C,"network-request-failed"))},timeout:ce.get()})}if(null===(Z=null===(A=ot().gapi)||void 0===A?void 0:A.iframes)||void 0===Z?void 0:Z.Iframe)f(gapi.iframes.getContext());else{if(!(null===(te=ot().gapi)||void 0===te?void 0:te.load)){const pt=kr("iframefcb");return ot()[pt]=()=>{gapi.load?Ue():y(Je(C,"network-request-failed"))},ur(`https://apis.google.com/js/api.js?onload=${pt}`).catch(qt=>y(qt))}Ue()}}).catch(f=>{throw _t=null,f})}(C),_t}const Fn=new zt(5e3,15e3),jn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fi(C){const f=C.config;ge(f.authDomain,C,"auth-domain-config-required");const y=f.emulator?$t(f,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,A={apiKey:f.apiKey,appName:C.name,v:_.SDK_VERSION},Z=Pn.get(C.config.apiHost);Z&&(A.eid=Z);const te=C._getFrameworks();return te.length&&(A.fw=te.join(",")),`${y}?${(0,v.xO)(A).slice(1)}`}function Ci(){return Ci=(0,m.Z)(function*(C){const f=yield en(C),y=ot().gapi;return ge(y,C,"internal-error"),f.open({where:document.body,url:fi(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jn,dontclear:!0},A=>new Promise(function(){var Z=(0,m.Z)(function*(te,Ue){yield A.restyle({setHideOnLeave:!1});const pt=Je(C,"network-request-failed"),qt=ot().setTimeout(()=>{Ue(pt)},Fn.get());function yn(){ot().clearTimeout(qt),te(A)}A.ping(yn).then(yn,()=>{Ue(pt)})});return function(te,Ue){return Z.apply(this,arguments)}}()))}),Ci.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class De{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}const Qn=encodeURIComponent("fac");function $n(C,f,y,A,Z,te){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,m.Z)(function*(C,f,y,A,Z,te){ge(C.config.authDomain,C,"auth-domain-config-required"),ge(C.config.apiKey,C,"invalid-api-key");const Ue={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:A,v:_.SDK_VERSION,eventId:Z};if(f instanceof tr){f.setDefaultLanguage(C.languageCode),Ue.providerId=f.providerId||"",(0,v.xb)(f.getCustomParameters())||(Ue.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Zn,$r]of Object.entries(te||{}))Ue[Zn]=$r}if(f instanceof ls){const Zn=f.getScopes().filter($r=>""!==$r);Zn.length>0&&(Ue.scopes=Zn.join(","))}C.tenantId&&(Ue.tid=C.tenantId);const pt=Ue;for(const Zn of Object.keys(pt))void 0===pt[Zn]&&delete pt[Zn];const qt=yield C._getAppCheckToken(),yn=qt?`#${Qn}=${encodeURIComponent(qt)}`:"";return`${on(C)}?${(0,v.xO)(pt).slice(1)}${yn}`})).apply(this,arguments)}function on({config:C}){return C.emulator?$t(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}const Vn="webStorageSupport",Lr=class ir{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F,this._completeRedirectFn=Ea,this._overrideRedirectResult=ji}_openPopup(f,y,A,Z){var te=this;return(0,m.Z)(function*(){var Ue;Fe(null===(Ue=te.eventManagers[f._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const pt=yield $n(f,y,A,qe(),Z);return function Ke(C,f,y,A=500,Z=600){const te=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ue=Math.max((window.screen.availWidth-A)/2,0).toString();let pt="";const qt=Object.assign(Object.assign({},T),{width:A.toString(),height:Z.toString(),top:te,left:Ue}),yn=(0,v.z$)().toLowerCase();y&&(pt=Y(yn)?"_blank":y),ie(yn)&&(f=f||"http://localhost",qt.scrollbars="yes");const Zn=Object.entries(qt).reduce((Zs,[is,ml])=>`${Zs}${is}=${ml},`,"");if(function gn(C=(0,v.z$)()){var f;return fn(C)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(yn)&&"_self"!==pt)return function Wt(C,f){const y=document.createElement("a");y.href=C,y.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(f||"",pt),new De(null);const $r=window.open(f||"",pt,Zn);ge($r,C,"popup-blocked");try{$r.focus()}catch(Zs){}return new De($r)}(f,pt,pe())})()}_openRedirect(f,y,A,Z){var te=this;return(0,m.Z)(function*(){return yield te._originValidation(f),function an(C){ot().location.href=C}(yield $n(f,y,A,qe(),Z)),new Promise(()=>{})})()}_initialize(f){const y=f._key();if(this.eventManagers[y]){const{manager:Z,promise:te}=this.eventManagers[y];return Z?Promise.resolve(Z):(Fe(te,"If manager is not set, promise should be"),te)}const A=this.initAndGetManager(f);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(f){var y=this;return(0,m.Z)(function*(){const A=yield function Er(C){return Ci.apply(this,arguments)}(f),Z=new Ho(f);return A.register("authEvent",te=>(ge(null==te?void 0:te.authEvent,f,"invalid-auth-event"),{status:Z.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[f._key()]={manager:Z},y.iframes[f._key()]=A,Z})()}_isIframeWebStorageSupported(f,y){this.iframes[f._key()].send(Vn,{type:Vn},Z=>{var te;const Ue=null===(te=null==Z?void 0:Z[0])||void 0===te?void 0:te[Vn];void 0!==Ue&&y(!!Ue),Ge(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function E(C){return N.apply(this,arguments)}(f)),this.originValidationPromises[y]}get _shouldInitProactively(){return Tt()||se()||fn()}};class rs extends class bi{constructor(f){this.factorId=f}_process(f,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(f,y.credential,A);case"signin":return this._finalizeSignIn(f,y.credential);default:return St("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new rs(f)}_finalizeEnroll(f,y,A){return function bu(C,f){return Yt(C,"POST","/v2/accounts/mfaEnrollment:finalize",dn(C,f))}(f,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,y){return function Gu(C,f){return Yt(C,"POST","/v2/accounts/mfaSignIn:finalize",dn(C,f))}(f,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vs=(()=>{class C{constructor(){}static assertion(y){return rs._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var Ds="@firebase/auth";class na{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,m.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(A=>{f((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);!y||(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kl=(0,v.Pz)("authIdTokenMaxAge")||300;let $a=null;const bc=C=>function(){var f=(0,m.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),Z=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(Z&&Z>Kl)return;const te=null==A?void 0:A.token;$a!==te&&($a=te,yield fetch(C,{method:te?"POST":"DELETE",headers:te?{Authorization:`Bearer ${te}`}:{}}))});return function(y){return f.apply(this,arguments)}}();function gl(C=(0,_.getApp)()){const f=(0,_._getProvider)(C,"auth");if(f.isInitialized())return f.getImmediate();const y=function Ai(C,f){const y=(0,_._getProvider)(C,"auth");if(y.isInitialized()){const Z=y.getImmediate(),te=y.getOptions();if((0,v.vZ)(te,null!=f?f:{}))return Z;Ge(Z,"already-initialized")}return y.initialize({options:f})}(C,{popupRedirectResolver:Lr,persistence:[Tu,D,F]}),A=(0,v.Pz)("authTokenSyncURL");if(A){const te=bc(A);(function ka(C,f,y){(0,v.m9)(C).beforeAuthStateChanged(f,y)})(y,te,()=>te(y.currentUser)),function Qa(C,f,y,A){(0,v.m9)(C).onIdTokenChanged(f,y,A)}(y,Ue=>te(Ue))}const Z=(0,v.q4)("auth");return Z&&Or(y,`http://${Z}`),y}!function Nu(C){(0,_._registerComponent)(new Ae.wA("auth",(f,{options:y})=>{const A=f.getProvider("app").getImmediate(),Z=f.getProvider("heartbeat"),te=f.getProvider("app-check-internal"),{apiKey:Ue,authDomain:pt}=A.options;ge(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:A.name});const qt={apiKey:Ue,authDomain:pt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qt(C)},yn=new Ti(A,Z,te,qt);return function Si(C,f){const y=(null==f?void 0:f.persistence)||[],A=(Array.isArray(y)?y:[y]).map(er);(null==f?void 0:f.errorMap)&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(A,null==f?void 0:f.popupRedirectResolver)}(yn,y),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,A)=>{f.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new Ae.wA("auth-internal",f=>{const y=or(f.getProvider("auth").getImmediate());return new na(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(Ds,"0.23.2",function Ma(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,_.registerVersion)(Ds,"0.23.2","esm2017")}("Browser")},2810:(Gt,He,V)=>{V.d(He,{u7:()=>vy,Jj:()=>ol,IX:()=>Xm,my:()=>Ss,xU:()=>_c,Lz:()=>al,WA:()=>Pt,F8:()=>hf,$q:()=>Hl,W:()=>vc,EK:()=>Cr,PU:()=>mg,l7:()=>ea,Ky:()=>Zt,Xb:()=>Fr,Cf:()=>oi,K9:()=>Jo,Me:()=>Ou,yq:()=>Is,Wi:()=>Qm,ET:()=>Y_,Ab:()=>My,vr:()=>w0,Fc:()=>iy,hJ:()=>P_,B$:()=>O_,at:()=>ng,oe:()=>K_,AK:()=>v0,TF:()=>og,JU:()=>rg,ST:()=>F_,fH:()=>ny,Ix:()=>sg,Wu:()=>my,Lx:()=>gy,qY:()=>Ji,GL:()=>ud,QT:()=>Us,kl:()=>Ey,Xk:()=>Z_,PL:()=>q_,UQ:()=>wy,zN:()=>Cy,ad:()=>ey,nP:()=>Af,b9:()=>dy,vh:()=>hy,Pb:()=>L_,L$:()=>sy,cf:()=>Q_,sc:()=>Xd,Xo:()=>z_,IO:()=>$_,iE:()=>qs,Eo:()=>R_,i3:()=>_0,Bt:()=>E0,pl:()=>by,Ub:()=>bu,qK:()=>bf,TQ:()=>py,e0:()=>fy,r7:()=>Iy,Mx:()=>u0,ar:()=>H_});var de,m=V(5861),v=V(6881),_=V(4859),Ee=V(1877),oe=V(2090),Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Se={},We=We||{},ae=Ae||self;function he(){}function ke(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function at(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),Ct=0;function Ne(i,e,t){return i.call.apply(i.bind,arguments)}function st(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function Mt(i,e,t){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:st).apply(null,arguments)}function Ft(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ge(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,c){for(var p=Array(arguments.length-2),S=2;S<arguments.length;S++)p[S-2]=arguments[S];return e.prototype[a].apply(s,p)}}function Je(){this.s=this.s,this.o=this.o}Je.prototype.s=!1,Je.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ct(i){Object.prototype.hasOwnProperty.call(i,tt)&&i[tt]||(i[tt]=++Ct)}(this)},Je.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function vt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function ge(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ke(s)){const a=i.length||0,c=s.length||0;i.length=a+c;for(let p=0;p<c;p++)i[a+p]=s[p]}else i.push(s)}}function St(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ae.addEventListener("test",he,e),ae.removeEventListener("test",he,e)}catch(t){}return i}();function qe(i){return/^[\s\xa0]*$/.test(i)}var Ye=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function dt(i,e){return i<e?-1:i>e?1:0}function ut(){var i=ae.navigator;return i&&(i=i.userAgent)?i:""}function bt(i){return-1!=ut().indexOf(i)}function zt(i){return zt[" "](i),i}function $t(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}zt[" "]=he;var Hn,i,un=bt("Opera"),It=bt("Trident")||bt("MSIE"),Yn=bt("Edge"),dn=Yn||It,Yt=bt("Gecko")&&!(-1!=ut().toLowerCase().indexOf("webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),xn=-1!=ut().toLowerCase().indexOf("webkit")&&!bt("Edge");function wn(){var i=ae.document;return i?i.documentMode:void 0}e:{var Tn="",qn=(i=ut(),Yt?/rv:([^\);]+)(\)|;)/.exec(i):Yn?/Edge\/([\d\.]+)/.exec(i):It?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):xn?/WebKit\/(\S+)/.exec(i):un?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(qn&&(Tn=qn?qn[1]:""),It){var _r=wn();if(null!=_r&&_r>parseFloat(Tn)){Hn=String(_r);break e}}Hn=Tn}var di={},Mr=ae.document&&It&&(wn()||parseInt(Hn,10))||void 0;function Vr(i,e){if(St.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Yt){e:{try{zt(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:hn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vr.$.h.call(this)}}Ge(Vr,St);var hn={2:"touch",3:"pen",4:"mouse"};Vr.prototype.h=function(){Vr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),Un=0;function pn(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Un,this.fa=this.ia=!1}function ni(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Mi(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function mt(i){const e={};for(const t in i)e[t]=i[t];return e}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let c=0;c<be.length;c++)t=be[c],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function gt(i){this.src=i,this.g={},this.h=0}function Le(i,e){var t=e.type;if(t in i.g){var c,s=i.g[t],a=nt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(ni(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function xt(i,e,t,s){for(var a=0;a<i.length;++a){var c=i[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}gt.prototype.add=function(i,e,t,s,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=xt(i,e,s,a);return-1<p?(e=i[p],t||(e.ia=!1)):((e=new pn(e,this.src,c,!!s,a)).ia=t,i.push(e)),e};var Ot="closure_lm_"+(1e6*Math.random()|0),Xn={};function On(i,e,t,s,a){if(s&&s.once)return pr(i,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)On(i,e[c],t,s,a);return null}return t=kn(t),i&&i[Jn]?i.O(e,t,at(s)?!!s.capture:!!s,a):Cn(i,e,t,!1,s,a)}function Cn(i,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=at(a)?!!a.capture:!!a,S=Pr(i);if(S||(i[Ot]=S=new gt(i)),(t=S.add(e,t,s,p,c)).proxy)return t;if(s=function Gr(){const e=Nn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Fe||(a=p),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(dr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function pr(i,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)pr(i,e[c],t,s,a);return null}return t=kn(t),i&&i[Jn]?i.P(e,t,at(s)?!!s.capture:!!s,a):Cn(i,e,t,!0,s,a)}function Rn(i,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Rn(i,e[c],t,s,a);else s=at(s)?!!s.capture:!!s,t=kn(t),i&&i[Jn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=xt(c=i.g[e],t,s,a))&&(ni(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Pr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=xt(e,t,s,a)),(t=-1<i?e[i]:null)&&Ht(t))}function Ht(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Jn])Le(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(dr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Pr(e))?(Le(t,i),0==t.h&&(t.src=null,e[Ot]=null)):ni(i)}}}function dr(i){return i in Xn?Xn[i]:Xn[i]="on"+i}function Nn(i,e){if(i.fa)i=!0;else{e=new Vr(e,this);var t=i.listener,s=i.la||i.src;i.ia&&Ht(i),i=t.call(s,e)}return i}function Pr(i){return(i=i[Ot])instanceof gt?i:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(i){return"function"==typeof i?i:(i[tn]||(i[tn]=function(e){return i.handleEvent(e)}),i[tn])}function Ln(){Je.call(this),this.i=new gt(this),this.S=this,this.J=null}function er(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new St(e,i);else if(e instanceof St)e.target=e.target||i;else{var a=e;xe(e=new St(s,i),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=ai(p,s,!0,e)&&a}if(a=ai(p=e.g=i,s,!0,e)&&a,a=ai(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ai(p=e.g=t[c],s,!1,e)&&a}function ai(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var S=p.listener,B=p.la||p.src;p.ia&&Le(i.i,p),a=!1!==S.call(B,s)&&a}}return a&&!s.defaultPrevented}Ge(Ln,Je),Ln.prototype[Jn]=!0,Ln.prototype.removeEventListener=function(i,e,t,s){Rn(this,i,e,t,s)},Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)ni(t[s]);delete i.g[e],i.h--}}this.J=null},Ln.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Ln.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var ri=ae.JSON.stringify;function Yr(){var i=In;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Re,me=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function se(i){ae.setTimeout(()=>{throw i},0)}function Y(i,e){Re||function Qe(){var i=ae.Promise.resolve(void 0);Re=function(){i.then(fn)}}(),Bt||(Re(),Bt=!0),In.add(i,e)}var Bt=!1,In=new class we{constructor(){this.h=this.g=null}add(e,t){const s=me.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function fn(){for(var i;i=Yr();){try{i.h.call(i.g)}catch(t){se(t)}var e=me;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Bt=!1}function Bn(i,e){Ln.call(this),this.h=i||1,this.g=e||ae,this.j=Mt(this.qb,this),this.l=Date.now()}function gn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function vr(i,e,t){if("function"==typeof i)t&&(i=Mt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Mt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ae.setTimeout(i,e||0)}function Tt(i){i.g=vr(()=>{i.g=null,i.i&&(i.i=!1,Tt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(Bn,Ln),(de=Bn.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),er(this,"tick"),this.ga&&(gn(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){Bn.$.N.call(this),gn(this),delete this.g};class Rt extends Je{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(i){Je.call(this),this.h=i,this.g={}}Ge(Qt,Je);var Be=[];function je(i,e,t,s){Array.isArray(t)||(t&&(Be[0]=t.toString()),t=Be);for(var a=0;a<t.length;a++){var c=On(e,t[a],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Et(i){Mi(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ht(e)},i),i.g={}}function it(){this.g=!0}function An(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ur(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return ri(t)}catch(S){return e}}(i,t)+(s?" "+s:"")})}Qt.prototype.N=function(){Qt.$.N.call(this),Et(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},it.prototype.Ea=function(){this.g=!1},it.prototype.info=function(){};var kr={},gr=null;function Bi(){return gr=gr||new Ln}function Hi(i){St.call(this,kr.Ta,i)}function Sn(i){const e=Bi();er(e,new Hi(e))}function Ii(i,e){St.call(this,kr.STAT_EVENT,i),this.stat=e}function Br(i){const e=Bi();er(e,new Ii(e,i))}function Bs(i,e){St.call(this,kr.Ua,i),this.size=e}function Ti(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){i()},e)}kr.Ta="serverreachability",Ge(Hi,St),kr.STAT_EVENT="statevent",Ge(Ii,St),kr.Ua="timingevent",Ge(Bs,St);var or={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Di={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ai(){}function Or(){}Ai.prototype.h=null;var yt,Ve={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pe(){St.call(this,"d")}function ze(){St.call(this,"c")}function Nt(){}function Mn(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new Qt(this),this.P=le,this.V=new Bn(i=dn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new ar}function ar(){this.i=null,this.g="",this.h=!1}Ge(Pe,St),Ge(ze,St),Ge(Nt,Ai),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},yt=new Nt;var le=45e3,q={},$={};function _e(i,e,t){i.L=1,i.v=So(gi(e)),i.s=t,i.S=!0,et(i,null)}function et(i,e){i.G=Date.now(),Li(i),i.A=gi(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Ca(t.i,"t",s),i.C=0,t=i.l.I,i.h=new ar,i.g=Ka(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Rt(Mt(i.Pa,i,i.g),i.O)),je(i.U,i.g,"readystatechange",i.nb),e=i.I?mt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Sn(),function jt(i,e,t,s,a,c){i.info(function(){if(i.g)if(c)for(var p="",S=c.split("&"),B=0;B<S.length;B++){var G=S[B].split("=");if(1<G.length){var re=G[0];G=G[1];var Ce=re.split("_");p=2<=Ce.length&&"type"==Ce[1]?p+(re+"=")+G+"&":p+(re+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function vn(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Hr(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=Pi(i,t),a==$){4==e&&(i.o=4,Br(14),s=!1),An(i.j,i.m,null,"[Incomplete Response]");break}if(a==q){i.o=4,Br(15),An(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}An(i.j,i.m,a,null),eo(i,a)}vn(i)&&a!=$&&a!=q&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Br(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Po(e),e.L=!0,Br(11))):(An(i.j,i.m,t,"[Invalid Chunked Response]"),xs(i),as(i))}function Pi(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?$:(t=Number(e.substring(t,s)),isNaN(t)?q:(s+=1)+t>e.length?$:(e=e.substr(s,t),i.C=s+t,e))}function Li(i){i.Y=Date.now()+i.P,Xi(i,i.P)}function Xi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ti(Mt(i.lb,i),e)}function zi(i){i.B&&(ae.clearTimeout(i.B),i.B=null)}function as(i){0==i.l.H||i.J||Ia(i.l,i)}function xs(i){zi(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,gn(i.V),Et(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function eo(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||U(t.h,i)))if(!i.K&&U(t.h,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch(G){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=Ti(Mt(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<i.G))break e;Hs(t),Ri(t)}Yo(t),Br(18)}if(1>=ii(t.h)&&t.na){try{t.na()}catch(G){}t.na=void 0}}else hs(t,11)}else if((i.K||t.g==i)&&Hs(t),!qe(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let G=a[e];if(t.V=G[0],G=G[1],2==t.H)if("c"==G[0]){t.J=G[1],t.oa=G[2];const re=G[3];null!=re&&(t.qa=re,t.j.info("VER="+t.qa));const Ce=G[4];null!=Ce&&(t.Ga=Ce,t.j.info("SVER="+t.Ga));const rt=G[5];null!=rt&&"number"==typeof rt&&0<rt&&(t.K=s=1.5*rt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const wt=i.g;if(wt){const Kt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var c=s.h;c.g||-1==Kt.indexOf("spdy")&&-1==Kt.indexOf("quic")&&-1==Kt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Q(c,c.h),c.h=null))}if(s.F){const En=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(s.Da=En,lr(s.G,s.F,En))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var p=i;if((s=t).wa=po(s,s.I?s.oa:null,s.Y),p.K){L(s.h,p);var S=p,B=s.K;B&&S.setTimeout(B),S.B&&(zi(S),Li(S)),s.g=p}else $s(s);0<t.i.length&&ba(t)}else"stop"!=G[0]&&"close"!=G[0]||hs(t,7);else 3==t.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?hs(t,7):ds(t):"noop"!=G[0]&&t.l&&t.l.Aa(G),t.A=0)}Sn()}catch(G){}}function Go(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ke(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ao(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(ke(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Do(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ke(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],i)}(de=Mn.prototype).setTimeout=function(i){this.P=i},de.nb=function(i){i=i.target;const e=this.M;e&&3==ve(i)?e.l():this.Pa(i)},de.Pa=function(i){try{if(i==this.g)e:{const re=ve(this.g);var e=this.g.Ia();if(this.g.da(),!(3>re)&&(3!=re||dn||this.g&&(this.h.h||this.g.ja()||Lt(this.g)))){this.J||4!=re||7==e||Sn(),zi(this);var t=this.g.da();this.aa=t;t:if(vn(this)){var s=Lt(this.g);i="";var a=s.length,c=4==ve(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xs(this),as(this);var p="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function nn(i,e,t,s,a,c,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,re,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qe(S)){var G=S;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,Br(12),xs(this),as(this);break e}An(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,t)}this.S?(Hr(this,re,p),dn&&this.i&&3==re&&(je(this.U,this.V,"tick",this.mb),this.V.start())):(An(this.j,this.m,p,null),eo(this,p)),4==re&&xs(this),this.i&&!this.J&&(4==re?Ia(this.l,this):(this.i=!1,Li(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),xs(this),as(this)}}}catch(re){}},de.mb=function(){if(this.g){var i=ve(this.g),e=this.g.ja();this.C<e.length&&(zi(this),Hr(this,i,e),this.i&&4!=i&&Li(this))}},de.cancel=function(){this.J=!0,xs(this)},de.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ur(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sn(),Br(17)),xs(this),this.o=2,as(this)):Xi(this,this.Y-i)};var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ui(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ui){this.h=void 0!==e?e:i.h,Oi(this,i.j),this.s=i.s,this.g=i.g,es(this,i.m),this.l=i.l,e=i.i;var t=new Gi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sa(this,t),this.o=i.o}else i&&(t=String(i).match(co))?(this.h=!!e,Oi(this,t[1]||"",!0),this.s=ys(t[2]||""),this.g=ys(t[3]||"",!0),es(this,t[4]),this.l=ys(t[5]||"",!0),sa(this,t[6]||"",!0),this.o=ys(t[7]||"")):(this.h=!!e,this.i=new Gi(null,this.h))}function gi(i){return new ui(i)}function Oi(i,e,t){i.j=t?ys(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function es(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function sa(i,e,t){e instanceof Gi?(i.i=e,function tr(i,e){e&&!i.j&&(li(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(to(this,s),Ca(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ms(e,Oa)),i.i=new Gi(e,i.h))}function lr(i,e,t){i.i.set(e,t)}function So(i){return lr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ys(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ms(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ho),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ho(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ui.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ms(e,js,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ms(e,js,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ms(t,"/"==t.charAt(0)?_s:Wo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ms(t,xo)),i.join("")};var js=/[#\/\?@]/g,Wo=/[#\?:]/g,_s=/[#\?]/g,Oa=/[#\?@]/g,xo=/#/g;function Gi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function li(i){i.g||(i.g=new Map,i.h=0,i.i&&function ia(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var c=i[t].substring(0,s);a=i[t].substring(s+1)}else c=i[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function to(i,e){li(i),e=us(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ps(i,e){return li(i),e=us(i,e),i.g.has(e)}function Ca(i,e,t){to(i,e),0<t.length&&(i.i=null,i.g.set(us(i,e),vt(t)),i.h+=t.length)}function us(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ki(i){this.l=i||fo,i=ae.PerformanceNavigationTiming?0<(i=ae.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=Gi.prototype).add=function(i,e){li(this),this.i=null,i=us(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},de.forEach=function(i,e){li(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},de.sa=function(){li(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},de.Z=function(i){li(this);let e=[];if("string"==typeof i)Ps(this,i)&&(e=e.concat(this.g.get(us(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},de.set=function(i,e){return li(this),this.i=null,Ps(this,i=us(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},de.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),i.push(a)}}return this.i=i.join("&")};var fo=10;function Ra(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ii(i){return i.h?1:i.g?i.g.size:0}function U(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Q(i,e){i.g?i.g.add(e):i.h=e}function L(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ne(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return vt(i.i)}function Te(){}function ft(){this.g=new Te}function Dt(i,e,t){const s=t||"";try{Go(i,function(a,c){let p=a;at(a)&&(p=ri(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ar(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(c){}}function Ir(i){this.l=i.fc||null,this.j=i.ob||!1}function rr(i,e){Ln.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=mr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ki.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Te.prototype.stringify=function(i){return ae.JSON.stringify(i,void 0)},Te.prototype.parse=function(i){return ae.JSON.parse(i,void 0)},Ge(Ir,Ai),Ir.prototype.g=function(){return new rr(this.l,this.j)},Ir.prototype.i=function(i){return function(){return i}}({}),Ge(rr,Ln);var mr=0;function ci(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function jr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Jr(i)}function Jr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(de=rr.prototype).open=function(i,e){if(this.readyState!=mr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Jr(this)},de.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jr(this)),this.readyState=mr},de.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ae.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ci(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?jr(this):Jr(this),3==this.readyState&&ci(this)}},de.Za=function(i){this.g&&(this.response=this.responseText=i,jr(this))},de.Ya=function(i){this.g&&(this.response=i,jr(this))},de.ka=function(){this.g&&jr(this)},de.setRequestHeader=function(i,e){this.v.append(i,e)},de.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var vs=ae.JSON.parse;function cr(i){Ln.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zn,this.L=this.M=!1}Ge(cr,Ln);var zn="",cs=/^https?$/i,Mo=["POST","PUT"];function qo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,j(i),R(i)}function j(i){i.F||(i.F=!0,er(i,"complete"),er(i,"error"))}function k(i){if(i.h&&void 0!==We&&(!i.C[1]||4!=ve(i)||2!=i.da()))if(i.v&&4==ve(i))vr(i.La,0,i);else if(er(i,"readystatechange"),4==ve(i)){i.h=!1;try{const S=i.da();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var a=String(i.I).match(co)[1]||null;if(!a&&ae.self&&ae.self.location){var c=ae.self.location.protocol;a=c.substr(0,c.length-1)}s=!cs.test(a?a.toLowerCase():"")}t=s}if(t)er(i,"complete"),er(i,"success");else{i.m=6;try{var p=2<ve(i)?i.g.statusText:""}catch(B){p=""}i.j=p+" ["+i.da()+"]",j(i)}}finally{R(i)}}}function R(i,e){if(i.g){X(i);const t=i.g,s=i.C[0]?he:null;i.g=null,i.C=null,e||er(i,"ready");try{t.onreadystatechange=s}catch(a){}}}function X(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ae.clearTimeout(i.A),i.A=null)}function ve(i){return i.g?i.g.readyState:0}function Lt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case zn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rr(i){let e="";return Mi(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Dr(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Rr(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):lr(i,e,t))}function ts(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Es(i){this.Ga=0,this.i=[],this.j=new it,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ts("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ts("baseRetryDelayMs",5e3,i),this.hb=ts("retryDelaySeedMs",1e4,i),this.eb=ts("forwardChannelMaxRetries",2,i),this.xa=ts("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Ki(i&&i.concurrentRequestLimit),this.Ja=new ft,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function ds(i){if(vi(i),3==i.H){var e=i.W++,t=gi(i.G);lr(t,"SID",i.J),lr(t,"RID",e),lr(t,"TYPE","terminate"),no(i,t),(e=new Mn(i,i.j,e,void 0)).L=2,e.v=So(gi(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ka(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Li(e)}aa(i)}function Ri(i){i.g&&(Po(i),i.g.cancel(),i.g=null)}function vi(i){Ri(i),i.u&&(ae.clearTimeout(i.u),i.u=null),Hs(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ae.clearTimeout(i.m),i.m=null)}function ba(i){Ra(i.h)||i.m||(i.m=!0,Y(i.Na,i),i.C=0)}function Ko(i,e){var t;t=e?e.m:i.W++;const s=gi(i.G);lr(s,"SID",i.J),lr(s,"RID",t),lr(s,"AID",i.V),no(i,s),i.o&&i.s&&Dr(s,i.o,i.s),t=new Mn(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Xr(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Q(i.h,t),_e(t,s,e)}function no(i,e){i.ma&&Mi(i.ma,function(t,s){lr(e,s,t)}),i.l&&Go({},function(t,s){lr(e,s,t)})}function Xr(i,e,t){t=Math.min(i.i.length,t);var s=i.l?Mt(i.l.Va,i.l,i):null;e:{var a=i.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let S=!0;for(let B=0;B<t;B++){let G=a[B].h;const re=a[B].g;if(G-=c,0>G)c=Math.max(0,a[B].h-100),S=!1;else try{Dt(re,p,"req"+G+"_")}catch(Ce){s&&s(re)}}if(S){s=p.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,s}function $s(i){i.g||i.u||(i.ba=1,Y(i.Ma,i),i.A=0)}function Yo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ti(Mt(i.Ma,i),qa(i,i.A)),i.A++,0))}function Po(i){null!=i.B&&(ae.clearTimeout(i.B),i.B=null)}function Os(i){i.g=new Mn(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=gi(i.wa);lr(e,"RID","rpc"),lr(e,"SID",i.J),lr(e,"CI",i.M?"0":"1"),lr(e,"AID",i.V),lr(e,"TYPE","xmlhttp"),no(i,e),i.o&&i.s&&Dr(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=So(gi(e)),t.s=null,t.S=!0,et(t,i)}function Hs(i){null!=i.v&&(ae.clearTimeout(i.v),i.v=null)}function Ia(i,e){var t=null;if(i.g==e){Hs(i),Po(i),i.g=null;var s=2}else{if(!U(i.h,e))return;t=e.F,L(i.h,e),s=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;er(s=Bi(),new Bs(s,t)),ba(i)}else $s(i);else if(3==(a=e.o)||0==a&&0<i.ta||!(1==s&&function oa(i,e){return!(ii(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ti(Mt(i.Na,i,e),qa(i,i.C)),i.C++,0)))}(i,e)||2==s&&Yo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),a){case 1:hs(i,5);break;case 4:hs(i,10);break;case 3:hs(i,6);break;default:hs(i,2)}}function qa(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function hs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=Mt(i.pb,i);t||(t=new ui("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Oi(t,"https"),So(t)),function ln(i,e){const t=new it;if(ae.Image){const s=new Image;s.onload=Ft(Ar,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ft(Ar,t,s,"TestLoadImage: error",!1,e),s.onabort=Ft(Ar,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ft(Ar,t,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Br(2);i.H=0,i.l&&i.l.za(e),aa(i),vi(i)}function aa(i){if(i.H=0,i.pa=[],i.l){const e=ne(i.h);(0!=e.length||0!=i.i.length)&&(ge(i.pa,e),ge(i.pa,i.i),i.h.i.length=0,vt(i.i),i.i.length=0),i.l.ya()}}function po(i,e,t){var s=t instanceof ui?gi(t):new ui(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),es(s,s.m);else{var a=ae.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ui(null,void 0);s&&Oi(c,s),e&&(c.g=e),a&&es(c,a),t&&(c.l=t),s=c}return e=i.Da,(t=i.F)&&e&&lr(s,t,e),lr(s,"VER",i.qa),no(i,s),s}function Ka(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&i.Ha&&!i.va?new Ir({ob:!0}):i.va)).Oa(i.I),e}function Ta(){}function go(){if(It&&!(10<=Number(Mr)))throw Error("Environmental error: no available transport.")}function fs(i,e){Ln.call(this),this.g=new Es(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!qe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qe(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new la(this)}function ua(i){Pe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ni(){ze.call(this),this.status=1}function la(i){this.g=i}function Ks(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zs(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=i.g[3],p=(e=i.g[0])+(c^(t=i.g[1])&((a=i.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+c&4294967295}function zr(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var c=0|i[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(de=cr.prototype).Oa=function(i){this.M=i},de.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yt.g(),this.C=function Si(i){return i.h||(i.h=i.i())}(this.u?this.u:yt),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void qo(this,c)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ae.FormData&&i instanceof ae.FormData,!(0<=nt(Mo,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X(this),0<this.B&&((this.L=function Zo(i){return It&&function wr(){return $t(di,9,function(){let i=0;const e=Ye(String(Hn)).split("."),t=Ye("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==i&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;i=dt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||dt(0==a[2].length,0==c[2].length)||dt(a[2],c[2]),a=a[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=vr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){qo(this,c)}},de.ua=function(){void 0!==We&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},de.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,er(this,"complete"),er(this,"abort"),R(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R(this,!0)),cr.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?k(this):this.kb())},de.kb=function(){k(this)},de.da=function(){try{return 2<ve(this)?this.g.status:-1}catch(i){return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},de.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),vs(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=Es.prototype).qa=8,de.H=1,de.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new Mn(this,this.j,i,void 0);let c=this.s;if(this.U&&(c?(c=mt(c),xe(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xr(this,a,e),lr(t=gi(this.G),"RID",i),lr(t,"CVER",22),this.F&&lr(t,"X-HTTP-Session-Id",this.F),no(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Rr(c)))+"&"+e:this.o&&Dr(t,this.o,c)),Q(this.h,a),this.bb&&lr(t,"TYPE","init"),this.P?(lr(t,"$req",e),lr(t,"SID","null"),a.ba=!0,_e(a,t,null)):_e(a,t,e),this.H=2}}else 3==this.H&&(i?Ko(this,i):0==this.i.length||Ra(this.h)||Ko(this))},de.Ma=function(){if(this.u=null,Os(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=Ti(Mt(this.jb,this),i)}},de.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Br(10),Ri(this),Os(this))},de.ib=function(){null!=this.v&&(this.v=null,Ri(this),Yo(this),Br(19))},de.pb=function(i){i?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))},(de=Ta.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.Va=function(){},go.prototype.g=function(i,e){return new fs(i,e)},Ge(fs,Ln),fs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;Br(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=po(i,null,i.Y),ba(i)},fs.prototype.close=function(){ds(this.g)},fs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ri(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&ba(e)},fs.prototype.N=function(){this.g.l=null,delete this.j,ds(this.g),delete this.g,fs.$.N.call(this)},Ge(ua,Pe),Ge(Ni,ze),Ge(la,Ta),la.prototype.Ba=function(){er(this.g,"a")},la.prototype.Aa=function(i){er(this.g,new ua(i))},la.prototype.za=function(i){er(this.g,new Ni)},la.prototype.ya=function(){er(this.g,"b")},Ge(Ks,function ca(){this.blockSize=-1}),Ks.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ks.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)zs(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[a++]=i.charCodeAt(c++),a==this.blockSize){zs(this,s),a=0;break}}else for(;c<e;)if(s[a++]=i[c++],a==this.blockSize){zs(this,s),a=0;break}}this.h=a,this.i+=e},Ks.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var mo={};function Vi(i){return-128<=i&&128>i?$t(mo,i,function(e){return new zr([0|e],0>e?-1:0)}):new zr([0|i],0>i?-1:0)}function Ui(i){if(isNaN(i)||!isFinite(i))return Oo;if(0>i)return ei(Ui(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Rs;return new zr(e,0)}var Rs=4294967296,Oo=Vi(0),Qo=Vi(1),Ya=Vi(16777216);function ws(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ps(i){return-1==i.h}function ei(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new zr(t,~i.h).add(Qo)}function yo(i,e){return i.add(ei(e))}function Ns(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Wr(i,e){this.g=i,this.h=e}function ro(i,e){if(ws(e))throw Error("division by zero");if(ws(i))return new Wr(Oo,Oo);if(ps(i))return e=ro(ei(i),e),new Wr(ei(e.g),ei(e.h));if(ps(e))return e=ro(i,ei(e)),new Wr(ei(e.g),e.h);if(30<i.g.length){if(ps(i)||ps(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Qo,s=e;0>=s.X(i);)t=Ro(t),s=Ro(s);var a=gs(t,1),c=gs(s,1);for(s=gs(s,2),t=gs(t,2);!ws(s);){var p=c.add(s);0>=p.X(i)&&(a=a.add(t),c=p),s=gs(s,1),t=gs(t,1)}return e=yo(i,a.R(e)),new Wr(a,e)}for(a=Oo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=Ui(t)).R(e);ps(p)||0<p.X(i);)p=(c=Ui(t-=s)).R(e);ws(c)&&(c=Qo),a=a.add(c),i=yo(i,p)}return new Wr(a,i)}function Ro(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new zr(t,i.h)}function gs(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?i.D(c+t)>>>e|i.D(c+t+1)<<32-e:i.D(c+t);return new zr(a,i.h)}(de=zr.prototype).ea=function(){if(ps(this))return-ei(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Rs+s)*e,e*=Rs}return i},de.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ws(this))return"0";if(ps(this))return"-"+ei(this).toString(i);for(var e=Ui(Math.pow(i,6)),t=this,s="";;){var a=ro(t,e).g,c=((0<(t=yo(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(ws(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},de.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},de.X=function(i){return ps(i=yo(this,i))?-1:ws(i)?0:1},de.abs=function(){return ps(this)?ei(this):this},de.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&i.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new zr(t,-2147483648&t[t.length-1]?-1:0)},de.R=function(i){if(ws(this)||ws(i))return Oo;if(ps(this))return ps(i)?ei(this).R(ei(i)):ei(ei(this).R(i));if(ps(i))return ei(this.R(ei(i)));if(0>this.X(Ya)&&0>i.X(Ya))return Ui(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),S=i.D(a)>>>16,B=65535&i.D(a);t[2*s+2*a]+=p*B,Ns(t,2*s+2*a),t[2*s+2*a+1]+=c*B,Ns(t,2*s+2*a+1),t[2*s+2*a+1]+=p*S,Ns(t,2*s+2*a+1),t[2*s+2*a+2]+=c*S,Ns(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new zr(t,0)},de.gb=function(i){return ro(this,i).h},de.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new zr(t,this.h&i.h)},de.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new zr(t,this.h|i.h)},de.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new zr(t,this.h^i.h)},go.prototype.createWebChannel=go.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Di.COMPLETE="complete",Or.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",Ln.prototype.listen=Ln.prototype.O,cr.prototype.listenOnce=cr.prototype.P,cr.prototype.getLastError=cr.prototype.Sa,cr.prototype.getLastErrorCode=cr.prototype.Ia,cr.prototype.getStatus=cr.prototype.da,cr.prototype.getResponseJson=cr.prototype.Wa,cr.prototype.getResponseText=cr.prototype.ja,cr.prototype.send=cr.prototype.ha,cr.prototype.setWithCredentials=cr.prototype.Oa,Ks.prototype.digest=Ks.prototype.l,Ks.prototype.reset=Ks.prototype.reset,Ks.prototype.update=Ks.prototype.j,zr.prototype.add=zr.prototype.add,zr.prototype.multiply=zr.prototype.R,zr.prototype.modulo=zr.prototype.gb,zr.prototype.compare=zr.prototype.X,zr.prototype.toNumber=zr.prototype.ea,zr.prototype.toString=zr.prototype.toString,zr.prototype.getBits=zr.prototype.D,zr.fromNumber=Ui,zr.fromString=function hi(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ei(hi(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ui(Math.pow(e,8)),s=Oo,a=0;a<i.length;a+=8){var c=Math.min(8,i.length-a),p=parseInt(i.substring(a,a+c),e);8>c?(c=Ui(Math.pow(e,c)),s=s.R(c).add(Ui(p))):s=(s=s.R(t)).add(Ui(p))}return s};var io=Se.createWebChannelTransport=function(){return new go},da=Se.getStatEventTarget=function(){return Bi()},Na=Se.ErrorCode=or,ha=Se.EventType=Di,Qa=Se.Event=kr,ka=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ju=Se.FetchXmlHttpFactory=Ir,Fa=Se.WebChannel=Or,$u=Se.XhrIo=cr,Cs=Se.Md5=Ks,bs=Se.Integer=zr;const _o="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let No="9.22.0";const so=new Ee.Yd("@firebase/firestore");function ko(){return so.logLevel}function bu(i){so.setLogLevel(i)}function Vt(i,...e){if(so.logLevel<=Ee.in.DEBUG){const t=e.map(Ja);so.debug(`Firestore (${No}): ${i}`,...t)}}function si(i,...e){if(so.logLevel<=Ee.in.ERROR){const t=e.map(Ja);so.error(`Firestore (${No}): ${i}`,...t)}}function Is(i,...e){if(so.logLevel<=Ee.in.WARN){const t=e.map(Ja);so.warn(`Firestore (${No}): ${i}`,...t)}}function Ja(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function cn(i="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+i;throw si(e),new Error(e)}function bn(i,e){i||cn()}function Jo(i,e){i||cn()}function sn(i,e){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class b{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=G=>this.i!==a?(a=this.i,t(G)):Promise.resolve();let p=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ki,e.enqueueRetryable(()=>c(this.currentUser))};const S=()=>{const G=p;e.enqueueRetryable((0,m.Z)(function*(){yield G.promise,yield c(s.currentUser)}))},B=G=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(G=>B(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?B(G):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ki)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bn("string"==typeof s.accessToken),new M(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new Zr(e)}}class H{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ee{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new H(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Me{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Vt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bn("string"==typeof t.token),this.T=t.token,new pe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function an(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class sr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=an(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function kt(i,e){return i<e?-1:i>e?1:0}function Sr(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function qr(i){return i+"\0"}class Cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Cr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Cr(0,0))}static max(){return new Jt(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fo{constructor(e,t,s){void 0===t?t=0:t>e.length&&cn(),void 0===s?s=e.length-t:s>e.length-t&&cn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Fo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gn extends Fo{construct(e,t,s){return new Gn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pt(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Gn(t)}static emptyPath(){return new Gn([])}}const oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Fo{construct(e,t,s){return new Fr(e,t,s)}static isValidIdentifier(e){return oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Pt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Pt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Pt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=B,a+=2}else"`"===S?(p=!p,a++):"."!==S||p?(s+=S,a++):(c(),a++)}if(c(),p)throw new Pt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(Gn.fromString(e))}static fromName(e){return new Zt(Gn.fromString(e).popFirst(5))}static empty(){return new Zt(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new Gn(e.slice()))}}class Da{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function La(i){return i.fields.find(e=>2===e.kind)}function Ys(i){return i.fields.filter(e=>2!==e.kind)}Da.UNKNOWN_ID=-1;class Hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class lu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lu(0,Lo.min())}}function Wl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Jt.fromTimestamp(1e9===s?new Cr(t+1,0):new Cr(t,s));return new Lo(a,Zt.empty(),e)}function Zl(i){return new Lo(i.readTime,i.key,-1)}class Lo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Lo(Jt.min(),Zt.empty(),-1)}static max(){return new Lo(Jt.max(),Zt.empty(),-1)}}function Tu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Zt.comparator(i.documentKey,e.documentKey),0!==t?t:kt(i.largestBatchId,e.largestBatchId))}const zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vo(i){return cl.apply(this,arguments)}function cl(){return cl=(0,m.Z)(function*(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==zu)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),cl.apply(this,arguments)}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,s)=>{t(e)})}static reject(e){return new Ze((t,s)=>{s(e)})}static waitFor(e){return new Ze((t,s)=>{let a=0,c=0,p=!1;e.forEach(S=>{++a,S.next(()=>{++c,p&&c===a&&t()},B=>s(B))}),p=!0,c===a&&t()})}static or(e){let t=Ze.resolve(!1);for(const s of e)t=t.next(a=>a?Ze.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ze((s,a)=>{const c=e.length,p=new Array(c);let S=0;for(let B=0;B<c;B++){const G=B;t(e[G]).next(re=>{p[G]=re,++S,S===c&&s(p)},re=>a(re))}})}static doWhile(e,t){return new Ze((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class fa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ki,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Va(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Ua(s.target.error);this.v.reject(new Va(e,a))}}static open(e,t,s,a){try{return new fa(t,e.transaction(a,s))}catch(c){throw new Va(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vo(t)}}class Ts{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Ts.S((0,oe.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),Aa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.hl)())return!1;if(Ts.C())return!0;const e=(0,oe.z$)(),t=Ts.S(e),s=0<t&&t<10,a=Ts.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,m.Z)(function*(){return t.db||(Vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const S=p.target.error;a("VersionError"===S.name?new Pt(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Pt(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Va(e,S))},c.onupgradeneeded=p=>{Vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,m.Z)(function*(){const p="readonly"===t;let S=0;for(;;){++S;try{c.db=yield c.$(e);const B=fa.open(c.db,e,p?"readonly":"readwrite",s),G=a(B).next(re=>(B.P(),re)).catch(re=>(B.abort(re),Ze.reject(re))).toPromise();return G.catch(()=>{}),yield B.R,G}catch(B){const G=B,re="FirebaseError"!==G.name&&S<3;if(Vt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",re),c.close(),!re)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class dl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Aa(this.L.delete())}}class Va extends Pt{constructor(e,t){super(lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wi(i){return"IndexedDbTransactionError"===i.name}class Vo{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Vt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Aa(s)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),Aa(this.store.add(e))}get(e){return Aa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),Aa(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),Aa(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(p,S)=>{c.push(S)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ze((c,p)=>{a.onerror=S=>{p(S.target.error)},a.onsuccess=S=>{c(S.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ze((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}J(e,t){Vt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,p,S)=>S.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ze((s,a)=>{t.onerror=c=>{const p=Ua(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(S=>{S?p.continue():s()}):s()}})}W(e,t){const s=[];return new Ze((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const S=p.target.result;if(!S)return void a();const B=new dl(S),G=t(S.primaryKey,S.value,B);if(G instanceof Ze){const re=G.catch(Ce=>(B.done(),Ze.reject(Ce)));s.push(re)}B.isDone?a():null===B.K?S.continue():S.continue(B.K)}}).next(()=>Ze.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Aa(i){return new Ze((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=Ua(s.target.error);t(a)}})}let pa=!1;function Ua(i){const e=Ts.S((0,oe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pa||(pa=!0,setTimeout(()=>{throw s},0)),s}}return i}class Du{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Vt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,m.Z)(function*(){t.task=null;try{Vt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Wi(s)?Vt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield vo(s)}yield t.et(6e4)}))}}class hl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,m.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ze.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Vt("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(S=>{a-=S,s.add(p)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,c)).next(S=>(Vt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>p.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Zl(c);Tu(p,s)>0&&(s=p)}),new Lo(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function cu(i){return null==i}function Xa(i){return 0===i&&1/i==-1/0}function ks(i){return"number"==typeof i&&Number.isInteger(i)&&!Xa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function ti(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Uo(e)),e=ga(i.get(t),e);return Uo(e)}function ga(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Uo(i){return i+"\x01\x01"}function Bo(i){const e=i.length;if(bn(e>=2),2===e)return bn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>t)&&cn(),i.charAt(p+1)){case"\x01":const S=i.substring(c,p);let B;0===a.length?B=S:(a+=S,B=a,a=""),s.push(B);break;case"\x10":a+=i.substring(c,p),a+="\0";break;case"\x11":a+=i.substring(c,p+1);break;default:cn()}c=p+2}return new Gn(s)}const du=["userId","batchId"];function Xo(i,e){return[i,ti(e)]}function eu(i,e,t){return[i,ti(e),t]}const Au={},Su=["prefixPath","collectionGroup","readTime","documentId"],hu=["prefixPath","collectionGroup","documentId"],Wu=["collectionGroup","readTime","prefixPath","documentId"],Eo=["canonicalId","targetId"],Ba=["targetId","path"],Yi=["path","targetId"],jo=["collectionId","parent"],xu=["indexId","uid"],ma=["uid","sequenceNumber"],Mu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fl=["indexId","uid","orderedDocumentKey"],$o=["userId","collectionPath","documentId"],ya=["userId","collectionPath","largestBatchId"],wc=["userId","collectionGroup","largestBatchId"],Sa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pu=[...Sa,"documentOverlays"],Zu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zi=Zu,pl=[...Zi,"indexConfiguration","indexState","indexEntries"];class _a extends Gu{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ns(i,e){const t=sn(i);return Ts.M(t.ht,e)}function fu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ao(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yi{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=null!=s?s:ji.RED,this.left=null!=a?a:ji.EMPTY,this.right=null!=c?c:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ji.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cn();const e=this.left.check();if(e!==this.right.check())throw cn();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw cn()}get value(){throw cn()}get color(){throw cn()}get left(){throw cn()}get right(){throw cn()}copy(i,e,t,s,a){return this}insert(i,e,t){return new ji(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ru(this.data.getIterator())}getIteratorFrom(e){return new ru(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class ru{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ja(i){return i.hasNext()?i.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new Ei(Fr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ou(){return"undefined"!=typeof atob}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw"undefined"!=typeof DOMException&&a instanceof DOMException?new iu("Invalid base64 string: "+a):a}}(e);return new qi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const Ru=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(i){if(bn(!!i),"string"==typeof i){let e=0;const t=Ru.exec(i);if(bn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wi(i.seconds),nanos:wi(i.nanos)}}function wi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qs(i){return"string"==typeof i?qi.fromBase64String(i):qi.fromUint8Array(i)}function qu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function su(i){const e=i.mapValue.fields.__previous_value__;return qu(e)?su(e):e}function Ea(i){const e=va(i.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}class pu{constructor(e,t,s,a,c,p,S,B,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=S,this.longPollingOptions=B,this.useFetchStreams=G}}class ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ou={nullValue:"NULL_VALUE"};function Ho(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qu(i)?4:en(i)?9007199254740991:10:cn()}function Ls(i,e){if(i===e)return!0;const t=Ho(i);if(t!==Ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ea(i).isEqual(Ea(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=va(s.timestampValue),p=va(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,Qs(i.bytesValue).isEqual(Qs(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return wi(s.geoPointValue.latitude)===wi(a.geoPointValue.latitude)&&wi(s.geoPointValue.longitude)===wi(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return wi(s.integerValue)===wi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=wi(s.doubleValue),p=wi(a.doubleValue);return c===p?Xa(c)===Xa(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return Sr(i.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(fu(c)!==fu(p))return!1;for(const S in c)if(c.hasOwnProperty(S)&&(void 0===p[S]||!Ls(c[S],p[S])))return!1;return!0}(i,e);default:return cn()}var a}function ta(i,e){return void 0!==(i.values||[]).find(t=>Ls(t,e))}function Ws(i,e){if(i===e)return 0;const t=Ho(i),s=Ho(e);if(t!==s)return kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,e.booleanValue);case 2:return function(a,c){const p=wi(a.integerValue||a.doubleValue),S=wi(c.integerValue||c.doubleValue);return p<S?-1:p>S?1:p===S?0:isNaN(p)?isNaN(S)?0:-1:1}(i,e);case 3:return gu(i.timestampValue,e.timestampValue);case 4:return gu(Ea(i),Ea(e));case 5:return kt(i.stringValue,e.stringValue);case 6:return function(a,c){const p=Qs(a),S=Qs(c);return p.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),S=c.split("/");for(let B=0;B<p.length&&B<S.length;B++){const G=kt(p[B],S[B]);if(0!==G)return G}return kt(p.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const p=kt(wi(a.latitude),wi(c.latitude));return 0!==p?p:kt(wi(a.longitude),wi(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],S=c.values||[];for(let B=0;B<p.length&&B<S.length;++B){const G=Ws(p[B],S[B]);if(G)return G}return kt(p.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===wo.mapValue&&c===wo.mapValue)return 0;if(a===wo.mapValue)return 1;if(c===wo.mapValue)return-1;const p=a.fields||{},S=Object.keys(p),B=c.fields||{},G=Object.keys(B);S.sort(),G.sort();for(let re=0;re<S.length&&re<G.length;++re){const Ce=kt(S[re],G[re]);if(0!==Ce)return Ce;const rt=Ws(p[S[re]],B[G[re]]);if(0!==rt)return rt}return kt(S.length,G.length)}(i.mapValue,e.mapValue);default:throw cn()}}function gu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return kt(i,e);const t=va(i),s=va(e),a=kt(t.seconds,s.seconds);return 0!==a?a:kt(t.nanos,s.nanos)}function I(i){return h(i)}function h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=va(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qs(i.bytesValue).toBase64():"referenceValue"in i?Zt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=h(p);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const S of a)p?p=!1:c+=",",c+=`${S}:${h(s.fields[S])}`;return c+"}"}(i.mapValue):cn();var e}function E(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function N(i){return!!i&&"integerValue"in i}function K(i){return!!i&&"arrayValue"in i}function ce(i){return!!i&&"nullValue"in i}function ye(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $e(i){return!!i&&"mapValue"in i}function _t(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ao(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_t(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_t(i.arrayValue.values[t]);return e}return Object.assign({},i)}function en(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fn(i){return"nullValue"in i?ou:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?E(ea.empty(),Zt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:cn()}function nr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?E(ea.empty(),Zt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?wo:cn()}function hr(i,e){const t=Ws(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function jn(i,e){const t=Ws(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!$e(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_t(t)}setAll(e){let t=Fr.emptyPath(),s={},a=[];e.forEach((p,S)=>{if(!t.isImmediateParentOf(S)){const B=this.getFieldsMap(t);this.applyChanges(B,s,a),s={},a=[],t=S.popLast()}p?s[S.lastSegment()]=_t(p):a.push(S.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());$e(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];$e(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ao(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Pn(_t(this.value))}}function fi(i){const e=[];return ao(i.fields,(t,s)=>{const a=new Fr([t]);if($e(s)){const c=fi(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Fs(e)}class Er{constructor(e,t,s,a,c,p,S){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=S}static newInvalidDocument(e){return new Er(e,0,Jt.min(),Jt.min(),Jt.min(),Pn.empty(),0)}static newFoundDocument(e,t,s,a){return new Er(e,1,t,Jt.min(),s,a,0)}static newNoDocument(e,t){return new Er(e,2,t,Jt.min(),Jt.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Jt.min(),Jt.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ci{constructor(e,t){this.position=e,this.inclusive=t}}function T(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],p=i.position[a];if(s=c.field.isKeyField()?Zt.comparator(Zt.fromName(p.referenceValue),t.key):Ws(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function P(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ls(i.position[t],e.position[t]))return!1;return!0}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function ue(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ie{}class De extends Ie{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ir(e,t,s):"array-contains"===t?new Vs(e,s):"in"===t?new xa(e,s):"not-in"===t?new Fi(e,s):"array-contains-any"===t?new Cc(e,s):new De(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Lr(e,s):new bi(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ws(t,this.value)):null!==t&&Ho(this.value)===Ho(t)&&this.matchesComparison(Ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ke extends Ie{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ke(e,t)}matches(e){return Wt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wt(i){return"and"===i.op}function Xt(i){return"or"===i.op}function mn(i){return Qn(i)&&Wt(i)}function Qn(i){for(const e of i.filters)if(e instanceof Ke)return!1;return!0}function $n(i){if(i instanceof De)return i.field.canonicalString()+i.op.toString()+I(i.value);if(mn(i))return i.filters.map(e=>$n(e)).join(",");{const e=i.filters.map(t=>$n(t)).join(",");return`${i.op}(${e})`}}function Qi(i,e){return i instanceof De?(t=i,(s=e)instanceof De&&t.op===s.op&&t.field.isEqual(s.field)&&Ls(t.value,s.value)):i instanceof Ke?function(t,s){return s instanceof Ke&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Qi(c,s.filters[p]),!0)}(i,e):void cn();var t,s}function on(i,e){const t=i.filters.concat(e);return Ke.create(t,i.op)}function Vn(i){return i instanceof De?`${(e=i).field.canonicalString()} ${e.op} ${I(e.value)}`:i instanceof Ke?function(e){return e.op.toString()+" {"+e.getFilters().map(Vn).join(" ,")+"}"}(i):"Filter";var e}class ir extends De{constructor(e,t,s){super(e,t,s),this.key=Zt.fromName(s.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lr extends De{constructor(e,t){super(e,"in",t),this.keys=rs(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bi extends De{constructor(e,t){super(e,"not-in",t),this.keys=rs(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rs(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Zt.fromName(s.referenceValue))}class Vs extends De{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return K(t)&&ta(t.arrayValue,this.value)}}class xa extends De{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ta(this.value.arrayValue,t)}}class Fi extends De{constructor(e,t){super(e,"not-in",t)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ta(this.value.arrayValue,t)}}class Cc extends De{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!K(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}class ql{constructor(e,t=null,s=[],a=[],c=null,p=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=S,this.dt=null}}function Ds(i,e=null,t=[],s=[],a=null,c=null,p=null){return new ql(i,e,t,s,a,c,p)}function Co(i){const e=sn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>$n(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),cu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>I(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>I(s)).join(",")),e.dt=t}return e.dt}function na(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ue(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Qi(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!P(i.startAt,e.startAt)&&P(i.endAt,e.endAt)}function Ma(i){return Zt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Nu(i,e){return i.filters.filter(t=>t instanceof De&&t.field.isEqual(e))}function ld(i,e,t){let s=ou,a=!0;for(const c of Nu(i,e)){let p=ou,S=!0;switch(c.op){case"<":case"<=":p=Fn(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,S=!1;break;case"!=":case"not-in":p=ou}hr({value:s,inclusive:a},{value:p,inclusive:S})<0&&(s=p,a=S)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];hr({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function Kl(i,e,t){let s=wo,a=!0;for(const c of Nu(i,e)){let p=wo,S=!0;switch(c.op){case">=":case">":p=nr(c.value),S=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,S=!1;break;case"!=":case"not-in":p=wo}jn({value:s,inclusive:a},{value:p,inclusive:S})>0&&(s=p,a=S)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];jn({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class $a{constructor(e,t=null,s=[],a=[],c=null,p="F",S=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=S,this.endAt=B,this.wt=null,this._t=null}}function bc(i,e,t,s,a,c,p,S){return new $a(i,e,t,s,a,c,p,S)}function gl(i){return new $a(i)}function C(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function f(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function y(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function A(i){return null!==i.collectionGroup}function Z(i){const e=sn(i);if(null===e.wt){e.wt=[];const t=y(e),s=f(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new z(t)),e.wt.push(new z(Fr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new z(Fr.keyField(),c))}}}return e.wt}function te(i){const e=sn(i);if(!e._t)if("F"===e.limitType)e._t=Ds(e.path,e.collectionGroup,Z(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Z(e))t.push(new z(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Ci(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ci(e.startAt.position,e.startAt.inclusive):null;e._t=Ds(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ue(i,e){e.getFirstInequalityField(),y(i);const t=i.filters.concat([e]);return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function pt(i,e,t){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function qt(i,e){return na(te(i),te(e))&&i.limitType===e.limitType}function yn(i){return`${Co(te(i))}|lt:${i.limitType}`}function Zn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Vn(s)).join(", ")}]`),cu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>I(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>I(s)).join(",")),`Target(${t})`}(te(i))}; limitType=${i.limitType})`}function $r(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Zt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of Z(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,c,p){const S=T(a,c,p);return a.inclusive?S<=0:S<0}(t.startAt,Z(t),s)||t.endAt&&!function(a,c,p){const S=T(a,c,p);return a.inclusive?S>=0:S>0}(t.endAt,Z(t),s)));var t,s}function Zs(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function is(i){return(e,t)=>{let s=!1;for(const a of Z(i)){const c=ml(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function ml(i,e,t){const s=i.field.isKeyField()?Zt.comparator(e.key,t.key):function(a,c,p){const S=c.data.field(a),B=p.data.field(a);return null!==S&&null!==B?Ws(S,B):cn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return cn()}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const Ic=new yi(Zt.comparator);function xi(){return Ic}const Ku=new yi(Zt.comparator);function mu(...i){let e=Ku;for(const t of i)e=e.insert(t.key,t);return e}function cd(i){let e=Ku;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function za(){return yl()}function Yl(){return yl()}function yl(){return new Ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const rh=new yi(Zt.comparator),dd=new Ei(Zt.comparator);function xr(...i){let e=dd;for(const t of i)e=e.add(t);return e}const Hy=new Ei(kt);function Of(){return Hy}function ih(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function Ig(i){return{integerValue:""+i}}function Tg(i,e){return ks(e)?Ig(e):ih(i,e)}class Tc{constructor(){this._=void 0}}function zy(i,e,t){return i instanceof Dc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&qu(a)&&(a=su(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):i instanceof Ql?Dg(i,e):i instanceof Jl?Ag(i,e):function(s,a){const c=hd(s,a),p=Sg(c)+Sg(s.gt);return N(c)&&N(s.gt)?Ig(p):ih(s.serializer,p)}(i,e)}function Gy(i,e,t){return i instanceof Ql?Dg(i,e):i instanceof Jl?Ag(i,e):t}function hd(i,e){return i instanceof Xl?N(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Dc extends Tc{}class Ql extends Tc{constructor(e){super(),this.elements=e}}function Dg(i,e){const t=xg(e);for(const s of i.elements)t.some(a=>Ls(a,s))||t.push(s);return{arrayValue:{values:t}}}class Jl extends Tc{constructor(e){super(),this.elements=e}}function Ag(i,e){let t=xg(e);for(const s of i.elements)t=t.filter(a=>!Ls(a,s));return{arrayValue:{values:t}}}class Xl extends Tc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Sg(i){return wi(i.integerValue||i.doubleValue)}function xg(i){return K(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fd{constructor(e,t){this.field=e,this.transform=t}}class Zy{constructor(e,t){this.version=e,this.transformResults=t}}class ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class oh{}function ec(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new tc(i.key,ms.none()):new pd(i.key,i.data,ms.none());{const t=i.data,s=Pn.empty();let a=new Ei(Fr.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new bo(i.key,s,new Fs(a.toArray()),ms.none())}}function ku(i,e,t){i instanceof pd?function(s,a,c){const p=s.value.clone(),S=lh(s.fieldTransforms,a,c.transformResults);p.setAll(S),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):i instanceof bo?function(s,a,c){if(!sh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=lh(s.fieldTransforms,a,c.transformResults),S=a.data;S.setAll(uh(s)),S.setAll(p),a.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ah(i,e,t,s){return i instanceof pd?function(a,c,p,S){if(!sh(a.precondition,c))return p;const B=a.value.clone(),G=Mg(a.fieldTransforms,S,c);return B.setAll(G),c.convertToFoundDocument(c.version,B).setHasLocalMutations(),null}(i,e,t,s):i instanceof bo?function(a,c,p,S){if(!sh(a.precondition,c))return p;const B=Mg(a.fieldTransforms,S,c),G=c.data;return G.setAll(uh(a)),G.setAll(B),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(re=>re.field))}(i,e,t,s):(p=t,sh(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function qv(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=hd(s.transform,a||null);null!=c&&(null===t&&(t=Pn.empty()),t.set(s.field,c))}return t||null}function Rf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Sr(t,s,(a,c)=>function Wy(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Ql&&s instanceof Ql||t instanceof Jl&&s instanceof Jl?Sr(t.elements,s.elements,Ls):t instanceof Xl&&s instanceof Xl?Ls(t.gt,s.gt):t instanceof Dc&&s instanceof Dc);var t,s}(a,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class pd extends oh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bo extends oh{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lh(i,e,t){const s=new Map;bn(i.length===t.length);for(let a=0;a<t.length;a++){const c=i[a],p=c.transform,S=e.data.field(c.field);s.set(c.field,Gy(p,S,t[a]))}return s}function Mg(i,e,t){const s=new Map;for(const a of i){const c=a.transform,p=t.data.field(a.field);s.set(a.field,zy(c,p,e))}return s}class tc extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nc extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ch{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&ku(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ah(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ah(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Yl();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let S=this.applyToLocalView(p,c.mutatedFields);S=t.has(a.key)?null:S;const B=ec(p,S);null!==B&&s.set(a.key,B),p.isValidDocument()||p.convertToNoDocument(Jt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xr())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,(t,s)=>Rf(t,s))&&Sr(this.baseMutations,e.baseMutations,(t,s)=>Rf(t,s))}}class dh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){bn(e.mutations.length===s.length);let a=rh;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new dh(e,t,s,a)}}class gd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pg{constructor(e,t){this.count=e,this.unchangedNames=t}}var uo,Qr;function hh(i){switch(i){default:return cn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function kf(i){if(void 0===i)return si("GRPC error has no .code"),lt.UNKNOWN;switch(i){case uo.OK:return lt.OK;case uo.CANCELLED:return lt.CANCELLED;case uo.UNKNOWN:return lt.UNKNOWN;case uo.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case uo.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case uo.INTERNAL:return lt.INTERNAL;case uo.UNAVAILABLE:return lt.UNAVAILABLE;case uo.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case uo.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case uo.NOT_FOUND:return lt.NOT_FOUND;case uo.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case uo.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case uo.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case uo.ABORTED:return lt.ABORTED;case uo.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case uo.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case uo.DATA_LOSS:return lt.DATA_LOSS;default:return cn()}}(Qr=uo||(uo={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";class Ff{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ac}static getOrCreateInstance(){return null===Ac&&(Ac=new Ff),Ac}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ac=null;function Og(){return new TextEncoder}const qy=new bs([4294967295,4294967295],0);function Rg(i){const e=Og().encode(i),t=new Cs;return t.update(e),new Uint8Array(t.digest())}function Ng(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new bs([t,s],0),new bs([a,c],0)]}class Lf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new md(`Invalid padding: ${t}`);if(s<0)throw new md(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new md(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new md(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=bs.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(bs.fromNumber(s)));return 1===a.compare(qy)&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Rg(e),[s,a]=Ng(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Lf(c,a,t);return s.forEach(S=>p.insert(S)),p}insert(e){if(0===this.It)return;const t=Rg(e),[s,a]=Ng(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sc(Jt.min(),a,new yi(kt),xi(),xr())}}class rc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rc(s,t,xr(),xr(),xr())}}class yd{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class fh{constructor(e,t){this.targetId=e,this.Vt=t}}class kg{constructor(e,t,s=qi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Fg{constructor(){this.St=0,this.Dt=_l(),this.Ct=qi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xr(),t=xr(),s=xr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:cn()}}),new rc(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=_l()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Lg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xi(),this.zt=Vf(),this.Wt=new yi(kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:cn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(Ma(p))if(0===a){const S=new Zt(p.path);this.Yt(s,S,Er.newNoDocument(S,Jt.min()))}else bn(1===a);else{const S=this.ie(s);if(S!==a){const B=this.re(e,S);0!==B&&(this.ee(s),this.Wt=this.Wt.insert(s,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Ff.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(G,re,Ce){var rt,wt,Kt,En,Dn,Nr;const _i={localCacheCount:re,existenceFilterCount:Ce.count},Kr=Ce.unchangedNames;return Kr&&(_i.bloomFilter={applied:0===G,hashCount:null!==(rt=null==Kr?void 0:Kr.hashCount)&&void 0!==rt?rt:0,bitmapLength:null!==(En=null===(Kt=null===(wt=null==Kr?void 0:Kr.bits)||void 0===wt?void 0:wt.bitmap)||void 0===Kt?void 0:Kt.length)&&void 0!==En?En:0,padding:null!==(Nr=null===(Dn=null==Kr?void 0:Kr.bits)||void 0===Dn?void 0:Dn.padding)&&void 0!==Nr?Nr:0}),_i}(B,S,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:S=0}=s;let B,G;try{B=Qs(c).toUint8Array()}catch(re){if(re instanceof iu)return Is("Decoding the base64 bloom filter in existence filter failed ("+re.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw re}try{G=new Lf(B,p,S)}catch(re){return Is(re instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",re),1}return 0===G.It?1:a!==t-this.oe(e.targetId,G)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),S=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(S)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const S=this.se(p);if(S){if(c.current&&Ma(S.target)){const B=new Zt(S.target.path);null!==this.jt.get(B)||this.ae(p,B)||this.Yt(p,B,Er.newNoDocument(B,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=xr();this.zt.forEach((c,p)=>{let S=!0;p.forEachWhile(B=>{const G=this.se(B);return!G||"TargetPurposeLimboResolution"===G.purpose||(S=!1,!1)}),S&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new Sc(e,t,this.Wt,this.jt,s);return this.jt=xi(),this.zt=Vf(),this.Wt=new yi(kt),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Fg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ei(kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fg),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new yi(Zt.comparator)}function _l(){return new yi(Zt.comparator)}const Vg={asc:"ASCENDING",desc:"DESCENDING"},Ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ky={and:"AND",or:"OR"};class ph{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uf(i,e){return i.useProto3Json||cu(e)?e:{value:e}}function ic(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bf(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Bg(i,e){return ic(i,e.toTimestamp())}function As(i){return bn(!!i),Jt.fromTimestamp(function(e){const t=va(e);return new Cr(t.seconds,t.nanos)}(i))}function gh(i,e){return(t=i,new Gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _d(i){const e=Gn.fromString(i);return bn(Zg(e)),e}function vl(i,e){return gh(i.databaseId,e.path)}function yu(i,e){const t=_d(e);if(t.get(1)!==i.databaseId.projectId)throw new Pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Zt(xc(t))}function vd(i,e){return gh(i.databaseId,e)}function jf(i){const e=_d(i);return 4===e.length?Gn.emptyPath():xc(e)}function sc(i){return new Gn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xc(i){return bn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function jg(i,e,t){return{name:vl(i,e),fields:t.value.mapValue.fields}}function $f(i,e,t){const s=yu(i,e.name),a=As(e.updateTime),c=e.createTime?As(e.createTime):Jt.min(),p=new Pn({mapValue:{fields:e.fields}}),S=Er.newFoundDocument(s,a,c,p);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function Mc(i,e){let t;if(e instanceof pd)t={update:jg(i,e.key,e.value)};else if(e instanceof tc)t={delete:vl(i,e.key)};else if(e instanceof bo)t={update:jg(i,e.key,e.data),updateMask:t_(e.fieldMask)};else{if(!(e instanceof nc))return cn();t={verify:vl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xl)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw cn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Bg(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:cn()),t;var a}function Ed(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ms.updateTime(As(a.updateTime)):void 0!==a.exists?ms.exists(a.exists):ms.none():ms.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let S=null;"setToServerValue"in p?(bn("REQUEST_TIME"===p.setToServerValue),S=new Dc):"appendMissingElements"in p?S=new Ql(p.appendMissingElements.values||[]):"removeAllFromArray"in p?S=new Jl(p.removeAllFromArray.values||[]):"increment"in p?S=new Xl(c,p.increment):cn();const B=Fr.fromServerFormat(p.fieldPath);return new fd(B,S)}(i,a)):[];var a;if(e.update){const a=yu(i,e.update.name),c=new Pn({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Fs((e.updateMask.fieldPaths||[]).map(G=>Fr.fromServerFormat(G)));return new bo(a,c,p,t,s)}return new pd(a,c,t,s)}if(e.delete){const a=yu(i,e.delete);return new tc(a,t)}if(e.verify){const a=yu(i,e.verify);return new nc(a,t)}return cn()}function Jy(i,e){return{documents:[vd(i,e.path)]}}function mh(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=vd(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vd(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(B){if(0!==B.length)return Wg(Ke.create(B,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(B){if(0!==B.length)return B.map(G=>{return{field:Yu((re=G).field),direction:Xy(re.dir)};var re})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=Uf(i,e.limit);var S,B;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Hg(i){let e=jf(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){bn(1===s);const re=t.from[0];re.allDescendants?a=re.collectionId:e=e.child(re.collectionId)}let c=[];t.where&&(c=function(re){const Ce=Gg(re);return Ce instanceof Ke&&mn(Ce)?Ce.getFilters():[Ce]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(re=>{return new z(Pc((Ce=re).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let S=null;t.limit&&(S=function(re){let Ce;return Ce="object"==typeof re?re.value:re,cu(Ce)?null:Ce}(t.limit));let B=null;var re;t.startAt&&(B=new Ci((re=t.startAt).values||[],!!re.before));let G=null;return t.endAt&&(G=function(re){return new Ci(re.values||[],!re.before)}(t.endAt)),bc(e,a,p,c,S,"F",B,G)}function Gg(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pc(e.unaryFilter.field);return De.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Pc(e.unaryFilter.field);return De.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pc(e.unaryFilter.field);return De.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pc(e.unaryFilter.field);return De.create(c,"!=",{nullValue:"NULL_VALUE"});default:return cn()}}(i):void 0!==i.fieldFilter?De.create(Pc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ke.create(e.compositeFilter.filters.map(t=>Gg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return cn()}}(e.compositeFilter.op))}(i):cn();var e}function Xy(i){return Vg[i]}function _u(i){return Ug[i]}function e_(i){return Ky[i]}function Yu(i){return{fieldPath:i.canonicalString()}}function Pc(i){return Fr.fromServerFormat(i.fieldPath)}function Wg(i){return i instanceof De?function(e){if("=="===e.op){if(ye(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NAN"}};if(ce(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ye(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NAN"}};if(ce(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(e.field),op:_u(e.op),value:e.value}}}(i):i instanceof Ke?function(e){const t=e.getFilters().map(s=>Wg(s));return 1===t.length?t[0]:{compositeFilter:{op:e_(e.op),filters:t}}}(i):cn()}function t_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Fu{constructor(e,t,s,a,c=Jt.min(),p=Jt.min(),S=qi.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=S,this.expectedCount=B}withSequenceNumber(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qg{constructor(e){this.fe=e}}function Kg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Tr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:vl(a=i.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:ic(a,c.version.toTimestamp()),createTime:ic(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return cn();s.unknownDocument={path:t.path.toArray(),version:El(e.version)}}var a,c;return s}function Tr(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function El(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(i){const e=new Cr(i.seconds,i.nanoseconds);return Jt.fromTimestamp(e)}function Cl(i,e){const t=(e.baseMutations||[]).map(c=>Ed(i.fe,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Ed(i.fe,c)),a=Cr.fromMillis(e.localWriteTimeMs);return new ch(e.batchId,a,t,s)}function bl(i){const e=wl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?wl(i.lastLimboFreeSnapshotVersion):Jt.min();let s;var a;return void 0!==i.query.documents?(bn(1===(a=i.query).documents.length),s=te(gl(jf(a.documents[0])))):s=te(Hg(i.query)),new Fu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,qi.fromBase64String(i.resumeToken))}function au(i,e){const t=El(e.snapshotVersion),s=El(e.lastLimboFreeSnapshotVersion);let a;a=Ma(e.target)?Jy(i.fe,e.target):mh(i.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Co(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function yh(i){const e=Hg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pt(e,e.limit,"L"):e}function Hf(i,e){return new gd(e.largestBatchId,Ed(i.fe,e.overlayMutation))}function _h(i,e){const t=e.path.lastSegment();return[i,ti(e.path.popLast()),t]}function Lu(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:El(s.readTime),documentKey:ti(s.documentKey.path),largestBatchId:s.largestBatchId}}class zf{getBundleMetadata(e,t){return Gf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:wl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Gf(e).put({bundleId:(s=t).id,createTime:El(As(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return vh(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:yh(a.bundledQuery),readTime:wl(a.readTime)};var a})}saveNamedQuery(e,t){return vh(e).put({name:(s=t).name,readTime:El(As(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Gf(i){return ns(i,"bundles")}function vh(i){return ns(i,"namedQueries")}class Wf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Wf(e,t.uid||"")}getOverlay(e,t){return Oc(e).get(_h(this.userId,t)).next(s=>s?Hf(this.serializer,s):null)}getOverlays(e,t){const s=za();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const S=new gd(t,p);a.push(this.we(e,S))}),Ze.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(ti(p.getCollectionPath())));const c=[];return a.forEach(p=>{const S=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(Oc(e).J("collectionPathOverlayIndex",S))}),Ze.waitFor(c)}getOverlaysForCollection(e,t,s){const a=za(),c=ti(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Oc(e).j("collectionPathOverlayIndex",p).next(S=>{for(const B of S){const G=Hf(this.serializer,B);a.set(G.getKey(),G)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=za();let p;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oc(e).X({index:"collectionGroupOverlayIndex",range:S},(B,G,re)=>{const Ce=Hf(this.serializer,G);c.size()<a||Ce.largestBatchId===p?(c.set(Ce.getKey(),Ce),p=Ce.largestBatchId):re.done()}).next(()=>c)}we(e,t){return Oc(e).put(function(s,a,c){const[p,S,B]=_h(a,c.mutation.key);return{userId:a,collectionPath:S,documentId:B,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Mc(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Oc(i){return ns(i,"documentOverlays")}class Rc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wi(e.integerValue));else if("doubleValue"in e){const s=wi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Xa(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Qs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?en(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Zt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Eh(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function wd(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Eh(255&t[a]);if(s+=c,8!==c)break}return s}(i);return Math.ceil(e/8)}Rc.Ve=new Rc;class Zf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=wd(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=wd(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class qf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Kf{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class wh{constructor(){this.je=new Zf,this.ze=new qf(this.je),this.We=new Kf(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class oc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new oc(this.indexId,this.documentKey,this.arrayValue,s)}}function Il(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Yg(i.arrayValue,e.arrayValue),0!==t?t:(t=Yg(i.directionalValue,e.directionalValue),0!==t?t:Zt.comparator(i.documentKey,e.documentKey)))}function Yg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class r_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){bn(e.collectionGroup===this.collectionId);const t=La(e);if(void 0!==t&&!this.en(t))return!1;const s=Ys(e);let a=0,c=0;for(;a<s.length&&this.en(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Ze){const p=s[a];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[c++],p))return!1;++a}for(;a<s.length;++a){const p=s[a];if(c>=this.Ye.length||!this.sn(this.Ye[c++],p))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Yf(i){var e,t;if(bn(i instanceof De||i instanceof Ke),i instanceof De){if(i instanceof xa){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>De.create(i.field,"==",c)))||[];return Ke.create(a,"or")}return i}const s=i.filters.map(a=>Yf(a));return Ke.create(s,i.op)}function Kv(i){if(0===i.getFilters().length)return[];const e=Ch(Yf(i));return bn(Jf(e)),Qf(e)||Qg(e)?[e]:e.getFilters()}function Qf(i){return i instanceof De}function Qg(i){return i instanceof Ke&&mn(i)}function Jf(i){return Qf(i)||Qg(i)||function(e){if(e instanceof Ke&&Xt(e)){for(const t of e.getFilters())if(!Qf(t)&&!Qg(t))return!1;return!0}return!1}(i)}function Ch(i){if(bn(i instanceof De||i instanceof Ke),i instanceof De)return i;if(1===i.filters.length)return Ch(i.filters[0]);const e=i.filters.map(s=>Ch(s));let t=Ke.create(e,i.op);return t=ep(t),Jf(t)?t:(bn(t instanceof Ke),bn(Wt(t)),bn(t.filters.length>1),t.filters.reduce((s,a)=>Xf(s,a)))}function Xf(i,e){let t;return bn(i instanceof De||i instanceof Ke),bn(e instanceof De||e instanceof Ke),t=i instanceof De?e instanceof De?Ke.create([i,e],"and"):bh(i,e):e instanceof De?bh(e,i):function(s,a){if(bn(s.filters.length>0&&a.filters.length>0),Wt(s)&&Wt(a))return on(s,a.getFilters());const c=Xt(s)?s:a,p=Xt(s)?a:s,S=c.filters.map(B=>Xf(B,p));return Ke.create(S,"or")}(i,e),ep(t)}function bh(i,e){if(Wt(e))return on(e,i.getFilters());{const t=e.filters.map(s=>Xf(i,s));return Ke.create(t,"or")}}function ep(i){if(bn(i instanceof De||i instanceof Ke),i instanceof De)return i;const e=i.getFilters();if(1===e.length)return ep(e[0]);if(Qn(i))return i;const t=e.map(a=>ep(a)),s=[];return t.forEach(a=>{a instanceof De?s.push(a):a instanceof Ke&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Ke.create(s,i.op)}class Yv{constructor(){this.rn=new Jg}addToCollectionParentIndex(e,t){return this.rn.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return Ze.resolve(Lo.min())}updateCollectionGroup(e,t,s){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class Jg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ei(Gn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ei(Gn.comparator)).toArray()}}const tp=new Uint8Array(0);class Qv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Jg,this.un=new Ha(s=>Co(s),(s,a)=>na(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:ti(a)};return i_(e).put(c)}return Ze.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[qr(t),""],!1,!0);return i_(e).j(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(Bo(p.parent))}return s})}addFieldIndex(e,t){const s=np(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=Th(e);return c.next(S=>{p.put(Lu(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=np(e),a=Th(e),c=Ih(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Ih(e);let a=!0;const c=new Map;return Ze.forEach(this.cn(t),p=>this.an(e,p).next(S=>{a&&(a=!!S),c.set(p,S)})).next(()=>{if(a){let p=xr();const S=[];return Ze.forEach(c,(B,G)=>{var re;Vt("IndexedDbIndexManager",`Using index ${re=B,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Kr=>`${Kr.fieldPath}:${Kr.kind}`).join(",")}`} to execute ${Co(t)}`);const Ce=function(Kr,Js){const Xs=La(Js);if(void 0===Xs)return null;for(const os of Nu(Kr,Xs.fieldPath))switch(os.op){case"array-contains-any":return os.value.arrayValue.values||[];case"array-contains":return[os.value]}return null}(G,B),rt=function(Kr,Js){const Xs=new Map;for(const os of Ys(Js))for(const Pa of Nu(Kr,os.fieldPath))switch(Pa.op){case"==":case"in":Xs.set(os.fieldPath.canonicalString(),Pa.value);break;case"not-in":case"!=":return Xs.set(os.fieldPath.canonicalString(),Pa.value),Array.from(Xs.values())}return null}(G,B),wt=function(Kr,Js){const Xs=[];let os=!0;for(const Pa of Ys(Js)){const ul=0===Pa.kind?ld(Kr,Pa.fieldPath,Kr.startAt):Kl(Kr,Pa.fieldPath,Kr.startAt);Xs.push(ul.value),os&&(os=ul.inclusive)}return new Ci(Xs,os)}(G,B),Kt=function(Kr,Js){const Xs=[];let os=!0;for(const Pa of Ys(Js)){const ul=0===Pa.kind?Kl(Kr,Pa.fieldPath,Kr.endAt):ld(Kr,Pa.fieldPath,Kr.endAt);Xs.push(ul.value),os&&(os=ul.inclusive)}return new Ci(Xs,os)}(G,B),En=this.hn(B,G,wt),Dn=this.hn(B,G,Kt),Nr=this.ln(B,G,rt),_i=this.fn(B.indexId,Ce,En,wt.inclusive,Dn,Kt.inclusive,Nr);return Ze.forEach(_i,Kr=>s.H(Kr,t.limit).next(Js=>{Js.forEach(Xs=>{const os=Zt.fromSegments(Xs.documentKey);p.has(os)||(p=p.add(os),S.push(os))})}))}).next(()=>S)}return Ze.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Kv(Ke.create(e.filters,"and")).map(s=>Ds(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,p,S){const B=(null!=t?t.length:1)*Math.max(s.length,c.length),G=B/(null!=t?t.length:1),re=[];for(let Ce=0;Ce<B;++Ce){const rt=t?this.dn(t[Ce/G]):tp,wt=this.wn(e,rt,s[Ce%G],a),Kt=this._n(e,rt,c[Ce%G],p),En=S.map(Dn=>this.wn(e,rt,Dn,!0));re.push(...this.createRange(wt,Kt,En))}return re}wn(e,t,s,a){const c=new oc(e,Zt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new oc(e,Zt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new r_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const S of c)s.tn(S)&&(!p||S.fields.length>p.fields.length)&&(p=S);return p})}getIndexType(e,t){let s=2;const a=this.cn(t);return Ze.forEach(a,c=>this.an(e,c).next(p=>{p?0!==s&&p.fields.length<function(S){let B=new Ei(Fr.comparator),G=!1;for(const re of S.filters)for(const Ce of re.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?G=!0:B=B.add(Ce.field));for(const re of S.orderBy)re.field.isKeyField()||(B=B.add(re.field));return B.size+(G?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new wh;for(const a of Ys(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.He(a.kind);Rc.Ve._e(c,p)}return s.Qe()}dn(e){const t=new wh;return Rc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new wh;return Rc.Ve._e(E(this.databaseId,t),s.He(function(a){const c=Ys(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new wh);let c=0;for(const p of Ys(e)){const S=s[c++];for(const B of a)if(this.yn(t,p.fieldPath)&&K(S))a=this.pn(a,p,S);else{const G=B.He(p.kind);Rc.Ve._e(S,G)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const S of a){const B=new wh;B.seed(S.Qe()),Rc.Ve._e(p,B.He(t.kind)),c.push(B)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof De&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=np(e),a=Th(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const p=[];return Ze.forEach(c,S=>a.get([S.indexId,this.uid]).next(B=>{p.push(function(G,re){const Ce=re?new lu(re.sequenceNumber,new Lo(wl(re.readTime),new Zt(Bo(re.documentKey)),re.largestBatchId)):lu.empty(),rt=G.fields.map(([wt,Kt])=>new Hu(Fr.fromServerFormat(wt),Kt));return new Da(G.indexId,G.collectionGroup,rt,Ce)}(S,B))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:kt(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=np(e),c=Th(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Ze.forEach(S,B=>c.put(Lu(B.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return Ze.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?Ze.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(s.set(a.collectionGroup,S),Ze.forEach(S,B=>this.En(e,a,B).next(G=>{const re=this.An(c,B);return G.isEqual(re)?Ze.resolve():this.vn(e,c,B,G,re)}))))})}Rn(e,t,s,a){return Ih(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return Ih(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=Ih(e);let c=new Ei(Il);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(p,S)=>{c=c.add(new oc(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>c)}An(e,t){let s=new Ei(Il);const a=this.mn(t,e);if(null==a)return s;const c=La(t);if(null!=c){const p=e.data.field(c.fieldPath);if(K(p))for(const S of p.arrayValue.values||[])s=s.add(new oc(t.indexId,e.key,this.dn(S),a))}else s=s.add(new oc(t.indexId,e.key,tp,a));return s}vn(e,t,s,a,c){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(S,B,G,re,Ce){const rt=S.getIterator(),wt=B.getIterator();let Kt=ja(rt),En=ja(wt);for(;Kt||En;){let Dn=!1,Nr=!1;if(Kt&&En){const _i=G(Kt,En);_i<0?Nr=!0:_i>0&&(Dn=!0)}else null!=Kt?Nr=!0:Dn=!0;Dn?(re(En),En=ja(wt)):Nr?(Ce(Kt),Kt=ja(rt)):(Kt=ja(rt),En=ja(wt))}}(a,c,Il,S=>{p.push(this.Rn(e,t,s,S))},S=>{p.push(this.Pn(e,t,s,S))}),Ze.waitFor(p)}Tn(e){let t=1;return Th(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,S)=>Il(p,S)).filter((p,S,B)=>!S||0!==Il(p,B[S-1]));const a=[];a.push(e);for(const p of s){const S=Il(p,e),B=Il(p,t);if(0===S)a[0]=e.Je();else if(S>0&&B<0)a.push(p),a.push(p.Je());else if(B>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,tp,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,tp,[]]))}return c}bn(e,t){return Il(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(s_)}getMinOffset(e,t){return Ze.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||cn())).next(s_)}}function i_(i){return ns(i,"collectionParents")}function Ih(i){return ns(i,"indexEntries")}function np(i){return ns(i,"indexConfiguration")}function Th(i){return ns(i,"indexState")}function s_(i){bn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;Tu(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Lo(e.readTime,e.documentKey,t)}const Qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xg(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let S=0;const B=s.X({range:p},(re,Ce,rt)=>(S++,rt.delete()));c.push(B.next(()=>{bn(1===S)}));const G=[];for(const re of t.mutations){const Ce=eu(e,re.key.path,t.batchId);c.push(a.delete(Ce)),G.push(re.key)}return Ze.waitFor(c).next(()=>G)}function Cd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw cn();e=i.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class Nc{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){bn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Nc(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).X({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=kc(e),p=Vu(e);return p.add({}).next(S=>{bn("number"==typeof S);const B=new ch(S,t,s,a),G=function(rt,wt,Kt){const En=Kt.baseMutations.map(Nr=>Mc(rt.fe,Nr)),Dn=Kt.mutations.map(Nr=>Mc(rt.fe,Nr));return{userId:wt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:En,mutations:Dn}}(this.serializer,this.userId,B),re=[];let Ce=new Ei((rt,wt)=>kt(rt.canonicalString(),wt.canonicalString()));for(const rt of a){const wt=eu(this.userId,rt.key.path,S);Ce=Ce.add(rt.key.path.popLast()),re.push(p.put(G)),re.push(c.put(wt,Au))}return Ce.forEach(rt=>{re.push(this.indexManager.addToCollectionParentIndex(e,rt))}),e.addOnCommittedListener(()=>{this.Vn[S]=B.keys()}),Ze.waitFor(re).next(()=>B)})}lookupMutationBatch(e,t){return Vu(e).get(t).next(s=>s?(bn(s.userId===this.userId),Cl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Ze.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Vu(e).X({index:"userMutationsIndex",range:a},(p,S,B)=>{S.userId===this.userId&&(bn(S.batchId>=s),c=Cl(this.serializer,S)),B.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Vu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).j("userMutationsIndex",t).next(s=>s.map(a=>Cl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xo(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return kc(e).X({range:a},(p,S,B)=>{const[G,re,Ce]=p,rt=Bo(re);if(G===this.userId&&t.path.isEqual(rt))return Vu(e).get(Ce).next(wt=>{if(!wt)throw cn();bn(wt.userId===this.userId),c.push(Cl(this.serializer,wt))});B.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ei(kt);const a=[];return t.forEach(c=>{const p=Xo(this.userId,c.path),S=IDBKeyRange.lowerBound(p),B=kc(e).X({range:S},(G,re,Ce)=>{const[rt,wt,Kt]=G,En=Bo(wt);rt===this.userId&&c.path.isEqual(En)?s=s.add(Kt):Ce.done()});a.push(B)}),Ze.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Xo(this.userId,s),p=IDBKeyRange.lowerBound(c);let S=new Ei(kt);return kc(e).X({range:p},(B,G,re)=>{const[Ce,rt,wt]=B,Kt=Bo(rt);Ce===this.userId&&s.isPrefixOf(Kt)?Kt.length===a&&(S=S.add(wt)):re.done()}).next(()=>this.Dn(e,S))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Vu(e).get(c).next(p=>{if(null===p)throw cn();bn(p.userId===this.userId),s.push(Cl(this.serializer,p))}))}),Ze.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Xg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ze.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return kc(e).X({range:s},(c,p,S)=>{if(c[0]===this.userId){const B=Bo(c[1]);a.push(B)}else S.done()}).next(()=>{bn(0===a.length)})})}containsKey(e,t){return rp(e,this.userId,t)}xn(e){return Ju(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rp(i,e,t){const s=Xo(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return kc(i).X({range:c,Y:!0},(S,B,G)=>{const[re,Ce,rt]=S;re===e&&Ce===a&&(p=!0),G.done()}).next(()=>p)}function Vu(i){return ns(i,"mutations")}function kc(i){return ns(i,"documentMutations")}function Ju(i){return ns(i,"mutationQueues")}class Tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tl(0)}static Mn(){return new Tl(-1)}}class o_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Tl(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Jt.fromTimestamp(new Cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(bn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Dl(e).X((p,S)=>{const B=bl(S);B.sequenceNumber<=t&&null===s.get(B.targetId)&&(a++,c.push(this.removeTargetData(e,B)))}).next(()=>Ze.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Dl(e).X((s,a)=>{const c=bl(a);t(c)})}$n(e){return em(e).get("targetGlobalKey").next(t=>(bn(null!==t),t))}On(e,t){return em(e).put("targetGlobalKey",t)}Fn(e,t){return Dl(e).put(au(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Co(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Dl(e).X({range:a,index:"queryTargetsIndex"},(p,S,B)=>{const G=bl(S);na(t,G.target)&&(c=G,B.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Xu(e);return t.forEach(p=>{const S=ti(p.path);a.push(c.put({targetId:s,path:S})),a.push(this.referenceDelegate.addReference(e,s,p))}),Ze.waitFor(a)}removeMatchingKeys(e,t,s){const a=Xu(e);return Ze.forEach(t,c=>{const p=ti(c.path);return Ze.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Xu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Xu(e);let c=xr();return a.X({range:s,Y:!0},(p,S,B)=>{const G=Bo(p[1]),re=new Zt(G);c=c.add(re)}).next(()=>c)}containsKey(e,t){const s=ti(t.path),a=IDBKeyRange.bound([s],[qr(s)],!1,!0);let c=0;return Xu(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,S],B,G)=>{0!==p&&(c++,G.done())}).next(()=>c>0)}le(e,t){return Dl(e).get(t).next(s=>s?bl(s):null)}}function Dl(i){return ns(i,"targets")}function em(i){return ns(i,"targetGlobal")}function Xu(i){return ns(i,"targetDocuments")}function tm([i,e],[t,s]){const a=kt(i,t);return 0===a?kt(e,s):a}class a_{constructor(e){this.Ln=e,this.buffer=new Ei(tm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();tm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,m.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Wi(s)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield vo(s)}yield t.Qn(3e5)}))}}class Lc{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ze.resolve(Gs.ct);const s=new a_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(Qu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qu):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,p,S,B,G;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),a=this.params.maximumSequenceNumbersToCollect):a=Ce,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ce=>(s=Ce,S=Date.now(),this.removeTargets(e,s,t))).next(Ce=>(c=Ce,B=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ce=>(G=Date.now(),ko()<=Ee.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-re}ms\n\tDetermined least recently used ${a} in `+(S-p)+`ms\n\tRemoved ${c} targets in `+(B-S)+`ms\n\tRemoved ${Ce} documents in `+(G-B)+`ms\nTotal Duration: ${G-re}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ce})))}}class Vc{constructor(e,t){this.db=e,this.garbageCollector=function Dh(i,e){return new Lc(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Al(e,s)}removeReference(e,t,s){return Al(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Al(e,t)}Xn(e,t){return function(s,a){let c=!1;return Ju(s).Z(p=>rp(s,p,a).next(S=>(S&&(c=!0),Ze.resolve(!S)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(p,S)=>{if(S<=t){const B=this.Xn(e,p).next(G=>{if(!G)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Jt.min()),Xu(e).delete([0,ti(p.path)])))});a.push(B)}}).next(()=>Ze.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Al(e,t)}Yn(e,t){const s=Xu(e);let a,c=Gs.ct;return s.X({index:"documentTargetsIndex"},([p,S],{path:B,sequenceNumber:G})=>{0===p?(c!==Gs.ct&&t(new Zt(Bo(a)),c),c=G,a=B):c=Gs.ct}).next(()=>{c!==Gs.ct&&t(new Zt(Bo(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Al(i,e){return Xu(i).put((s=i.currentSequenceNumber,{targetId:0,path:ti(e.path),sequenceNumber:s}));var s}class ac{constructor(){this.changes=new Ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ze.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return el(e).put(s)}removeEntry(e,t,s){return el(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Tr(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Er.newInvalidDocument(t);return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uc(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:Er.newInvalidDocument(t)};return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uc(t))},(a,c)=>{s={document:this.ts(t,c),size:Cd(c)}}).next(()=>s)}getEntries(e,t){let s=xi();return this.ns(e,t,(a,c)=>{const p=this.ts(a,c);s=s.insert(a,p)}).next(()=>s)}ss(e,t){let s=xi(),a=new yi(Zt.comparator);return this.ns(e,t,(c,p)=>{const S=this.ts(c,p);s=s.insert(c,S),a=a.insert(c,Cd(p))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Ze.resolve();let a=new Ei(rm);t.forEach(B=>a=a.add(B));const c=IDBKeyRange.bound(Uc(a.first()),Uc(a.last())),p=a.getIterator();let S=p.getNext();return el(e).X({index:"documentKeyIndex",range:c},(B,G,re)=>{const Ce=Zt.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;S&&rm(S,Ce)<0;)s(S,null),S=p.getNext();S&&S.isEqual(Ce)&&(s(S,G),S=p.hasNext()?p.getNext():null),S?re.G(Uc(S)):re.done()}).next(()=>{for(;S;)s(S,null),S=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),Tr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).j(IDBKeyRange.bound(p,S,!0)).next(B=>{let G=xi();for(const re of B){const Ce=this.ts(Zt.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);Ce.isFoundDocument()&&($r(t,Ce)||a.has(Ce.key))&&(G=G.insert(Ce.key,Ce))}return G})}getAllFromCollectionGroup(e,t,s,a){let c=xi();const p=bd(t,s),S=bd(t,Lo.max());return el(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,S,!0)},(B,G,re)=>{const Ce=this.ts(Zt.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);c=c.insert(Ce.key,Ce),c.size===a&&re.done()}).next(()=>c)}newChangeBuffer(e){return new nm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ah(e).get("remoteDocumentGlobalKey").next(t=>(bn(!!t),t))}Zn(e,t){return Ah(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function n_(i,e){let t;if(e.document)t=$f(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Zt.fromSegments(e.noDocument.path),a=wl(e.noDocument.readTime);t=Er.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return cn();{const s=Zt.fromSegments(e.unknownDocument.path),a=wl(e.unknownDocument.version);t=Er.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Cr(s[0],s[1]);return Jt.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Jt.min()))return s}return Er.newInvalidDocument(e)}}function ip(i){return new u_(i)}class nm extends ac{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ha(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ei((c,p)=>kt(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const S=this.us.get(c);if(t.push(this.os.removeEntry(e,c,S.readTime)),p.isValidDocument()){const B=Kg(this.os.serializer,p);a=a.add(c.path.popLast()),s+=Cd(B)-S.size,t.push(this.os.addEntry(e,c,B))}else if(s-=S.size,this.trackRemovals){const B=Kg(this.os.serializer,p.convertToNoDocument(Jt.min()));t.push(this.os.addEntry(e,c,B))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),Ze.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,p)=>{this.us.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function Ah(i){return ns(i,"remoteDocumentGlobal")}function el(i){return ns(i,"remoteDocumentsV14")}function Uc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bd(i,e){const t=e.documentKey.path.toArray();return[i,Tr(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rm(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=kt(t[c],s[c]),a)return a;return a=kt(t.length,s.length),a||(a=kt(t[t.length-2],s[s.length-2]),a||kt(t[t.length-1],s[s.length-1]))}class im{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class l_{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&ah(s.mutation,a,Fs.empty(),Cr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,xr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=xr()){const a=za();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=mu();return c.forEach((S,B)=>{p=p.insert(S,B.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=za();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,xr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,S)=>{t.set(p,S)})})}computeViews(e,t,s,a){let c=xi();const p=yl(),S=yl();return t.forEach((B,G)=>{const re=s.get(G.key);a.has(G.key)&&(void 0===re||re.mutation instanceof bo)?c=c.insert(G.key,G):void 0!==re?(p.set(G.key,re.mutation.getFieldMask()),ah(re.mutation,G,re.mutation.getFieldMask(),Cr.now())):p.set(G.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,c).next(B=>(B.forEach((G,re)=>p.set(G,re)),t.forEach((G,re)=>{var Ce;return S.set(G,new im(re,null!==(Ce=p.get(G))&&void 0!==Ce?Ce:null))}),S))}recalculateAndSaveOverlays(e,t){const s=yl();let a=new yi((p,S)=>p-S),c=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const S of p)S.keys().forEach(B=>{const G=t.get(B);if(null===G)return;let re=s.get(B)||Fs.empty();re=S.applyToLocalView(G,re),s.set(B,re);const Ce=(a.get(S.batchId)||xr()).add(B);a=a.insert(S.batchId,Ce)})}).next(()=>{const p=[],S=a.getReverseIterator();for(;S.hasNext();){const B=S.getNext(),G=B.key,re=B.value,Ce=Yl();re.forEach(rt=>{if(!c.has(rt)){const wt=ec(t.get(rt),s.get(rt));null!==wt&&Ce.set(rt,wt),c=c.add(rt)}}),p.push(this.documentOverlayCache.saveOverlays(e,G,Ce))}return Ze.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Zt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):A(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ze.resolve(za());let S=-1,B=c;return p.next(G=>Ze.forEach(G,(re,Ce)=>(S<Ce.largestBatchId&&(S=Ce.largestBatchId),c.get(re)?Ze.resolve():this.remoteDocumentCache.getEntry(e,re).next(rt=>{B=B.insert(re,rt)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,B,G,xr())).next(re=>({batchId:S,changes:cd(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next(s=>{let a=mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,a).next(p=>Ze.forEach(p,S=>{const B=(G=t,re=S.child(a),new $a(re,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,re;return this.getDocumentsMatchingCollectionQuery(e,B,s).next(G=>{G.forEach((re,Ce)=>{c=c.insert(re,Ce)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((S,B)=>{const G=B.getKey();null===c.get(G)&&(c=c.insert(G,Er.newInvalidDocument(G)))});let p=mu();return c.forEach((S,B)=>{const G=a.get(S);void 0!==G&&ah(G.mutation,B,Fs.empty(),Cr.now()),$r(t,B)&&(p=p.insert(S,B))}),p})}}class sm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ze.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:As(s.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:yh(s.bundledQuery),readTime:As(s.readTime)}),Ze.resolve();var s}}class om{constructor(){this.overlays=new yi(Zt.comparator),this.ls=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}getOverlays(e,t){const s=za();return Ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Ze.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Ze.resolve()}getOverlaysForCollection(e,t,s){const a=za(),c=t.length+1,p=new Zt(t.child("")),S=this.overlays.getIteratorFrom(p);for(;S.hasNext();){const B=S.getNext().value,G=B.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&B.largestBatchId>s&&a.set(B.getKey(),B)}return Ze.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new yi((G,re)=>G-re);const p=this.overlays.getIterator();for(;p.hasNext();){const G=p.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let re=c.get(G.largestBatchId);null===re&&(re=za(),c=c.insert(G.largestBatchId,re)),re.set(G.getKey(),G)}}const S=za(),B=c.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((G,re)=>S.set(G,re)),!(S.size()>=a)););return Ze.resolve(S)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new gd(t,s));let c=this.ls.get(t);void 0===c&&(c=xr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class sp{constructor(){this.fs=new Ei(lo.ds),this.ws=new Ei(lo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new lo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new lo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Zt(new Gn([])),s=new lo(t,e),a=new lo(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Zt(new Gn([])),s=new lo(t,e),a=new lo(t,e+1);let c=xr();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new lo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class lo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Zt.comparator(e.key,t.key)||kt(e.As,t.As)}static _s(e,t){return kt(e.As,t.As)||Zt.comparator(e.key,t.key)}}class c_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ei(lo.ds)}checkEmpty(e){return Ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new ch(c,t,s,a);this.mutationQueue.push(p);for(const S of a)this.Rs=this.Rs.add(new lo(S.key,c)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Ze.resolve(p)}lookupMutationBatch(e,t){return Ze.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Ze.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new lo(t,0),a=new lo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const S=this.Ps(p.As);c.push(S)}),Ze.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ei(kt);return t.forEach(a=>{const c=new lo(a,0),p=new lo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],S=>{s=s.add(S.As)})}),Ze.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Zt.isDocumentKey(c)||(c=c.child(""));const p=new lo(new Zt(c),0);let S=new Ei(kt);return this.Rs.forEachWhile(B=>{const G=B.key.path;return!!s.isPrefixOf(G)&&(G.length===a&&(S=S.add(B.As)),!0)},p),Ze.resolve(this.Vs(S))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){bn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ze.forEach(t.mutations,a=>{const c=new lo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new lo(t,0),a=this.Rs.firstAfterOrEqual(s);return Ze.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ze.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class d_{constructor(e){this.Ds=e,this.docs=new yi(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ze.resolve(s?s.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let s=xi();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Er.newInvalidDocument(a))}),Ze.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=xi();const p=t.path,S=new Zt(p.child("")),B=this.docs.getIteratorFrom(S);for(;B.hasNext();){const{key:G,value:{document:re}}=B.getNext();if(!p.isPrefixOf(G.path))break;G.path.length>p.length+1||Tu(Zl(re),s)<=0||(a.has(re.key)||$r(t,re))&&(c=c.insert(re.key,re.mutableCopy()))}return Ze.resolve(c)}getAllFromCollectionGroup(e,t,s,a){cn()}Cs(e,t){return Ze.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ga(this)}getSize(e){return Ze.resolve(this.size)}}class Ga extends ac{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Ze.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h_{constructor(e){this.persistence=e,this.xs=new Ha(t=>Co(t),na),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sp,this.targetCount=0,this.Ms=Tl.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ze.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.Fn(t),Ze.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Ze.waitFor(c).next(()=>a)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ze.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ze.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Ze.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ze.resolve(s)}containsKey(e,t){return Ze.resolve(this.ks.containsKey(t))}}class op{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h_(this),this.indexManager=new Yv,this.remoteDocumentCache=new d_(s=>this.referenceDelegate.Ls(s)),this.serializer=new qg(t),this.qs=new sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new om,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new c_(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Vt("MemoryPersistence","Starting transaction:",e);const a=new Jv(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Ze.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Jv extends Gu{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Qs=new sp,this.js=null}static zs(e){return new ap(e)}get Ws(){if(this.js)return this.js;throw cn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ze.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Ws,s=>{const a=Zt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Jt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ze.or([()=>Ze.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Xv{constructor(e){this.serializer=e}O(e,t,s,a){const c=new fa("createOrUpgrade",t);var S;s<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0}),S.createObjectStore("documentMutations"),am(e),function(S){S.createObjectStore("remoteDocuments")}(e));let p=Ze.resolve();return s<3&&a>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),am(e)),p=p.next(()=>function(S){const B=S.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",G)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(S,B){return B.store("mutations").j().next(G=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",du,{unique:!0});const re=B.store("mutations"),Ce=G.map(rt=>re.put(rt));return Ze.waitFor(Ce)})}(e,c))),p=p.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ys(c))),s<6&&a>=6&&(p=p.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(p=p.next(()=>this.Zs(c))),s<8&&a>=8&&(p=p.next(()=>this.ti(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.ei(c))),s<11&&a>=11&&(p=p.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(S){const B=S.createObjectStore("documentOverlays",{keyPath:$o});B.createIndex("collectionPathOverlayIndex",ya,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",wc,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(S){const B=S.createObjectStore("remoteDocumentsV14",{keyPath:Su});B.createIndex("documentKeyIndex",hu),B.createIndex("collectionGroupIndex",Wu)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.si(e,c))),s<15&&a>=15&&(p=p.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:xu}).createIndex("sequenceNumberIndex",ma,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Mu}).createIndex("documentKeyIndex",fl,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Cd(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ze.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",p).next(S=>Ze.forEach(S,B=>{bn(B.userId===c.userId);const G=Cl(this.serializer,B);return Xg(e,c.userId,G).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((p,S)=>{const B=new Gn(p),G=[0,ti(B)];c.push(t.get(G).next(re=>re?Ze.resolve():t.put({targetId:0,path:ti(B),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:jo});const s=t.store("collectionParents"),a=new Jg,c=p=>{if(a.add(p)){const S=p.lastSegment(),B=p.popLast();return s.put({collectionId:S,parent:ti(B)})}};return t.store("remoteDocuments").X({Y:!0},(p,S)=>{const B=new Gn(p);return c(B.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,S,B],G)=>{const re=Bo(S);return c(re.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=bl(a),p=au(this.serializer,c);return t.put(p)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,p)=>{const S=t.store("remoteDocumentsV14"),B=(G=p,G.document?new Zt(Gn.fromString(G.document.name).popFirst(5)):G.noDocument?Zt.fromSegments(G.noDocument.path):G.unknownDocument?Zt.fromSegments(G.unknownDocument.path):cn()).path.toArray();var G;const re={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(S.put(re))}).next(()=>Ze.waitFor(a))}si(e,t){const s=t.store("mutations"),a=ip(this.serializer),c=new op(ap.zs,this.serializer.fe);return s.j().next(p=>{const S=new Map;return p.forEach(B=>{var G;let re=null!==(G=S.get(B.userId))&&void 0!==G?G:xr();Cl(this.serializer,B).keys().forEach(Ce=>re=re.add(Ce)),S.set(B.userId,re)}),Ze.forEach(S,(B,G)=>{const re=new Zr(G),Ce=Wf.de(this.serializer,re),rt=c.getIndexManager(re),wt=Nc.de(re,this.serializer,rt,c.referenceDelegate);return new l_(a,wt,Ce,rt).recalculateAndSaveOverlaysForDocumentKeys(new _a(t,Gs.ct),B).next()})})}}function am(i){i.createObjectStore("targetDocuments",{keyPath:Ba}).createIndex("documentTargetsIndex",Yi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Eo,{unique:!0}),i.createObjectStore("targetGlobal")}const Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sh{constructor(e,t,s,a,c,p,S,B,G,re,Ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=p,this.document=S,this.ri=G,this.oi=re,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=rt=>Promise.resolve(),!Sh.D())throw new Pt(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vc(this,a),this.di=t+"main",this.serializer=new qg(B),this.wi=new Ts(this.di,this.ui,new Xv(this.serializer)),this.Bs=new o_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ip(this.serializer),this.qs=new zf,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===re&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pt(lt.FAILED_PRECONDITION,Td);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Gs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,m.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,m.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,m.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Wi(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Dd(e).get("owner").next(t=>Ze.resolve(this.Ri(t)))}Pi(e){return xh(e).delete(this.clientId)}bi(){var e=this;return(0,m.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ns(s,"clientMetadata");return a.j().next(c=>{const p=e.Si(c,18e5),S=c.filter(B=>-1===p.indexOf(B));return Ze.forEach(S,B=>a.delete(B.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ze.resolve(!0):Dd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Pt(lt.FAILED_PRECONDITION,Td);return!1}}return!(!this.networkEnabled||!this.inForeground)||xh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,S=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,m.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new _a(t,Gs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>xh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Nc.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Wf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Vt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ui)?pl:14===p?Zi:13===p?Zu:12===p?Pu:11===p?Sa:void cn();var p;let S;return this.wi.runTransaction(e,a,c,B=>(S=new _a(B,this.Os?this.Os.next():Gs.ct),"readwrite-primary"===t?this.Ti(S).next(G=>!!G||this.Ei(S)).next(G=>{if(!G)throw si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pt(lt.FAILED_PRECONDITION,zu);return s(S)}).next(G=>this.vi(S).next(()=>G)):this.Oi(S).next(()=>s(S)))).then(B=>(S.raiseOnCommittedEvent(),B))}Oi(e){return Dd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pt(lt.FAILED_PRECONDITION,Td)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dd(e).put("owner",t)}static D(){return Ts.D()}Ai(e){const t=Dd(e);return t.get("owner").next(s=>this.Ri(s)?(Vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ze.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(si(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,oe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return si("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){si("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dd(i){return ns(i,"owner")}function xh(i){return ns(i,"clientMetadata")}function up(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Mh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=xr(),a=xr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Mh(e,t.fromCache,s,a)}}class um{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(C(t))return Ze.resolve(null);let s=te(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=pt(t,null,"F"),s=te(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=xr(...c);return this.Ui.getDocuments(e,p).next(S=>this.indexManager.getMinOffset(e,s).next(B=>{const G=this.ji(t,S);return this.zi(t,G,p,B.readTime)?this.Ki(e,pt(t,null,"F")):this.Wi(e,G,t,B)}))})))}Gi(e,t,s,a){return C(t)||a.isEqual(Jt.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(ko()<=Ee.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zn(t)),this.Wi(e,p,t,Wl(a,-1)))})}ji(e,t){let s=new Ei(is(e));return t.forEach((a,c)=>{$r(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return ko()<=Ee.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Zn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Lo.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class lm{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new yi(kt),this.Yi=new Ha(c=>Co(c),na),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cm(i,e,t,s){return new lm(i,e,t,s)}function dm(i,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,m.Z)(function*(i,e){const t=sn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],S=[];let B=xr();for(const G of a){p.push(G.batchId);for(const re of G.mutations)B=B.add(re.key)}for(const G of c){S.push(G.batchId);for(const re of G.mutations)B=B.add(re.key)}return t.localDocuments.getDocuments(s,B).next(G=>({er:G,removedBatchIds:p,addedBatchIds:S}))})})}),Ph.apply(this,arguments)}function hm(i,e){const t=sn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,S,B,G){const re=B.batch,Ce=re.keys();let rt=Ze.resolve();return Ce.forEach(wt=>{rt=rt.next(()=>G.getEntry(S,wt)).next(Kt=>{const En=B.docVersions.get(wt);bn(null!==En),Kt.version.compareTo(En)<0&&(re.applyToRemoteDocument(Kt,B),Kt.isValidDocument()&&(Kt.setReadTime(B.commitVersion),G.addEntry(Kt)))})}),rt.next(()=>p.mutationQueue.removeMutationBatch(S,re))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let S=xr();for(let B=0;B<p.mutationResults.length;++B)p.mutationResults[B].transformResults.length>0&&(S=S.add(p.batch.mutations[B].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function fm(i){const e=sn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Uu(i,e){const t=sn(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const S=[];e.targetChanges.forEach((re,Ce)=>{const rt=a.get(Ce);if(!rt)return;S.push(t.Bs.removeMatchingKeys(c,re.removedDocuments,Ce).next(()=>t.Bs.addMatchingKeys(c,re.addedDocuments,Ce)));let wt=rt.withSequenceNumber(c.currentSequenceNumber);var Kt,En,Dn;null!==e.targetMismatches.get(Ce)?wt=wt.withResumeToken(qi.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):re.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(re.resumeToken,s)),a=a.insert(Ce,wt),En=wt,Dn=re,(0===(Kt=rt).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&S.push(t.Bs.updateTargetData(c,wt))});let B=xi(),G=xr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(c,re))}),S.push(Oh(c,p,e.documentUpdates).next(re=>{B=re.nr,G=re.sr})),!s.isEqual(Jt.min())){const re=t.Bs.getLastRemoteSnapshotVersion(c).next(Ce=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));S.push(re)}return Ze.waitFor(S).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,B,G)).next(()=>B)}).then(c=>(t.Ji=a,c))}function Oh(i,e,t){let s=xr(),a=xr();return t.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let p=xi();return t.forEach((S,B)=>{const G=c.get(S);B.isFoundDocument()!==G.isFoundDocument()&&(a=a.add(S)),B.isNoDocument()&&B.version.isEqual(Jt.min())?(e.removeEntry(S,B.readTime),p=p.insert(S,B)):!G.isValidDocument()||B.version.compareTo(G.version)>0||0===B.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(B),p=p.insert(S,B)):Vt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",G.version," Watch version:",B.version)}),{nr:p,sr:a}})}function f_(i,e){const t=sn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Bc(i,e){const t=sn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Ze.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new Fu(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ad(i,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,m.Z)(function*(i,e,t){const s=sn(i),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Wi(p))throw p;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Rh.apply(this,arguments)}function Nh(i,e,t){const s=sn(i);let a=Jt.min(),c=xr();return s.persistence.runTransaction("Execute query","readonly",p=>function(S,B,G){const re=sn(S),Ce=re.Yi.get(G);return void 0!==Ce?Ze.resolve(re.Ji.get(Ce)):re.Bs.getTargetData(B,G)}(s,p,te(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,S.targetId).next(B=>{c=B})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:Jt.min(),t?c:xr())).next(S=>(kh(s,Zs(e),S),{documents:S,ir:c})))}function pm(i,e){const t=sn(i),s=sn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(p=>p?p.target:null))}function gm(i,e){const t=sn(i),s=t.Xi.get(e)||Jt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Wl(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(kh(t,e,a),a))}function kh(i,e,t){let s=i.Xi.get(e)||Jt.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Xi.set(e,s)}function lp(){return lp=(0,m.Z)(function*(i,e,t,s){const a=sn(i);let c=xr(),p=xi();for(const G of t){const re=e.rr(G.metadata.name);G.document&&(c=c.add(re));const Ce=e.ur(G);Ce.setReadTime(e.cr(G.metadata.readTime)),p=p.insert(re,Ce)}const S=a.Zi.newChangeBuffer({trackRemovals:!0}),B=yield Bc(a,(G=s,te(gl(Gn.fromString(`__bundle__/docs/${G}`)))));var G;return a.persistence.runTransaction("Apply bundle documents","readwrite",G=>Oh(G,S,p).next(re=>(S.apply(G),re)).next(re=>a.Bs.removeMatchingKeysForTargetId(G,B.targetId).next(()=>a.Bs.addMatchingKeys(G,c,B.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(G,re.nr,re.sr)).next(()=>re.nr)))}),lp.apply(this,arguments)}function Fh(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,m.Z)(function*(i,e,t=xr()){const s=yield Bc(i,te(yh(e.bundledQuery))),a=sn(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=As(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(c,e);const S=s.withResumeToken(qi.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(S.targetId,S),a.Bs.updateTargetData(c,S).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Sd.apply(this,arguments)}function mm(i,e){return`firestore_clients_${i}_${e}`}function Lh(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xd(i,e){return`firestore_targets_${i}_${e}`}class Md{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Pt(a.error.code,a.error.message))),p?new Md(e,t,a.state,c):(si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Pt(s.error.code,s.error.message))),c?new Vh(e,s.state,a):(si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Of();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=ks(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new cp(e,c):(si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Pd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pd(t.clientId,t.onlineState):(si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ym{constructor(){this.activeTargetIds=Of()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dp{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new yi(kt),this.started=!1,this.yr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=mm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ym),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,m.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(mm(e.persistenceKey,a));if(c){const p=cp.ar(a,c);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xd(this.persistenceKey,e));if(s){const a=Vh.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xd(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vt("SharedClientState","READ",e,t),t}setItem(e,t){Vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Vt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,m.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let p=Gs.ct;if(null!=c)try{const S=JSON.parse(c);bn("number"==typeof S),p=S}catch(S){si("SharedClientState","Failed to read sequence number from WebStorage",S)}return p}(s.newValue);a!==Gs.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Md(this.currentUser,e,t,s),c=Lh(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=Lh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=xd(this.persistenceKey,e),c=new Vh(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return cp.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Md.ar(new Zr(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return Vh.ar(a,t)}br(e){return Pd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,m.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),p=[],S=[];return c.forEach(B=>{a.has(B)||p.push(B)}),a.forEach(B=>{c.has(B)||S.push(B)}),this.syncEngine.Wr(p,S).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Of();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class hp{constructor(){this.Hr=new ym,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ym,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _m{Yr(e){}shutdown(){}}class fp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Od=null;function Uh(){return null===Od?Od=268435456+Math.round(2147483648*Math.random()):Od++,"0x"+Od.toString(16)}const tl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ra="WebChannelConnection";class g_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=Uh(),S=this.To(e,t);Vt("RestConnection",`Sending RPC '${e}' ${p}:`,S,s);const B={};return this.Eo(B,a,c),this.Ao(e,S,B,s).then(G=>(Vt("RestConnection",`Received RPC '${e}' ${p}: `,G),G),G=>{throw Is("RestConnection",`RPC '${e}' ${p} failed with error: `,G,"url: ",S,"request:",s),G})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+No,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${tl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Uh();return new Promise((p,S)=>{const B=new $u;B.setWithCredentials(!0),B.listenOnce(ha.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case Na.NO_ERROR:const re=B.getResponseJson();Vt(ra,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(re)),p(re);break;case Na.TIMEOUT:Vt(ra,`RPC '${e}' ${c} timed out`),S(new Pt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Na.HTTP_ERROR:const Ce=B.getStatus();if(Vt(ra,`RPC '${e}' ${c} failed with status:`,Ce,"response text:",B.getResponseText()),Ce>0){let rt=B.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const wt=null==rt?void 0:rt.error;if(wt&&wt.status&&wt.message){const Kt=function(En){const Dn=En.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(Dn)>=0?Dn:lt.UNKNOWN}(wt.status);S(new Pt(Kt,wt.message))}else S(new Pt(lt.UNKNOWN,"Server responded with status "+B.getStatus()))}else S(new Pt(lt.UNAVAILABLE,"Connection failed."));break;default:cn()}}finally{Vt(ra,`RPC '${e}' ${c} completed.`)}});const G=JSON.stringify(a);Vt(ra,`RPC '${e}' ${c} sending request:`,a),B.send(t,"POST",G,s,15)})}Ro(e,t,s){const a=Uh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=io(),S=da(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(B.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(B.xmlHttpFactory=new ju({})),this.Eo(B.initMessageHeaders,t,s),B.encodeInitMessageHeaders=!0;const re=c.join("");Vt(ra,`Creating RPC '${e}' stream ${a}: ${re}`,B);const Ce=p.createWebChannel(re,B);let rt=!1,wt=!1;const Kt=new Bh({ro:Dn=>{wt?Vt(ra,`Not sending because RPC '${e}' stream ${a} is closed:`,Dn):(rt||(Vt(ra,`Opening RPC '${e}' stream ${a} transport.`),Ce.open(),rt=!0),Vt(ra,`RPC '${e}' stream ${a} sending:`,Dn),Ce.send(Dn))},oo:()=>Ce.close()}),En=(Dn,Nr,_i)=>{Dn.listen(Nr,Kr=>{try{_i(Kr)}catch(Js){setTimeout(()=>{throw Js},0)}})};return En(Ce,Fa.EventType.OPEN,()=>{wt||Vt(ra,`RPC '${e}' stream ${a} transport opened.`)}),En(Ce,Fa.EventType.CLOSE,()=>{wt||(wt=!0,Vt(ra,`RPC '${e}' stream ${a} transport closed`),Kt.wo())}),En(Ce,Fa.EventType.ERROR,Dn=>{wt||(wt=!0,Is(ra,`RPC '${e}' stream ${a} transport errored:`,Dn),Kt.wo(new Pt(lt.UNAVAILABLE,"The operation could not be completed")))}),En(Ce,Fa.EventType.MESSAGE,Dn=>{var Nr;if(!wt){const _i=Dn.data[0];bn(!!_i);const Kr=_i,Js=Kr.error||(null===(Nr=Kr[0])||void 0===Nr?void 0:Nr.error);if(Js){Vt(ra,`RPC '${e}' stream ${a} received error:`,Js);const Xs=Js.status;let os=function(ul){const Py=uo[ul];if(void 0!==Py)return kf(Py)}(Xs),Pa=Js.message;void 0===os&&(os=lt.INTERNAL,Pa="Unknown error status: "+Xs+" with message "+Js.message),wt=!0,Kt.wo(new Pt(os,Pa)),Ce.close()}else Vt(ra,`RPC '${e}' stream ${a} received:`,_i),Kt._o(_i)}}),En(S,Qa.STAT_EVENT,Dn=>{Dn.stat===ka.PROXY?Vt(ra,`RPC '${e}' stream ${a} detected buffering proxy`):Dn.stat===ka.NOPROXY&&Vt(ra,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Kt.fo()},0),Kt}}function m_(){return"undefined"!=typeof window?window:null}function jc(){return"undefined"!=typeof document?document:null}function $c(i){return new ph(i,!0)}class Rd{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Vt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hc{constructor(e,t,s,a,c,p,S,B){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=S,this.listener=B,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Rd(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,m.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,m.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,m.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===lt.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===lt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Pt(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,m.Z)(function*(){e.state=0,e.start()}))}tu(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y_ extends Hc{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Qy(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:cn(),a=e.targetChange.targetIds||[],c=function(B,G){return B.useProto3Json?(bn(void 0===G||"string"==typeof G),qi.fromBase64String(G||"")):(bn(void 0===G||G instanceof Uint8Array),qi.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,S=p&&function(B){const G=void 0===B.code?lt.UNKNOWN:kf(B.code);return new Pt(G,B.message||"")}(p);t=new kg(s,a,c,S||null)}else if("documentChange"in e){const s=e.documentChange,a=yu(i,s.document.name),c=As(s.document.updateTime),p=s.document.createTime?As(s.document.createTime):Jt.min(),S=new Pn({mapValue:{fields:s.document.fields}}),B=Er.newFoundDocument(a,c,p,S);t=new yd(s.targetIds||[],s.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const s=e.documentDelete,a=yu(i,s.document),c=s.readTime?As(s.readTime):Jt.min(),p=Er.newNoDocument(a,c);t=new yd([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=yu(i,s.document);t=new yd([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return cn();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new Pg(a,c);t=new fh(s.targetId,p)}}var B;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Jt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Jt.min():c.readTime?As(c.readTime):Jt.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=sc(this.serializer),t.addTarget=function(a,c){let p;const S=c.target;if(p=Ma(S)?{documents:Jy(a,S)}:{query:mh(a,S)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Bf(a,c.resumeToken);const B=Uf(a,c.expectedCount);null!==B&&(p.expectedCount=B)}else if(c.snapshotVersion.compareTo(Jt.min())>0){p.readTime=ic(a,c.snapshotVersion.toTimestamp());const B=Uf(a,c.expectedCount);null!==B&&(p.expectedCount=B)}return p}(this.serializer,e);const s=function zg(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=sc(this.serializer),t.removeTarget=e,this.Wo(t)}}class pp extends Hc{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function $g(i,e){return i&&i.length>0?(bn(void 0!==e),i.map(t=>function(s,a){let c=As(s.updateTime?s.updateTime:a);return c.isEqual(Jt.min())&&(c=As(a)),new Zy(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=As(e.commitTime);return this.listener.cu(s,t)}return bn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Mc(this.serializer,s))};this.Wo(t)}}class vm extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Pt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pt(lt.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pt(lt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class __{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(si(t),this.mu=!1):Vt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class gp{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(S=>{s.enqueueAndForget((0,m.Z)(function*(){var B;xl(p)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,m.Z)(function*(G){const re=sn(G);re.vu.add(4),yield uc(re),re.bu.set("Unknown"),re.vu.delete(4),yield Nd(re)}),function(G){return B.apply(this,arguments)})(p))}))}),this.bu=new __(s,a)}}function Nd(i){return mp.apply(this,arguments)}function mp(){return mp=(0,m.Z)(function*(i){if(xl(i))for(const e of i.Ru)yield e(!0)}),mp.apply(this,arguments)}function uc(i){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,m.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Sl.apply(this,arguments)}function kd(i,e){const t=sn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),vp(t)?_p(t):cc(t).Ko()&&yp(t,e))}function Fd(i,e){const t=sn(i),s=cc(t);t.Au.delete(e),s.Ko()&&lc(t,e),0===t.Au.size&&(s.Ko()?s.jo():xl(t)&&t.bu.set("Unknown"))}function yp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(i).su(e)}function lc(i,e){i.Vu.qt(e),cc(i).iu(e)}function _p(i){i.Vu=new Lg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),cc(i).start(),i.bu.gu()}function vp(i){return xl(i)&&!cc(i).Uo()&&i.Au.size>0}function xl(i){return 0===sn(i).vu.size}function wm(i){i.Vu=void 0}function Bu(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,m.Z)(function*(i){i.Au.forEach((e,t)=>{yp(i,e)})}),Ld.apply(this,arguments)}function Cm(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,m.Z)(function*(i,e){wm(i),vp(i)?(i.bu.Iu(e),_p(i)):i.bu.set("Unknown")}),$h.apply(this,arguments)}function bm(i,e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,m.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof kg&&2===e.state&&e.cause)try{yield(s=(0,m.Z)(function*(a,c){const p=c.cause;for(const S of c.targetIds)a.Au.has(S)&&(yield a.remoteSyncer.rejectListen(S,p),a.Au.delete(S),a.Vu.removeTarget(S))}),function(a,c){return s.apply(this,arguments)})(i,e)}catch(s){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield zh(i,s)}else if(e instanceof yd?i.Vu.Ht(e):e instanceof fh?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Jt.min()))try{const s=yield fm(i.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((S,B)=>{if(S.resumeToken.approximateByteSize()>0){const G=a.Au.get(B);G&&a.Au.set(B,G.withResumeToken(S.resumeToken,c))}}),p.targetMismatches.forEach((S,B)=>{const G=a.Au.get(S);if(!G)return;a.Au.set(S,G.withResumeToken(qi.EMPTY_BYTE_STRING,G.snapshotVersion)),lc(a,S);const re=new Fu(G.target,S,B,G.sequenceNumber);yp(a,re)}),a.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(s){Vt("RemoteStore","Failed to raise snapshot:",s),yield zh(i,s)}var s}),Hh.apply(this,arguments)}function zh(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,m.Z)(function*(i,e,t){if(!Wi(e))throw e;i.vu.add(1),yield uc(i),i.bu.set("Offline"),t||(t=()=>fm(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Nd(i)}))}),Ep.apply(this,arguments)}function Im(i,e){return e().catch(t=>zh(i,t,e))}function zc(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,m.Z)(function*(i){const e=sn(i),t=Ml(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;e0(e);)try{const a=yield f_(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Tm(e,a)}catch(a){yield zh(e,a)}Dm(e)&&Am(e)}),Gh.apply(this,arguments)}function e0(i){return xl(i)&&i.Eu.length<10}function Tm(i,e){i.Eu.push(e);const t=Ml(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Dm(i){return xl(i)&&!Ml(i).Uo()&&i.Eu.length>0}function Am(i){Ml(i).start()}function t0(i){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,m.Z)(function*(i){Ml(i).hu()}),Sm.apply(this,arguments)}function wp(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,m.Z)(function*(i){const e=Ml(i);for(const t of i.Eu)e.uu(t.mutations)}),Cp.apply(this,arguments)}function xm(i,e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,m.Z)(function*(i,e,t){const s=i.Eu.shift(),a=dh.from(s,e,t);yield Im(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield zc(i)}),Wh.apply(this,arguments)}function n0(i,e){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,m.Z)(function*(i,e){var t;e&&Ml(i).ou&&(yield(t=(0,m.Z)(function*(s,a){if(hh(c=a.code)&&c!==lt.ABORTED){const p=s.Eu.shift();Ml(s).Qo(),yield Im(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield zc(s)}var c}),function(s,a){return t.apply(this,arguments)})(i,e)),Dm(i)&&Am(i)}),Wa.apply(this,arguments)}function v_(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,m.Z)(function*(i,e){const t=sn(i);t.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const s=xl(t);t.vu.add(3),yield uc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nd(t)}),Mm.apply(this,arguments)}function Zh(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,m.Z)(function*(i,e){const t=sn(i);e?(t.vu.delete(2),yield Nd(t)):e||(t.vu.add(2),yield uc(t),t.bu.set("Unknown"))}),qh.apply(this,arguments)}function cc(i){return i.Su||(i.Su=function(e,t,s){const a=sn(e);return a.fu(),new y_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:Bu.bind(null,i),ao:Cm.bind(null,i),nu:bm.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Su.Qo(),vp(i)?_p(i):i.bu.set("Unknown")):(yield i.Su.stop(),wm(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Ml(i){return i.Du||(i.Du=function(e,t,s){const a=sn(e);return a.fu(),new pp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:t0.bind(null,i),ao:n0.bind(null,i),au:wp.bind(null,i),cu:xm.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Du.Qo(),yield zc(i)):(yield i.Du.stop(),i.Eu.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Pm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,S=new Pm(e,t,p,a,c);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(i,e){if(si("AsyncQueue",`${e}: ${i}`),Wi(i))return new Pt(lt.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Zt.comparator(t.key,s.key):(t,s)=>Zt.comparator(t.key,s.key),this.keyedMap=mu(),this.sortedSet=new yi(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Om{constructor(){this.Cu=new yi(Zt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ol{constructor(e,t,s,a,c,p,S,B,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=S,this.excludesMetadataChanges=B,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(S=>{p.push({type:0,doc:S})}),new Ol(e,t,Pl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class E_{constructor(){this.Nu=void 0,this.listeners=[]}}class w_{constructor(){this.queries=new Ha(e=>yn(e),qt),this.onlineState="Unknown",this.ku=new Set}}function bp(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,m.Z)(function*(i,e){const t=sn(i),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new E_),a)try{c.Nu=yield t.onListen(s)}catch(p){const S=dc(p,`Initialization of query '${Zn(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Ap(t)}),Ip.apply(this,arguments)}function Tp(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,m.Z)(function*(i,e){const t=sn(i),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Dp.apply(this,arguments)}function Kh(i,e){const t=sn(i);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const S of p.listeners)S.$u(a)&&(s=!0);p.Nu=a}}s&&Ap(t)}function Gc(i,e,t){const s=sn(i),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(i){i.ku.forEach(e=>{e.next()})}class hc{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class C_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Rm{constructor(e){this.serializer=e}rr(e){return yu(this.serializer,e)}ur(e){return e.metadata.exists?$f(this.serializer,e.document,!1):Er.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return As(e)}}class Sp{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vu(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Gn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Rm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const p of a.metadata.queries){const S=(t.get(p)||xr()).add(c);t.set(p,S)}}return t}complete(){var e=this;return(0,m.Z)(function*(){const t=yield function p_(i,e,t,s){return lp.apply(this,arguments)}(e.localStore,new Rm(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Fh(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function vu(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Wc{constructor(e){this.key=e}}class zo{constructor(e){this.key=e}}class Rl{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xr(),this.mutatedKeys=xr(),this.tc=is(e),this.ec=new Pl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Om,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,S=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,G="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((re,Ce)=>{const rt=a.get(re),wt=$r(this.query,Ce)?Ce:null,Kt=!!rt&&this.mutatedKeys.has(rt.key),En=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let Dn=!1;rt&&wt?rt.data.isEqual(wt.data)?Kt!==En&&(s.track({type:3,doc:wt}),Dn=!0):this.rc(rt,wt)||(s.track({type:2,doc:wt}),Dn=!0,(B&&this.tc(wt,B)>0||G&&this.tc(wt,G)<0)&&(S=!0)):!rt&&wt?(s.track({type:0,doc:wt}),Dn=!0):rt&&!wt&&(s.track({type:1,doc:rt}),Dn=!0,(B||G)&&(S=!0)),Dn&&(wt?(p=p.add(wt),c=En?c.add(re):c.delete(re)):(p=p.delete(re),c=c.delete(re)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const re="F"===this.query.limitType?p.last():p.first();p=p.delete(re.key),c=c.delete(re.key),s.track({type:1,doc:re})}return{ec:p,ic:s,zi:S,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((G,re)=>function(Ce,rt){const wt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn()}};return wt(Ce)-wt(rt)}(G.type,re.type)||this.tc(G.doc,re.doc)),this.oc(s);const p=t?this.uc():[],S=0===this.Zu.size&&this.current?1:0,B=S!==this.Xu;return this.Xu=S,0!==c.length||B?{snapshot:new Ol(this.query,e.ec,a,c,e.mutatedKeys,0===S,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Om,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new zo(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Wc(s))}),t}hc(e){this.Yu=e.ir,this.Zu=xr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ol.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Yh{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uu{constructor(e){this.key=e,this.fc=!1}}class xp{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Ha(S=>yn(S),qt),this._c=new Map,this.mc=new Set,this.gc=new yi(Zt.comparator),this.yc=new Map,this.Ic=new sp,this.Tc={},this.Ec=new Map,this.Ac=Tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Zc(i,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,m.Z)(function*(i,e){const t=Jc(i);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield Bc(t.localStore,te(e)),S=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield kl(t,e,s,"current"===S,p.resumeToken),t.isPrimaryClient&&kd(t.remoteStore,p)}return a}),Nl.apply(this,arguments)}function kl(i,e,t,s,a){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,m.Z)(function*(i,e,t,s,a){i.Rc=(Ce,rt,wt)=>{return(Kt=(0,m.Z)(function*(En,Dn,Nr,_i){let Kr=Dn.view.sc(Nr);Kr.zi&&(Kr=yield Nh(En.localStore,Dn.query,!1).then(({documents:os})=>Dn.view.sc(os,Kr)));const Js=_i&&_i.targetChanges.get(Dn.targetId),Xs=Dn.view.applyChanges(Kr,En.isPrimaryClient,Js);return Np(En,Dn.targetId,Xs.cc),Xs.snapshot}),function(En,Dn,Nr,_i){return Kt.apply(this,arguments)})(i,Ce,rt,wt);var Kt};const c=yield Nh(i.localStore,e,!0),p=new Rl(e,c.ir),S=p.sc(c.documents),B=rc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),G=p.applyChanges(S,i.isPrimaryClient,B);Np(i,t,G.cc);const re=new Yh(e,t,p);return i.wc.set(e,re),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),G.snapshot}),Fl.apply(this,arguments)}function qc(i,e){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,m.Z)(function*(i,e){const t=sn(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!qt(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ad(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Fd(t.remoteStore,s.targetId),Yc(t,s.targetId)}).catch(vo))):(Yc(t,s.targetId),yield Ad(t.localStore,s.targetId,!0))}),Ll.apply(this,arguments)}function Vl(){return Vl=(0,m.Z)(function*(i,e,t){const s=Bp(i);try{const a=yield function(c,p){const S=sn(c),B=Cr.now(),G=p.reduce((rt,wt)=>rt.add(wt.key),xr());let re,Ce;return S.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let wt=xi(),Kt=xr();return S.Zi.getEntries(rt,G).next(En=>{wt=En,wt.forEach((Dn,Nr)=>{Nr.isValidDocument()||(Kt=Kt.add(Dn))})}).next(()=>S.localDocuments.getOverlayedDocuments(rt,wt)).next(En=>{re=En;const Dn=[];for(const Nr of p){const _i=qv(Nr,re.get(Nr.key).overlayedDocument);null!=_i&&Dn.push(new bo(Nr.key,_i,fi(_i.value.mapValue),ms.exists(!0)))}return S.mutationQueue.addMutationBatch(rt,B,Dn,p)}).next(En=>{Ce=En;const Dn=En.applyToLocalDocumentSet(re,Kt);return S.documentOverlayCache.saveOverlays(rt,En.batchId,Dn)})}).then(()=>({batchId:Ce.batchId,changes:cd(re)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,S){let B=c.Tc[c.currentUser.toKey()];B||(B=new yi(kt)),B=B.insert(p,S),c.Tc[c.currentUser.toKey()]=B}(s,a.batchId,t),yield nl(s,a.changes),yield zc(s.remoteStore)}catch(a){const c=dc(a,"Failed to persist write");t.reject(c)}}),Vl.apply(this,arguments)}function fc(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,m.Z)(function*(i,e){const t=sn(i);try{const s=yield Uu(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(bn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?bn(p.fc):a.removedDocuments.size>0&&(bn(p.fc),p.fc=!1))}),yield nl(t,s,e)}catch(s){yield vo(s)}}),Qh.apply(this,arguments)}function Mp(i,e,t){const s=sn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const S=p.view.Mu(e);S.snapshot&&a.push(S.snapshot)}),function(c,p){const S=sn(c);S.onlineState=p;let B=!1;S.queries.forEach((G,re)=>{for(const Ce of re.listeners)Ce.Mu(p)&&(B=!0)}),B&&Ap(S)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Nm(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,m.Z)(function*(i,e,t){const s=sn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new yi(Zt.comparator);p=p.insert(c,Er.newNoDocument(c,Jt.min()));const S=xr().add(c),B=new Sc(Jt.min(),new Map,new yi(kt),p,S);yield fc(s,B),s.gc=s.gc.remove(c),s.yc.delete(e),nf(s)}else yield Ad(s.localStore,e,!1).then(()=>Yc(s,e,t)).catch(vo)}),Jh.apply(this,arguments)}function km(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,m.Z)(function*(i,e){const t=sn(i),s=e.batch.batchId;try{const a=yield hm(t.localStore,e);Op(t,s,null),tf(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield nl(t,a)}catch(a){yield vo(a)}}),Xh.apply(this,arguments)}function Fm(i,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,m.Z)(function*(i,e,t){const s=sn(i);try{const a=yield function(c,p){const S=sn(c);return S.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let G;return S.mutationQueue.lookupMutationBatch(B,p).next(re=>(bn(null!==re),G=re.keys(),S.mutationQueue.removeMutationBatch(B,re))).next(()=>S.mutationQueue.performConsistencyCheck(B)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(B,G,p)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,G)).next(()=>S.localDocuments.getDocuments(B,G))})}(s.localStore,e);Op(s,e,t),tf(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield nl(s,a)}catch(a){yield vo(a)}}),ef.apply(this,arguments)}function Pp(){return Pp=(0,m.Z)(function*(i,e){const t=sn(i);xl(t.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=sn(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>p.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=dc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Pp.apply(this,arguments)}function tf(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Op(i,e,t){const s=sn(i);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Yc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||Rp(i,s)})}function Rp(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Fd(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),nf(i))}function Np(i,e,t){for(const s of t)s instanceof Wc?(i.Ic.addReference(s.key,e),b_(i,s)):s instanceof zo?(Vt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||Rp(i,s.key)):cn()}function b_(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(Vt("SyncEngine","New document in limbo: "+t),i.mc.add(s),nf(i))}function nf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Zt(Gn.fromString(e)),s=i.Ac.next();i.yc.set(s,new uu(t)),i.gc=i.gc.insert(t,s),kd(i.remoteStore,new Fu(te(gl(t.path)),s,"TargetPurposeLimboResolution",Gs.ct))}}function nl(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,m.Z)(function*(i,e,t){const s=sn(i),a=[],c=[],p=[];var S;s.wc.isEmpty()||(s.wc.forEach((S,B)=>{p.push(s.Rc(B,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(B.targetId,(null==G?void 0:G.fromCache)?"not-current":"current"),G){a.push(G);const re=Mh.Li(B.targetId,G);c.push(re)}}))}),yield Promise.all(p),s.dc.nu(a),yield(S=(0,m.Z)(function*(B,G){const re=sn(B);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>Ze.forEach(G,rt=>Ze.forEach(rt.Fi,wt=>re.persistence.referenceDelegate.addReference(Ce,rt.targetId,wt)).next(()=>Ze.forEach(rt.Bi,wt=>re.persistence.referenceDelegate.removeReference(Ce,rt.targetId,wt)))))}catch(Ce){if(!Wi(Ce))throw Ce;Vt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of G){const rt=Ce.targetId;if(!Ce.fromCache){const wt=re.Ji.get(rt),En=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);re.Ji=re.Ji.insert(rt,En)}}}),function(B,G){return S.apply(this,arguments)})(s.localStore,c))}),rf.apply(this,arguments)}function I_(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,m.Z)(function*(i,e){const t=sn(i);if(!t.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const s=yield dm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(S=>{S.reject(new Pt(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield nl(t,s.er)}var a}),kp.apply(this,arguments)}function r0(i,e){const t=sn(i),s=t.yc.get(e);if(s&&s.fc)return xr().add(s.key);{let a=xr();const c=t._c.get(e);if(!c)return a;for(const p of c){const S=t.wc.get(p);a=a.unionWith(S.view.nc)}return a}}function T_(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,m.Z)(function*(i,e){const t=sn(i),s=yield Nh(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Np(t,e.targetId,a.cc),a}),Vd.apply(this,arguments)}function Fp(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,m.Z)(function*(i,e){const t=sn(i);return gm(t.localStore,e).then(s=>nl(t,s))}),Lp.apply(this,arguments)}function s0(i,e,t,s){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,m.Z)(function*(i,e,t,s){const a=sn(i),c=yield function(p,S){const B=sn(p),G=sn(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",re=>G.Sn(re,S).next(Ce=>Ce?B.localDocuments.getDocuments(re,Ce):Ze.resolve(null)))}(a.localStore,e);var S;null!==c?("pending"===t?yield zc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Op(a,e,s||null),tf(a,e),S=e,sn(sn(a.localStore).mutationQueue).Cn(S)):cn(),yield nl(a,c)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vm.apply(this,arguments)}function Vp(){return Vp=(0,m.Z)(function*(i,e){const t=sn(i);if(Jc(t),Bp(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Up(t,s.toArray());t.vc=!0,yield Zh(t.remoteStore,!0);for(const c of a)kd(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Yc(t,p),Ad(t.localStore,p,!0))),Fd(t.remoteStore,p)}),yield a,yield Up(t,s),function(c){const p=sn(c);p.yc.forEach((S,B)=>{Fd(p.remoteStore,B)}),p.Ic.Ts(),p.yc=new Map,p.gc=new yi(Zt.comparator)}(t),t.vc=!1,yield Zh(t.remoteStore,!1)}}),Vp.apply(this,arguments)}function Up(i,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,m.Z)(function*(i,e,t){const s=sn(i),a=[],c=[];for(const p of e){let S;const B=s._c.get(p);if(B&&0!==B.length){S=yield Bc(s.localStore,te(B[0]));for(const G of B){const re=s.wc.get(G),Ce=yield T_(s,re);Ce.snapshot&&c.push(Ce.snapshot)}}else{const G=yield pm(s.localStore,p);S=yield Bc(s.localStore,G),yield kl(s,Bm(G),p,!1,S.resumeToken)}a.push(S)}return s.dc.nu(c),a}),Um.apply(this,arguments)}function Bm(i){return bc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Qc(i){const e=sn(i);return sn(sn(e.localStore).persistence).$i()}function D_(i,e,t,s){return sf.apply(this,arguments)}function sf(){return sf=(0,m.Z)(function*(i,e,t,s){const a=sn(i);if(a.vc)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield gm(a.localStore,Zs(c[0])),S=Sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,qi.EMPTY_BYTE_STRING);yield nl(a,p,S);break}case"rejected":yield Ad(a.localStore,e,!0),Yc(a,e,s);break;default:cn()}}),sf.apply(this,arguments)}function A_(i,e,t){return of.apply(this,arguments)}function of(){return of=(0,m.Z)(function*(i,e,t){const s=Jc(i);if(s.vc){for(const a of e){if(s._c.has(a)){Vt("SyncEngine","Adding an already active target "+a);continue}const c=yield pm(s.localStore,a),p=yield Bc(s.localStore,c);yield kl(s,Bm(c),p.targetId,!1,p.resumeToken),kd(s.remoteStore,p)}for(const a of t)s._c.has(a)&&(yield Ad(s.localStore,a,!1).then(()=>{Fd(s.remoteStore,a),Yc(s,a)}).catch(vo))}}),of.apply(this,arguments)}function Jc(i){const e=sn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=fc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,e),e.dc.nu=Kh.bind(null,e.eventManager),e.dc.Pc=Gc.bind(null,e.eventManager),e}function Bp(i){const e=sn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=km.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,e),e}class Ud{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,m.Z)(function*(){t.serializer=$c(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cm(this.persistence,new um,e.initialUser,this.serializer)}createPersistence(e){return new op(ap.zs,this.serializer)}createSharedClientState(e){return new hp}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jp extends Ud{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,m.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Bp(s.Vc.syncEngine),yield zc(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cm(this.persistence,new um,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Fc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new hl(t,this.persistence);return new Du(e.asyncQueue,s)}createPersistence(e){const t=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new Sh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,m_(),jc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hp}}class $m extends jp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,m.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof dp&&(s.sharedClientState.syncEngine={jr:s0.bind(null,a),zr:D_.bind(null,a),Wr:A_.bind(null,a),$i:Qc.bind(null,a),Qr:Fp.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,m.Z)(function*(p){yield function o0(i,e){return Vp.apply(this,arguments)}(s.Vc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=m_();if(!dp.D(t))throw new Pt(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Xc{initialize(e,t){var s=this;return(0,m.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Mp(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=I_.bind(null,s.syncEngine),yield Zh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new w_}createDatastore(e){const t=$c(e.databaseInfo.databaseId),s=new g_(e.databaseInfo);return new vm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=S=>Mp(this.syncEngine,S,0),p=fp.D()?new fp:new _m,new gp(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,S,B,G){const re=new xp(s,a,c,p,S,B);return G&&(re.vc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,m.Z)(function*(t){const s=sn(t);Vt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield uc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $p(i,e=10240){let t=0;return{read:()=>(0,m.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class af{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ki,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,m.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,m.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,m.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new C_(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,m.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,m.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,m.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class zm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,m.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pt(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,m.Z)(function*(c,p){const S=sn(c),B=sc(S.serializer)+"/documents",G={documents:p.map(wt=>vl(S.serializer,wt))},re=yield S.vo("BatchGetDocuments",B,G,p.length),Ce=new Map;re.forEach(wt=>{const Kt=function Yy(i,e){return"found"in e?function(t,s){bn(!!s.found);const a=yu(t,s.found.name),c=As(s.found.updateTime),p=s.found.createTime?As(s.found.createTime):Jt.min(),S=new Pn({mapValue:{fields:s.found.fields}});return Er.newFoundDocument(a,c,p,S)}(i,e):"missing"in e?function(t,s){bn(!!s.missing),bn(!!s.readTime);const a=yu(t,s.missing),c=As(s.readTime);return Er.newNoDocument(a,c)}(i,e):cn()}(S.serializer,wt);Ce.set(Kt.key.toString(),Kt)});const rt=[];return p.forEach(wt=>{const Kt=Ce.get(wt.toString());bn(!!Kt),rt.push(Kt)}),rt}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,m.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Zt.fromPath(a);e.mutations.push(new nc(c,e.precondition(c)))}),yield(s=(0,m.Z)(function*(a,c){const p=sn(a),S=sc(p.serializer)+"/documents",B={writes:c.map(G=>Mc(p.serializer,G))};yield p.Io("Commit",S,B)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cn();t=Jt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Pt(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Jt.min())?ms.exists(!1):ms.updateTime(t):ms.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jt.min()))throw new Pt(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(t)}return ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hp{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Rd(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,m.Z)(function*(){const t=new zm(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!cu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hh(t)}return!1}}class a0{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Zr.UNAUTHENTICATED,this.clientId=sr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,m.Z)(function*(S){Vt("FirestoreClient","Received user=",S.uid),yield c.authCredentialListener(S),c.user=S});return function(S){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Vt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=dc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ed(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,m.Z)(function*(c){s.isEqual(c)||(yield dm(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),zp.apply(this,arguments)}function Gm(i,e){return pc.apply(this,arguments)}function pc(){return pc=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Bd(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>v_(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>v_(e.remoteStore,c)),i._onlineComponents=e}),pc.apply(this,arguments)}function Gp(i){return"FirebaseError"===i.name?i.code===lt.FAILED_PRECONDITION||i.code===lt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Bd(i){return jd.apply(this,arguments)}function jd(){return jd=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ed(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Gp(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),yield ed(i,new Ud)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),yield ed(i,new Ud);return i._offlineComponents}),jd.apply(this,arguments)}function uf(i){return td.apply(this,arguments)}function td(){return td=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gm(i,i._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Gm(i,new Xc))),i._onlineComponents}),td.apply(this,arguments)}function $d(i){return Bd(i).then(e=>e.persistence)}function nd(i){return Bd(i).then(e=>e.localStore)}function x_(i){return uf(i).then(e=>e.remoteStore)}function Wp(i){return uf(i).then(e=>e.syncEngine)}function rl(i){return lf.apply(this,arguments)}function lf(){return lf=(0,m.Z)(function*(i){const e=yield uf(i),t=e.eventManager;return t.onListen=Zc.bind(null,e.syncEngine),t.onUnlisten=qc.bind(null,e.syncEngine),t}),lf.apply(this,arguments)}function qp(i,e,t={}){const s=new ki;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(a,c,p,S,B){const G=new af({next:Ce=>{c.enqueueAndForget(()=>Tp(a,re));const rt=Ce.docs.has(p);!rt&&Ce.fromCache?B.reject(new Pt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ce.fromCache&&S&&"server"===S.source?B.reject(new Pt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ce)},error:Ce=>B.reject(Ce)}),re=new hc(gl(p.path),G,{includeMetadataChanges:!0,Ku:!0});return bp(a,re)}(yield rl(i),i.asyncQueue,e,t,s)})),s.promise}function Yp(i,e,t={}){const s=new ki;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(a,c,p,S,B){const G=new af({next:Ce=>{c.enqueueAndForget(()=>Tp(a,re)),Ce.fromCache&&"server"===S.source?B.reject(new Pt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ce)},error:Ce=>B.reject(Ce)}),re=new hc(p,G,{includeMetadataChanges:!0,Ku:!0});return bp(a,re)}(yield rl(i),i.asyncQueue,e,t,s)})),s.promise}function Jp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ym=new Map;function Xp(i,e,t){if(!t)throw new Pt(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qm(i,e,t,s){if(!0===e&&!0===s)throw new Pt(lt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function cf(i){if(!Zt.isDocumentKey(i))throw new Pt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function df(i){if(Zt.isDocumentKey(i))throw new Pt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":cn()}function oi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Pt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zd(i);throw new Pt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function eg(i,e){if(e<=0)throw new Pt(lt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class tg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Pt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new D;switch(t.type){case"firstParty":return new ee(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ym.get(e);t&&(Vt("ComponentProvider","Removing Datastore"),Ym.delete(e),t.terminate())}(this),Promise.resolve()}}function ng(i,e,t,s={}){var a;const c=(i=oi(i,rd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Is("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,S;if("string"==typeof s.mockUserToken)p=s.mockUserToken,S=Zr.MOCK_USER;else{p=(0,oe.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new Pt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Zr(B)}i._authCredentials=new b(new M(p,S))}}class Ss{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class To{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class il extends To{constructor(e,t,s){super(e,t,gl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new Zt(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function P_(i,e,...t){if(i=(0,oe.m9)(i),Xp("collection","path",e),i instanceof rd){const s=Gn.fromString(e,...t);return df(s),new il(i,null,s)}{if(!(i instanceof Ss||i instanceof il))throw new Pt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gn.fromString(e,...t));return df(s),new il(i.firestore,null,s)}}function O_(i,e){if(i=oi(i,rd),Xp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pt(lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new To(i,null,(t=e,new $a(Gn.emptyPath(),t)));var t}function rg(i,e,...t){if(i=(0,oe.m9)(i),1===arguments.length&&(e=sr.A()),Xp("doc","path",e),i instanceof rd){const s=Gn.fromString(e,...t);return cf(s),new Ss(i,null,new Zt(s))}{if(!(i instanceof Ss||i instanceof il))throw new Pt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gn.fromString(e,...t));return cf(s),new Ss(i.firestore,i instanceof il?i.converter:null,new Zt(s))}}function R_(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),(i instanceof Ss||i instanceof il)&&(e instanceof Ss||e instanceof il)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function qs(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),i instanceof To&&e instanceof To&&i.firestore===e.firestore&&qt(i._query,e._query)&&i.converter===e.converter}class Jm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Rd(this,"async_queue_retry"),this.Xc=()=>{const t=jc();t&&Vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ki;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,m.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Wi(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,si("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Pm.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&cn()}verifyOperationInProgress(){}sa(){var e=this;return(0,m.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ig(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class N_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Xm=-1;class ss extends rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Jm,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ty(this),this._firestoreClient.terminate()}}function ey(i,e){const t="object"==typeof i?i:(0,v.getApp)(),s="string"==typeof i?i:e||"(default)",a=(0,v._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,oe.P0)("firestore");c&&ng(a,...c)}return a}function Ji(i){return i._firestoreClient||ty(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ty(i){var e,t,s;const a=i._freezeSettings(),c=(S=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new pu(i._databaseId,S,i._persistenceKey,(G=a).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,Jp(G.experimentalLongPollingOptions),G.useFetchStreams));var S,G;i._firestoreClient=new a0(i._authCredentials,i._appCheckCredentials,i._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function F_(i,e){Eu(i=oi(i,ss));const t=Ji(i);if(t._uninitializedComponentsProvider)throw new Pt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new Xc;return ry(t,a,new jp(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function ny(i){Eu(i=oi(i,ss));const e=Ji(i);if(e._uninitializedComponentsProvider)throw new Pt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Xc;return ry(e,s,new $m(s,t.cacheSizeBytes))}function ry(i,e,t){const s=new ki;return i.asyncQueue.enqueue((0,m.Z)(function*(){try{yield ed(i,t),yield Gm(i,e),s.resolve()}catch(a){const c=a;if(!Gp(c))throw c;Is("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function iy(i){if(i._initialized&&!i._terminated)throw new Pt(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ki;return i._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(t=(0,m.Z)(function*(s){if(!Ts.D())return Promise.resolve();const a=s+"main";yield Ts.delete(a)}),function(s){return t.apply(this,arguments)})(up(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function u0(i){return function(e){const t=new ki;return e.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Lm(i,e){return Pp.apply(this,arguments)}(yield Wp(e),t)})),t.promise}(Ji(i=oi(i,ss)))}function sg(i){return function Wm(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield $d(i),t=yield x_(i);return e.setNetworkEnabled(!0),function(s){const a=sn(s);return a.vu.delete(0),Nd(a)}(t)}))}(Ji(i=oi(i,ss)))}function og(i){return function Zp(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield $d(i),t=yield x_(i);return e.setNetworkEnabled(!1),(s=(0,m.Z)(function*(a){const c=sn(a);c.vu.add(0),yield uc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Ji(i=oi(i,ss)))}function L_(i,e){const t=Ji(i=oi(i,ss)),s=new N_;return function qm(i,e,t,s){const a=function(c,p){let S;return S="string"==typeof c?Og().encode(c):c,B=function(B,G){if(B instanceof Uint8Array)return $p(B,G);if(B instanceof ArrayBuffer)return $p(new Uint8Array(B),G);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Hm(B,p);var B}(t,$c(e));i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function jm(i,e,t){const s=sn(i);var a;(a=(0,m.Z)(function*(c,p,S){try{const B=yield p.getMetadata();if(yield function(rt,wt){const Kt=sn(rt),En=As(wt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",Dn=>Kt.qs.getBundleMetadata(Dn,wt.id)).then(Dn=>!!Dn&&Dn.createTime.compareTo(En)>=0)}(c.localStore,B))return yield p.close(),S._completeWith({taskState:"Success",documentsLoaded:(rt=B).totalDocuments,bytesLoaded:rt.totalBytes,totalDocuments:rt.totalDocuments,totalBytes:rt.totalBytes}),Promise.resolve(new Set);S._updateProgress(vu(B));const G=new Sp(B,c.localStore,p.serializer);let re=yield p.bc();for(;re;){const rt=yield G.zu(re);rt&&S._updateProgress(rt),re=yield p.bc()}const Ce=yield G.complete();return yield nl(c,Ce.Ju,void 0),yield function(rt,wt){const Kt=sn(rt);return Kt.persistence.runTransaction("Save bundle","readwrite",En=>Kt.qs.saveBundleMetadata(En,wt))}(c.localStore,B),S._completeWith(Ce.progress),Promise.resolve(Ce.Hu)}catch(B){return Is("SyncEngine",`Loading bundle failed with ${B}`),S._failWith(B),Promise.resolve(new Set)}var rt}),function(c,p,S){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Wp(i),a,s)}))}(t,i._databaseId,e,s),s}function sy(i,e){return function Km(i,e){return i.asyncQueue.enqueue((0,m.Z)(function*(){return function(t,s){const a=sn(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield nd(i),e)}))}(Ji(i=oi(i,ss)),e).then(t=>t?new To(i,null,t.query):null)}function Eu(i){if(i._initialized||i._terminated)throw new Pt(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(qi.fromBase64String(e))}catch(t){throw new Pt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class al{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._methodName=e}}class hf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const V_=/^__.*__$/;class ag{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new pd(e,this.data,t,this.fieldTransforms)}}class id{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn()}}class Gd{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oy(this.ca)&&V_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class U_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||$c(e)}ya(e,t,s,a=!1){return new Gd({ca:e,methodName:t,ga:s,path:Fr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ul(i){const e=i._freezeSettings(),t=$c(i._databaseId);return new U_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Wd(i,e,t,s,a,c={}){const p=i.ya(c.merge||c.mergeFields?2:0,e,t,a);yf("Data must be an object, but it was:",p,s);const S=cg(s,p);let B,G;if(c.merge)B=new Fs(p.fieldMask),G=p.fieldTransforms;else if(c.mergeFields){const re=[];for(const Ce of c.mergeFields){const rt=sd(e,Ce,t);if(!p.contains(rt))throw new Pt(lt.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);ly(re,rt)||re.push(rt)}B=new Fs(re),G=p.fieldTransforms.filter(Ce=>B.covers(Ce.field))}else B=null,G=p.fieldTransforms;return new ag(new Pn(S),B,G)}class Bl extends gc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bl}}function ay(i,e,t){return new Gd({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ff extends gc{_toFieldTransform(e){return new fd(e.path,new Dc)}isEqual(e){return e instanceof ff}}class uy extends gc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.pa.map(c=>jl(c,t)),a=new Ql(s);return new fd(e.path,a)}isEqual(e){return this===e}}class ug extends gc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.pa.map(c=>jl(c,t)),a=new Jl(s);return new fd(e.path,a)}isEqual(e){return this===e}}class pf extends gc{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Xl(e.serializer,Tg(e.serializer,this.Ia));return new fd(e.path,t)}isEqual(e){return this===e}}function gf(i,e,t,s){const a=i.ya(1,e,t);yf("Data must be an object, but it was:",a,s);const c=[],p=Pn.empty();ao(s,(B,G)=>{const re=_f(e,B,t);G=(0,oe.m9)(G);const Ce=a.da(re);if(G instanceof Bl)c.push(re);else{const rt=jl(G,Ce);null!=rt&&(c.push(re),p.set(re,rt))}});const S=new Fs(c);return new id(p,S,a.fieldTransforms)}function mf(i,e,t,s,a,c){const p=i.ya(1,e,t),S=[sd(e,s,t)],B=[a];if(c.length%2!=0)throw new Pt(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<c.length;rt+=2)S.push(sd(e,c[rt])),B.push(c[rt+1]);const G=[],re=Pn.empty();for(let rt=S.length-1;rt>=0;--rt)if(!ly(G,S[rt])){const wt=S[rt];let Kt=B[rt];Kt=(0,oe.m9)(Kt);const En=p.da(wt);if(Kt instanceof Bl)G.push(wt);else{const Dn=jl(Kt,En);null!=Dn&&(G.push(wt),re.set(wt,Dn))}}const Ce=new Fs(G);return new id(re,Ce,p.fieldTransforms)}function lg(i,e,t,s=!1){return jl(t,i.ya(s?4:3,e))}function jl(i,e){if(dg(i=(0,oe.m9)(i)))return yf("Unsupported field value:",e,i),cg(i,e);if(i instanceof gc)return function(t,s){if(!oy(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let S=jl(p,s.wa(c));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),c++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,oe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tg(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Cr.fromDate(t);return{timestampValue:ic(s.serializer,a)}}if(t instanceof Cr){const a=new Cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ic(s.serializer,a)}}if(t instanceof hf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ol)return{bytesValue:Bf(s.serializer,t._byteString)};if(t instanceof Ss){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${zd(t)}`)}(i,e)}function cg(i,e){const t={};return tu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(i,(s,a)=>{const c=jl(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function dg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Cr||i instanceof hf||i instanceof ol||i instanceof Ss||i instanceof gc)}function yf(i,e,t){if(!dg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=zd(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function sd(i,e,t){if((e=(0,oe.m9)(e))instanceof al)return e._internalPath;if("string"==typeof e)return _f(i,e);throw vf("Field path arguments must be of type string or ",i,!1,void 0,t)}const B_=new RegExp("[~\\*/\\[\\]]");function _f(i,e,t){if(e.search(B_)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new al(...e.split("."))._internalPath}catch(s){throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vf(i,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let B="";return(c||p)&&(B+=" (found",c&&(B+=` in field ${s}`),p&&(B+=` in document ${a}`),B+=")"),new Pt(lt.INVALID_ARGUMENT,S+i+B)}function ly(i,e){return i.some(t=>t.isEqual(e))}class Zd{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j_ extends Zd{data(){return super.data()}}function Ef(i,e){return"string"==typeof e?_f(i,e):e instanceof al?e._internalPath:e._delegate._internalPath}function cy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class qd extends hg{}function $_(i,e,...t){let s=[];e instanceof hg&&s.push(e),s=s.concat(t),function(a){const c=a.filter(S=>S instanceof od).length,p=a.filter(S=>S instanceof Kd).length;if(c>1||c>0&&p>0)throw new Pt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Kd extends qd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kd(e,t,s)}_apply(e){const t=this._parse(e);return yy(e._query,t),new To(e.firestore,e.converter,Ue(e._query,t))}_parse(e){const t=Ul(e.firestore);return function(a,c,p,S,B,G,re){let Ce;if(B.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Pt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){$l(re,G);const rt=[];for(const wt of re)rt.push(wf(S,a,wt));Ce={arrayValue:{values:rt}}}else Ce=wf(S,a,re)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||$l(re,G),Ce=lg(p,"where",re,"in"===G||"not-in"===G);return De.create(B,G,Ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function H_(i,e,t){const s=e,a=Ef("where",i);return Kd._create(a,s,t)}class od extends hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new od(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ke.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const S of p)yy(c,S),c=Ue(c,S)}(e._query,t),new To(e.firestore,e.converter,Ue(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fg extends qd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fg(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Pt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Pt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new z(a,c);return function(S,B){if(null===f(S)){const G=y(S);null!==G&&_y(0,G,B.field)}}(s,p),p}(e._query,this._field,this._direction);return new To(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new $a(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function z_(i,e="asc"){const t=e,s=Ef("orderBy",i);return fg._create(s,t)}class Yd extends qd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){return new To(e.firestore,e.converter,pt(e._query,this._limit,this._limitType))}}function dy(i){return eg("limit",i),Yd._create("limit",i,"F")}function hy(i){return eg("limitToLast",i),Yd._create("limitToLast",i,"L")}class Qd extends qd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qd(e,t,s)}_apply(e){const t=pg(e,this.type,this._docOrFields,this._inclusive);return new To(e.firestore,e.converter,(a=t,new $a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function fy(...i){return Qd._create("startAt",i,!0)}function py(...i){return Qd._create("startAfter",i,!1)}class Jd extends qd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Jd(e,t,s)}_apply(e){const t=pg(e,this.type,this._docOrFields,this._inclusive);return new To(e.firestore,e.converter,(a=t,new $a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function gy(...i){return Jd._create("endBefore",i,!1)}function my(...i){return Jd._create("endAt",i,!0)}function pg(i,e,t,s){if(t[0]=(0,oe.m9)(t[0]),t[0]instanceof Zd)return function(a,c,p,S,B){if(!S)throw new Pt(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const G=[];for(const re of Z(a))if(re.field.isKeyField())G.push(E(c,S.key));else{const Ce=S.data.field(re.field);if(qu(Ce))throw new Pt(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const rt=re.field.canonicalString();throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}G.push(Ce)}return new Ci(G,B)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=Ul(i.firestore);return function(c,p,S,B,G,re){const Ce=c.explicitOrderBy;if(G.length>Ce.length)throw new Pt(lt.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let wt=0;wt<G.length;wt++){const Kt=G[wt];if(Ce[wt].field.isKeyField()){if("string"!=typeof Kt)throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Kt}`);if(!A(c)&&-1!==Kt.indexOf("/"))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Kt}' contains a slash.`);const En=c.path.child(Gn.fromString(Kt));if(!Zt.isDocumentKey(En))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Dn=new Zt(En);rt.push(E(p,Dn))}else{const En=lg(S,B,Kt);rt.push(En)}}return new Ci(rt,re)}(i._query,i.firestore._databaseId,a,e,t,s)}}function wf(i,e,t){if("string"==typeof(t=(0,oe.m9)(t))){if(""===t)throw new Pt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A(e)&&-1!==t.indexOf("/"))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Gn.fromString(t));if(!Zt.isDocumentKey(s))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return E(i,new Zt(s))}if(t instanceof Ss)return E(i,t._key);throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(t)}.`)}function $l(i,e){if(!Array.isArray(i)||0===i.length)throw new Pt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yy(i,e){if(e.isInequality()){const s=y(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=f(i);null!==c&&_y(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pt(lt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _y(i,e,t){if(!t.isEqual(e))throw new Pt(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vy{convertValue(e,t="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ao(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new hf(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=su(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}convertTimestamp(e){const t=va(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gn.fromString(e);bn(Zg(s));const a=new ea(s.get(1),s.get(3)),c=new Zt(s.popFirst(5));return a.isEqual(t)||si(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function ad(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class h0 extends vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends Zd{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Hl extends _c{data(e={}){return super.data(e)}}class vc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Hl(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Hl(s._firestore,s._userDataWriter,p.doc.key,p.doc,new yc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const S=new Hl(s._firestore,s._userDataWriter,p.doc.key,p.doc,new yc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let B=-1,G=-1;return 0!==p.type&&(B=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),G=c.indexOf(p.doc.key)),{type:Cf(p.type),doc:S,oldIndex:B,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cf(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn()}}function bf(i,e){return i instanceof _c&&e instanceof _c?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof vc&&e instanceof vc&&i._firestore===e._firestore&&qs(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Us(i){i=oi(i,Ss);const e=oi(i.firestore,ss);return qp(Ji(e),i._key).then(t=>gg(e,i,t))}class Ec extends vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}function Ey(i){i=oi(i,Ss);const e=oi(i.firestore,ss),t=Ji(e),s=new Ec(e);return function Zm(i,e){const t=new ki;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(s=(0,m.Z)(function*(a,c,p){try{const S=yield function(B,G){const re=sn(B);return re.persistence.runTransaction("read document","readonly",Ce=>re.localDocuments.getDocument(Ce,G))}(a,c);S.isFoundDocument()?p.resolve(S):S.isNoDocument()?p.resolve(null):p.reject(new Pt(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const B=dc(S,`Failed to get document '${c} from cache`);p.reject(B)}}),function(a,c,p){return s.apply(this,arguments)})(yield nd(i),e,t);var s})),t.promise}(t,i._key).then(a=>new _c(e,s,i._key,a,new yc(null!==a&&a.hasLocalMutations,!0),i.converter))}function Z_(i){i=oi(i,Ss);const e=oi(i.firestore,ss);return qp(Ji(e),i._key,{source:"server"}).then(t=>gg(e,i,t))}function q_(i){i=oi(i,To);const e=oi(i.firestore,ss),t=Ji(e),s=new Ec(e);return cy(i._query),Yp(t,i._query).then(a=>new vc(e,s,i,a))}function wy(i){i=oi(i,To);const e=oi(i.firestore,ss),t=Ji(e),s=new Ec(e);return function Kp(i,e){const t=new ki;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(s=(0,m.Z)(function*(a,c,p){try{const S=yield Nh(a,c,!0),B=new Rl(c,S.ir),G=B.sc(S.documents),re=B.applyChanges(G,!1);p.resolve(re.snapshot)}catch(S){const B=dc(S,`Failed to execute query '${c} against cache`);p.reject(B)}}),function(a,c,p){return s.apply(this,arguments)})(yield nd(i),e,t);var s})),t.promise}(t,i._query).then(a=>new vc(e,s,i,a))}function Cy(i){i=oi(i,To);const e=oi(i.firestore,ss),t=Ji(e),s=new Ec(e);return Yp(t,i._query,{source:"server"}).then(a=>new vc(e,s,i,a))}function by(i,e,t){i=oi(i,Ss);const s=oi(i.firestore,ss),a=ad(i.converter,e,t);return ud(s,[Wd(Ul(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,ms.none())])}function Iy(i,e,t,...s){i=oi(i,Ss);const a=oi(i.firestore,ss),c=Ul(a);let p;return p="string"==typeof(e=(0,oe.m9)(e))||e instanceof al?mf(c,"updateDoc",i._key,e,t,s):gf(c,"updateDoc",i._key,e),ud(a,[p.toMutation(i._key,ms.exists(!0))])}function K_(i){return ud(oi(i.firestore,ss),[new tc(i._key,ms.none())])}function Y_(i,e){const t=oi(i.firestore,ss),s=rg(i),a=ad(i.converter,e);return ud(t,[Wd(Ul(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,ms.exists(!1))]).then(()=>s)}function Q_(i,...e){var t,s,a;i=(0,oe.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||ig(e[p])||(c=e[p],p++);const S={includeMetadataChanges:c.includeMetadataChanges};if(ig(e[p])){const Ce=e[p];e[p]=null===(t=Ce.next)||void 0===t?void 0:t.bind(Ce),e[p+1]=null===(s=Ce.error)||void 0===s?void 0:s.bind(Ce),e[p+2]=null===(a=Ce.complete)||void 0===a?void 0:a.bind(Ce)}let B,G,re;if(i instanceof Ss)G=oi(i.firestore,ss),re=gl(i._key.path),B={next:Ce=>{e[p]&&e[p](gg(G,i,Ce))},error:e[p+1],complete:e[p+2]};else{const Ce=oi(i,To);G=oi(Ce.firestore,ss),re=Ce._query;const rt=new Ec(G);B={next:wt=>{e[p]&&e[p](new vc(G,rt,Ce,wt))},error:e[p+1],complete:e[p+2]},cy(i._query)}return function(Ce,rt,wt,Kt){const En=new af(Kt),Dn=new hc(rt,En,wt);return Ce.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return bp(yield rl(Ce),Dn)})),()=>{En.Dc(),Ce.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Tp(yield rl(Ce),Dn)}))}}(Ji(G),re,S,B)}function Xd(i,e){return function M_(i,e){const t=new af(e);return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return s=yield rl(i),a=t,sn(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return s=yield rl(i),a=t,void sn(s).ku.delete(a);var s,a}))}}(Ji(i=oi(i,ss)),ig(e)?e:{next:e})}function ud(i,e){return function(t,s){const a=new ki;return t.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Kc(i,e,t){return Vl.apply(this,arguments)}(yield Wp(t),s,a)})),a.promise}(Ji(i),e)}function gg(i,e,t){const s=t.docs.get(e._key),a=new Ec(i);return new _c(i,a,e._key,s,new yc(t.hasPendingWrites,t.fromCache),e.converter)}const tv={maxAttempts:5};class mg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,t,s){this._verifyNotCommitted();const a=zl(e,this._firestore),c=ad(a.converter,t,s),p=Wd(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,ms.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=zl(e,this._firestore);let p;return p="string"==typeof(t=(0,oe.m9)(t))||t instanceof al?mf(this._dataReader,"WriteBatch.update",c._key,t,s,a):gf(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zl(e,this._firestore);return this._mutations=this._mutations.concat(new tc(t._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zl(i,e){if((i=(0,oe.m9)(i)).firestore!==e)throw new Pt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class nv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ul(e)}get(e){const t=zl(e,this._firestore),s=new h0(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return cn();const c=a[0];if(c.isFoundDocument())return new Zd(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new Zd(this._firestore,s,t._key,null,t.converter);throw cn()})}set(e,t,s){const a=zl(e,this._firestore),c=ad(a.converter,t,s),p=Wd(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=zl(e,this._firestore);let p;return p="string"==typeof(t=(0,oe.m9)(t))||t instanceof al?mf(this._dataReader,"Transaction.update",c._key,t,s,a):gf(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=zl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zl(e,this._firestore),s=new Ec(this._firestore);return super.get(e).then(a=>new _c(this._firestore,s,t._key,a._document,new yc(!1,!1),t.converter))}}function _0(i,e,t){i=oi(i,ss);const s=Object.assign(Object.assign({},tv),t);return function(a){if(a.maxAttempts<1)throw new Pt(lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const S=new ki;return a.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const B=yield function Hd(i){return uf(i).then(e=>e.datastore)}(a);new Hp(a.asyncQueue,B,p,c,S).run()})),S.promise}(Ji(i),a=>e(new nv(i,a)),s)}function v0(){return new Bl("deleteField")}function E0(){return new ff("serverTimestamp")}function w0(...i){return new uy("arrayUnion",i)}function My(...i){return new ug("arrayRemove",i)}function Af(i){return new pf("increment",i)}!function(i,e=!0){No=v.SDK_VERSION,(0,v._registerComponent)(new _.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new ss(new F(t.getProvider("auth-internal")),new Me(t.getProvider("app-check-internal")),function(S,B){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Pt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(S.options.projectId,B)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,v.registerVersion)(_o,"3.12.0",i),(0,v.registerVersion)(_o,"3.12.0","esm2017")}()},2090:(Gt,He,V)=>{V.d(He,{$s:()=>er,BH:()=>ht,G6:()=>$t,L:()=>We,LL:()=>xn,P0:()=>Ft,Pz:()=>Je,Sg:()=>nt,UG:()=>St,US:()=>Ae,ZB:()=>ke,ZR:()=>Yt,aH:()=>Ge,b$:()=>Ye,eu:()=>It,hl:()=>un,jU:()=>Fe,m9:()=>Yr,ne:()=>gt,pd:()=>be,q4:()=>Mt,r3:()=>Mr,ru:()=>qe,tV:()=>ae,uI:()=>ge,vZ:()=>Un,w1:()=>ut,xO:()=>Mi,xb:()=>hn,z$:()=>vt,zI:()=>Yn,zd:()=>mt});const Ee=function(we){const me=[];let ie=0;for(let se=0;se<we.length;se++){let Y=we.charCodeAt(se);Y<128?me[ie++]=Y:Y<2048?(me[ie++]=Y>>6|192,me[ie++]=63&Y|128):55296==(64512&Y)&&se+1<we.length&&56320==(64512&we.charCodeAt(se+1))?(Y=65536+((1023&Y)<<10)+(1023&we.charCodeAt(++se)),me[ie++]=Y>>18|240,me[ie++]=Y>>12&63|128,me[ie++]=Y>>6&63|128,me[ie++]=63&Y|128):(me[ie++]=Y>>12|224,me[ie++]=Y>>6&63|128,me[ie++]=63&Y|128)}return me},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,me){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let Y=0;Y<we.length;Y+=3){const Re=we[Y],Qe=Y+1<we.length,Bt=Qe?we[Y+1]:0,In=Y+2<we.length,fn=In?we[Y+2]:0;let vr=(15&Bt)<<2|fn>>6,Tt=63&fn;In||(Tt=64,Qe||(vr=64)),se.push(ie[Re>>2],ie[(3&Re)<<4|Bt>>4],ie[vr],ie[Tt])}return se.join("")},encodeString(we,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(we):this.encodeByteArray(Ee(we),me)},decodeString(we,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(we):function(we){const me=[];let ie=0,se=0;for(;ie<we.length;){const Y=we[ie++];if(Y<128)me[se++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Re=we[ie++];me[se++]=String.fromCharCode((31&Y)<<6|63&Re)}else if(Y>239&&Y<365){const In=((7&Y)<<18|(63&we[ie++])<<12|(63&we[ie++])<<6|63&we[ie++])-65536;me[se++]=String.fromCharCode(55296+(In>>10)),me[se++]=String.fromCharCode(56320+(1023&In))}else{const Re=we[ie++],Qe=we[ie++];me[se++]=String.fromCharCode((15&Y)<<12|(63&Re)<<6|63&Qe)}}return me.join("")}(this.decodeStringToByteArray(we,me))},decodeStringToByteArray(we,me){this.init_();const ie=me?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let Y=0;Y<we.length;){const Re=ie[we.charAt(Y++)],Bt=Y<we.length?ie[we.charAt(Y)]:0;++Y;const fn=Y<we.length?ie[we.charAt(Y)]:64;++Y;const gn=Y<we.length?ie[we.charAt(Y)]:64;if(++Y,null==Re||null==Bt||null==fn||null==gn)throw new Se;se.push(Re<<2|Bt>>4),64!==fn&&(se.push(Bt<<4&240|fn>>2),64!==gn&&se.push(fn<<6&192|gn))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(we){return function(we){const me=Ee(we);return Ae.encodeByteArray(me,!0)}(we).replace(/\./g,"")},ae=function(we){try{return Ae.decodeString(we,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function ke(we,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return me}for(const ie in me)!me.hasOwnProperty(ie)||!at(ie)||(we[ie]=ke(we[ie],me[ie]));return we}function at(we){return"__proto__"!==we}const st=()=>{try{return function ct(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if("undefined"==typeof document)return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ie){return}const me=we&&ae(we[1]);return me&&JSON.parse(me)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},Mt=we=>{var me,ie;return null===(ie=null===(me=st())||void 0===me?void 0:me.emulatorHosts)||void 0===ie?void 0:ie[we]},Ft=we=>{const me=Mt(we);if(!me)return;const ie=me.lastIndexOf(":");if(ie<=0||ie+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const se=parseInt(me.substring(ie+1),10);return"["===me[0]?[me.substring(1,ie-1),se]:[me.substring(0,ie),se]},Ge=()=>{var we;return null===(we=st())||void 0===we?void 0:we.config},Je=we=>{var me;return null===(me=st())||void 0===me?void 0:me[`_${we}`]};class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,ie)=>{this.resolve=me,this.reject=ie})}wrapCallback(me){return(ie,se)=>{ie?this.reject(ie):this.resolve(se),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(ie):me(ie,se))}}}function nt(we,me){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=me||"demo-project",Y=we.iat||0,Re=we.sub||we.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:Y,exp:Y+3600,auth_time:Y,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},we);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(Qe)),""].join(".")}function vt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function St(){var we;const me=null===(we=st())||void 0===we?void 0:we.forceEnvironment;if("node"===me)return!0;if("browser"===me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function qe(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const we=vt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function $t(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function un(){try{return"object"==typeof indexedDB}catch(we){return!1}}function It(){return new Promise((we,me)=>{try{let ie=!0;const se="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(se);Y.onsuccess=()=>{Y.result.close(),ie||self.indexedDB.deleteDatabase(se),we(!0)},Y.onupgradeneeded=()=>{ie=!1},Y.onerror=()=>{var Re;me((null===(Re=Y.error)||void 0===Re?void 0:Re.message)||"")}}catch(ie){me(ie)}})}function Yn(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Yt extends Error{constructor(me,ie,se){super(ie),this.code=me,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}}class xn{constructor(me,ie,se){this.service=me,this.serviceName=ie,this.errors=se}create(me,...ie){const se=ie[0]||{},Y=`${this.service}/${me}`,Re=this.errors[me],Qe=Re?function wn(we,me){return we.replace(Hn,(ie,se)=>{const Y=me[se];return null!=Y?String(Y):`<${se}?>`})}(Re,se):"Error";return new Yt(Y,`${this.serviceName}: ${Qe} (${Y}).`,se)}}const Hn=/\{\$([^}]+)}/g;function Mr(we,me){return Object.prototype.hasOwnProperty.call(we,me)}function hn(we){for(const me in we)if(Object.prototype.hasOwnProperty.call(we,me))return!1;return!0}function Un(we,me){if(we===me)return!0;const ie=Object.keys(we),se=Object.keys(me);for(const Y of ie){if(!se.includes(Y))return!1;const Re=we[Y],Qe=me[Y];if(pn(Re)&&pn(Qe)){if(!Un(Re,Qe))return!1}else if(Re!==Qe)return!1}for(const Y of se)if(!ie.includes(Y))return!1;return!0}function pn(we){return null!==we&&"object"==typeof we}function Mi(we){const me=[];for(const[ie,se]of Object.entries(we))Array.isArray(se)?se.forEach(Y=>{me.push(encodeURIComponent(ie)+"="+encodeURIComponent(Y))}):me.push(encodeURIComponent(ie)+"="+encodeURIComponent(se));return me.length?"&"+me.join("&"):""}function mt(we){const me={};return we.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[Y,Re]=se.split("=");me[decodeURIComponent(Y)]=decodeURIComponent(Re)}}),me}function be(we){const me=we.indexOf("?");if(!me)return"";const ie=we.indexOf("#",me);return we.substring(me,ie>0?ie:void 0)}function gt(we,me){const ie=new Le(we,me);return ie.subscribe.bind(ie)}class Le{constructor(me,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{me(this)}).catch(se=>{this.error(se)})}next(me){this.forEachObserver(ie=>{ie.next(me)})}error(me){this.forEachObserver(ie=>{ie.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,ie,se){let Y;if(void 0===me&&void 0===ie&&void 0===se)throw new Error("Missing Observer.");Y=function Ot(we,me){if("object"!=typeof we||null===we)return!1;for(const ie of me)if(ie in we&&"function"==typeof we[ie])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:ie,complete:se},void 0===Y.next&&(Y.next=Xn),void 0===Y.error&&(Y.error=Xn),void 0===Y.complete&&(Y.complete=Xn);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(Qe){}}),this.observers.push(Y),Re}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,me)}sendOne(me,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{ie(this.observers[me])}catch(se){"undefined"!=typeof console&&console.error&&console.error(se)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function er(we,me=1e3,ie=2){const se=me*Math.pow(ie,we),Y=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+Y)}function Yr(we){return we&&we._delegate?we._delegate:we}},5895:(Gt,He,V)=>{V.d(He,{b:()=>m});class m{constructor(){this.email="",this.pass="",this.pass2=""}}},7044:(Gt,He,V)=>{V.d(He,{T:()=>ct});var m=V(9808),v=V(3809),_=V(2382),Ee=V(727),oe=V(5e3),Ae=V(89);let Se=(()=>{class tt{constructor(Ne){this.firestore=Ne,this.coleccionChats=(0,Ae.hJ)(this.firestore,"chats")}crearMensaje(Ne){return new Promise((st,Mt)=>{const Ft=Object.assign({},Ne);(0,Ae.PL)((0,Ae.IO)(this.coleccionChats,(0,Ae.Xo)("id","desc"),(0,Ae.b9)(1))).then(Ge=>{let Je=0;Ge.forEach(nt=>{Je=nt.data().id}),Ft.id=Je+1,(0,Ae.ET)(this.coleccionChats,Ft).then(()=>{st()}).catch(nt=>{Mt(nt)})}).catch(Ge=>{Mt(Ge)})})}getListadoChats(){return(0,Ae.BS)(this.coleccionChats)}}return tt.\u0275fac=function(Ne){return new(Ne||tt)(oe.LFG(Ae.gg))},tt.\u0275prov=oe.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();var de=V(1205),We=V(7384),ae=V(8715);function he(tt,Ct){if(1&tt&&(oe.TgZ(0,"div")(1,"div",9)(2,"p",10),oe._uU(3),oe.qZA(),oe.TgZ(4,"p",11),oe._uU(5),oe.qZA()(),oe.TgZ(6,"div",12)(7,"div")(8,"p",13),oe._uU(9),oe.qZA()()()()),2&tt){const Ne=Ct.$implicit;oe.xp6(3),oe.Oqu(Ne.user),oe.xp6(2),oe.Oqu(Ne.hora),oe.xp6(4),oe.hij(" ",Ne.mensaje," ")}}const at=[{path:"",component:(()=>{class tt{constructor(Ne,st){this.chatService=Ne,this.afAuth=st,this.chats=[],this.suscripcion=new Ee.w0,this.hoy=new Date}ngOnInit(){this.getMensajes(),this.formChat=new _.cw({user:new _.NI(""),mensaje:new _.NI("",_.kI.required),hora:new _.NI("")}),this.afAuth.currentUser.then(Ne=>{Ne&&(this.usuario=Ne.email)}),this.formChat.controls.user.setValue(this.usuario)}getMensajes(){this.suscripcion=this.chatService.getListadoChats().subscribe(Ne=>{this.chats=[],Ne.forEach(st=>{this.chats.push(Object.assign({},st))})})}get chatsOrdenadosPorID(){return this.chats.sort((Ne,st)=>{var Mt;return null===(Mt=Ne.hora)||void 0===Mt?void 0:Mt.localeCompare(st.hora?st.hora:"")})}crearMensaje(){const Ne=new Date,Ft=`${Ne.toLocaleDateString("es-AR",{year:"2-digit",month:"2-digit",day:"2-digit"})} - ${Ne.toLocaleTimeString("es-AR",{hour12:!1,hour:"2-digit",minute:"2-digit"})}`,Ge={user:this.usuario,mensaje:this.formChat.get("mensaje").value,hora:Ft};this.chatService.crearMensaje(Ge).then(()=>{}).catch(Je=>{}),this.formChat.controls.mensaje.setValue(""),this.getMensajes()}onDestroy(){this.suscripcion.unsubscribe()}}return tt.\u0275fac=function(Ne){return new(Ne||tt)(oe.Y36(Se),oe.Y36(de.zQ))},tt.\u0275cmp=oe.Xpm({type:tt,selectors:[["app-chat"]],decls:19,vars:3,consts:[[1,"m-2","card",3,"formGroup"],[1,"card-header","d-flex","justify-content-between","align-items-center","p-3",2,"border-top","4px solid #9c096b"],[1,"mb-0"],[1,"m-2","card-body","scrollable-chat",2,"height","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","text-muted","d-flex","justify-content-start","align-items-center","p-3"],[1,"input-group","mb-0"],["formControlName","mensaje","id","mensaje","type","text","value"," ","placeholder"," Escribe tu mensaje...",1,"form-control",2,"margin-top","10px"],["type","button","id","button-addon2",1,"submit_class",2,"padding-top",".55rem",3,"disabled","click"],[1,"d-flex","justify-content-between"],[1,"small","mb-1"],[1,"time-left",2,"font-size","x-small"],[1,"d-flex","flex-row","justify-content-start"],[1,"small","p-2","ms-3","mb-3","rounded-3",2,"background-color","#f5f6f7"]],template:function(Ne,st){1&Ne&&(oe._UZ(0,"router-outlet"),oe.TgZ(1,"header")(2,"h1"),oe._uU(3,"Contactanos"),oe.qZA()(),oe.TgZ(4,"nav"),oe._UZ(5,"app-navbar"),oe.qZA(),oe.TgZ(6,"main")(7,"form",0)(8,"div",1)(9,"h5",2),oe._uU(10,"Chat online"),oe.qZA()(),oe.TgZ(11,"div",3),oe.YNc(12,he,10,3,"div",4),oe.qZA(),oe.TgZ(13,"div",5)(14,"div",6),oe._UZ(15,"input",7),oe.TgZ(16,"button",8),oe.NdJ("click",function(){return st.crearMensaje()}),oe._uU(17," Enviar "),oe.qZA()()()()(),oe._UZ(18,"app-footer")),2&Ne&&(oe.xp6(7),oe.Q6J("formGroup",st.formChat),oe.xp6(5),oe.Q6J("ngForOf",st.chats),oe.xp6(4),oe.Q6J("disabled",st.formChat.invalid))},directives:[v.lC,We.S,_._Y,_.JL,_.sg,m.sg,_.Fj,_.JJ,_.u,ae.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.scrollable-chat[_ngcontent-%COMP%]{overflow-y:auto;width:500px}']}),tt})()}];let ct=(()=>{class tt{}return tt.\u0275fac=function(Ne){return new(Ne||tt)},tt.\u0275mod=oe.oAB({type:tt}),tt.\u0275inj=oe.cJS({imports:[[m.ez,v.Bz.forChild(at)],v.Bz]}),tt})()},9107:(Gt,He,V)=>{V.r(He),V.d(He,{ChatModule:()=>Se});var m=V(9808),v=V(2382),_=V(6389),Ee=V(3809),oe=V(7044),Ae=V(5e3);let Se=(()=>{class de{}return de.\u0275fac=function(ae){return new(ae||de)},de.\u0275mod=Ae.oAB({type:de}),de.\u0275inj=Ae.cJS({imports:[[m.ez,v.u5,v.UX,oe.T,_.m,Ee.Bz]]}),de})()},6127:(Gt,He,V)=>{V.d(He,{x:()=>ar});var m=V(9808),v=V(3809),_=V(5e3),Ee=V(1205),oe=V(7384),Ae=V(2382),Se=V(5895),de=V(4004),We=V(4986),ae=V(8306),he=V(8996),ke=V(9646),at=V(4976),ct=V(8675),tt=V(4482),Ct=V(5403);function Ne(){return(0,tt.e)((le,q)=>{let $,_e=!1;le.subscribe((0,Ct.x)(q,et=>{const vn=$;$=et,_e&&q.next([vn,et]),_e=!0}))})}var st=V(5026),Mt=V(4671);function Ge(le,q){return le===q}var Je=V(9300),ht=V(2011),vt=(V(9568),V(3942)),ge=V(2810),St=V(2090),Fe=V(4859);function dt(le,q){if(void 0===q)return{merge:!1};if(void 0!==q.mergeFields&&void 0!==q.merge)throw new ge.WA("invalid-argument",`Invalid options passed to function ${le}(): You cannot specify both "merge" and "mergeFields".`);return q}function ut(){if("undefined"==typeof Uint8Array)throw new ge.WA("unimplemented","Uint8Arrays are not available in this environment.")}function bt(){if(!(0,ge.Me)())throw new ge.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zt{constructor(q){this._delegate=q}static fromBase64String(q){return bt(),new zt(ge.Jj.fromBase64String(q))}static fromUint8Array(q){return ut(),new zt(ge.Jj.fromUint8Array(q))}toBase64(){return bt(),this._delegate.toBase64()}toUint8Array(){return ut(),this._delegate.toUint8Array()}isEqual(q){return this._delegate.isEqual(q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $t(le){return function un(le,q){if("object"!=typeof le||null===le)return!1;const $=le;for(const _e of q)if(_e in $&&"function"==typeof $[_e])return!0;return!1}(le,["next","error","complete"])}class It{enableIndexedDbPersistence(q,$){return(0,ge.ST)(q._delegate,{forceOwnership:$})}enableMultiTabIndexedDbPersistence(q){return(0,ge.fH)(q._delegate)}clearIndexedDbPersistence(q){return(0,ge.Fc)(q._delegate)}}class Yn{constructor(q,$,_e){this._delegate=$,this._persistenceProvider=_e,this.INTERNAL={delete:()=>this.terminate()},q instanceof ge.l7||(this._appCompat=q)}get _databaseId(){return this._delegate._databaseId}settings(q){const $=this._delegate._getSettings();!q.merge&&$.host!==q.host&&(0,ge.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),q.merge&&delete(q=Object.assign(Object.assign({},$),q)).merge,this._delegate._setSettings(q)}useEmulator(q,$,_e={}){(0,ge.at)(this._delegate,q,$,_e)}enableNetwork(){return(0,ge.Ix)(this._delegate)}disableNetwork(){return(0,ge.TF)(this._delegate)}enablePersistence(q){let $=!1,_e=!1;return q&&($=!!q.synchronizeTabs,_e=!!q.experimentalForceOwningTab,(0,ge.Wi)("synchronizeTabs",$,"experimentalForceOwningTab",_e)),$?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,_e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ge.Mx)(this._delegate)}onSnapshotsInSync(q){return(0,ge.sc)(this._delegate,q)}get app(){if(!this._appCompat)throw new ge.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(q){try{return new hn(this,(0,ge.hJ)(this._delegate,q))}catch($){throw qn($,"collection()","Firestore.collection()")}}doc(q){try{return new Tn(this,(0,ge.JU)(this._delegate,q))}catch($){throw qn($,"doc()","Firestore.doc()")}}collectionGroup(q){try{return new Kn(this,(0,ge.B$)(this._delegate,q))}catch($){throw qn($,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(q){return(0,ge.i3)(this._delegate,$=>q(new xn(this,$)))}batch(){return(0,ge.qY)(this._delegate),new wn(new ge.PU(this._delegate,q=>(0,ge.GL)(this._delegate,q)))}loadBundle(q){return(0,ge.Pb)(this._delegate,q)}namedQuery(q){return(0,ge.L$)(this._delegate,q).then($=>$?new Kn(this,$):null)}}class dn extends ge.u7{constructor(q){super(),this.firestore=q}convertBytes(q){return new zt(new ge.Jj(q))}convertReference(q){const $=this.convertDocumentKey(q,this.firestore._databaseId);return Tn.forKey($,this.firestore,null)}}class xn{constructor(q,$){this._firestore=q,this._delegate=$,this._userDataWriter=new dn(q)}get(q){const $=Jn(q);return this._delegate.get($).then(_e=>new wr(this._firestore,new ge.xU(this._firestore._delegate,this._userDataWriter,_e._key,_e._document,_e.metadata,$.converter)))}set(q,$,_e){const et=Jn(q);return _e?(dt("Transaction.set",_e),this._delegate.set(et,$,_e)):this._delegate.set(et,$),this}update(q,$,_e,...et){const vn=Jn(q);return 2===arguments.length?this._delegate.update(vn,$):this._delegate.update(vn,$,_e,...et),this}delete(q){const $=Jn(q);return this._delegate.delete($),this}}class wn{constructor(q){this._delegate=q}set(q,$,_e){const et=Jn(q);return _e?(dt("WriteBatch.set",_e),this._delegate.set(et,$,_e)):this._delegate.set(et,$),this}update(q,$,_e,...et){const vn=Jn(q);return 2===arguments.length?this._delegate.update(vn,$):this._delegate.update(vn,$,_e,...et),this}delete(q){const $=Jn(q);return this._delegate.delete($),this}commit(){return this._delegate.commit()}}class Hn{constructor(q,$,_e){this._firestore=q,this._userDataWriter=$,this._delegate=_e}fromFirestore(q,$){const _e=new ge.$q(this._firestore._delegate,this._userDataWriter,q._key,q._document,q.metadata,null);return this._delegate.fromFirestore(new br(this._firestore,_e),null!=$?$:{})}toFirestore(q,$){return $?this._delegate.toFirestore(q,$):this._delegate.toFirestore(q)}static getInstance(q,$){const _e=Hn.INSTANCES;let et=_e.get(q);et||(et=new WeakMap,_e.set(q,et));let vn=et.get($);return vn||(vn=new Hn(q,new dn(q),$),et.set($,vn)),vn}}Hn.INSTANCES=new WeakMap;class Tn{constructor(q,$){this.firestore=q,this._delegate=$,this._userDataWriter=new dn(q)}static forPath(q,$,_e){if(q.length%2!=0)throw new ge.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${q.canonicalString()} has ${q.length}`);return new Tn($,new ge.my($._delegate,_e,new ge.Ky(q)))}static forKey(q,$,_e){return new Tn($,new ge.my($._delegate,_e,q))}get id(){return this._delegate.id}get parent(){return new hn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(q){try{return new hn(this.firestore,(0,ge.hJ)(this._delegate,q))}catch($){throw qn($,"collection()","DocumentReference.collection()")}}isEqual(q){return(q=(0,St.m9)(q))instanceof ge.my&&(0,ge.Eo)(this._delegate,q)}set(q,$){$=dt("DocumentReference.set",$);try{return $?(0,ge.pl)(this._delegate,q,$):(0,ge.pl)(this._delegate,q)}catch(_e){throw qn(_e,"setDoc()","DocumentReference.set()")}}update(q,$,..._e){try{return 1===arguments.length?(0,ge.r7)(this._delegate,q):(0,ge.r7)(this._delegate,q,$,..._e)}catch(et){throw qn(et,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ge.oe)(this._delegate)}onSnapshot(...q){const $=_r(q),_e=di(q,et=>new wr(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,et._key,et._document,et.metadata,this._delegate.converter)));return(0,ge.cf)(this._delegate,$,_e)}get(q){let $;return $="cache"===(null==q?void 0:q.source)?(0,ge.kl)(this._delegate):"server"===(null==q?void 0:q.source)?(0,ge.Xk)(this._delegate):(0,ge.QT)(this._delegate),$.then(_e=>new wr(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,_e._key,_e._document,_e.metadata,this._delegate.converter)))}withConverter(q){return new Tn(this.firestore,this._delegate.withConverter(q?Hn.getInstance(this.firestore,q):null))}}function qn(le,q,$){return le.message=le.message.replace(q,$),le}function _r(le){for(const q of le)if("object"==typeof q&&!$t(q))return q;return{}}function di(le,q){var $,_e;let et;return et=$t(le[0])?le[0]:$t(le[1])?le[1]:"function"==typeof le[0]?{next:le[0],error:le[1],complete:le[2]}:{next:le[1],error:le[2],complete:le[3]},{next:vn=>{et.next&&et.next(q(vn))},error:null===($=et.error)||void 0===$?void 0:$.bind(et),complete:null===(_e=et.complete)||void 0===_e?void 0:_e.bind(et)}}class wr{constructor(q,$){this._firestore=q,this._delegate=$}get ref(){return new Tn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(q){return this._delegate.data(q)}get(q,$){return this._delegate.get(q,$)}isEqual(q){return(0,ge.qK)(this._delegate,q._delegate)}}class br extends wr{data(q){const $=this._delegate.data(q);return(0,ge.K9)(void 0!==$,"Document in a QueryDocumentSnapshot should exist"),$}}class Kn{constructor(q,$){this.firestore=q,this._delegate=$,this._userDataWriter=new dn(q)}where(q,$,_e){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.ar)(q,$,_e)))}catch(et){throw qn(et,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(q,$){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Xo)(q,$)))}catch(_e){throw qn(_e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.b9)(q)))}catch($){throw qn($,"limit()","Query.limit()")}}limitToLast(q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.vh)(q)))}catch($){throw qn($,"limitToLast()","Query.limitToLast()")}}startAt(...q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.e0)(...q)))}catch($){throw qn($,"startAt()","Query.startAt()")}}startAfter(...q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.TQ)(...q)))}catch($){throw qn($,"startAfter()","Query.startAfter()")}}endBefore(...q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Lx)(...q)))}catch($){throw qn($,"endBefore()","Query.endBefore()")}}endAt(...q){try{return new Kn(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Wu)(...q)))}catch($){throw qn($,"endAt()","Query.endAt()")}}isEqual(q){return(0,ge.iE)(this._delegate,q._delegate)}get(q){let $;return $="cache"===(null==q?void 0:q.source)?(0,ge.UQ)(this._delegate):"server"===(null==q?void 0:q.source)?(0,ge.zN)(this._delegate):(0,ge.PL)(this._delegate),$.then(_e=>new Vr(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,_e._snapshot)))}onSnapshot(...q){const $=_r(q),_e=di(q,et=>new Vr(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,et._snapshot)));return(0,ge.cf)(this._delegate,$,_e)}withConverter(q){return new Kn(this.firestore,this._delegate.withConverter(q?Hn.getInstance(this.firestore,q):null))}}class Mr{constructor(q,$){this._firestore=q,this._delegate=$}get type(){return this._delegate.type}get doc(){return new br(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vr{constructor(q,$){this._firestore=q,this._delegate=$}get query(){return new Kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(q=>new br(this._firestore,q))}docChanges(q){return this._delegate.docChanges(q).map($=>new Mr(this._firestore,$))}forEach(q,$){this._delegate.forEach(_e=>{q.call($,new br(this._firestore,_e))})}isEqual(q){return(0,ge.qK)(this._delegate,q._delegate)}}class hn extends Kn{constructor(q,$){super(q,$),this.firestore=q,this._delegate=$}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const q=this._delegate.parent;return q?new Tn(this.firestore,q):null}doc(q){try{return new Tn(this.firestore,void 0===q?(0,ge.JU)(this._delegate):(0,ge.JU)(this._delegate,q))}catch($){throw qn($,"doc()","CollectionReference.doc()")}}add(q){return(0,ge.ET)(this._delegate,q).then($=>new Tn(this.firestore,$))}isEqual(q){return(0,ge.Eo)(this._delegate,q._delegate)}withConverter(q){return new hn(this.firestore,this._delegate.withConverter(q?Hn.getInstance(this.firestore,q):null))}}function Jn(le){return(0,ge.Cf)(le,ge.my)}class Un{constructor(...q){this._delegate=new ge.Lz(...q)}static documentId(){return new Un(ge.Xb.keyField().canonicalString())}isEqual(q){return(q=(0,St.m9)(q))instanceof ge.Lz&&this._delegate._internalPath.isEqual(q._internalPath)}}class pn{constructor(q){this._delegate=q}static serverTimestamp(){const q=(0,ge.Bt)();return q._methodName="FieldValue.serverTimestamp",new pn(q)}static delete(){const q=(0,ge.AK)();return q._methodName="FieldValue.delete",new pn(q)}static arrayUnion(...q){const $=(0,ge.vr)(...q);return $._methodName="FieldValue.arrayUnion",new pn($)}static arrayRemove(...q){const $=(0,ge.Ab)(...q);return $._methodName="FieldValue.arrayRemove",new pn($)}static increment(q){const $=(0,ge.nP)(q);return $._methodName="FieldValue.increment",new pn($)}isEqual(q){return this._delegate.isEqual(q._delegate)}}const ni={Firestore:Yn,GeoPoint:ge.F8,Timestamp:ge.EK,Blob:zt,Transaction:xn,WriteBatch:wn,DocumentReference:Tn,DocumentSnapshot:wr,Query:Kn,QueryDocumentSnapshot:br,QuerySnapshot:Vr,CollectionReference:hn,FieldPath:Un,FieldValue:pn,setLogLevel:function Yt(le){(0,ge.Ub)(le)},CACHE_SIZE_UNLIMITED:ge.IX};!function mt(le){(function Mi(le,q){le.INTERNAL.registerComponent(new Fe.wA("firestore-compat",$=>{const _e=$.getProvider("app-compat").getImmediate(),et=$.getProvider("firestore").getImmediate();return q(_e,et)},"PUBLIC").setServiceProps(Object.assign({},ni)))})(le,(q,$)=>new Yn(q,$,new It)),le.registerVersion("@firebase/firestore-compat","0.3.9")}(vt.Z);var be=V(2313);function Le(le,q){return function gt(le,q=We.z){return new ae.y($=>{let _e;return null!=q?q.schedule(()=>{_e=le.onSnapshot({includeMetadataChanges:!0},$)}):_e=le.onSnapshot({includeMetadataChanges:!0},$),()=>{null!=_e&&_e()}})}(le,q)}function Ot(le,q){return Le(le,q).pipe((0,de.U)($=>({payload:$,type:"query"})))}function Xn(le,q){return Ot(le,q).pipe((0,ct.O)(void 0),Ne(),(0,de.U)(([$,_e])=>{const et=_e.payload.docChanges(),vn=et.map(Hr=>({type:Hr.type,payload:Hr}));return $&&JSON.stringify($.payload.metadata)!==JSON.stringify(_e.payload.metadata)&&_e.payload.docs.forEach((Hr,Pi)=>{const Li=et.find(zi=>zi.doc.ref.isEqual(Hr.ref)),Xi=null==$?void 0:$.payload.docs.find(zi=>zi.ref.isEqual(Hr.ref));Li&&JSON.stringify(Li.doc.metadata)===JSON.stringify(Hr.metadata)||!Li&&Xi&&JSON.stringify(Xi.metadata)===JSON.stringify(Hr.metadata)||vn.push({type:"modified",payload:{oldIndex:Pi,newIndex:Pi,type:"modified",doc:Hr}})}),vn}))}function On(le,q,$){return Xn(le,$).pipe((0,st.R)((_e,et)=>function Cn(le,q,$){return q.forEach(_e=>{$.indexOf(_e.type)>-1&&(le=function pr(le,q){switch(q.type){case"added":if(!le[q.newIndex]||!le[q.newIndex].doc.ref.isEqual(q.doc.ref))return Gr(le,q.newIndex,0,q);break;case"modified":if(null==le[q.oldIndex]||le[q.oldIndex].doc.ref.isEqual(q.doc.ref)){if(q.oldIndex!==q.newIndex){const $=le.slice();return $.splice(q.oldIndex,1),$.splice(q.newIndex,0,q),$}return Gr(le,q.newIndex,1,q)}break;case"removed":if(le[q.oldIndex]&&le[q.oldIndex].doc.ref.isEqual(q.doc.ref))return Gr(le,q.oldIndex,1)}return le}(le,_e))}),le}(_e,et.map(vn=>vn.payload),q),[]),function Ft(le,q=Mt.y){return le=null!=le?le:Ge,(0,tt.e)(($,_e)=>{let et,vn=!0;$.subscribe((0,Ct.x)(_e,Hr=>{const Pi=q(Hr);(vn||!le(et,Pi))&&(vn=!1,et=Pi,_e.next(Hr))}))})}(),(0,de.U)(_e=>_e.map(et=>({type:et.type,payload:et}))))}function Gr(le,q,$,..._e){const et=le.slice();return et.splice(q,$,..._e),et}function Rn(le){return(!le||0===le.length)&&(le=["added","removed","modified"]),le}V(9260);class Ht{constructor(q,$,_e){this.ref=q,this.query=$,this.afs=_e}stateChanges(q){let $=Xn(this.query,this.afs.schedulers.outsideAngular);return q&&q.length>0&&($=$.pipe((0,de.U)(_e=>_e.filter(et=>q.indexOf(et.type)>-1)))),$.pipe((0,ct.O)(void 0),Ne(),(0,Je.h)(([_e,et])=>et.length>0||!_e),(0,de.U)(([_e,et])=>et),at.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,st.R)(($,_e)=>[...$,..._e],[]))}snapshotChanges(q){const $=Rn(q);return On(this.query,$,this.afs.schedulers.outsideAngular).pipe(at.iC)}valueChanges(q={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)($=>$.payload.docs.map(_e=>q.idField?Object.assign(Object.assign({},_e.data()),{[q.idField]:_e.id}):_e.data())),at.iC)}get(q){return(0,he.D)(this.query.get(q)).pipe(at.iC)}add(q){return this.ref.add(q)}doc(q){return new dr(this.ref.doc(q),this.afs)}}class dr{constructor(q,$){this.ref=q,this.afs=$}set(q,$){return this.ref.set(q,$)}update(q){return this.ref.update(q)}delete(){return this.ref.delete()}collection(q,$){const _e=this.ref.collection(q),{ref:et,query:vn}=er(_e,$);return new Ht(et,vn,this.afs)}snapshotChanges(){return function xt(le,q){return Le(le,q).pipe((0,ct.O)(void 0),Ne(),(0,de.U)(([$,_e])=>_e.exists?(null==$?void 0:$.exists)?{payload:_e,type:"modified"}:{payload:_e,type:"added"}:{payload:_e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(at.iC)}valueChanges(q={}){return this.snapshotChanges().pipe((0,de.U)(({payload:$})=>q.idField?Object.assign(Object.assign({},$.data()),{[q.idField]:$.id}):$.data()))}get(q){return(0,he.D)(this.ref.get(q)).pipe(at.iC)}}class Nn{constructor(q,$){this.query=q,this.afs=$}stateChanges(q){return q&&0!==q.length?Xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)($=>$.filter(_e=>q.indexOf(_e.type)>-1)),(0,Je.h)($=>$.length>0),at.iC):Xn(this.query,this.afs.schedulers.outsideAngular).pipe(at.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,st.R)(($,_e)=>[...$,..._e],[]))}snapshotChanges(q){const $=Rn(q);return On(this.query,$,this.afs.schedulers.outsideAngular).pipe(at.iC)}valueChanges(q={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(_e=>_e.payload.docs.map(et=>q.idField?Object.assign({[q.idField]:et.id},et.data()):et.data())),at.iC)}get(q){return(0,he.D)(this.query.get(q)).pipe(at.iC)}}const Pr=new _.OlP("angularfire2.enableFirestorePersistence"),tn=new _.OlP("angularfire2.firestore.persistenceSettings"),kn=new _.OlP("angularfire2.firestore.settings"),Ln=new _.OlP("angularfire2.firestore.use-emulator");function er(le,q=($=>$)){return{query:q(le),ref:le}}let ai=(()=>{class le{constructor($,_e,et,vn,Hr,Pi,Li,Xi,zi,as,xs,eo,Do,Ao,Go,co,ia){this.schedulers=Li;const ui=(0,ht.on)($,Pi,_e),gi=zi;as&&(0,Ee.nw)(ui,Pi,xs,Do,Ao,Go,eo,co),[this.firestore,this.persistenceEnabled$]=(0,ht.cc)(`${ui.name}.firestore`,"AngularFirestore",ui.name,()=>{const Oi=Pi.runOutsideAngular(()=>ui.firestore());if(vn&&Oi.settings(vn),gi&&Oi.useEmulator(...gi),et&&!(0,m.PM)(Hr)){const es=()=>{try{return(0,he.D)(Oi.enablePersistence(Xi||void 0).then(()=>!0,()=>!1))}catch(sa){return"undefined"!=typeof console&&console.warn(sa),(0,ke.of)(!1)}};return[Oi,Pi.runOutsideAngular(es)]}return[Oi,(0,ke.of)(!1)]},[vn,gi,et])}collection($,_e){let et;et="string"==typeof $?this.firestore.collection($):$;const{ref:vn,query:Hr}=er(et,_e),Pi=this.schedulers.ngZone.run(()=>vn);return new Ht(Pi,Hr,this)}collectionGroup($,_e){const et=_e||(Hr=>Hr),vn=this.firestore.collectionGroup($);return new Nn(et(vn),this)}doc($){let _e;_e="string"==typeof $?this.firestore.doc($):$;const et=this.schedulers.ngZone.run(()=>_e);return new dr(et,this)}createId(){return this.firestore.collection("_").doc().id}}return le.\u0275fac=function($){return new($||le)(_.LFG(ht.Dh),_.LFG(ht.xv,8),_.LFG(Pr,8),_.LFG(kn,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(at.HU),_.LFG(tn,8),_.LFG(Ln,8),_.LFG(Ee.zQ,8),_.LFG(Ee.Qv,8),_.LFG(Ee.L6,8),_.LFG(Ee._Q,8),_.LFG(Ee.rT,8),_.LFG(Ee.lh,8),_.LFG(Ee.f7,8),_.LFG(be.nm,8))},le.\u0275prov=_.Yz7({token:le,factory:le.\u0275fac,providedIn:"any"}),le})(),Yr=(()=>{class le{constructor($,_e,et){this.db=$,this.router=_e,this.afAuth=et,this.dbPathMayorMenor="puntajesMayorMenor",this.dbPathAhorcado="puntajesAhorcado",this.dbPathPreguntados="puntajesPreguntados",this.dbPathMiJuego="puntajesMiJuego"}cargarPuntajesMayorMenor(){this.puntajesMayorMenor=this.db.collection(this.dbPathMayorMenor,$=>$.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesMayorMenor)},1e3)}cargarPuntajesAhorcado(){this.puntajesAhorcado=this.db.collection(this.dbPathAhorcado,$=>$.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesAhorcado)},1e3)}cargarPuntajesPreguntados(){this.puntajesPreguntados=this.db.collection(this.dbPathPreguntados,$=>$.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesPreguntados)},1e3)}cargarPuntajesMiJuego(){this.puntajesMiJuego=this.db.collection(this.dbPathMiJuego,$=>$.orderBy("puntos","desc")),setTimeout(()=>{this.getPuntajes(this.puntajesMiJuego)},1e3)}addPuntaje($,_e,et){et.add({usuario:$,puntos:_e,fecha:(new Date).toLocaleString()})}getPuntajes($){this.puntajes=$.snapshotChanges().pipe((0,de.U)(_e=>_e.map(et=>et.payload.doc.data()))),console.log(this.puntajes)}}return le.\u0275fac=function($){return new($||le)(_.LFG(ai),_.LFG(v.F0),_.LFG(Ee.zQ))},le.\u0275prov=_.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function we(le,q){if(1&le&&(_.TgZ(0,"div",11)(1,"h1")(2,"strong"),_._uU(3),_.qZA()()()),2&le){const $=_.oxw();_.xp6(3),_.Oqu($.mensaje)}}function me(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div",14)(1,"input",15),_.NdJ("click",function(){const vn=_.CHM($).$implicit;return _.oxw(2).onLetra(vn.nombre)}),_.qZA()()}if(2&le){const $=q.$implicit;_.xp6(1),_.s9C("value",$.nombre)}}function ie(le,q){if(1&le&&(_.TgZ(0,"div",12)(1,"h3"),_._uU(2,"Introduce una letra"),_.qZA(),_.TgZ(3,"div",1),_.YNc(4,me,2,1,"div",13),_.qZA()()),2&le){const $=_.oxw();_.xp6(4),_.Q6J("ngForOf",$.arrayLetras)}}function se(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div",16)(1,"button",17),_.NdJ("click",function(){return _.CHM($),_.oxw(2).empezar()}),_._uU(2,"EMPEZAR"),_.qZA()()}}function Y(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div",16)(1,"button",17),_.NdJ("click",function(){return _.CHM($),_.oxw(2).empezar()}),_.TgZ(2,"strong"),_._uU(3,"SIGUIENTE PALABRA"),_.qZA()()()}}function Re(le,q){if(1&le&&(_.TgZ(0,"div",16),_.YNc(1,se,3,0,"div",8),_.YNc(2,Y,4,0,"div",8),_.qZA()),2&le){const $=_.oxw();_.xp6(1),_.Q6J("ngIf",!$.palabraCompletada||$.juegoCompletado),_.xp6(1),_.Q6J("ngIf",$.palabraCompletada)}}function Qe(le,q){if(1&le&&(_.TgZ(0,"div")(1,"div",1)(2,"div",21)(3,"h6"),_._uU(4),_.qZA()(),_.TgZ(5,"div",21)(6,"h6"),_._uU(7),_.qZA()()()()),2&le){const $=q.$implicit;_.xp6(4),_.Oqu($.usuario),_.xp6(3),_.Oqu($.puntos)}}function Bt(le,q){if(1&le&&(_.TgZ(0,"div",18)(1,"h4",19),_._uU(2),_.qZA(),_._UZ(3,"br")(4,"hr"),_.TgZ(5,"label"),_._uU(6,"Mejores Puntajes"),_.qZA(),_.YNc(7,Qe,8,2,"div",20),_.qZA()),2&le){const $=_.oxw();_.xp6(2),_.hij("Puntos: ",$.puntosAux,""),_.xp6(5),_.Q6J("ngForOf",$.listaOrdenada)}}let In=(()=>{class le{constructor($,_e,et){this.router=$,this.afAuth=_e,this.puntajeService=et,this.seCreaAbecedario=new _.vpe,this.palabrasAux=["hashtag","click","recreo","globo","foto","nariz"],this.letra={nombre:""},this.letras=[{nombre:"A"},{nombre:"B"},{nombre:"C"},{nombre:"D"},{nombre:"E"},{nombre:"F"},{nombre:"G"},{nombre:"H"},{nombre:"I"},{nombre:"J"},{nombre:"K"},{nombre:"L"},{nombre:"M"},{nombre:"N"},{nombre:"\xd1"},{nombre:"O"},{nombre:"P"},{nombre:"Q"},{nombre:"R"},{nombre:"S"},{nombre:"T"},{nombre:"U"},{nombre:"V"},{nombre:"W"},{nombre:"X"},{nombre:"Y"},{nombre:"Z"}],this.arrayLetras=[],this.empezado=!1,this.resultado=!1,this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.usuario=new Se.b,this.palabraCompletada=!1,this.juegoCompletado=!1,this.comenzar="../../../../assets/ahorcado/Ahorcado1.png",this.puntajeService.cargarPuntajesAhorcado()}ngOnInit(){this.afAuth.currentUser.then($=>{$&&(this.usuario.email=$.email?$.email:"")}),this.crearAbecedario(),this.puntosAux=0}empezar(){this.cambiarImagen();var $=Math.floor(Math.random()*this.palabrasAux.length);this.palabra=this.palabrasAux[$],console.log(this.palabrasAux),console.log(this.palabra),this.palabra&&(this.palabraEnGuiones=this.palabra.replace(/./g,"_ ")),console.log(this.palabra+" - "+this.palabraEnGuiones),this.palabrasAux.splice($,1),console.log(this.palabrasAux),this.errores=0,this.empezado=!0,this.resultado=!1,this.juegoCompletado=!1,this.palabraCompletada=!1}crearAbecedario(){this.letras.forEach($=>{let _e={nombre:$.nombre};this.seCreaAbecedario.emit(_e),this.agregarNuevoProducto(_e)})}onLetra($){let _e=0;for(let et=0;et<this.palabra.length;et++){const vn=this.palabra[et];$.toLowerCase()==vn&&(console.log("letra correcta"),this.palabraEnGuiones=this.replaceAt(2*et,vn.toLocaleUpperCase()),console.log(this.palabraEnGuiones),_e++)}0==_e&&(this.errores++,console.log(_e),console.log(this.errores),this.cambiarImagen()),this.palabraEnGuiones.indexOf("_")<0&&(this.mensaje="\xa1Felicitaciones, GANASTE!",this.empezado=!1,this.resultado=!0,this.puntos=10*this.palabra.length,this.puntosAux+=this.puntos,this.palabraCompletada=!0,this.palabrasAux.length<=0&&(this.mensaje="\xa1Juego Completado!",this.palabraCompletada=!1,this.juegoCompletado=!0),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes())}replaceAt($,_e){var et=this.palabraEnGuiones.split("");return et[$]=_e,et.join("")}agregarNuevoProducto($){this.arrayLetras.push($)}cambiarImagen(){var $,_e,et,vn,Hr,Pi,Li;switch(this.errores){case 0:null===($=document.querySelector("#horca"))||void 0===$||$.setAttribute("src","../../../../assets/ahorcado/Ahorcado1.png");break;case 1:console.log(this.errores),null===(_e=document.querySelector("#horca"))||void 0===_e||_e.setAttribute("src","../../../../assets/ahorcado/Ahorcado2.png");break;case 2:null===(et=document.querySelector("#horca"))||void 0===et||et.setAttribute("src","../../../../assets/ahorcado/Ahorcado3.png");break;case 3:null===(vn=document.querySelector("#horca"))||void 0===vn||vn.setAttribute("src","../../../../assets/ahorcado/Ahorcado4.png");break;case 4:null===(Hr=document.querySelector("#horca"))||void 0===Hr||Hr.setAttribute("src","../../../../assets/ahorcado/Ahorcado5.png");break;case 5:null===(Pi=document.querySelector("#horca"))||void 0===Pi||Pi.setAttribute("src","../../../../assets/ahorcado/Ahorcado6.png");break;case 6:null===(Li=document.querySelector("#horca"))||void 0===Li||Li.setAttribute("src","../../../../assets/ahorcado/Ahorcado7.png"),this.mensaje="\xa1Fuiste ahorcado!",this.resultado=!0,this.empezado=!1,this.puntos=0,this.puntosAux=this.puntos,this.palabraCompletada=!1,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()}}cargarPuntajes(){this.listaPuntajes=[],this.puntajeService.puntajes.subscribe($=>{this.listaPuntajes=$,this.listaOrdenada=this.listaPuntajes.slice(0,3),console.log($),console.log(this.resultado)})}addPuntaje($,_e){this.puntajeService.addPuntaje($,_e,this.puntajeService.puntajesAhorcado)}}return le.\u0275fac=function($){return new($||le)(_.Y36(v.F0),_.Y36(Ee.zQ),_.Y36(Yr))},le.\u0275cmp=_.Xpm({type:le,selectors:[["app-ahorcado"]],outputs:{seCreaAbecedario:"seCreaAbecedario"},decls:14,vars:6,consts:[["id","general",1,"container-fluid"],[1,"row"],[1,"col-6","col-sm-6"],["id","ahorcado",1,"p-2"],["id","horca",3,"src"],["class","form-group","id","mensaje",4,"ngIf"],["id","palabraEnGuiones",1,"my-0","font-weight-normal"],["class","pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",4,"ngIf"],["id","empezar",4,"ngIf"],[1,"container"],["class","col-12",4,"ngIf"],["id","mensaje",1,"form-group"],[1,"pricing-header","px-3","py-3","pt-md-5","pb-md-4","mx-auto","text-center"],["class","col-sm-4",4,"ngFor","ngForOf"],[1,"col-sm-4"],["type","button",1,"btn","alert-danger","mt-1","col-sm-4","text-center",2,"width","40px",3,"value","click"],["id","empezar"],[1,"submit_class",3,"click"],[1,"col-12"],[1,"text-center","mt-1"],[4,"ngFor","ngForOf"],[1,"col-6"]],template:function($,_e){1&$&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_._UZ(4,"img",4),_.qZA()(),_.TgZ(5,"div",2),_.YNc(6,we,4,1,"div",5),_.TgZ(7,"h1",6),_._uU(8),_.qZA(),_.YNc(9,ie,5,1,"div",7),_.qZA(),_.YNc(10,Re,3,2,"div",8),_.qZA()(),_.TgZ(11,"div",9)(12,"div",1),_.YNc(13,Bt,8,2,"div",10),_.qZA()()),2&$&&(_.xp6(4),_.Q6J("src",_e.comenzar,_.LSH),_.xp6(2),_.Q6J("ngIf",_e.resultado),_.xp6(2),_.Oqu(_e.palabraEnGuiones),_.xp6(1),_.Q6J("ngIf",_e.empezado),_.xp6(1),_.Q6J("ngIf",!_e.empezado),_.xp6(3),_.Q6J("ngIf",_e.resultado))},directives:[m.O5,m.sg],styles:['.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),le})();function fn(le,q){1&le&&(_.TgZ(0,"div"),_._UZ(1,"img",6),_.qZA())}function Bn(le,q){if(1&le&&(_.TgZ(0,"div",7)(1,"h4",8),_._uU(2),_.qZA()()),2&le){const $=_.oxw();_.xp6(2),_.Oqu($.mensaje)}}function gn(le,q){if(1&le&&(_.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"label"),_._uU(4),_.qZA()(),_.TgZ(5,"div",12)(6,"label"),_._uU(7),_.qZA()()()()),2&le){const $=q.$implicit;_.xp6(4),_.Oqu($.usuario),_.xp6(3),_.Oqu($.puntos)}}function vr(le,q){if(1&le&&(_.TgZ(0,"div",7)(1,"h6",9),_._uU(2),_.qZA(),_._UZ(3,"br"),_.TgZ(4,"h6"),_._uU(5,"Mejores Puntajes"),_.qZA(),_.YNc(6,gn,8,2,"div",10),_.qZA()),2&le){const $=_.oxw();_.xp6(2),_.hij("Puntos: ",$.puntosAux,""),_.xp6(4),_.Q6J("ngForOf",$.listaOrdenada)}}function Tt(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div",13),_._UZ(1,"br"),_.TgZ(2,"div",14)(3,"div",11)(4,"h6"),_._uU(5,"Puntos:"),_.qZA(),_.TgZ(6,"h6"),_._uU(7),_.qZA()()(),_._UZ(8,"br")(9,"img",15),_.TgZ(10,"button",16),_.NdJ("click",function(){return _.CHM($),_.oxw().cartaMayor()}),_._uU(11,"Mayor"),_.qZA(),_.TgZ(12,"button",16),_.NdJ("click",function(){return _.CHM($),_.oxw().cartaMenor()}),_._uU(13,"Menor"),_.qZA()()}if(2&le){const $=_.oxw();_.xp6(7),_.Oqu($.puntos),_.xp6(2),_.Q6J("src",$.carta.src,_.LSH)}}let Rt=(()=>{class le{constructor($,_e,et){this.router=$,this.afAuth=_e,this.puntajeService=et,this.carta={src:"",numero:""},this.cartaSiguiente={src:"",numero:""},this.cartas=[{src:"../../../../assets/mayor-menor/A_pica.png",numero:1},{src:"../../../../assets/mayor-menor/A_trebol.png",numero:1},{src:"../../../../assets/mayor-menor/A_diamante.png",numero:1},{src:"../../../../assets/mayor-menor/2_pica.png",numero:2},{src:"../../../../assets/mayor-menor/3_coraz\xf3n.png",numero:3},{src:"../../../../assets/mayor-menor/4_coraz\xf3n.png",numero:4},{src:"../../../../assets/mayor-menor/5_coraz\xf3n.png",numero:5}],this.empezado=!1,this.resultado=!1,this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.usuario=new Se.b,this.puntajeService.cargarPuntajesMayorMenor()}ngOnInit(){this.afAuth.currentUser.then($=>{$&&(this.usuario.email=$.email?$.email:"")})}empezar(){this.cartasAux=this.cartas.slice();var $=Math.floor(Math.random()*this.cartasAux.length);this.carta.src=this.cartasAux[$].src,this.carta.numero=this.cartasAux[$].numero,delete this.cartasAux[0].i,this.puntos=0,this.puntosAux=0,this.empezado=!0,this.resultado=!1}proximaCarta(){if(this.cartasAux.length>0){var $=Math.floor(Math.random()*this.cartasAux.length);this.cartaSiguiente.src=this.cartasAux[$].src,this.cartaSiguiente.numero=this.cartasAux[$].numero,delete this.cartasAux[$]}else this.mensaje="\xa1Felicitaciones, GANASTE!",this.puntosAux=this.puntos,this.resultado=!0,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()}cartaMayor(){this.proximaCarta(),this.carta.numero<=this.cartaSiguiente.numero?(console.log(this.carta.numero+"<="+this.cartaSiguiente.numero),this.puntos+=10):(console.log("\xa1Perdiste!"),this.mensaje="\xa1Perdiste!",this.puntosAux=this.puntos,this.puntos=0,this.empezado=!1,this.resultado=!0,console.log(this.puntos),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()),this.carta.numero=this.cartaSiguiente.numero,this.carta.src=this.cartaSiguiente.src}cartaMenor(){this.proximaCarta(),this.carta.numero>=this.cartaSiguiente.numero?(console.log(this.carta.numero+">="+this.cartaSiguiente.numero),this.puntos+=10):(console.log("\xa1Perdiste!"),this.mensaje="\xa1Perdiste!",this.puntosAux=this.puntos,this.puntos=0,this.empezado=!1,this.resultado=!0,console.log(this.puntos),this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes()),this.carta.numero=this.cartaSiguiente.numero,this.carta.src=this.cartaSiguiente.src}cargarPuntajes(){this.listaPuntajes=[],this.puntajeService.puntajes.subscribe($=>{this.listaPuntajes=$,this.listaOrdenada=this.listaPuntajes.slice(0,3),console.log(this.listaPuntajes)})}addPuntaje($,_e){this.puntajeService.addPuntaje($,_e,this.puntajeService.puntajesMayorMenor)}}return le.\u0275fac=function($){return new($||le)(_.Y36(v.F0),_.Y36(Ee.zQ),_.Y36(Yr))},le.\u0275cmp=_.Xpm({type:le,selectors:[["app-mayor-menor"]],decls:9,vars:5,consts:[[1,"cardbox-shadow"],[4,"ngIf"],["type","button","id","empezar",1,"submit_class",3,"hidden","click"],["class","col-12",4,"ngIf"],[1,"container"],["class","card-body text-center",4,"ngIf"],["id","imgEmp","src","../../../../assets/mayor-menor/presentaci\xf3n.png","width","60%",1,"img-centered"],[1,"col-12"],[1,"mt-1","text-center"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-6"],[1,"card-body","text-center"],[1,"col-12","text-center"],["width","20%","id","carta",1,"img-centered","smaller-image",3,"src"],["type","button",1,"submit_class",3,"click"]],template:function($,_e){1&$&&(_.TgZ(0,"div",0),_.YNc(1,fn,2,0,"div",1),_.TgZ(2,"button",2),_.NdJ("click",function(){return _e.empezar()}),_._uU(3,"EMPEZAR"),_.qZA(),_.YNc(4,Bn,3,1,"div",3),_.YNc(5,vr,7,2,"div",3),_._UZ(6,"br"),_.TgZ(7,"div",4),_.YNc(8,Tt,14,2,"div",5),_.qZA()()),2&$&&(_.xp6(1),_.Q6J("ngIf",!_e.empezado),_.xp6(1),_.Q6J("hidden",_e.empezado),_.xp6(2),_.Q6J("ngIf",_e.resultado),_.xp6(1),_.Q6J("ngIf",_e.resultado),_.xp6(3),_.Q6J("ngIf",_e.empezado))},directives:[m.O5,m.sg],styles:['.img-centered[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.smaller-image[_ngcontent-%COMP%]{max-width:80%}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),le})();var Qt=V(5861),Be=V(520);let je=(()=>{class le{constructor($){this.http=$}obtenerPersonajes(){return this.http.get("https://hp-api.onrender.com/api/characters")}obtenerPersonaje($){return this.http.get("https://hp-api.onrender.com/api/character/"+$)}obtenerPersonajesByName(){return this.http.get("https://hp-api.onrender.com/api/characters").pipe((0,de.U)($=>$.map(_e=>({name:_e.name,image:_e.image})).filter(_e=>""!==_e.image)))}}return le.\u0275fac=function($){return new($||le)(_.LFG(Be.eN))},le.\u0275prov=_.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function Et(le,q){1&le&&(_.TgZ(0,"div"),_._UZ(1,"img",4),_.qZA())}function it(le,q){if(1&le&&(_.TgZ(0,"div",14),_._UZ(1,"img",15),_.qZA()),2&le){const $=_.oxw(2);_.xp6(1),_.s9C("src",$.img,_.LSH)}}function jt(le,q){1&le&&(_.TgZ(0,"div",11)(1,"h3",16),_._uU(2,"\xbfQu\xe9 personaje de Harry Potter es?"),_.qZA()())}function nn(le,q){if(1&le&&(_.TgZ(0,"div")(1,"h3",17),_._uU(2),_.qZA()()),2&le){const $=_.oxw(3);_.xp6(2),_.Oqu($.mensaje)}}function An(le,q){if(1&le&&(_.TgZ(0,"div")(1,"h3",18),_._uU(2),_.qZA()()),2&le){const $=_.oxw(3);_.xp6(2),_.Oqu($.mensaje)}}function Ur(le,q){if(1&le&&(_.TgZ(0,"div",11),_.YNc(1,nn,3,1,"div",0),_.YNc(2,An,3,1,"div",0),_.qZA()),2&le){const $=_.oxw(2);_.xp6(1),_.Q6J("ngIf",$.correcta),_.xp6(1),_.Q6J("ngIf",!$.correcta)}}function ur(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div")(1,"div",11)(2,"button",20),_.NdJ("click",function(){const vn=_.CHM($).$implicit;return _.oxw(3).correcto(vn.name)}),_._uU(3),_.qZA()()()}if(2&le){const $=q.$implicit;_.xp6(3),_.Oqu($.name)}}function kr(le,q){if(1&le&&(_.TgZ(0,"div"),_.YNc(1,ur,4,1,"div",19),_.qZA()),2&le){const $=_.oxw(2);_.xp6(1),_.Q6J("ngForOf",$.arrayPersonajes)}}function gr(le,q){if(1&le&&(_.TgZ(0,"div")(1,"div",6)(2,"div",21)(3,"h6"),_._uU(4),_.qZA()(),_.TgZ(5,"div",21)(6,"h6"),_._uU(7),_.qZA()()()()),2&le){const $=q.$implicit;_.xp6(4),_.Oqu($.usuario),_.xp6(3),_.Oqu($.puntos)}}function Bi(le,q){if(1&le&&(_.TgZ(0,"div",10)(1,"label"),_._uU(2,"Mejores Puntajes"),_.qZA(),_.YNc(3,gr,8,2,"div",19),_.qZA()),2&le){const $=_.oxw(2);_.xp6(3),_.Q6J("ngForOf",$.listaOrdenada)}}function Hi(le,q){if(1&le&&(_.TgZ(0,"div",5)(1,"div",6),_.YNc(2,it,2,1,"div",7),_.TgZ(3,"div",8)(4,"h6",9),_._uU(5),_.qZA()(),_.TgZ(6,"div",10)(7,"div",6)(8,"div",11),_.YNc(9,jt,3,0,"div",12),_.YNc(10,Ur,3,2,"div",12),_.YNc(11,kr,2,1,"div",0),_.qZA()()()(),_._UZ(12,"br")(13,"hr"),_.YNc(14,Bi,4,1,"div",13),_.qZA()),2&le){const $=_.oxw();_.xp6(2),_.Q6J("ngIf",!$.juegoTerminado),_.xp6(3),_.hij("Puntos: ",$.puntos,""),_.xp6(4),_.Q6J("ngIf",!$.juegoTerminado),_.xp6(1),_.Q6J("ngIf",$.juegoTerminado),_.xp6(1),_.Q6J("ngIf",$.ordenadas&&!$.juegoTerminado),_.xp6(3),_.Q6J("ngIf",$.juegoTerminado)}}let Sn=(()=>{class le{constructor($,_e,et,vn){this.apiHarryPotter=$,this.router=_e,this.afAuth=et,this.puntajeService=vn,this.rtaCorrecta=!1,this.arrayPersonajes=[],this.empezar=!1,this.img="",this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.usuario=new Se.b,this.ordenadas=!1,this.juegoTerminado=!1,this.correcta=!1,this.nombresPersonajes=[],this.puntajeService.cargarPuntajesPreguntados()}ngOnInit(){this.afAuth.currentUser.then($=>{$&&(this.usuario.email=$.email?$.email:"")})}traerPersonaje(){var $=this;return(0,Qt.Z)(function*(){$.apiHarryPotter.obtenerPersonajesByName().subscribe(_e=>{const et=Math.floor(Math.random()*_e.length);console.log("sali\xf3 el "+et),$.img=_e[et].image,$.personaje=_e[et],console.log($.img),console.log($.personaje),$.cargarPersonajes(),$.arrayPersonajes.push(_e[et])},_e=>{console.log(_e)})})()}cargarPersonajes(){this.arrayPersonajes=[],this.apiHarryPotter.obtenerPersonajes().subscribe($=>{const _e=Math.floor(Math.random()*$.length);this.arrayPersonajes.push($[_e])},$=>{console.log($)}),this.apiHarryPotter.obtenerPersonajes().subscribe($=>{const _e=Math.floor(Math.random()*$.length);this.arrayPersonajes.push($[_e])},$=>{console.log($)}),this.apiHarryPotter.obtenerPersonajes().subscribe($=>{const _e=Math.floor(Math.random()*$.length);this.arrayPersonajes.push($[_e])},$=>{console.log($)}),setTimeout(()=>{this.desordenarRespuestas(),this.ordenadas=!0},500)}desordenarRespuestas(){this.arrayPersonajes.sort(function(){return Math.random()-.5})}correcto($){console.log("nombre presionado "+$),$==this.personaje.name?(this.rtaCorrecta=!0,this.mensaje="Correcto!",this.puntos+=10,this.puntosAux=this.puntos,this.correcta=!0):(this.puntos>0&&this.addPuntaje(this.usuario.email,this.puntosAux),this.mensaje="Perdiste!",this.puntos=0,this.puntosAux=0,this.juegoTerminado=!0,this.correcta=!1),this.traerPersonaje()}onEmpezar(){var $=this;return(0,Qt.Z)(function*(){$.empezar=!0,$.juegoTerminado=!1,$.correcta=!1,$.traerPersonaje(),$.puntos=0,$.puntosAux=0,$.cargarPuntajes()})()}cargarPuntajes(){this.listaPuntajes=[],console.log(this.listaPuntajes),this.puntajeService.puntajes.subscribe($=>{this.listaPuntajes=$,this.listaOrdenada=this.listaPuntajes.slice(0,3)})}addPuntaje($,_e){this.puntajeService.addPuntaje($,_e,this.puntajeService.puntajesPreguntados)}}return le.\u0275fac=function($){return new($||le)(_.Y36(je),_.Y36(v.F0),_.Y36(Ee.zQ),_.Y36(Yr))},le.\u0275cmp=_.Xpm({type:le,selectors:[["app-preguntados"]],decls:4,vars:4,consts:[[4,"ngIf"],["type","button","value","Empezar",1,"submit_class",3,"hidden","click"],["type","button","value","Volver a Jugar",1,"submit_class",3,"hidden","click"],["class","containaer",4,"ngIf"],["id","imgEmp","src","../../../../assets/Preguntados/hpPresentaci\xf3n.jpg","width","60%",1,"img-centered"],[1,"containaer"],[1,"row"],["class","col-12  character-container",4,"ngIf"],[1,"col-12","text-center"],[1,"pt-2"],[1,"container"],[1,"col-12"],["class","col-12",4,"ngIf"],["class","container",4,"ngIf"],[1,"col-12","character-container"],["id","imgPsj",1,"character-image",3,"src"],[1,"text-center"],[1,"text-center","alert-success"],[1,"text-center","alert-danger"],[4,"ngFor","ngForOf"],[1,"form-control",3,"click"],[1,"col-6"]],template:function($,_e){1&$&&(_.YNc(0,Et,2,0,"div",0),_.TgZ(1,"input",1),_.NdJ("click",function(){return _e.onEmpezar()}),_.qZA(),_.TgZ(2,"input",2),_.NdJ("click",function(){return _e.onEmpezar()}),_.qZA(),_.YNc(3,Hi,15,6,"div",3)),2&$&&(_.Q6J("ngIf",!_e.empezar),_.xp6(1),_.Q6J("hidden",_e.empezar),_.xp6(1),_.Q6J("hidden",!_e.juegoTerminado),_.xp6(1),_.Q6J("ngIf",_e.empezar))},directives:[m.O5,m.sg],styles:['.character-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:300px}.character-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.img-centered[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}']}),le})();var Ii=V(727);class Br{}function Bs(le,q){1&le&&(_.TgZ(0,"div"),_._UZ(1,"img",4),_.qZA())}const Ti=function(le,q,$,_e){return{"text-danger":le,"text-warning":q,"text-success":$,"text-primary":_e}};function or(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div")(6,"h1",10)(7,"b"),_._uU(8),_.qZA()()()()(),_._UZ(9,"br"),_.TgZ(10,"div",11)(11,"h4"),_._uU(12,"Palabra"),_.qZA(),_._UZ(13,"br"),_.qZA()(),_.TgZ(14,"div",7)(15,"div",8)(16,"div",9)(17,"div")(18,"h1",10)(19,"b"),_._uU(20),_.qZA()()()()(),_._UZ(21,"br"),_.TgZ(22,"div",11)(23,"h4"),_._uU(24,"Color"),_.qZA(),_._UZ(25,"br"),_.qZA()()(),_._UZ(26,"br"),_.TgZ(27,"div",12)(28,"div",13)(29,"h2",11),_._uU(30," \xbfLa palabra coincide con el color? "),_.qZA()(),_.TgZ(31,"button",14),_.NdJ("click",function(){return _.CHM($),_.oxw().ElegirSI()}),_._uU(32,"Si"),_.qZA(),_.TgZ(33,"button",14),_.NdJ("click",function(){return _.CHM($),_.oxw().ElegirNO()}),_._uU(34,"No"),_.qZA(),_.TgZ(35,"div",15)(36,"span"),_._uU(37),_.qZA()(),_._UZ(38,"br"),_.qZA()()}if(2&le){const $=_.oxw();_.xp6(6),_.Q6J("ngClass",_.l5B(5,Ti,"rojo"===$.colorIzquierda.colorReal,"amarillo"===$.colorIzquierda.colorReal,"verde"===$.colorIzquierda.colorReal,"azul"===$.colorIzquierda.colorReal)),_.xp6(2),_.Oqu($.colorIzquierda.palabra),_.xp6(10),_.Q6J("ngClass",_.l5B(10,Ti,"rojo"===$.colorDerecha.colorReal,"amarillo"===$.colorDerecha.colorReal,"verde"===$.colorDerecha.colorReal,"azul"===$.colorDerecha.colorReal)),_.xp6(2),_.Oqu($.colorDerecha.palabra),_.xp6(17),_.hij("Puntaje acumulado: ",$.puntajeAcumulado,"")}}function Di(le,q){if(1&le&&(_.TgZ(0,"div")(1,"div",12)(2,"div",7)(3,"label"),_._uU(4),_.qZA()(),_.TgZ(5,"div",7)(6,"label"),_._uU(7),_.qZA()()()()),2&le){const $=q.$implicit;_.xp6(4),_.Oqu($.usuario),_.xp6(3),_.Oqu($.puntos)}}function Ai(le,q){if(1&le&&(_.TgZ(0,"div",13)(1,"h6",15),_._uU(2),_.qZA(),_.TgZ(3,"h6"),_._uU(4,"Mejores Puntajes"),_.qZA(),_.YNc(5,Di,8,2,"div",16),_.qZA()),2&le){const $=_.oxw();_.xp6(2),_.hij("Puntos: ",$.puntajeAcumulado,""),_.xp6(3),_.Q6J("ngForOf",$.listaOrdenada)}}let Si=(()=>{class le{constructor($,_e){this.afAuth=$,this.puntajeService=_e,this.suscripcion=new Ii.w0,this.usuario=new Se.b,this.listaPuntajes=new Array,this.listaOrdenada=new Array,this.colorIzquierda=new Br,this.colorDerecha=new Br,this.opciones=["amarillo","azul","verde","rojo"],this.puntajeAcumulado=0,this.resultado=!1,this.empezado=!1,this.puntajeService.cargarPuntajesMiJuego()}ngOnInit(){this.afAuth.currentUser.then($=>{$&&(this.usuario.email=$.email?$.email:"")}),this.empezado=!1,this.resultado=!1,this.crearColorAleatorio()}crearColorAleatorio(){var $=this.randomIntFromInterval(0,3),_e=this.randomIntFromInterval(0,3),et=this.randomIntFromInterval(0,3),vn=this.randomIntFromInterval(0,3);this.colorIzquierda.palabra=this.opciones[$],this.colorIzquierda.colorReal=this.opciones[_e],this.colorDerecha.palabra=this.opciones[et],this.colorDerecha.colorReal=this.opciones[vn]}ElegirSI(){this.colorIzquierda.palabra==this.colorDerecha.colorReal?(this.puntajeAcumulado=this.puntajeAcumulado+10,this.crearColorAleatorio()):(this.resultado=!0,this.empezado=!1,this.puntosAux=this.puntajeAcumulado,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes())}ElegirNO(){this.colorIzquierda.palabra!=this.colorDerecha.colorReal?(this.puntajeAcumulado=this.puntajeAcumulado+10,this.crearColorAleatorio()):(this.resultado=!0,this.empezado=!1,this.puntosAux=this.puntajeAcumulado,this.addPuntaje(this.usuario.email,this.puntosAux),this.cargarPuntajes())}cargarPuntajes(){this.listaPuntajes=[],this.suscripcion=this.puntajeService.puntajes.subscribe($=>{this.listaPuntajes=$,this.listaOrdenada=this.listaPuntajes.slice(0,3),console.log(this.listaPuntajes)})}randomIntFromInterval($,_e){return Math.floor(Math.random()*(_e-$+1)+$)}empezarDeNuevo(){this.resultado=!1,this.empezado=!0,this.crearColorAleatorio(),this.puntajeAcumulado=0}addPuntaje($,_e){this.puntajeService.addPuntaje($,_e,this.puntajeService.puntajesMiJuego)}onDestroy(){this.suscripcion.unsubscribe()}}return le.\u0275fac=function($){return new($||le)(_.Y36(Ee.zQ),_.Y36(Yr))},le.\u0275cmp=_.Xpm({type:le,selectors:[["app-mi-juego"]],decls:5,vars:4,consts:[[4,"ngIf"],["type","button","id","empezar",1,"submit_class",3,"hidden","click"],["class","container",4,"ngIf"],["class","col-12",4,"ngIf"],["id","imgEmp","src","../../../../assets/mi-juego/juegoPresentacion.jpg","width","60%",1,"img-centered"],[1,"container"],[1,"row","col-12",2,"margin","auto","width","100%","height","100%"],[1,"col-6"],[1,"card"],[1,"forcard"],[1,"text-center",3,"ngClass"],[1,"text-center"],[1,"row"],[1,"col-12"],["type","button",1,"submit_class",3,"click"],[1,"text-center","pt-3"],[4,"ngFor","ngForOf"]],template:function($,_e){1&$&&(_.YNc(0,Bs,2,0,"div",0),_.TgZ(1,"button",1),_.NdJ("click",function(){return _e.empezarDeNuevo()}),_._uU(2,"EMPEZAR"),_.qZA(),_.YNc(3,or,39,15,"div",2),_.YNc(4,Ai,6,2,"div",3)),2&$&&(_.Q6J("ngIf",!_e.empezado),_.xp6(1),_.Q6J("hidden",_e.empezado),_.xp6(2),_.Q6J("ngIf",_e.empezado),_.xp6(1),_.Q6J("ngIf",_e.resultado))},directives:[m.O5,m.mk,m.sg],styles:['.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.img-centered[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}']}),le})();var Or=V(8715);function Ve(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"form",11)(1,"div",12),_._UZ(2,"app-ahorcado"),_.qZA(),_.TgZ(3,"div",13)(4,"a",1),_.NdJ("click",function(){return _.CHM($),_.oxw().dejarDeJugar()}),_._uU(5,"\xa1Cerrar juego!"),_.qZA()()()}}function Pe(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"form",11)(1,"div",12),_._UZ(2,"app-mayor-menor"),_.qZA(),_.TgZ(3,"div",13)(4,"a",1),_.NdJ("click",function(){return _.CHM($),_.oxw().dejarDeJugar()}),_._uU(5,"\xa1Cerrar juego!"),_.qZA()()()}}function ze(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"form",11)(1,"div",12),_._UZ(2,"app-preguntados"),_.qZA(),_.TgZ(3,"div",13)(4,"a",1),_.NdJ("click",function(){return _.CHM($),_.oxw().dejarDeJugar()}),_._uU(5,"\xa1Cerrar juego!"),_.qZA()()()}}function yt(le,q){if(1&le){const $=_.EpF();_.TgZ(0,"form",11)(1,"div",12),_._UZ(2,"app-mi-juego"),_.qZA(),_.TgZ(3,"div",13)(4,"a",1),_.NdJ("click",function(){return _.CHM($),_.oxw().dejarDeJugar()}),_._uU(5,"\xa1Cerrar juego!"),_.qZA()()()}}const Mn=[{path:"",component:(()=>{class le{constructor($,_e){this.afAuth=$,this.router=_e,this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1,this.jugarAlPreguntados=!1,this.jugarAlMio=!1}jugarAhorcado(){this.jugarAlAhorcado=!0}jugarMayorMenor(){this.jugarAlMayorMenor=!0}jugarPreguntados(){this.jugarAlPreguntados=!0}jugarMio(){this.jugarAlMio=!0}ngOnInit(){this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1,this.jugarAlPreguntados=!1,this.jugarAlMio=!1}dejarDeJugar(){this.jugarAlAhorcado=!1,this.jugarAlMayorMenor=!1,this.jugarAlPreguntados=!1,this.jugarAlMio=!1}Aceptar(){console.log(this.usuario.usuario),console.log(this.usuario.contrasenia)}}return le.\u0275fac=function($){return new($||le)(_.Y36(Ee.zQ),_.Y36(v.F0))},le.\u0275cmp=_.Xpm({type:le,selectors:[["app-juego"]],decls:38,vars:4,consts:[[1,"card-deck","container"],[3,"click"],[1,"card"],["src","../../../../assets/ahorcado/Ahorcado7.png",1,"card-img-top"],[1,"card-footer"],[1,"text-muted"],["src","../../../../assets/mayor-menor/presentaci\xf3n.png",1,"card-img-top"],["src","../../../../assets/Preguntados/hpPresentaci\xf3n.jpg",1,"card-img-top"],["src","../../../../assets/mi-juego/juegoPresentacion.jpg",1,"card-img-top"],[1,"position"],["class","juego_class ","method","post",4,"ngIf"],["method","post",1,"juego_class"],[1,"form_div"],[1,"info_div"]],template:function($,_e){1&$&&(_.TgZ(0,"header")(1,"h1"),_._uU(2,"Bienvenidx"),_.qZA()(),_.TgZ(3,"nav"),_._UZ(4,"app-navbar"),_.qZA(),_.TgZ(5,"main")(6,"div",0)(7,"a",1),_.NdJ("click",function(){return _e.jugarAhorcado()}),_.TgZ(8,"div",2),_._UZ(9,"img",3),_.TgZ(10,"div",4)(11,"small",5),_._uU(12,"Ahorcado"),_.qZA()()()(),_.TgZ(13,"a",1),_.NdJ("click",function(){return _e.jugarMayorMenor()}),_.TgZ(14,"div",2),_._UZ(15,"img",6),_.TgZ(16,"div",4)(17,"small",5),_._uU(18,"Mayor Menor"),_.qZA()()()(),_.TgZ(19,"a",1),_.NdJ("click",function(){return _e.jugarPreguntados()}),_.TgZ(20,"div",2),_._UZ(21,"img",7),_.TgZ(22,"div",4)(23,"small",5),_._uU(24,"Preguntados - Harry Potter"),_.qZA()()()(),_.TgZ(25,"a",1),_.NdJ("click",function(){return _e.jugarMio()}),_.TgZ(26,"div",2),_._UZ(27,"img",8),_.TgZ(28,"div",4)(29,"small",5),_._uU(30,"Mi Juego"),_.qZA()()()()(),_.TgZ(31,"div",9),_.YNc(32,Ve,6,0,"form",10),_.YNc(33,Pe,6,0,"form",10),_.YNc(34,ze,6,0,"form",10),_.YNc(35,yt,6,0,"form",10),_.qZA()(),_._UZ(36,"app-footer")(37,"router-outlet")),2&$&&(_.xp6(32),_.Q6J("ngIf",_e.jugarAlAhorcado),_.xp6(1),_.Q6J("ngIf",_e.jugarAlMayorMenor),_.xp6(1),_.Q6J("ngIf",_e.jugarAlPreguntados),_.xp6(1),_.Q6J("ngIf",_e.jugarAlMio))},directives:[oe.S,m.O5,Ae._Y,Ae.JL,Ae.F,In,Rt,Sn,Si,Or.c,v.lC],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.juego_class[_ngcontent-%COMP%]{width:700px;padding:40px;border-radius:8px;border-color:#8b008b;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}.card[_ngcontent-%COMP%]{width:200px;height:230px;margin-bottom:10px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.text-muted[_ngcontent-%COMP%]{text-align:center}.position[_ngcontent-%COMP%]{position:absolute}']}),le})()}];let ar=(()=>{class le{}return le.\u0275fac=function($){return new($||le)},le.\u0275mod=_.oAB({type:le}),le.\u0275inj=_.cJS({imports:[[m.ez,v.Bz.forChild(Mn)],v.Bz]}),le})()},577:(Gt,He,V)=>{V.r(He),V.d(He,{JuegosModule:()=>ae});var m=V(9808),v=V(6389),_=V(6127),Ee=V(9107),oe=V(2382),Ae=V(3809),Se=V(7246),de=V(520),We=V(5e3);let ae=(()=>{class he{}return he.\u0275fac=function(at){return new(at||he)},he.\u0275mod=We.oAB({type:he}),he.\u0275inj=We.cJS({imports:[[m.ez,v.m,_.x,Ee.ChatModule,oe.u5,oe.UX,Ae.Bz,(0,Se.AR)(()=>(0,Se.v0)()),de.JF]]}),he})()},8715:(Gt,He,V)=>{V.d(He,{c:()=>v});var m=V(5e3);let v=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(oe){return new(oe||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"container-fluid","footer"],[1,"row","justify-content-center","align-items-center"],[1,"col-xl-4","col-lg-4","col-xs-12","text-center","d-flex","align-center"],["href","https://www.facebook.com/macarenaferrero/","target","_blank"],[1,"fab","fa-facebook","fa-2x","icon"],["href","https://twitter.com/ferreromaca/","target","_blank"],[1,"fab","fa-twitter-square","fa-2x","icon"],["href","https://www.instagram.com/ferreromaca/","target","_blank"],[1,"fab","fa-instagram","fa-2x","icon"],["href","https://www.linkedin.com/in/macarenaferrero/","target","_blank"],[1,"fab","fa-linkedin","fa-2x","icon"],[1,"col-xl-4","col-lg-4","col-xs-12"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d26243.205637550687!2d-58.4163389!3d-34.6950719!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcccfbdfe9ce15%3A0xf96ae66cb468bd9f!2sLan%C3%BAs%20Oeste%2C%20Lan%C3%BAs%2C%20Provincia%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1653255224741!5m2!1ses-419!2sar","width","100%","height","100","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(oe,Ae){1&oe&&(m.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"p"),m._uU(6,"macarenabetsabeferrero@gmail.com"),m.qZA(),m.TgZ(7,"p"),m._uU(8,"011 68895810"),m.qZA(),m.TgZ(9,"a",3),m._UZ(10,"i",4),m.qZA(),m.TgZ(11,"a",5),m._UZ(12,"i",6),m.qZA(),m.TgZ(13,"a",7),m._UZ(14,"i",8),m.qZA(),m.TgZ(15,"a",9),m._UZ(16,"i",10),m.qZA()()(),m.TgZ(17,"div",11)(18,"p"),m._uU(19,"Copyright \xa9 1992-2023 Macarena Betsabe Ferrero"),m.qZA()(),m.TgZ(20,"div",11),m._UZ(21,"iframe",12),m.qZA()()()())},styles:[".purple[_ngcontent-%COMP%]{background:purple}.rebecca[_ngcontent-%COMP%]{background:rebeccapurple}.icon[_ngcontent-%COMP%]{font-size:40px;padding-left:2px}.footer[_ngcontent-%COMP%]{background:whitesmoke}.icono[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition-duration:.4s}.frase[_ngcontent-%COMP%]{background:rgb(233,183,186,.8);height:auto}.frase-texto[_ngcontent-%COMP%]{color:#fff;font-size:25px;justify-content:center}textarea[_ngcontent-%COMP%]{resize:none}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{color:#e9b7bacc;text-decoration:none;transform:scale(1.5);transition-duration:.4s}.foto[_ngcontent-%COMP%]{background:cornflowerblue;justify-content:flex-start}"]}),_})()},7384:(Gt,He,V)=>{V.d(He,{S:()=>Ee});var m=V(5e3),v=V(1205),_=V(3809);let Ee=(()=>{class oe{constructor(Se,de){this.afAuth=Se,this.router=de}ngOnInit(){this.afAuth.currentUser.then(Se=>{Se?this.usuario=Se:this.router.navigate([""])})}logOut(){this.afAuth.signOut().then(()=>this.router.navigate([""]))}}return oe.\u0275fac=function(Se){return new(Se||oe)(m.Y36(v.zQ),m.Y36(_.F0))},oe.\u0275cmp=m.Xpm({type:oe,selectors:[["app-navbar"]],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],[1,"nav-link","disabled"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["aria-current","page","routerLink","/juegos",1,"nav-link","active"],["routerLink","/chat",1,"nav-link","active"],["routerLink","/quien-soy",1,"nav-link","active"],[1,"text-end"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"]],template:function(Se,de){1&Se&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._uU(3,"Tu Sala de juegos"),m.qZA(),m.TgZ(4,"button",3),m._UZ(5,"span",4),m.qZA(),m.TgZ(6,"div",5)(7,"div",6)(8,"a",7),m._uU(9,"Home"),m.qZA(),m.TgZ(10,"a",8),m._uU(11,"Chat Online"),m.qZA(),m.TgZ(12,"a",9),m._uU(13,"Conoceme"),m.qZA()()(),m.TgZ(14,"a",2),m._uU(15),m.qZA(),m.TgZ(16,"div",10)(17,"button",11),m.NdJ("click",function(){return de.logOut()}),m._uU(18,"LogOut"),m.qZA()()()()),2&Se&&(m.xp6(15),m.Oqu(null==de.usuario?null:de.usuario.email))},directives:[_.yS],styles:[".logIn[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;text-align:end;color:gray;align-items:center;justify-content:space-between}"]}),oe})()},6389:(Gt,He,V)=>{V.d(He,{m:()=>Ee});var m=V(9808),v=V(3809),_=V(5e3);let Ee=(()=>{class oe{}return oe.\u0275fac=function(Se){return new(Se||oe)},oe.\u0275mod=_.oAB({type:oe}),oe.\u0275inj=_.cJS({imports:[[m.ez,v.Bz]]}),oe})()},5316:(Gt,He,V)=>{var m=V(9808),v=V(5e3);class _ extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends _{static makeCurrent(){(0,m.HT)(new Ee)}onAndCancel(h,d,E){return h.addEventListener(d,E,!1),()=>{h.removeEventListener(d,E,!1)}}dispatchEvent(h,d){h.dispatchEvent(d)}remove(h){h.parentNode&&h.parentNode.removeChild(h)}createElement(h,d){return(d=d||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,d){return"window"===d?window:"document"===d?h:"body"===d?h.body:null}getBaseHref(h){const d=function Ae(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==d?null:function de(I){Se=Se||document.createElement("a"),Se.setAttribute("href",I);const h=Se.pathname;return"/"===h.charAt(0)?h:`/${h}`}(d)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,m.Mx)(document.cookie,h)}}let Se,oe=null;const We=new v.OlP("TRANSITION_ID"),he=[{provide:v.ip1,useFactory:function ae(I,h,d){return()=>{d.get(v.CZH).donePromise.then(()=>{const E=(0,m.q)(),N=h.querySelectorAll(`style[ng-transition="${I}"]`);for(let K=0;K<N.length;K++)E.remove(N[K])})}},deps:[We,m.K0,v.zs3],multi:!0}];class ke{static init(){(0,v.VLi)(new ke)}addToWindow(h){v.dqk.getAngularTestability=(E,N=!0)=>{const K=h.findTestabilityInTree(E,N);if(null==K)throw new Error("Could not find testability for element.");return K},v.dqk.getAllAngularTestabilities=()=>h.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>h.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(E=>{const N=v.dqk.getAllAngularTestabilities();let K=N.length,ce=!1;const ye=function($e){ce=ce||$e,K--,0==K&&E(ce)};N.forEach(function($e){$e.whenStable(ye)})})}findTestabilityInTree(h,d,E){if(null==d)return null;const N=h.getTestability(d);return null!=N?N:E?(0,m.q)().isShadowRoot(d)?this.findTestabilityInTree(h,d.host,!0):this.findTestabilityInTree(h,d.parentElement,!0):null}}let at=(()=>{class I{build(){return new XMLHttpRequest}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const ct=new v.OlP("EventManagerPlugins");let tt=(()=>{class I{constructor(d,E){this._zone=E,this._eventNameToPlugin=new Map,d.forEach(N=>N.manager=this),this._plugins=d.slice().reverse()}addEventListener(d,E,N){return this._findPluginFor(E).addEventListener(d,E,N)}addGlobalEventListener(d,E,N){return this._findPluginFor(E).addGlobalEventListener(d,E,N)}getZone(){return this._zone}_findPluginFor(d){const E=this._eventNameToPlugin.get(d);if(E)return E;const N=this._plugins;for(let K=0;K<N.length;K++){const ce=N[K];if(ce.supports(d))return this._eventNameToPlugin.set(d,ce),ce}throw new Error(`No event manager plugin found for event ${d}`)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(ct),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class Ct{constructor(h){this._doc=h}addGlobalEventListener(h,d,E){const N=(0,m.q)().getGlobalEventTarget(this._doc,h);if(!N)throw new Error(`Unsupported event target ${N} for event ${d}`);return this.addEventListener(N,d,E)}}let Ne=(()=>{class I{constructor(){this._stylesSet=new Set}addStyles(d){const E=new Set;d.forEach(N=>{this._stylesSet.has(N)||(this._stylesSet.add(N),E.add(N))}),this.onStylesAdded(E)}onStylesAdded(d){}getAllStyles(){return Array.from(this._stylesSet)}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})(),st=(()=>{class I extends Ne{constructor(d){super(),this._doc=d,this._hostNodes=new Map,this._hostNodes.set(d.head,[])}_addStylesToHost(d,E,N){d.forEach(K=>{const ce=this._doc.createElement("style");ce.textContent=K,N.push(E.appendChild(ce))})}addHost(d){const E=[];this._addStylesToHost(this._stylesSet,d,E),this._hostNodes.set(d,E)}removeHost(d){const E=this._hostNodes.get(d);E&&E.forEach(Mt),this._hostNodes.delete(d)}onStylesAdded(d){this._hostNodes.forEach((E,N)=>{this._addStylesToHost(d,N,E)})}ngOnDestroy(){this._hostNodes.forEach(d=>d.forEach(Mt))}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();function Mt(I){(0,m.q)().remove(I)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function Fe(I,h,d){for(let E=0;E<h.length;E++){let N=h[E];Array.isArray(N)?Fe(I,N,d):(N=N.replace(Ge,I),d.push(N))}return d}function qe(I){return h=>{if("__ngUnwrap__"===h)return I;!1===I(h)&&(h.preventDefault(),h.returnValue=!1)}}let dt=(()=>{class I{constructor(d,E,N){this.eventManager=d,this.sharedStylesHost=E,this.appId=N,this.rendererByCompId=new Map,this.defaultRenderer=new ut(d)}createRenderer(d,E){if(!d||!E)return this.defaultRenderer;switch(E.encapsulation){case v.ifc.Emulated:{let N=this.rendererByCompId.get(E.id);return N||(N=new $t(this.eventManager,this.sharedStylesHost,E,this.appId),this.rendererByCompId.set(E.id,N)),N.applyToHost(d),N}case 1:case v.ifc.ShadowDom:return new un(this.eventManager,this.sharedStylesHost,d,E);default:if(!this.rendererByCompId.has(E.id)){const N=Fe(E.id,E.styles,[]);this.sharedStylesHost.addStyles(N),this.rendererByCompId.set(E.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(tt),v.LFG(st),v.LFG(v.AFp))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class ut{constructor(h){this.eventManager=h,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(h,d){return d?document.createElementNS(Ft[d]||d,h):document.createElement(h)}createComment(h){return document.createComment(h)}createText(h){return document.createTextNode(h)}appendChild(h,d){h.appendChild(d)}insertBefore(h,d,E){h&&h.insertBefore(d,E)}removeChild(h,d){h&&h.removeChild(d)}selectRootElement(h,d){let E="string"==typeof h?document.querySelector(h):h;if(!E)throw new Error(`The selector "${h}" did not match any elements`);return d||(E.textContent=""),E}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,d,E,N){if(N){d=N+":"+d;const K=Ft[N];K?h.setAttributeNS(K,d,E):h.setAttribute(d,E)}else h.setAttribute(d,E)}removeAttribute(h,d,E){if(E){const N=Ft[E];N?h.removeAttributeNS(N,d):h.removeAttribute(`${E}:${d}`)}else h.removeAttribute(d)}addClass(h,d){h.classList.add(d)}removeClass(h,d){h.classList.remove(d)}setStyle(h,d,E,N){N&(v.JOm.DashCase|v.JOm.Important)?h.style.setProperty(d,E,N&v.JOm.Important?"important":""):h.style[d]=E}removeStyle(h,d,E){E&v.JOm.DashCase?h.style.removeProperty(d):h.style[d]=""}setProperty(h,d,E){h[d]=E}setValue(h,d){h.nodeValue=d}listen(h,d,E){return"string"==typeof h?this.eventManager.addGlobalEventListener(h,d,qe(E)):this.eventManager.addEventListener(h,d,qe(E))}}class $t extends ut{constructor(h,d,E,N){super(h),this.component=E;const K=Fe(N+"-"+E.id,E.styles,[]);d.addStyles(K),this.contentAttr=function ge(I){return"_ngcontent-%COMP%".replace(Ge,I)}(N+"-"+E.id),this.hostAttr=function St(I){return"_nghost-%COMP%".replace(Ge,I)}(N+"-"+E.id)}applyToHost(h){super.setAttribute(h,this.hostAttr,"")}createElement(h,d){const E=super.createElement(h,d);return super.setAttribute(E,this.contentAttr,""),E}}class un extends ut{constructor(h,d,E,N){super(h),this.sharedStylesHost=d,this.hostEl=E,this.shadowRoot=E.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const K=Fe(N.id,N.styles,[]);for(let ce=0;ce<K.length;ce++){const ye=document.createElement("style");ye.textContent=K[ce],this.shadowRoot.appendChild(ye)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(h,d){return super.appendChild(this.nodeOrShadowRoot(h),d)}insertBefore(h,d,E){return super.insertBefore(this.nodeOrShadowRoot(h),d,E)}removeChild(h,d){return super.removeChild(this.nodeOrShadowRoot(h),d)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}}let It=(()=>{class I extends Ct{constructor(d){super(d)}supports(d){return!0}addEventListener(d,E,N){return d.addEventListener(E,N,!1),()=>this.removeEventListener(d,E,N)}removeEventListener(d,E,N){return d.removeEventListener(E,N)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const Yn=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wn={alt:I=>I.altKey,control:I=>I.ctrlKey,meta:I=>I.metaKey,shift:I=>I.shiftKey};let Hn=(()=>{class I extends Ct{constructor(d){super(d)}supports(d){return null!=I.parseEventName(d)}addEventListener(d,E,N){const K=I.parseEventName(E),ce=I.eventCallback(K.fullKey,N,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(d,K.domEventName,ce))}static parseEventName(d){const E=d.toLowerCase().split("."),N=E.shift();if(0===E.length||"keydown"!==N&&"keyup"!==N)return null;const K=I._normalizeKey(E.pop());let ce="";if(Yn.forEach($e=>{const _t=E.indexOf($e);_t>-1&&(E.splice(_t,1),ce+=$e+".")}),ce+=K,0!=E.length||0===K.length)return null;const ye={};return ye.domEventName=N,ye.fullKey=ce,ye}static getEventFullKey(d){let E="",N=function Tn(I){let h=I.key;if(null==h){if(h=I.keyIdentifier,null==h)return"Unidentified";h.startsWith("U+")&&(h=String.fromCharCode(parseInt(h.substring(2),16)),3===I.location&&xn.hasOwnProperty(h)&&(h=xn[h]))}return Yt[h]||h}(d);return N=N.toLowerCase()," "===N?N="space":"."===N&&(N="dot"),Yn.forEach(K=>{K!=N&&wn[K](d)&&(E+=K+".")}),E+=N,E}static eventCallback(d,E,N){return K=>{I.getEventFullKey(K)===d&&N.runGuarded(()=>E(K))}}static _normalizeKey(d){return"esc"===d?"escape":d}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const br=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:m.bD},{provide:v.g9A,useValue:function qn(){Ee.makeCurrent(),ke.init()},multi:!0},{provide:m.K0,useFactory:function di(){return(0,v.RDi)(document),document},deps:[]}]),Kn=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function _r(){return new v.qLn},deps:[]},{provide:ct,useClass:It,multi:!0,deps:[m.K0,v.R0b,v.Lbi]},{provide:ct,useClass:Hn,multi:!0,deps:[m.K0]},{provide:dt,useClass:dt,deps:[tt,st,v.AFp]},{provide:v.FYo,useExisting:dt},{provide:Ne,useExisting:st},{provide:st,useClass:st,deps:[m.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:tt,useClass:tt,deps:[ct,v.R0b]},{provide:m.JF,useClass:at,deps:[]}];let Mr=(()=>{class I{constructor(d){if(d)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(d){return{ngModule:I,providers:[{provide:v.AFp,useValue:d.appId},{provide:We,useExisting:v.AFp},he]}}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(I,12))},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:Kn,imports:[m.ez,v.hGG]}),I})();"undefined"!=typeof window&&window;let we=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:function(d){let E=null;return E=d?new(d||I):v.LFG(ie),E},providedIn:"root"}),I})(),ie=(()=>{class I extends we{constructor(d){super(),this._doc=d}sanitize(d,E){if(null==E)return null;switch(d){case v.q3G.NONE:return E;case v.q3G.HTML:return(0,v.qzn)(E,"HTML")?(0,v.z3N)(E):(0,v.EiD)(this._doc,String(E)).toString();case v.q3G.STYLE:return(0,v.qzn)(E,"Style")?(0,v.z3N)(E):E;case v.q3G.SCRIPT:if((0,v.qzn)(E,"Script"))return(0,v.z3N)(E);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.yhl)(E),(0,v.qzn)(E,"URL")?(0,v.z3N)(E):(0,v.mCW)(String(E));case v.q3G.RESOURCE_URL:if((0,v.qzn)(E,"ResourceURL"))return(0,v.z3N)(E);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${d} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(d){return(0,v.JVY)(d)}bypassSecurityTrustStyle(d){return(0,v.L6k)(d)}bypassSecurityTrustScript(d){return(0,v.eBb)(d)}bypassSecurityTrustUrl(d){return(0,v.LAX)(d)}bypassSecurityTrustResourceUrl(d){return(0,v.pB0)(d)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:function(d){let E=null;return E=d?new d:function me(I){return new ie(I.get(m.K0))}(v.LFG(v.zs3)),E},providedIn:"root"}),I})();var Y=V(2382),Re=V(3809),Qe=V(8715);let Bt=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-index"]],decls:11,vars:0,consts:[["id","index_form","method","post",1,"form_class"],[1,"form_div"],["type","submit","form","index_form","routerLink","/login",1,"submit_class"],["type","submit","form","index_form","routerLink","/registro",1,"submit_class"]],template:function(d,E){1&d&&(v.TgZ(0,"header")(1,"h1"),v._uU(2,"Tu sala de juegos"),v.qZA()(),v.TgZ(3,"main")(4,"form",0)(5,"div",1)(6,"button",2),v._uU(7,"Iniciar sesi\xf3n"),v.qZA(),v.TgZ(8,"button",3),v._uU(9,"Registrarse"),v.qZA()()()(),v._UZ(10,"app-footer"))},directives:[Y._Y,Y.JL,Y.F,Re.rH,Qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})();var In=V(5895);class fn{}const gn="*";function vr(I,h){return{type:7,name:I,definitions:h,options:{}}}function Tt(I,h=null){return{type:4,styles:h,timings:I}}function Qt(I,h=null){return{type:2,steps:I,options:h}}function Be(I){return{type:6,styles:I,offset:null}}function je(I,h,d){return{type:0,name:I,styles:h,options:d}}function it(I,h,d=null){return{type:1,expr:I,animation:h,options:d}}function kr(I){Promise.resolve(null).then(I)}class gr{constructor(h=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._onStartFns.push(h)}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(E=>E()),d.length=0}}class Bi{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let d=0,E=0,N=0;const K=this.players.length;0==K?kr(()=>this._onFinish()):this.players.forEach(ce=>{ce.onDone(()=>{++d==K&&this._onFinish()}),ce.onDestroy(()=>{++E==K&&this._onDestroy()}),ce.onStart(()=>{++N==K&&this._onStart()})}),this.totalTime=this.players.reduce((ce,ye)=>Math.max(ce,ye.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const d=h*this.totalTime;this.players.forEach(E=>{const N=E.totalTime?Math.min(1,d/E.totalTime):1;E.setPosition(N)})}getPosition(){const h=this.players.reduce((d,E)=>null===d||E.totalTime>d.totalTime?E:d,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(E=>E()),d.length=0}}var Sn=V(7579);const Ii=["toast-component",""];function Br(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"button",5),v.NdJ("click",function(){return v.CHM(d),v.oxw().remove()}),v.TgZ(1,"span",6),v._uU(2,"\xd7"),v.qZA()()}}function Bs(I,h){if(1&I&&(v.ynx(0),v._uU(1),v.BQk()),2&I){const d=v.oxw(2);v.xp6(1),v.hij("[",d.duplicatesCount+1,"]")}}function Ti(I,h){if(1&I&&(v.TgZ(0,"div"),v._uU(1),v.YNc(2,Bs,2,1,"ng-container",4),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.titleClass),v.uIk("aria-label",d.title),v.xp6(1),v.hij(" ",d.title," "),v.xp6(1),v.Q6J("ngIf",d.duplicatesCount)}}function or(I,h){if(1&I&&v._UZ(0,"div",7),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.Q6J("innerHTML",d.message,v.oJD)}}function Di(I,h){if(1&I&&(v.TgZ(0,"div",8),v._uU(1),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.uIk("aria-label",d.message),v.xp6(1),v.hij(" ",d.message," ")}}function Ai(I,h){if(1&I&&(v.TgZ(0,"div"),v._UZ(1,"div",9),v.qZA()),2&I){const d=v.oxw();v.xp6(1),v.Udp("width",d.width+"%")}}function Si(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"button",5),v.NdJ("click",function(){return v.CHM(d),v.oxw().remove()}),v.TgZ(1,"span",6),v._uU(2,"\xd7"),v.qZA()()}}function Or(I,h){if(1&I&&(v.ynx(0),v._uU(1),v.BQk()),2&I){const d=v.oxw(2);v.xp6(1),v.hij("[",d.duplicatesCount+1,"]")}}function Ve(I,h){if(1&I&&(v.TgZ(0,"div"),v._uU(1),v.YNc(2,Or,2,1,"ng-container",4),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.titleClass),v.uIk("aria-label",d.title),v.xp6(1),v.hij(" ",d.title," "),v.xp6(1),v.Q6J("ngIf",d.duplicatesCount)}}function Pe(I,h){if(1&I&&v._UZ(0,"div",7),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.Q6J("innerHTML",d.message,v.oJD)}}function ze(I,h){if(1&I&&(v.TgZ(0,"div",8),v._uU(1),v.qZA()),2&I){const d=v.oxw();v.Tol(d.options.messageClass),v.uIk("aria-label",d.message),v.xp6(1),v.hij(" ",d.message," ")}}function yt(I,h){if(1&I&&(v.TgZ(0,"div"),v._UZ(1,"div",9),v.qZA()),2&I){const d=v.oxw();v.xp6(1),v.Udp("width",d.width+"%")}}class ar{constructor(h,d){this.component=h,this.injector=d}attach(h,d){return this._attachedHost=h,h.attach(this,d)}detach(){const h=this._attachedHost;if(h)return this._attachedHost=void 0,h.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(h){this._attachedHost=h}}class q{constructor(h,d,E,N,K,ce){this.toastId=h,this.config=d,this.message=E,this.title=N,this.toastType=K,this.toastRef=ce,this._onTap=new Sn.x,this._onAction=new Sn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(h){this._onAction.next(h)}onAction(){return this._onAction.asObservable()}}const $={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},_e=new v.OlP("ToastConfig");class et{constructor(h){this._overlayRef=h,this.duplicatesCount=0,this._afterClosed=new Sn.x,this._activate=new Sn.x,this._manualClose=new Sn.x,this._resetTimeout=new Sn.x,this._countDuplicate=new Sn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(h,d){h&&this._resetTimeout.next(),d&&this._countDuplicate.next(++this.duplicatesCount)}}class vn{constructor(h,d){this._toastPackage=h,this._parentInjector=d}get(h,d,E){return h===q?this._toastPackage:this._parentInjector.get(h,d,E)}}class Hr extends class le{attach(h,d){return this._attachedPortal=h,this.attachComponentPortal(h,d)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(h){this._disposeFn=h}}{constructor(h,d,E){super(),this._hostDomElement=h,this._componentFactoryResolver=d,this._appRef=E}attachComponentPortal(h,d){const E=this._componentFactoryResolver.resolveComponentFactory(h.component);let N;return N=E.create(h.injector),this._appRef.attachView(N.hostView),this.setDisposeFn(()=>{this._appRef.detachView(N.hostView),N.destroy()}),d?this._hostDomElement.insertBefore(this._getComponentRootNode(N),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(N)),N}_getComponentRootNode(h){return h.hostView.rootNodes[0]}}class Pi{constructor(h){this._portalHost=h}attach(h,d=!0){return this._portalHost.attach(h,d)}detach(){return this._portalHost.detach()}}let Li=(()=>{class I{constructor(d){this._document=d}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const d=this._document.createElement("div");d.classList.add("overlay-container"),d.setAttribute("aria-live","polite"),this._document.body.appendChild(d),this._containerElement=d}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Xi=(()=>{class I{constructor(d,E,N,K){this._overlayContainer=d,this._componentFactoryResolver=E,this._appRef=N,this._document=K,this._paneElements=new Map}create(d,E){return this._createOverlayRef(this.getPaneElement(d,E))}getPaneElement(d="",E){return this._paneElements.get(E)||this._paneElements.set(E,{}),this._paneElements.get(E)[d]||(this._paneElements.get(E)[d]=this._createPaneElement(d,E)),this._paneElements.get(E)[d]}_createPaneElement(d,E){const N=this._document.createElement("div");return N.id="toast-container",N.classList.add(d),N.classList.add("toast-container"),E?E.getContainerElement().appendChild(N):this._overlayContainer.getContainerElement().appendChild(N),N}_createPortalHost(d){return new Hr(d,this._componentFactoryResolver,this._appRef)}_createOverlayRef(d){return new Pi(this._createPortalHost(d))}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(Li),v.LFG(v._Vd),v.LFG(v.z2F),v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),zi=(()=>{class I{constructor(d,E,N,K,ce){this.overlay=E,this._injector=N,this.sanitizer=K,this.ngZone=ce,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},d.default),d.config),d.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},d.default.iconClasses),d.config.iconClasses))}show(d,E,N={},K=""){return this._preBuildNotification(K,d,E,this.applyConfig(N))}success(d,E,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",d,E,this.applyConfig(N))}error(d,E,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",d,E,this.applyConfig(N))}info(d,E,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",d,E,this.applyConfig(N))}warning(d,E,N={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",d,E,this.applyConfig(N))}clear(d){for(const E of this.toasts)if(void 0!==d){if(E.toastId===d)return void E.toastRef.manualClose()}else E.toastRef.manualClose()}remove(d){const E=this._findToast(d);if(!E||(E.activeToast.toastRef.close(),this.toasts.splice(E.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const N=this.toasts[this.currentlyActive].toastRef;N.isInactive()||(this.currentlyActive=this.currentlyActive+1,N.activate())}return!0}findDuplicate(d="",E="",N,K){const{includeTitleDuplicates:ce}=this.toastrConfig;for(const ye of this.toasts){const $e=ce&&ye.title===d;if((!ce||$e)&&ye.message===E)return ye.toastRef.onDuplicate(N,K),ye}return null}applyConfig(d={}){return Object.assign(Object.assign({},this.toastrConfig),d)}_findToast(d){for(let E=0;E<this.toasts.length;E++)if(this.toasts[E].toastId===d)return{index:E,activeToast:this.toasts[E]};return null}_preBuildNotification(d,E,N,K){return K.onActivateTick?this.ngZone.run(()=>this._buildNotification(d,E,N,K)):this._buildNotification(d,E,N,K)}_buildNotification(d,E,N,K){if(!K.toastComponent)throw new Error("toastComponent required");const ce=this.findDuplicate(N,E,this.toastrConfig.resetTimeoutOnDuplicate&&K.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&N||E)&&this.toastrConfig.preventDuplicates&&null!==ce)return ce;this.previousToastMessage=E;let ye=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(ye=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const $e=this.overlay.create(K.positionClass,this.overlayContainer);this.index=this.index+1;let _t=E;E&&K.enableHtml&&(_t=this.sanitizer.sanitize(v.q3G.HTML,E));const en=new et($e),Fn=new q(this.index,K,_t,N,d,en),nr=new vn(Fn,this._injector),hr=new ar(K.toastComponent,nr),jn=$e.attach(hr,this.toastrConfig.newestOnTop);en.componentInstance=jn.instance;const Pn={toastId:this.index,title:N||"",message:E||"",toastRef:en,onShown:en.afterActivate(),onHidden:en.afterClosed(),onTap:Fn.onTap(),onAction:Fn.onAction(),portal:jn};return ye||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pn.toastRef.activate()})),this.toasts.push(Pn),Pn}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(_e),v.LFG(Xi),v.LFG(v.zs3),v.LFG(we),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),as=(()=>{class I{constructor(d,E,N){this.toastrService=d,this.toastPackage=E,this.ngZone=N,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=E.message,this.title=E.title,this.options=E.config,this.originalTimeout=E.config.timeOut,this.toastClasses=`${E.toastType} ${E.config.toastClass}`,this.sub=E.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=E.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=E.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=E.toastRef.countDuplicate().subscribe(K=>{this.duplicatesCount=K})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const d=(new Date).getTime();this.width=(this.hideTime-d)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(d,E){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(d),E)):this.timeout=setTimeout(()=>d(),E)}outsideInterval(d,E){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(d),E)):this.intervalId=setInterval(()=>d(),E)}runInsideAngular(d){this.ngZone?this.ngZone.run(()=>d()):d()}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(zi),v.Y36(q),v.Y36(v.R0b))},I.\u0275cmp=v.Xpm({type:I,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(d,E){1&d&&v.NdJ("click",function(){return E.tapToast()})("mouseenter",function(){return E.stickAround()})("mouseleave",function(){return E.delayedHideToast()}),2&d&&(v.d8E("@flyInOut",E.state),v.Tol(E.toastClasses),v.Udp("display",E.displayStyle))},attrs:Ii,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(d,E){1&d&&(v.YNc(0,Br,3,0,"button",0),v.YNc(1,Ti,3,5,"div",1),v.YNc(2,or,1,3,"div",2),v.YNc(3,Di,2,4,"div",3),v.YNc(4,Ai,2,2,"div",4)),2&d&&(v.Q6J("ngIf",E.options.closeButton),v.xp6(1),v.Q6J("ngIf",E.title),v.xp6(1),v.Q6J("ngIf",E.message&&E.options.enableHtml),v.xp6(1),v.Q6J("ngIf",E.message&&!E.options.enableHtml),v.xp6(1),v.Q6J("ngIf",E.options.progressBar))},directives:[m.O5],encapsulation:2,data:{animation:[vr("flyInOut",[je("inactive",Be({opacity:0})),je("active",Be({opacity:1})),je("removed",Be({opacity:0})),it("inactive => active",Tt("{{ easeTime }}ms {{ easing }}")),it("active => removed",Tt("{{ easeTime }}ms {{ easing }}"))])]}}),I})();const xs=Object.assign(Object.assign({},$),{toastComponent:as});let eo=(()=>{class I{static forRoot(d={}){return{ngModule:I,providers:[{provide:_e,useValue:{default:xs,config:d}}]}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[m.ez]]}),I})(),Ao=(()=>{class I{constructor(d,E,N){this.toastrService=d,this.toastPackage=E,this.appRef=N,this.width=-1,this.toastClasses="",this.state="inactive",this.message=E.message,this.title=E.title,this.options=E.config,this.originalTimeout=E.config.timeOut,this.toastClasses=`${E.toastType} ${E.config.toastClass}`,this.sub=E.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=E.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=E.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=E.toastRef.countDuplicate().subscribe(K=>{this.duplicatesCount=K})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const d=(new Date).getTime();this.width=(this.hideTime-d)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(zi),v.Y36(q),v.Y36(v.z2F))},I.\u0275cmp=v.Xpm({type:I,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(d,E){1&d&&v.NdJ("click",function(){return E.tapToast()})("mouseenter",function(){return E.stickAround()})("mouseleave",function(){return E.delayedHideToast()}),2&d&&(v.Tol(E.toastClasses),v.Udp("display",E.displayStyle))},attrs:Ii,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(d,E){1&d&&(v.YNc(0,Si,3,0,"button",0),v.YNc(1,Ve,3,5,"div",1),v.YNc(2,Pe,1,3,"div",2),v.YNc(3,ze,2,4,"div",3),v.YNc(4,yt,2,2,"div",4)),2&d&&(v.Q6J("ngIf",E.options.closeButton),v.xp6(1),v.Q6J("ngIf",E.title),v.xp6(1),v.Q6J("ngIf",E.message&&E.options.enableHtml),v.xp6(1),v.Q6J("ngIf",E.message&&!E.options.enableHtml),v.xp6(1),v.Q6J("ngIf",E.options.progressBar))},directives:[m.O5],encapsulation:2}),I})();Object.assign(Object.assign({},$),{toastComponent:Ao});var ia=V(1205),ui=(()=>{return(I=ui||(ui={})).EmailAlreadyInUse="auth/email-already-in-use",I.WeakPassport="auth/weak-password",I.InvalidEmail="auth/invalid-email",I.WrongPassword="auth/wrong-password",I.UserNotFound="auth/user-not-found",ui;var I})();let gi=(()=>{class I{constructor(){}firebaseError(d){switch(d){case ui.EmailAlreadyInUse:return"El usuario ya existe.";case ui.WeakPassport:return"La contrase\xf1a debe tener m\xednimo 6 car\xe1cteres.";case ui.InvalidEmail:return"Email inv\xe1lido.";case ui.WrongPassword:return"Contrase\xf1a incorrecta.";case ui.UserNotFound:return"El usuario no existe.";default:return"Error desconocido."}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Oi=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(d,E){1&d&&(v.TgZ(0,"div",0)(1,"span",1),v._uU(2,"Loading..."),v.qZA()())},styles:[""]}),I})();function es(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es requerido"),v.qZA())}function sa(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es inv\xe1lido"),v.qZA())}function lr(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"La contrase\xf1a es requerida"),v.qZA())}function So(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"div")(1,"form",1),v.NdJ("ngSubmit",function(){return v.CHM(d),v.oxw().login()}),v.TgZ(2,"div",2)(3,"label"),v._uU(4,"Email:"),v.qZA(),v.TgZ(5,"input",3),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.email=N}),v.qZA(),v.YNc(6,es,2,0,"span",4),v.YNc(7,sa,2,0,"span",4),v._UZ(8,"br"),v.TgZ(9,"label"),v._uU(10,"Password:"),v.qZA(),v.TgZ(11,"input",5),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass=N}),v.qZA(),v.YNc(12,lr,2,0,"span",4),v.TgZ(13,"button",6),v._uU(14,"Entrar"),v.qZA(),v.TgZ(15,"button",7),v.NdJ("click",function(){return v.CHM(d),v.oxw().completar()}),v._uU(16,"Acceso R\xe1pido"),v.qZA()(),v.TgZ(17,"div",8)(18,"a",9),v._uU(19,"\xa1Volver al inicio!"),v.qZA()()()()}if(2&I){const d=v.oxw();let E,N,K;v.xp6(1),v.Q6J("formGroup",d.loginUsuario),v.xp6(4),v.Q6J("ngModel",d.Usuario.email),v.xp6(1),v.Q6J("ngIf",(null==(E=d.loginUsuario.get("email"))?null:E.hasError("required"))&&(null==(E=d.loginUsuario.get("email"))?null:E.touched)),v.xp6(1),v.Q6J("ngIf",(null==(N=d.loginUsuario.get("email"))?null:N.hasError("email"))&&(null==(N=d.loginUsuario.get("email"))?null:N.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass),v.xp6(1),v.Q6J("ngIf",(null==(K=d.loginUsuario.get("pass"))?null:K.hasError("required"))&&(null==(K=d.loginUsuario.get("pass"))?null:K.touched))}}function ys(I,h){1&I&&v._UZ(0,"app-spinner")}let Ms=(()=>{class I{constructor(d,E,N,K,ce){this.fb=d,this.toastr=E,this.router=N,this.afAuth=K,this.codeError=ce,this.title="Login",this.Usuario=new In.b,this.loading=!1,this.loginUsuario=this.fb.group({email:["",[Y.kI.required,Y.kI.email]],pass:["",Y.kI.required]})}ngOnInit(){}completar(){this.Usuario.email="macarenaferrero@gmail.com",this.Usuario.pass="123456"}login(){const d=this.loginUsuario.value.email,E=this.loginUsuario.value.pass;this.loading=!0,this.afAuth.signInWithEmailAndPassword(d,E).then(N=>{this.toastr.success("Ingreso satisfactorio","Sesi\xf3n iniciada"),this.router.navigate(["/juegos"])}).catch(N=>{this.loading=!1,this.toastr.error(this.codeError.firebaseError(N.code),"Error")})}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(Y.qu),v.Y36(zi),v.Y36(Re.F0),v.Y36(ia.zQ),v.Y36(gi))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-login"]],decls:8,vars:3,consts:[[4,"ngIf"],["id","login_form","action","login/login-access.php","method","post",1,"form_class",3,"formGroup","ngSubmit"],[1,"form_div"],["id","email","name","login_txt","type","text","formControlName","email","placeholder","Ingrese su email","autofocus","",1,"field_class",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["id","pass","name","password_txt","type","password","formControlName","pass","placeholder","Ingrese password",1,"field_class",3,"ngModel","ngModelChange"],["type","submit","form","login_form",1,"submit_class"],["type","submit","form","login_form",1,"submit_class",3,"click"],[1,"info_div"],["routerLink",""],[1,"text-danger","form-floating"]],template:function(d,E){1&d&&(v._UZ(0,"router-outlet"),v.TgZ(1,"header")(2,"h1"),v._uU(3),v.qZA()(),v.TgZ(4,"main"),v.YNc(5,So,20,6,"div",0),v.YNc(6,ys,1,0,"app-spinner",0),v.qZA(),v._UZ(7,"app-footer")),2&d&&(v.xp6(3),v.Oqu(E.title),v.xp6(2),v.Q6J("ngIf",!E.loading),v.xp6(1),v.Q6J("ngIf",E.loading))},directives:[Re.lC,m.O5,Y._Y,Y.JL,Y.sg,Y.Fj,Y.JJ,Y.u,Re.yS,Oi,Qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})();var ho=V(7384);let js=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-error"]],decls:11,vars:0,consts:[["id","index_form","method","post",1,"form_class"],[1,"form_div"]],template:function(d,E){1&d&&(v.TgZ(0,"header")(1,"h1"),v._uU(2,"Bienvenidx"),v.qZA()(),v.TgZ(3,"nav"),v._UZ(4,"app-navbar"),v.qZA(),v.TgZ(5,"main")(6,"form",0)(7,"div",1)(8,"h2"),v._uU(9,"ERROR 404 - URL NO ENCONTRADA"),v.qZA()()()(),v._UZ(10,"app-footer"))},directives:[ho.S,Y._Y,Y.JL,Y.F,Qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})(),Wo=(()=>{class I{constructor(){this.title="Mi Historia"}ngOnInit(){}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-quien-soy"]],decls:69,vars:1,consts:[[1,"text-center"],["id","mihistoria",1,"container"],[1,"row"],[1,"col-xl-3","col-lg-4","col-xs-12","pt-5"],["src","https://github.com/macarenaferrero/Portfolio/blob/master/Images/macarena.png?raw=true","width","250px","height","auto"],[1,"col-xl-8","col-lg-8","col-xs-12","p-5"],[1,"text-black"],[1,"pl-2"],["href","http://colegioeccleston.org.ar/","target","_blank"],["href","https://www.fra.utn.edu.ar/","target","_blank"],["href","http://www.unahur.edu.ar/","target","_blank"],["href","http://program.ar/","target","_blank"],["id","habilidades",1,"container"],[1,"row","bg-light","mt-5"],[1,"col-xl-2.5","col-lg-2","col-xs-12","p-5"],[1,"d-flex","justify-content-center","icono"],[1,"fab","fa-html5","icon",2,"color","rgb(0, 0, 0)"],[1,"col-xl-2","col-lg-2","col-xs-12","p-5"],[1,"fab","fa-python","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-php","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"icono","d-flex","justify-content-center"],[1,"fab","fa-js","icon",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-cuttlefish","fa-2x",2,"color","rgb(0, 0, 0)"],[1,"fab","fa-css3-alt","fa-2x",2,"color","rgb(0, 0, 0)"],["id","frases",1,"frase","container-fluid","mt-5","mb-5"],[1,"col-12","p-5"],[1,"text-center","frase-texto"]],template:function(d,E){1&d&&(v.TgZ(0,"header")(1,"h1",0),v._uU(2),v.qZA()(),v.TgZ(3,"nav"),v._UZ(4,"app-navbar"),v.qZA(),v.TgZ(5,"main")(6,"div",1)(7,"div",2)(8,"div",3),v._UZ(9,"img",4),v.qZA(),v.TgZ(10,"div",5)(11,"h2",6),v._uU(12,"Profesora de Matem\xe1tica && Programadora"),v.qZA(),v.TgZ(13,"p",7),v._uU(14," Realic\xe9 el bachillerato con orientaci\xf3n en Comunicaci\xf3n, Arte y Dise\xf1o en el "),v.TgZ(15,"a",8),v._uU(16,"Instituto Sara Chamberlein de Eccleston."),v.qZA(),v._uU(17," En el mismo, descubr\xed mi pasi\xf3n y facilidad para el \xe1rea de matem\xe1tica, lo que a\xf1os m\xe1s adelante me invit\xf3 a estudiar el profesorado. Deconstruyendo ideas como "),v.TgZ(18,"i"),v._uU(19,'"La matem\xe1tica no es para mi" o "\xbfY esto para que me sirve?"'),v.qZA(),v._uU(20," que comunmente escuchamos en grandes y chicos. "),v._UZ(21,"br"),v._uU(22," Durante la trayectoria en el profesorado, reconoc\xed otra de mis pasiones: la Tecnolog\xeda. Comenc\xe9 a investigar, probar y aprender c\xf3mo autodid\xe1cta. Fue as\xed que comenz\xe9 a gamificar mis clases, promediar la tecnolog\xeda y las diferentes plataformas de ense\xf1anza. "),v._UZ(23,"br"),v._uU(24," Una vez finalizada la carrera, no dude en comenzar la tecnicatura en programaci\xf3n en la "),v.TgZ(25,"a",9),v._uU(26,"UTN FRA Avellaneda"),v.qZA(),v._uU(27,". D\xeda a d\xeda crecen las ganas de seguir aprendiendo esta rama tan apasionante. "),v._UZ(28,"br"),v._uU(29,' Al d\xeda de hoy, me encuentro cursando el \xfaltimo a\xf1o de la carrera formandome como desarrolladora de software. Considero importante integrar estos conocimientos dentro del aula. Iniciar a los chicos en la programaci\xf3n es un aprendizaje continuo. Me especialic\xe9 en \xe9sta \xe1rea, cursando "La programaci\xf3n y su did\xe1ctica" dictada por la facultad de '),v.TgZ(30,"a",10),v._uU(31,"UNAHUR"),v.qZA(),v._uU(32,", en el marco de "),v.TgZ(33,"a",11),v._uU(34,"PROGRAM.AR"),v.qZA()()()()(),v.TgZ(35,"section",12)(36,"h2",0),v._uU(37,"Habilidades"),v.qZA(),v.TgZ(38,"div",13)(39,"div",14)(40,"div",15)(41,"h2"),v._UZ(42,"i",16),v.qZA()()(),v.TgZ(43,"div",17)(44,"div",15)(45,"h2"),v._UZ(46,"i",18),v.qZA()()(),v.TgZ(47,"div",17)(48,"div",15)(49,"h2"),v._UZ(50,"i",19),v.qZA()()(),v.TgZ(51,"div",17)(52,"div",20)(53,"h2"),v._UZ(54,"i",21),v.qZA()()(),v.TgZ(55,"div",17)(56,"div",20)(57,"h2"),v._UZ(58,"i",22),v.qZA()()(),v.TgZ(59,"div",17)(60,"div",20)(61,"h2"),v._UZ(62,"i",23),v.qZA()()()()(),v.TgZ(63,"section",24)(64,"div",2)(65,"div",25)(66,"h3",26),v._uU(67,'"La felicidad consiste en poder unir el principio con el fin" - Pit\xe1goras '),v.qZA()()()()(),v._UZ(68,"app-footer")),2&d&&(v.xp6(2),v.Oqu(E.title))},directives:[ho.S,Qe.c],styles:['.purple[_ngcontent-%COMP%]{background:purple}.rebecca[_ngcontent-%COMP%]{background:rebeccapurple}.icon[_ngcontent-%COMP%]{font-size:72px}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:0 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.icono[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition-duration:.4s}.frase[_ngcontent-%COMP%]{background:rgb(233,183,186,.8);height:auto}.frase-texto[_ngcontent-%COMP%]{color:#fff;font-size:25px;justify-content:center}textarea[_ngcontent-%COMP%]{resize:none}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{color:#6315a3cc;text-decoration:none;transform:scale(1.5);transition-duration:.4s}.foto[_ngcontent-%COMP%]{background:cornflowerblue;justify-content:flex-start}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}']}),I})();function _s(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es requerido"),v.qZA())}function Oa(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"El email es inv\xe1lido"),v.qZA())}function xo(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"La contrase\xf1a es requerida"),v.qZA())}function Gi(I,h){1&I&&(v.TgZ(0,"span",10),v._uU(1,"Debe repetir la contrase\xf1a"),v.qZA())}function li(I,h){if(1&I){const d=v.EpF();v.TgZ(0,"div")(1,"form",1),v.NdJ("ngSubmit",function(){return v.CHM(d),v.oxw().registrar()}),v.TgZ(2,"div",2)(3,"label"),v._uU(4,"Email:"),v.qZA(),v.TgZ(5,"input",3),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.email=N}),v.qZA(),v.YNc(6,_s,2,0,"span",4),v.YNc(7,Oa,2,0,"span",4),v._UZ(8,"br"),v.TgZ(9,"label"),v._uU(10,"Password:"),v.qZA(),v.TgZ(11,"input",5),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass=N}),v.qZA(),v.YNc(12,xo,2,0,"span",4),v._UZ(13,"br"),v.TgZ(14,"label"),v._uU(15,"Reingrese Password:"),v.qZA(),v.TgZ(16,"input",6),v.NdJ("ngModelChange",function(N){return v.CHM(d),v.oxw().Usuario.pass2=N}),v.qZA(),v.YNc(17,Gi,2,0,"span",4),v.TgZ(18,"button",7),v._uU(19,"CREAR CUENTA"),v.qZA()(),v.TgZ(20,"div",8)(21,"a",9),v._uU(22,"\xa1Volver al inicio!"),v.qZA()()()()}if(2&I){const d=v.oxw();let E,N,K,ce;v.xp6(1),v.Q6J("formGroup",d.nuevoRegistro),v.xp6(4),v.Q6J("ngModel",d.Usuario.email),v.xp6(1),v.Q6J("ngIf",(null==(E=d.nuevoRegistro.get("email"))?null:E.hasError("required"))&&(null==(E=d.nuevoRegistro.get("email"))?null:E.touched)),v.xp6(1),v.Q6J("ngIf",(null==(N=d.nuevoRegistro.get("email"))?null:N.hasError("email"))&&(null==(N=d.nuevoRegistro.get("email"))?null:N.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass),v.xp6(1),v.Q6J("ngIf",(null==(K=d.nuevoRegistro.get("pass"))?null:K.hasError("required"))&&(null==(K=d.nuevoRegistro.get("pass"))?null:K.touched)),v.xp6(4),v.Q6J("ngModel",d.Usuario.pass2),v.xp6(1),v.Q6J("ngIf",(null==(ce=d.nuevoRegistro.get("pass2"))?null:ce.hasError("required"))&&(null==(ce=d.nuevoRegistro.get("pass2"))?null:ce.touched))}}function to(I,h){1&I&&v._UZ(0,"app-spinner")}const Ca=[{path:"",component:Bt},{path:"login",component:Ms},{path:"registro",component:(()=>{class I{constructor(d,E,N,K,ce){this.fb=d,this.toastr=E,this.router=N,this.afAuth=K,this.codeError=ce,this.title="Registro",this.Usuario=new In.b,this.loading=!1,this.nuevoRegistro=d.group({email:["",[Y.kI.required,Y.kI.email]],pass:["",Y.kI.required],pass2:["",Y.kI.required]})}ngOnInit(){}registrar(){this.Usuario.pass==this.Usuario.pass2?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(this.Usuario.email,this.Usuario.pass).then(()=>{this.loading=!1,this.toastr.success("Usuario creado con exito","Usuario exitoso"),this.router.navigate(["/juegos"])}).catch(d=>{this.loading=!1,this.toastr.error(this.codeError.firebaseError(d.code),"Error")})):this.toastr.error("Las contrase\xf1as ingresadas deben ser iguales","Error")}}return I.\u0275fac=function(d){return new(d||I)(v.Y36(Y.qu),v.Y36(zi),v.Y36(Re.F0),v.Y36(ia.zQ),v.Y36(gi))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-registro"]],decls:8,vars:3,consts:[[4,"ngIf"],["id","login_form","method","post",1,"form_class",3,"formGroup","ngSubmit"],[1,"form_div"],["id","email","name","login_txt","type","text","formControlName","email","placeholder","Ingrese un usuario","autofocus","",1,"field_class",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["id","pass","name","password_txt","type","password","formControlName","pass","placeholder","Ingrese password",1,"field_class",3,"ngModel","ngModelChange"],["id","pass2","name","password_txt","type","password","formControlName","pass2","placeholder","Reingrese password",1,"field_class",3,"ngModel","ngModelChange"],["type","submit","form","login_form",1,"submit_class"],[1,"info_div"],["routerLink",""],[1,"text-danger","form-floating"]],template:function(d,E){1&d&&(v._UZ(0,"router-outlet"),v.TgZ(1,"header")(2,"h1"),v._uU(3),v.qZA()(),v.TgZ(4,"main"),v.YNc(5,li,23,8,"div",0),v.YNc(6,to,1,0,"app-spinner",0),v.qZA(),v._UZ(7,"app-footer")),2&d&&(v.xp6(3),v.Oqu(E.title),v.xp6(2),v.Q6J("ngIf",!E.loading),v.xp6(1),v.Q6J("ngIf",E.loading))},directives:[Re.lC,m.O5,Y._Y,Y.JL,Y.sg,Y.Fj,Y.JJ,Y.u,Re.yS,Oi,Qe.c],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#90ee90}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.info_div[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.info_div[_ngcontent-%COMP%]{letter-spacing:1px}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#ffe6d4;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer}']}),I})()},{path:"quien-soy",component:Wo},{path:"juegos",loadChildren:()=>Promise.resolve().then(V.bind(V,577)).then(I=>I.JuegosModule)},{path:"chat",loadChildren:()=>Promise.resolve().then(V.bind(V,9107)).then(I=>I.ChatModule)},{path:"**",component:js}];let us=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[Re.Bz.forRoot(Ca)],Re.Bz]}),I})();const tr=!1;function Ki(I){return new v.vHH(3e3,tr)}function ds(){return"undefined"!=typeof window&&void 0!==window.document}function Ri(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vi(I){switch(I.length){case 0:return new gr;case 1:return I[0];default:return new Bi(I)}}function ba(I,h,d,E,N={},K={}){const ce=[],ye=[];let $e=-1,_t=null;if(E.forEach(en=>{const Fn=en.offset,nr=Fn==$e,hr=nr&&_t||{};Object.keys(en).forEach(jn=>{let Pn=jn,fi=en[jn];if("offset"!==jn)switch(Pn=h.normalizePropertyName(Pn,ce),fi){case"!":fi=N[jn];break;case gn:fi=K[jn];break;default:fi=h.normalizeStyleValue(jn,Pn,fi,ce)}hr[Pn]=fi}),nr||ye.push(hr),_t=hr,$e=Fn}),ce.length)throw function Zo(I){return new v.vHH(3502,tr)}();return ye}function oa(I,h,d,E){switch(h){case"start":I.onStart(()=>E(d&&Ko(d,"start",I)));break;case"done":I.onDone(()=>E(d&&Ko(d,"done",I)));break;case"destroy":I.onDestroy(()=>E(d&&Ko(d,"destroy",I)))}}function Ko(I,h,d){const E=d.totalTime,K=no(I.element,I.triggerName,I.fromState,I.toState,h||I.phaseName,null==E?I.totalTime:E,!!d.disabled),ce=I._data;return null!=ce&&(K._data=ce),K}function no(I,h,d,E,N="",K=0,ce){return{element:I,triggerName:h,fromState:d,toState:E,phaseName:N,totalTime:K,disabled:!!ce}}function Xr(I,h,d){let E;return I instanceof Map?(E=I.get(h),E||I.set(h,E=d)):(E=I[h],E||(E=I[h]=d)),E}function $s(I){const h=I.indexOf(":");return[I.substring(1,h),I.substr(h+1)]}let Yo=(I,h)=>!1,Po=(I,h,d)=>[],Os=null;function Hs(I){const h=I.parentNode||I.host;return h===Os?null:h}(Ri()||"undefined"!=typeof Element)&&(ds()?(Os=(()=>document.documentElement)(),Yo=(I,h)=>{for(;h;){if(h===I)return!0;h=Hs(h)}return!1}):Yo=(I,h)=>I.contains(h),Po=(I,h,d)=>{if(d)return Array.from(I.querySelectorAll(h));const E=I.querySelector(h);return E?[E]:[]});let hs=null,aa=!1;function po(I){hs||(hs=function Ka(){return"undefined"!=typeof document?document.body:null}()||{},aa=!!hs.style&&"WebkitAppearance"in hs.style);let h=!0;return hs.style&&!function qa(I){return"ebkit"==I.substring(1,6)}(I)&&(h=I in hs.style,!h&&aa&&(h="Webkit"+I.charAt(0).toUpperCase()+I.substr(1)in hs.style)),h}const Ta=Yo,go=Po;let ua=(()=>{class I{validateStyleProperty(d){return po(d)}matchesElement(d,E){return!1}containsElement(d,E){return Ta(d,E)}getParentElement(d){return Hs(d)}query(d,E,N){return go(d,E,N)}computeStyle(d,E,N){return N||""}animate(d,E,N,K,ce,ye=[],$e){return new gr(N,K)}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})(),Ni=(()=>{class I{}return I.NOOP=new ua,I})();const zs="ng-enter",zr="ng-leave",mo="ng-trigger",Vi=".ng-trigger",Ui="ng-animating",hi=".ng-animating";function Rs(I){if("number"==typeof I)return I;const h=I.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Oo(parseFloat(h[1]),h[2])}function Oo(I,h){return"s"===h?1e3*I:I}function Qo(I,h,d){return I.hasOwnProperty("duration")?I:function Ya(I,h,d){let N,K=0,ce="";if("string"==typeof I){const ye=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return h.push(Ki()),{duration:0,delay:0,easing:""};N=Oo(parseFloat(ye[1]),ye[2]);const $e=ye[3];null!=$e&&(K=Oo(parseFloat($e),ye[4]));const _t=ye[5];_t&&(ce=_t)}else N=I;if(!d){let ye=!1,$e=h.length;N<0&&(h.push(function fo(){return new v.vHH(3100,tr)}()),ye=!0),K<0&&(h.push(function Ra(){return new v.vHH(3101,tr)}()),ye=!0),ye&&h.splice($e,0,Ki())}return{duration:N,delay:K,easing:ce}}(I,h,d)}function ws(I,h={}){return Object.keys(I).forEach(d=>{h[d]=I[d]}),h}function ei(I,h,d={}){if(h)for(let E in I)d[E]=I[E];else ws(I,d);return d}function yo(I,h,d){return d?h+":"+d+";":""}function Ns(I){let h="";for(let d=0;d<I.style.length;d++){const E=I.style.item(d);h+=yo(0,E,I.style.getPropertyValue(E))}for(const d in I.style)I.style.hasOwnProperty(d)&&!d.startsWith("_")&&(h+=yo(0,ju(d),I.style[d]));I.setAttribute("style",h)}function Wr(I,h,d){I.style&&(Object.keys(h).forEach(E=>{const N=ka(E);d&&!d.hasOwnProperty(E)&&(d[E]=I.style[N]),I.style[N]=h[E]}),Ri()&&Ns(I))}function ro(I,h){I.style&&(Object.keys(h).forEach(d=>{const E=ka(d);I.style[E]=""}),Ri()&&Ns(I))}function Ro(I){return Array.isArray(I)?1==I.length?I[0]:Qt(I):I}const io=new RegExp("{{\\s*(.+?)\\s*}}","g");function da(I){let h=[];if("string"==typeof I){let d;for(;d=io.exec(I);)h.push(d[1]);io.lastIndex=0}return h}function Na(I,h,d){const E=I.toString(),N=E.replace(io,(K,ce)=>{let ye=h[ce];return h.hasOwnProperty(ce)||(d.push(function U(I){return new v.vHH(3003,tr)}()),ye=""),ye.toString()});return N==E?I:N}function ha(I){const h=[];let d=I.next();for(;!d.done;)h.push(d.value),d=I.next();return h}const Qa=/-+([a-z0-9])/g;function ka(I){return I.replace(Qa,(...h)=>h[1].toUpperCase())}function ju(I){return I.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cs(I,h,d){switch(h.type){case 7:return I.visitTrigger(h,d);case 0:return I.visitState(h,d);case 1:return I.visitTransition(h,d);case 2:return I.visitSequence(h,d);case 3:return I.visitGroup(h,d);case 4:return I.visitAnimate(h,d);case 5:return I.visitKeyframes(h,d);case 6:return I.visitStyle(h,d);case 8:return I.visitReference(h,d);case 9:return I.visitAnimateChild(h,d);case 10:return I.visitAnimateRef(h,d);case 11:return I.visitQuery(h,d);case 12:return I.visitStagger(h,d);default:throw function Q(I){return new v.vHH(3004,tr)}()}}function bs(I,h){return window.getComputedStyle(I)[h]}function Is(I,h){const d=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(E=>function Ja(I,h,d){if(":"==I[0]){const $e=function cn(I,h){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,E)=>parseFloat(E)>parseFloat(d);case":decrement":return(d,E)=>parseFloat(E)<parseFloat(d);default:return h.push(function cr(I){return new v.vHH(3016,tr)}()),"* => *"}}(I,d);if("function"==typeof $e)return void h.push($e);I=$e}const E=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==E||E.length<4)return d.push(function vs(I){return new v.vHH(3015,tr)}()),h;const N=E[1],K=E[2],ce=E[3];h.push(sn(N,ce));"<"==K[0]&&!("*"==N&&"*"==ce)&&h.push(sn(ce,N))}(E,d,h)):d.push(I),d}const bn=new Set(["true","1"]),Jo=new Set(["false","0"]);function sn(I,h){const d=bn.has(I)||Jo.has(I),E=bn.has(h)||Jo.has(h);return(N,K)=>{let ce="*"==I||I==N,ye="*"==h||h==K;return!ce&&d&&"boolean"==typeof N&&(ce=N?bn.has(I):Jo.has(I)),!ye&&E&&"boolean"==typeof K&&(ye=K?bn.has(h):Jo.has(h)),ce&&ye}}const Pt=new RegExp("s*:selfs*,?","g");function ki(I,h,d,E){return new D(I).build(h,d,E)}class D{constructor(h){this._driver=h}build(h,d,E){const N=new H(d);this._resetContextStyleTimingState(N);const K=Cs(this,Ro(h),N);return N.unsupportedCSSPropertiesFound.size&&N.unsupportedCSSPropertiesFound.keys(),K}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles={},h.collectedStyles[""]={},h.currentTime=0}visitTrigger(h,d){let E=d.queryCount=0,N=d.depCount=0;const K=[],ce=[];return"@"==h.name.charAt(0)&&d.errors.push(function ne(){return new v.vHH(3006,tr)}()),h.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(d),0==ye.type){const $e=ye,_t=$e.name;_t.toString().split(/\s*,\s*/).forEach(en=>{$e.name=en,K.push(this.visitState($e,d))}),$e.name=_t}else if(1==ye.type){const $e=this.visitTransition(ye,d);E+=$e.queryCount,N+=$e.depCount,ce.push($e)}else d.errors.push(function Te(){return new v.vHH(3007,tr)}())}),{type:7,name:h.name,states:K,transitions:ce,queryCount:E,depCount:N,options:null}}visitState(h,d){const E=this.visitStyle(h.styles,d),N=h.options&&h.options.params||null;if(E.containsDynamicStyles){const K=new Set,ce=N||{};E.styles.forEach(ye=>{if(pe(ye)){const $e=ye;Object.keys($e).forEach(_t=>{da($e[_t]).forEach(en=>{ce.hasOwnProperty(en)||K.add(en)})})}}),K.size&&(ha(K.values()),d.errors.push(function ft(I,h){return new v.vHH(3008,tr)}()))}return{type:0,name:h.name,style:E,options:N?{params:N}:null}}visitTransition(h,d){d.queryCount=0,d.depCount=0;const E=Cs(this,Ro(h.animation),d);return{type:1,matchers:Is(h.expr,d.errors),animation:E,queryCount:d.queryCount,depCount:d.depCount,options:ot(h.options)}}visitSequence(h,d){return{type:2,steps:h.steps.map(E=>Cs(this,E,d)),options:ot(h.options)}}visitGroup(h,d){const E=d.currentTime;let N=0;const K=h.steps.map(ce=>{d.currentTime=E;const ye=Cs(this,ce,d);return N=Math.max(N,d.currentTime),ye});return d.currentTime=N,{type:3,steps:K,options:ot(h.options)}}visitAnimate(h,d){const E=function Me(I,h){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return an(Qo(I,h).duration,0,"");const d=I;if(d.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=an(0,0,"");return K.dynamic=!0,K.strValue=d,K}const N=Qo(d,h);return an(N.duration,N.delay,N.easing)}(h.timings,d.errors);d.currentAnimateTimings=E;let N,K=h.styles?h.styles:Be({});if(5==K.type)N=this.visitKeyframes(K,d);else{let ce=h.styles,ye=!1;if(!ce){ye=!0;const _t={};E.easing&&(_t.easing=E.easing),ce=Be(_t)}d.currentTime+=E.duration+E.delay;const $e=this.visitStyle(ce,d);$e.isEmptyStep=ye,N=$e}return d.currentAnimateTimings=null,{type:4,timings:E,style:N,options:null}}visitStyle(h,d){const E=this._makeStyleAst(h,d);return this._validateStyleAst(E,d),E}_makeStyleAst(h,d){const E=[];Array.isArray(h.styles)?h.styles.forEach(ce=>{"string"==typeof ce?ce==gn?E.push(ce):d.errors.push(function Dt(I){return new v.vHH(3002,tr)}()):E.push(ce)}):E.push(h.styles);let N=!1,K=null;return E.forEach(ce=>{if(pe(ce)){const ye=ce,$e=ye.easing;if($e&&(K=$e,delete ye.easing),!N)for(let _t in ye)if(ye[_t].toString().indexOf("{{")>=0){N=!0;break}}}),{type:6,styles:E,easing:K,offset:h.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(h,d){const E=d.currentAnimateTimings;let N=d.currentTime,K=d.currentTime;E&&K>0&&(K-=E.duration+E.delay),h.styles.forEach(ce=>{"string"!=typeof ce&&Object.keys(ce).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return delete ce[ye],void d.unsupportedCSSPropertiesFound.add(ye);const $e=d.collectedStyles[d.currentQuerySelector],_t=$e[ye];let en=!0;_t&&(K!=N&&K>=_t.startTime&&N<=_t.endTime&&(d.errors.push(function Ar(I,h,d,E,N){return new v.vHH(3010,tr)}()),en=!1),K=_t.startTime),en&&($e[ye]={startTime:K,endTime:N}),d.options&&function gs(I,h,d){const E=h.params||{},N=da(I);N.length&&N.forEach(K=>{E.hasOwnProperty(K)||d.push(function ii(I){return new v.vHH(3001,tr)}())})}(ce[ye],d.options,d.errors)})})}visitKeyframes(h,d){const E={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Ir(){return new v.vHH(3011,tr)}()),E;let K=0;const ce=[];let ye=!1,$e=!1,_t=0;const en=h.steps.map(Er=>{const Ci=this._makeStyleAst(Er,d);let T=null!=Ci.offset?Ci.offset:function ee(I){if("string"==typeof I)return null;let h=null;if(Array.isArray(I))I.forEach(d=>{if(pe(d)&&d.hasOwnProperty("offset")){const E=d;h=parseFloat(E.offset),delete E.offset}});else if(pe(I)&&I.hasOwnProperty("offset")){const d=I;h=parseFloat(d.offset),delete d.offset}return h}(Ci.styles),P=0;return null!=T&&(K++,P=Ci.offset=T),$e=$e||P<0||P>1,ye=ye||P<_t,_t=P,ce.push(P),Ci});$e&&d.errors.push(function rr(){return new v.vHH(3012,tr)}()),ye&&d.errors.push(function mr(){return new v.vHH(3200,tr)}());const Fn=h.steps.length;let nr=0;K>0&&K<Fn?d.errors.push(function ci(){return new v.vHH(3202,tr)}()):0==K&&(nr=1/(Fn-1));const hr=Fn-1,jn=d.currentTime,Pn=d.currentAnimateTimings,fi=Pn.duration;return en.forEach((Er,Ci)=>{const T=nr>0?Ci==hr?1:nr*Ci:ce[Ci],P=T*fi;d.currentTime=jn+Pn.delay+P,Pn.duration=P,this._validateStyleAst(Er,d),Er.offset=T,E.styles.push(Er)}),E}visitReference(h,d){return{type:8,animation:Cs(this,Ro(h.animation),d),options:ot(h.options)}}visitAnimateChild(h,d){return d.depCount++,{type:9,options:ot(h.options)}}visitAnimateRef(h,d){return{type:10,animation:this.visitReference(h.animation,d),options:ot(h.options)}}visitQuery(h,d){const E=d.currentQuerySelector,N=h.options||{};d.queryCount++,d.currentQuery=h;const[K,ce]=function b(I){const h=!!I.split(/\s*,\s*/).find(d=>":self"==d);return h&&(I=I.replace(Pt,"")),I=I.replace(/@\*/g,Vi).replace(/@\w+/g,d=>Vi+"-"+d.substr(1)).replace(/:animating/g,hi),[I,h]}(h.selector);d.currentQuerySelector=E.length?E+" "+K:K,Xr(d.collectedStyles,d.currentQuerySelector,{});const ye=Cs(this,Ro(h.animation),d);return d.currentQuery=null,d.currentQuerySelector=E,{type:11,selector:K,limit:N.limit||0,optional:!!N.optional,includeSelf:ce,animation:ye,originalSelector:h.selector,options:ot(h.options)}}visitStagger(h,d){d.currentQuery||d.errors.push(function jr(){return new v.vHH(3013,tr)}());const E="full"===h.timings?{duration:0,delay:0,easing:"full"}:Qo(h.timings,d.errors,!0);return{type:12,animation:Cs(this,Ro(h.animation),d),timings:E,options:null}}}class H{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pe(I){return!Array.isArray(I)&&"object"==typeof I}function ot(I){return I?(I=ws(I)).params&&(I.params=function F(I){return I?ws(I):null}(I.params)):I={},I}function an(I,h,d){return{duration:I,delay:h,easing:d}}function sr(I,h,d,E,N,K,ce=null,ye=!1){return{type:1,element:I,keyframes:h,preStyleProps:d,postStyleProps:E,duration:N,delay:K,totalTime:N+K,easing:ce,subTimeline:ye}}class kt{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,d){let E=this._map.get(h);E||this._map.set(h,E=[]),E.push(...d)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Cr=new RegExp(":enter","g"),Fo=new RegExp(":leave","g");function Gn(I,h,d,E,N,K={},ce={},ye,$e,_t=[]){return(new oo).buildKeyframes(I,h,d,E,N,K,ce,ye,$e,_t)}class oo{buildKeyframes(h,d,E,N,K,ce,ye,$e,_t,en=[]){_t=_t||new kt;const Fn=new Zt(h,d,_t,N,K,en,[]);Fn.options=$e,Fn.currentTimeline.setStyles([ce],null,Fn.errors,$e),Cs(this,E,Fn);const nr=Fn.timelines.filter(hr=>hr.containsAnimation());if(Object.keys(ye).length){let hr;for(let jn=nr.length-1;jn>=0;jn--){const Pn=nr[jn];if(Pn.element===d){hr=Pn;break}}hr&&!hr.allowOnlyTimelineStyles()&&hr.setStyles([ye],null,Fn.errors,$e)}return nr.length?nr.map(hr=>hr.buildKeyframes()):[sr(d,[],[],[],0,0,"",!1)]}visitTrigger(h,d){}visitState(h,d){}visitTransition(h,d){}visitAnimateChild(h,d){const E=d.subInstructions.get(d.element);if(E){const N=d.createSubContext(h.options),K=d.currentTimeline.currentTime,ce=this._visitSubInstructions(E,N,N.options);K!=ce&&d.transformIntoNewTimeline(ce)}d.previousNode=h}visitAnimateRef(h,d){const E=d.createSubContext(h.options);E.transformIntoNewTimeline(),this.visitReference(h.animation,E),d.transformIntoNewTimeline(E.currentTimeline.currentTime),d.previousNode=h}_visitSubInstructions(h,d,E){let K=d.currentTimeline.currentTime;const ce=null!=E.duration?Rs(E.duration):null,ye=null!=E.delay?Rs(E.delay):null;return 0!==ce&&h.forEach($e=>{const _t=d.appendInstructionToTimeline($e,ce,ye);K=Math.max(K,_t.duration+_t.delay)}),K}visitReference(h,d){d.updateOptions(h.options,!0),Cs(this,h.animation,d),d.previousNode=h}visitSequence(h,d){const E=d.subContextCount;let N=d;const K=h.options;if(K&&(K.params||K.delay)&&(N=d.createSubContext(K),N.transformIntoNewTimeline(),null!=K.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Fr);const ce=Rs(K.delay);N.delayNextStep(ce)}h.steps.length&&(h.steps.forEach(ce=>Cs(this,ce,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>E&&N.transformIntoNewTimeline()),d.previousNode=h}visitGroup(h,d){const E=[];let N=d.currentTimeline.currentTime;const K=h.options&&h.options.delay?Rs(h.options.delay):0;h.steps.forEach(ce=>{const ye=d.createSubContext(h.options);K&&ye.delayNextStep(K),Cs(this,ce,ye),N=Math.max(N,ye.currentTimeline.currentTime),E.push(ye.currentTimeline)}),E.forEach(ce=>d.currentTimeline.mergeTimelineCollectedStyles(ce)),d.transformIntoNewTimeline(N),d.previousNode=h}_visitTiming(h,d){if(h.dynamic){const E=h.strValue;return Qo(d.params?Na(E,d.params,d.errors):E,d.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,d){const E=d.currentAnimateTimings=this._visitTiming(h.timings,d),N=d.currentTimeline;E.delay&&(d.incrementTime(E.delay),N.snapshotCurrentStyles());const K=h.style;5==K.type?this.visitKeyframes(K,d):(d.incrementTime(E.duration),this.visitStyle(K,d),N.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=h}visitStyle(h,d){const E=d.currentTimeline,N=d.currentAnimateTimings;!N&&E.getCurrentStyleProperties().length&&E.forwardFrame();const K=N&&N.easing||h.easing;h.isEmptyStep?E.applyEmptyStep(K):E.setStyles(h.styles,K,d.errors,d.options),d.previousNode=h}visitKeyframes(h,d){const E=d.currentAnimateTimings,N=d.currentTimeline.duration,K=E.duration,ye=d.createSubContext().currentTimeline;ye.easing=E.easing,h.styles.forEach($e=>{ye.forwardTime(($e.offset||0)*K),ye.setStyles($e.styles,$e.easing,d.errors,d.options),ye.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(ye),d.transformIntoNewTimeline(N+K),d.previousNode=h}visitQuery(h,d){const E=d.currentTimeline.currentTime,N=h.options||{},K=N.delay?Rs(N.delay):0;K&&(6===d.previousNode.type||0==E&&d.currentTimeline.getCurrentStyleProperties().length)&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Fr);let ce=E;const ye=d.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!N.optional,d.errors);d.currentQueryTotal=ye.length;let $e=null;ye.forEach((_t,en)=>{d.currentQueryIndex=en;const Fn=d.createSubContext(h.options,_t);K&&Fn.delayNextStep(K),_t===d.element&&($e=Fn.currentTimeline),Cs(this,h.animation,Fn),Fn.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,Fn.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(ce),$e&&(d.currentTimeline.mergeTimelineCollectedStyles($e),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=h}visitStagger(h,d){const E=d.parentContext,N=d.currentTimeline,K=h.timings,ce=Math.abs(K.duration),ye=ce*(d.currentQueryTotal-1);let $e=ce*d.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":$e=ye-$e;break;case"full":$e=E.currentStaggerTime}const en=d.currentTimeline;$e&&en.delayNextStep($e);const Fn=en.currentTime;Cs(this,h.animation,d),d.previousNode=h,E.currentStaggerTime=N.currentTime-Fn+(N.startTime-E.currentTimeline.startTime)}}const Fr={};class Zt{constructor(h,d,E,N,K,ce,ye,$e){this._driver=h,this.element=d,this.subInstructions=E,this._enterClassName=N,this._leaveClassName=K,this.errors=ce,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$e||new Da(this._driver,d,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,d){if(!h)return;const E=h;let N=this.options;null!=E.duration&&(N.duration=Rs(E.duration)),null!=E.delay&&(N.delay=Rs(E.delay));const K=E.params;if(K){let ce=N.params;ce||(ce=this.options.params={}),Object.keys(K).forEach(ye=>{(!d||!ce.hasOwnProperty(ye))&&(ce[ye]=Na(K[ye],ce,this.errors))})}}_copyOptions(){const h={};if(this.options){const d=this.options.params;if(d){const E=h.params={};Object.keys(d).forEach(N=>{E[N]=d[N]})}}return h}createSubContext(h=null,d,E){const N=d||this.element,K=new Zt(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,E||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(h),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(h){return this.previousNode=Fr,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,d,E){const N={duration:null!=d?d:h.duration,delay:this.currentTimeline.currentTime+(null!=E?E:0)+h.delay,easing:""},K=new La(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,N,h.stretchStartingKeyframe);return this.timelines.push(K),N}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,d,E,N,K,ce){let ye=[];if(N&&ye.push(this.element),h.length>0){h=(h=h.replace(Cr,"."+this._enterClassName)).replace(Fo,"."+this._leaveClassName);let _t=this._driver.query(this.element,h,1!=E);0!==E&&(_t=E<0?_t.slice(_t.length+E,_t.length):_t.slice(0,E)),ye.push(..._t)}return!K&&0==ye.length&&ce.push(function Jr(I){return new v.vHH(3014,tr)}()),ye}}class Da{constructor(h,d,E,N){this._driver=h,this.element=d,this.startTime=E,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const d=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||d?(this.forwardTime(this.currentTime+h),d&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,d){return this.applyStylesToKeyframe(),new Da(this._driver,h,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,d){this._localTimelineStyles[h]=d,this._globalTimelineStyles[h]=d,this._styleSummary[h]={time:this.currentTime,value:d}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&(this._previousKeyframe.easing=h),Object.keys(this._globalTimelineStyles).forEach(d=>{this._backFill[d]=this._globalTimelineStyles[d]||gn,this._currentKeyframe[d]=gn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,d,E,N){d&&(this._previousKeyframe.easing=d);const K=N&&N.params||{},ce=function Iu(I,h){const d={};let E;return I.forEach(N=>{"*"===N?(E=E||Object.keys(h),E.forEach(K=>{d[K]=gn})):ei(N,!1,d)}),d}(h,this._globalTimelineStyles);Object.keys(ce).forEach(ye=>{const $e=Na(ce[ye],K,E);this._pendingStyles[ye]=$e,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:gn),this._updateStyle(ye,$e)})}applyStylesToKeyframe(){const h=this._pendingStyles,d=Object.keys(h);0!=d.length&&(this._pendingStyles={},d.forEach(E=>{this._currentKeyframe[E]=h[E]}),Object.keys(this._localTimelineStyles).forEach(E=>{this._currentKeyframe.hasOwnProperty(E)||(this._currentKeyframe[E]=this._localTimelineStyles[E])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(h=>{const d=this._localTimelineStyles[h];this._pendingStyles[h]=d,this._updateStyle(h,d)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let d in this._currentKeyframe)h.push(d);return h}mergeTimelineCollectedStyles(h){Object.keys(h._styleSummary).forEach(d=>{const E=this._styleSummary[d],N=h._styleSummary[d];(!E||N.time>E.time)&&this._updateStyle(d,N.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,d=new Set,E=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((ye,$e)=>{const _t=ei(ye,!0);Object.keys(_t).forEach(en=>{const Fn=_t[en];"!"==Fn?h.add(en):Fn==gn&&d.add(en)}),E||(_t.offset=$e/this.duration),N.push(_t)});const K=h.size?ha(h.values()):[],ce=d.size?ha(d.values()):[];if(E){const ye=N[0],$e=ws(ye);ye.offset=0,$e.offset=1,N=[ye,$e]}return sr(this.element,N,K,ce,this.duration,this.startTime,this.easing,!1)}}class La extends Da{constructor(h,d,E,N,K,ce,ye=!1){super(h,d,ce.delay),this.keyframes=E,this.preStyleProps=N,this.postStyleProps=K,this._stretchStartingKeyframe=ye,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:d,duration:E,easing:N}=this.timings;if(this._stretchStartingKeyframe&&d){const K=[],ce=E+d,ye=d/ce,$e=ei(h[0],!1);$e.offset=0,K.push($e);const _t=ei(h[0],!1);_t.offset=Ys(ye),K.push(_t);const en=h.length-1;for(let Fn=1;Fn<=en;Fn++){let nr=ei(h[Fn],!1);nr.offset=Ys((d+nr.offset*E)/ce),K.push(nr)}E=ce,d=0,N="",h=K}return sr(this.element,h,this.preStyleProps,this.postStyleProps,E,d,N,!0)}}function Ys(I,h=3){const d=Math.pow(10,h-1);return Math.round(I*d)/d}class mi{}class Wl extends mi{normalizePropertyName(h,d){return ka(h)}normalizeStyleValue(h,d,E,N){let K="";const ce=E.toString().trim();if(Zl[d]&&0!==E&&"0"!==E)if("number"==typeof E)K="px";else{const ye=E.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&N.push(function L(I,h){return new v.vHH(3005,tr)}())}return ce+K}}const Zl=(()=>function Lo(I){const h={};return I.forEach(d=>h[d]=!0),h}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Tu(I,h,d,E,N,K,ce,ye,$e,_t,en,Fn,nr){return{type:0,element:I,triggerName:h,isRemovalTransition:N,fromState:d,fromStyles:K,toState:E,toStyles:ce,timelines:ye,queriedElements:$e,preStyleProps:_t,postStyleProps:en,totalTime:Fn,errors:nr}}const zu={};class Gu{constructor(h,d,E){this._triggerName=h,this.ast=d,this._stateStyles=E}match(h,d,E,N){return function vo(I,h,d,E,N){return I.some(K=>K(h,d,E,N))}(this.ast.matchers,h,d,E,N)}buildStyles(h,d,E){const N=this._stateStyles["*"],K=this._stateStyles[h],ce=N?N.buildStyles(d,E):{};return K?K.buildStyles(d,E):ce}build(h,d,E,N,K,ce,ye,$e,_t,en){const Fn=[],nr=this.ast.options&&this.ast.options.params||zu,jn=this.buildStyles(E,ye&&ye.params||zu,Fn),Pn=$e&&$e.params||zu,fi=this.buildStyles(N,Pn,Fn),Er=new Set,Ci=new Map,T=new Map,P="void"===N,z={params:Object.assign(Object.assign({},nr),Pn)},ue=en?[]:Gn(h,d,this.ast.animation,K,ce,jn,fi,z,_t,Fn);let Ie=0;if(ue.forEach(Ke=>{Ie=Math.max(Ke.duration+Ke.delay,Ie)}),Fn.length)return Tu(d,this._triggerName,E,N,P,jn,fi,[],[],Ci,T,Ie,Fn);ue.forEach(Ke=>{const Wt=Ke.element,Xt=Xr(Ci,Wt,{});Ke.preStyleProps.forEach(Qn=>Xt[Qn]=!0);const mn=Xr(T,Wt,{});Ke.postStyleProps.forEach(Qn=>mn[Qn]=!0),Wt!==d&&Er.add(Wt)});const De=ha(Er.values());return Tu(d,this._triggerName,E,N,P,jn,fi,ue,De,Ci,T,Ie)}}class cl{constructor(h,d,E){this.styles=h,this.defaultParams=d,this.normalizer=E}buildStyles(h,d){const E={},N=ws(this.defaultParams);return Object.keys(h).forEach(K=>{const ce=h[K];null!=ce&&(N[K]=ce)}),this.styles.styles.forEach(K=>{if("string"!=typeof K){const ce=K;Object.keys(ce).forEach(ye=>{let $e=ce[ye];$e.length>1&&($e=Na($e,N,d));const _t=this.normalizer.normalizePropertyName(ye,d);$e=this.normalizer.normalizeStyleValue(ye,_t,$e,d),E[_t]=$e})}}),E}}class fa{constructor(h,d,E){this.name=h,this.ast=d,this._normalizer=E,this.transitionFactories=[],this.states={},d.states.forEach(N=>{this.states[N.name]=new cl(N.style,N.options&&N.options.params||{},E)}),dl(this.states,"true","1"),dl(this.states,"false","0"),d.transitions.forEach(N=>{this.transitionFactories.push(new Gu(h,N,this.states))}),this.fallbackTransition=function Ts(I,h,d){return new Gu(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,ye)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,d,E,N){return this.transitionFactories.find(ce=>ce.match(h,d,E,N))||null}matchStyles(h,d,E){return this.fallbackTransition.buildStyles(h,d,E)}}function dl(I,h,d){I.hasOwnProperty(h)?I.hasOwnProperty(d)||(I[d]=I[h]):I.hasOwnProperty(d)&&(I[h]=I[d])}const Va=new kt;class Wi{constructor(h,d,E){this.bodyNode=h,this._driver=d,this._normalizer=E,this._animations={},this._playersById={},this.players=[]}register(h,d){const E=[],K=ki(this._driver,d,E,[]);if(E.length)throw function qo(I){return new v.vHH(3503,tr)}();this._animations[h]=K}_buildPlayer(h,d,E){const N=h.element,K=ba(0,this._normalizer,0,h.keyframes,d,E);return this._driver.animate(N,K,h.duration,h.delay,h.easing,[],!0)}create(h,d,E={}){const N=[],K=this._animations[h];let ce;const ye=new Map;if(K?(ce=Gn(this._driver,d,K,zs,zr,{},{},E,Va,N),ce.forEach(en=>{const Fn=Xr(ye,en.element,{});en.postStyleProps.forEach(nr=>Fn[nr]=null)})):(N.push(function j(){return new v.vHH(3300,tr)}()),ce=[]),N.length)throw function k(I){return new v.vHH(3504,tr)}();ye.forEach((en,Fn)=>{Object.keys(en).forEach(nr=>{en[nr]=this._driver.computeStyle(Fn,nr,gn)})});const _t=vi(ce.map(en=>{const Fn=ye.get(en.element);return this._buildPlayer(en,{},Fn)}));return this._playersById[h]=_t,_t.onDestroy(()=>this.destroy(h)),this.players.push(_t),_t}destroy(h){const d=this._getPlayer(h);d.destroy(),delete this._playersById[h];const E=this.players.indexOf(d);E>=0&&this.players.splice(E,1)}_getPlayer(h){const d=this._playersById[h];if(!d)throw function R(I){return new v.vHH(3301,tr)}();return d}listen(h,d,E,N){const K=no(d,"","","");return oa(this._getPlayer(h),E,K,N),()=>{}}command(h,d,E,N){if("register"==E)return void this.register(h,N[0]);if("create"==E)return void this.create(h,d,N[0]||{});const K=this._getPlayer(h);switch(E){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(h)}}}const Vo="ng-animate-queued",pa="ng-animate-disabled",Gs=[],cu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ks="__ng_removed";class ti{constructor(h,d=""){this.namespaceId=d;const E=h&&h.hasOwnProperty("value");if(this.value=function Au(I){return null!=I?I:null}(E?h.value:h),E){const K=ws(h);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(h){const d=h.params;if(d){const E=this.options.params;Object.keys(d).forEach(N=>{null==E[N]&&(E[N]=d[N])})}}}const ga="void",Uo=new ti(ga);class Bo{constructor(h,d,E){this.id=h,this.hostElement=d,this._engine=E,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,Yi(d,this._hostClassName)}listen(h,d,E,N){if(!this._triggers.hasOwnProperty(d))throw function X(I,h){return new v.vHH(3302,tr)}();if(null==E||0==E.length)throw function ve(I){return new v.vHH(3303,tr)}();if(!function hu(I){return"start"==I||"done"==I}(E))throw function Lt(I,h){return new v.vHH(3400,tr)}();const K=Xr(this._elementListeners,h,[]),ce={name:d,phase:E,callback:N};K.push(ce);const ye=Xr(this._engine.statesByElement,h,{});return ye.hasOwnProperty(d)||(Yi(h,mo),Yi(h,mo+"-"+d),ye[d]=Uo),()=>{this._engine.afterFlush(()=>{const $e=K.indexOf(ce);$e>=0&&K.splice($e,1),this._triggers[d]||delete ye[d]})}}register(h,d){return!this._triggers[h]&&(this._triggers[h]=d,!0)}_getTrigger(h){const d=this._triggers[h];if(!d)throw function Rr(I){return new v.vHH(3401,tr)}();return d}trigger(h,d,E,N=!0){const K=this._getTrigger(d),ce=new Xo(this.id,d,h);let ye=this._engine.statesByElement.get(h);ye||(Yi(h,mo),Yi(h,mo+"-"+d),this._engine.statesByElement.set(h,ye={}));let $e=ye[d];const _t=new ti(E,this.id);if(!(E&&E.hasOwnProperty("value"))&&$e&&_t.absorbOptions($e.options),ye[d]=_t,$e||($e=Uo),_t.value!==ga&&$e.value===_t.value){if(!function fl(I,h){const d=Object.keys(I),E=Object.keys(h);if(d.length!=E.length)return!1;for(let N=0;N<d.length;N++){const K=d[N];if(!h.hasOwnProperty(K)||I[K]!==h[K])return!1}return!0}($e.params,_t.params)){const Pn=[],fi=K.matchStyles($e.value,$e.params,Pn),Er=K.matchStyles(_t.value,_t.params,Pn);Pn.length?this._engine.reportError(Pn):this._engine.afterFlush(()=>{ro(h,fi),Wr(h,Er)})}return}const nr=Xr(this._engine.playersByElement,h,[]);nr.forEach(Pn=>{Pn.namespaceId==this.id&&Pn.triggerName==d&&Pn.queued&&Pn.destroy()});let hr=K.matchTransition($e.value,_t.value,h,_t.params),jn=!1;if(!hr){if(!N)return;hr=K.fallbackTransition,jn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:d,transition:hr,fromState:$e,toState:_t,player:ce,isFallbackTransition:jn}),jn||(Yi(h,Vo),ce.onStart(()=>{jo(h,Vo)})),ce.onDone(()=>{let Pn=this.players.indexOf(ce);Pn>=0&&this.players.splice(Pn,1);const fi=this._engine.playersByElement.get(h);if(fi){let Er=fi.indexOf(ce);Er>=0&&fi.splice(Er,1)}}),this.players.push(ce),nr.push(ce),ce}deregister(h){delete this._triggers[h],this._engine.statesByElement.forEach((d,E)=>{delete d[h]}),this._elementListeners.forEach((d,E)=>{this._elementListeners.set(E,d.filter(N=>N.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const d=this._engine.playersByElement.get(h);d&&(d.forEach(E=>E.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,d){const E=this._engine.driver.query(h,Vi,!0);E.forEach(N=>{if(N[ks])return;const K=this._engine.fetchNamespacesByElement(N);K.size?K.forEach(ce=>ce.triggerLeaveAnimation(N,d,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>E.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(h,d,E,N){const K=this._engine.statesByElement.get(h),ce=new Map;if(K){const ye=[];if(Object.keys(K).forEach($e=>{if(ce.set($e,K[$e].value),this._triggers[$e]){const _t=this.trigger(h,$e,ga,N);_t&&ye.push(_t)}}),ye.length)return this._engine.markElementAsRemoved(this.id,h,!0,d,ce),E&&vi(ye).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const d=this._elementListeners.get(h),E=this._engine.statesByElement.get(h);if(d&&E){const N=new Set;d.forEach(K=>{const ce=K.name;if(N.has(ce))return;N.add(ce);const $e=this._triggers[ce].fallbackTransition,_t=E[ce]||Uo,en=new ti(ga),Fn=new Xo(this.id,ce,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:ce,transition:$e,fromState:_t,toState:en,player:Fn,isFallbackTransition:!0})})}}removeNode(h,d){const E=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,d),this.triggerLeaveAnimation(h,d,!0))return;let N=!1;if(E.totalAnimations){const K=E.players.length?E.playersByQueriedElement.get(h):[];if(K&&K.length)N=!0;else{let ce=h;for(;ce=ce.parentNode;)if(E.statesByElement.get(ce)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(h),N)E.markElementAsRemoved(this.id,h,!1,d);else{const K=h[ks];(!K||K===cu)&&(E.afterFlush(()=>this.clearElementCache(h)),E.destroyInnerAnimations(h),E._onRemovalComplete(h,d))}}insertNode(h,d){Yi(h,this._hostClassName)}drainQueuedTransitions(h){const d=[];return this._queue.forEach(E=>{const N=E.player;if(N.destroyed)return;const K=E.element,ce=this._elementListeners.get(K);ce&&ce.forEach(ye=>{if(ye.name==E.triggerName){const $e=no(K,E.triggerName,E.fromState.value,E.toState.value);$e._data=h,oa(E.player,ye.phase,$e,ye.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):d.push(E)}),this._queue=[],d.sort((E,N)=>{const K=E.transition.ast.depCount,ce=N.transition.ast.depCount;return 0==K||0==ce?K-ce:this._engine.driver.containsElement(E.element,N.element)?1:-1})}destroy(h){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}elementContainsData(h){let d=!1;return this._elementListeners.has(h)&&(d=!0),d=!!this._queue.find(E=>E.element===h)||d,d}}class du{constructor(h,d,E){this.bodyNode=h,this.driver=d,this._normalizer=E,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,K)=>{}}_onRemovalComplete(h,d){this.onRemovalComplete(h,d)}get queuedPlayers(){const h=[];return this._namespaceList.forEach(d=>{d.players.forEach(E=>{E.queued&&h.push(E)})}),h}createNamespace(h,d){const E=new Bo(h,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(E,d):(this.newHostElements.set(d,E),this.collectEnterElement(d)),this._namespaceLookup[h]=E}_balanceNamespaceList(h,d){const E=this._namespaceList,N=this.namespacesByHostElement,K=E.length-1;if(K>=0){let ce=!1;if(void 0!==this.driver.getParentElement){let ye=this.driver.getParentElement(d);for(;ye;){const $e=N.get(ye);if($e){const _t=E.indexOf($e);E.splice(_t+1,0,h),ce=!0;break}ye=this.driver.getParentElement(ye)}}else for(let ye=K;ye>=0;ye--)if(this.driver.containsElement(E[ye].hostElement,d)){E.splice(ye+1,0,h),ce=!0;break}ce||E.unshift(h)}else E.push(h);return N.set(d,h),h}register(h,d){let E=this._namespaceLookup[h];return E||(E=this.createNamespace(h,d)),E}registerTrigger(h,d,E){let N=this._namespaceLookup[h];N&&N.register(d,E)&&this.totalAnimations++}destroy(h,d){if(!h)return;const E=this._fetchNamespace(h);this.afterFlush(()=>{this.namespacesByHostElement.delete(E.hostElement),delete this._namespaceLookup[h];const N=this._namespaceList.indexOf(E);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>E.destroy(d))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const d=new Set,E=this.statesByElement.get(h);if(E){const N=Object.keys(E);for(let K=0;K<N.length;K++){const ce=E[N[K]].namespaceId;if(ce){const ye=this._fetchNamespace(ce);ye&&d.add(ye)}}}return d}trigger(h,d,E,N){if(Su(d)){const K=this._fetchNamespace(h);if(K)return K.trigger(d,E,N),!0}return!1}insertNode(h,d,E,N){if(!Su(d))return;const K=d[ks];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(d);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(h){const ce=this._fetchNamespace(h);ce&&ce.insertNode(d,E)}N&&this.collectEnterElement(d)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,d){d?this.disabledNodes.has(h)||(this.disabledNodes.add(h),Yi(h,pa)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),jo(h,pa))}removeNode(h,d,E,N){if(Su(d)){const K=h?this._fetchNamespace(h):null;if(K?K.removeNode(d,N):this.markElementAsRemoved(h,d,!1,N),E){const ce=this.namespacesByHostElement.get(d);ce&&ce.id!==h&&ce.removeNode(d,N)}}else this._onRemovalComplete(d,N)}markElementAsRemoved(h,d,E,N,K){this.collectedLeaveElements.push(d),d[ks]={namespaceId:h,setForRemoval:N,hasAnimation:E,removedBeforeQueried:!1,previousTriggersValues:K}}listen(h,d,E,N,K){return Su(d)?this._fetchNamespace(h).listen(d,E,N,K):()=>{}}_buildInstruction(h,d,E,N,K){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,E,N,h.fromState.options,h.toState.options,d,K)}destroyInnerAnimations(h){let d=this.driver.query(h,Vi,!0);d.forEach(E=>this.destroyActiveAnimationsForElement(E)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(h,hi,!0),d.forEach(E=>this.finishActiveQueriedAnimationOnElement(E)))}destroyActiveAnimationsForElement(h){const d=this.playersByElement.get(h);d&&d.forEach(E=>{E.queued?E.markedForDestroy=!0:E.destroy()})}finishActiveQueriedAnimationOnElement(h){const d=this.playersByQueriedElement.get(h);d&&d.forEach(E=>E.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return vi(this.players).onDone(()=>h());h()})}processLeaveNode(h){var d;const E=h[ks];if(E&&E.setForRemoval){if(h[ks]=cu,E.namespaceId){this.destroyInnerAnimations(h);const N=this._fetchNamespace(E.namespaceId);N&&N.clearElementCache(h)}this._onRemovalComplete(h,E.setForRemoval)}(null===(d=h.classList)||void 0===d?void 0:d.contains(pa))&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(h=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((E,N)=>this._balanceNamespaceList(E,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let E=0;E<this.collectedEnterElements.length;E++)Yi(this.collectedEnterElements[E],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const E=[];try{d=this._flushAnimations(E,h)}finally{for(let N=0;N<E.length;N++)E[N]()}}else for(let E=0;E<this.collectedLeaveElements.length;E++)this.processLeaveNode(this.collectedLeaveElements[E]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(E=>E()),this._flushFns=[],this._whenQuietFns.length){const E=this._whenQuietFns;this._whenQuietFns=[],d.length?vi(d).onDone(()=>{E.forEach(N=>N())}):E.forEach(N=>N())}}reportError(h){throw function Dr(I){return new v.vHH(3402,tr)}()}_flushAnimations(h,d){const E=new kt,N=[],K=new Map,ce=[],ye=new Map,$e=new Map,_t=new Map,en=new Set;this.disabledNodes.forEach(on=>{en.add(on);const Vn=this.driver.query(on,".ng-animate-queued",!0);for(let ir=0;ir<Vn.length;ir++)en.add(Vn[ir])});const Fn=this.bodyNode,nr=Array.from(this.statesByElement.keys()),hr=Ba(nr,this.collectedEnterElements),jn=new Map;let Pn=0;hr.forEach((on,Vn)=>{const ir=zs+Pn++;jn.set(Vn,ir),on.forEach(Lr=>Yi(Lr,ir))});const fi=[],Er=new Set,Ci=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const Vn=this.collectedLeaveElements[on],ir=Vn[ks];ir&&ir.setForRemoval&&(fi.push(Vn),Er.add(Vn),ir.hasAnimation?this.driver.query(Vn,".ng-star-inserted",!0).forEach(Lr=>Er.add(Lr)):Ci.add(Vn))}const T=new Map,P=Ba(nr,Array.from(Er));P.forEach((on,Vn)=>{const ir=zr+Pn++;T.set(Vn,ir),on.forEach(Lr=>Yi(Lr,ir))}),h.push(()=>{hr.forEach((on,Vn)=>{const ir=jn.get(Vn);on.forEach(Lr=>jo(Lr,ir))}),P.forEach((on,Vn)=>{const ir=T.get(Vn);on.forEach(Lr=>jo(Lr,ir))}),fi.forEach(on=>{this.processLeaveNode(on)})});const z=[],ue=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(d).forEach(ir=>{const Lr=ir.player,bi=ir.element;if(z.push(Lr),this.collectedEnterElements.length){const Ds=bi[ks];if(Ds&&Ds.setForMove){if(Ds.previousTriggersValues&&Ds.previousTriggersValues.has(ir.triggerName)){const Co=Ds.previousTriggersValues.get(ir.triggerName),na=this.statesByElement.get(ir.element);na&&na[ir.triggerName]&&(na[ir.triggerName].value=Co)}return void Lr.destroy()}}const rs=!Fn||!this.driver.containsElement(Fn,bi),Vs=T.get(bi),xa=jn.get(bi),Fi=this._buildInstruction(ir,E,xa,Vs,rs);if(Fi.errors&&Fi.errors.length)return void ue.push(Fi);if(rs)return Lr.onStart(()=>ro(bi,Fi.fromStyles)),Lr.onDestroy(()=>Wr(bi,Fi.toStyles)),void N.push(Lr);if(ir.isFallbackTransition)return Lr.onStart(()=>ro(bi,Fi.fromStyles)),Lr.onDestroy(()=>Wr(bi,Fi.toStyles)),void N.push(Lr);const Cc=[];Fi.timelines.forEach(Ds=>{Ds.stretchStartingKeyframe=!0,this.disabledNodes.has(Ds.element)||Cc.push(Ds)}),Fi.timelines=Cc,E.append(bi,Fi.timelines),ce.push({instruction:Fi,player:Lr,element:bi}),Fi.queriedElements.forEach(Ds=>Xr(ye,Ds,[]).push(Lr)),Fi.preStyleProps.forEach((Ds,Co)=>{const na=Object.keys(Ds);if(na.length){let Ma=$e.get(Co);Ma||$e.set(Co,Ma=new Set),na.forEach(Nu=>Ma.add(Nu))}}),Fi.postStyleProps.forEach((Ds,Co)=>{const na=Object.keys(Ds);let Ma=_t.get(Co);Ma||_t.set(Co,Ma=new Set),na.forEach(Nu=>Ma.add(Nu))})});if(ue.length){const on=[];ue.forEach(Vn=>{on.push(function Es(I,h){return new v.vHH(3505,tr)}())}),z.forEach(Vn=>Vn.destroy()),this.reportError(on)}const Ie=new Map,De=new Map;ce.forEach(on=>{const Vn=on.element;E.has(Vn)&&(De.set(Vn,Vn),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,Ie))}),N.forEach(on=>{const Vn=on.element;this._getPreviousPlayers(Vn,!1,on.namespaceId,on.triggerName,null).forEach(Lr=>{Xr(Ie,Vn,[]).push(Lr),Lr.destroy()})});const Ke=fi.filter(on=>$o(on,$e,_t)),Wt=new Map;Eo(Wt,this.driver,Ci,_t,gn).forEach(on=>{$o(on,$e,_t)&&Ke.push(on)});const mn=new Map;hr.forEach((on,Vn)=>{Eo(mn,this.driver,new Set(on),$e,"!")}),Ke.forEach(on=>{const Vn=Wt.get(on),ir=mn.get(on);Wt.set(on,Object.assign(Object.assign({},Vn),ir))});const Qn=[],$n=[],Qi={};ce.forEach(on=>{const{element:Vn,player:ir,instruction:Lr}=on;if(E.has(Vn)){if(en.has(Vn))return ir.onDestroy(()=>Wr(Vn,Lr.toStyles)),ir.disabled=!0,ir.overrideTotalTime(Lr.totalTime),void N.push(ir);let bi=Qi;if(De.size>1){let Vs=Vn;const xa=[];for(;Vs=Vs.parentNode;){const Fi=De.get(Vs);if(Fi){bi=Fi;break}xa.push(Vs)}xa.forEach(Fi=>De.set(Fi,bi))}const rs=this._buildAnimation(ir.namespaceId,Lr,Ie,K,mn,Wt);if(ir.setRealPlayer(rs),bi===Qi)Qn.push(ir);else{const Vs=this.playersByElement.get(bi);Vs&&Vs.length&&(ir.parentPlayer=vi(Vs)),N.push(ir)}}else ro(Vn,Lr.fromStyles),ir.onDestroy(()=>Wr(Vn,Lr.toStyles)),$n.push(ir),en.has(Vn)&&N.push(ir)}),$n.forEach(on=>{const Vn=K.get(on.element);if(Vn&&Vn.length){const ir=vi(Vn);on.setRealPlayer(ir)}}),N.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<fi.length;on++){const Vn=fi[on],ir=Vn[ks];if(jo(Vn,zr),ir&&ir.hasAnimation)continue;let Lr=[];if(ye.size){let rs=ye.get(Vn);rs&&rs.length&&Lr.push(...rs);let Vs=this.driver.query(Vn,hi,!0);for(let xa=0;xa<Vs.length;xa++){let Fi=ye.get(Vs[xa]);Fi&&Fi.length&&Lr.push(...Fi)}}const bi=Lr.filter(rs=>!rs.destroyed);bi.length?xu(this,Vn,bi):this.processLeaveNode(Vn)}return fi.length=0,Qn.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const Vn=this.players.indexOf(on);this.players.splice(Vn,1)}),on.play()}),Qn}elementContainsData(h,d){let E=!1;const N=d[ks];return N&&N.setForRemoval&&(E=!0),this.playersByElement.has(d)&&(E=!0),this.playersByQueriedElement.has(d)&&(E=!0),this.statesByElement.has(d)&&(E=!0),this._fetchNamespace(h).elementContainsData(d)||E}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,d,E,N,K){let ce=[];if(d){const ye=this.playersByQueriedElement.get(h);ye&&(ce=ye)}else{const ye=this.playersByElement.get(h);if(ye){const $e=!K||K==ga;ye.forEach(_t=>{_t.queued||!$e&&_t.triggerName!=N||ce.push(_t)})}}return(E||N)&&(ce=ce.filter(ye=>!(E&&E!=ye.namespaceId||N&&N!=ye.triggerName))),ce}_beforeAnimationBuild(h,d,E){const K=d.element,ce=d.isRemovalTransition?void 0:h,ye=d.isRemovalTransition?void 0:d.triggerName;for(const $e of d.timelines){const _t=$e.element,en=_t!==K,Fn=Xr(E,_t,[]);this._getPreviousPlayers(_t,en,ce,ye,d.toState).forEach(hr=>{const jn=hr.getRealPlayer();jn.beforeDestroy&&jn.beforeDestroy(),hr.destroy(),Fn.push(hr)})}ro(K,d.fromStyles)}_buildAnimation(h,d,E,N,K,ce){const ye=d.triggerName,$e=d.element,_t=[],en=new Set,Fn=new Set,nr=d.timelines.map(jn=>{const Pn=jn.element;en.add(Pn);const fi=Pn[ks];if(fi&&fi.removedBeforeQueried)return new gr(jn.duration,jn.delay);const Er=Pn!==$e,Ci=function ma(I){const h=[];return Mu(I,h),h}((E.get(Pn)||Gs).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===Pn),T=K.get(Pn),P=ce.get(Pn),z=ba(0,this._normalizer,0,jn.keyframes,T,P),ue=this._buildPlayer(jn,z,Ci);if(jn.subTimeline&&N&&Fn.add(Pn),Er){const Ie=new Xo(h,ye,Pn);Ie.setRealPlayer(ue),_t.push(Ie)}return ue});_t.forEach(jn=>{Xr(this.playersByQueriedElement,jn.element,[]).push(jn),jn.onDone(()=>function eu(I,h,d){let E;if(I instanceof Map){if(E=I.get(h),E){if(E.length){const N=E.indexOf(d);E.splice(N,1)}0==E.length&&I.delete(h)}}else if(E=I[h],E){if(E.length){const N=E.indexOf(d);E.splice(N,1)}0==E.length&&delete I[h]}return E}(this.playersByQueriedElement,jn.element,jn))}),en.forEach(jn=>Yi(jn,Ui));const hr=vi(nr);return hr.onDestroy(()=>{en.forEach(jn=>jo(jn,Ui)),Wr($e,d.toStyles)}),Fn.forEach(jn=>{Xr(N,jn,[]).push(hr)}),hr}_buildPlayer(h,d,E){return d.length>0?this.driver.animate(h.element,d,h.duration,h.delay,h.easing,E):new gr(h.duration,h.delay)}}class Xo{constructor(h,d,E){this.namespaceId=h,this.triggerName=d,this.element=E,this._player=new gr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,Object.keys(this._queuedCallbacks).forEach(d=>{this._queuedCallbacks[d].forEach(E=>oa(h,d,void 0,E))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const d=this._player;d.triggerCallback&&h.onStart(()=>d.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,d){Xr(this._queuedCallbacks,h,[]).push(d)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const d=this._player;d.triggerCallback&&d.triggerCallback(h)}}function Su(I){return I&&1===I.nodeType}function Wu(I,h){const d=I.style.display;return I.style.display=null!=h?h:"none",d}function Eo(I,h,d,E,N){const K=[];d.forEach($e=>K.push(Wu($e)));const ce=[];E.forEach(($e,_t)=>{const en={};$e.forEach(Fn=>{const nr=en[Fn]=h.computeStyle(_t,Fn,N);(!nr||0==nr.length)&&(_t[ks]=Xa,ce.push(_t))}),I.set(_t,en)});let ye=0;return d.forEach($e=>Wu($e,K[ye++])),ce}function Ba(I,h){const d=new Map;if(I.forEach(ye=>d.set(ye,[])),0==h.length)return d;const N=new Set(h),K=new Map;function ce(ye){if(!ye)return 1;let $e=K.get(ye);if($e)return $e;const _t=ye.parentNode;return $e=d.has(_t)?_t:N.has(_t)?1:ce(_t),K.set(ye,$e),$e}return h.forEach(ye=>{const $e=ce(ye);1!==$e&&d.get($e).push(ye)}),d}function Yi(I,h){var d;null===(d=I.classList)||void 0===d||d.add(h)}function jo(I,h){var d;null===(d=I.classList)||void 0===d||d.remove(h)}function xu(I,h,d){vi(d).onDone(()=>I.processLeaveNode(h))}function Mu(I,h){for(let d=0;d<I.length;d++){const E=I[d];E instanceof Bi?Mu(E.players,h):h.push(E)}}function $o(I,h,d){const E=d.get(I);if(!E)return!1;let N=h.get(I);return N?E.forEach(K=>N.add(K)):h.set(I,E),d.delete(I),!0}class ya{constructor(h,d,E){this.bodyNode=h,this._driver=d,this._normalizer=E,this._triggerCache={},this.onRemovalComplete=(N,K)=>{},this._transitionEngine=new du(h,d,E),this._timelineEngine=new Wi(h,d,E),this._transitionEngine.onRemovalComplete=(N,K)=>this.onRemovalComplete(N,K)}registerTrigger(h,d,E,N,K){const ce=h+"-"+N;let ye=this._triggerCache[ce];if(!ye){const $e=[],en=ki(this._driver,K,$e,[]);if($e.length)throw function Mo(I,h){return new v.vHH(3404,tr)}();ye=function Ze(I,h,d){return new fa(I,h,d)}(N,en,this._normalizer),this._triggerCache[ce]=ye}this._transitionEngine.registerTrigger(d,N,ye)}register(h,d){this._transitionEngine.register(h,d)}destroy(h,d){this._transitionEngine.destroy(h,d)}onInsert(h,d,E,N){this._transitionEngine.insertNode(h,d,E,N)}onRemove(h,d,E,N){this._transitionEngine.removeNode(h,d,N||!1,E)}disableAnimations(h,d){this._transitionEngine.markElementAsDisabled(h,d)}process(h,d,E,N){if("@"==E.charAt(0)){const[K,ce]=$s(E);this._timelineEngine.command(K,d,ce,N)}else this._transitionEngine.trigger(h,d,E,N)}listen(h,d,E,N,K){if("@"==E.charAt(0)){const[ce,ye]=$s(E);return this._timelineEngine.listen(ce,d,ye,K)}return this._transitionEngine.listen(h,d,E,N,K)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sa=(()=>{class I{constructor(d,E,N){this._element=d,this._startStyles=E,this._endStyles=N,this._state=0;let K=I.initialStylesByElement.get(d);K||I.initialStylesByElement.set(d,K={}),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&Wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wr(this._element,this._initialStyles),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(ro(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ro(this._element,this._endStyles),this._endStyles=null),Wr(this._element,this._initialStyles),this._state=3)}}return I.initialStylesByElement=new WeakMap,I})();function Pu(I){let h=null;const d=Object.keys(I);for(let E=0;E<d.length;E++){const N=d[E];Zu(N)&&(h=h||{},h[N]=I[N])}return h}function Zu(I){return"display"===I||"position"===I}class Zi{constructor(h,d,E,N){this.element=h,this.keyframes=d,this.options=E,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=E.duration,this._delay=E.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(h,d,E){return h.animate(d,E)}onStart(h){this._onStartFns.push(h)}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h={};if(this.hasStarted()){const d=this._finalKeyframe;Object.keys(d).forEach(E=>{"offset"!=E&&(h[E]=this._finished?d[E]:bs(this.element,E))})}this.currentSnapshot=h}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(E=>E()),d.length=0}}class pl{validateStyleProperty(h){return po(h)}matchesElement(h,d){return!1}containsElement(h,d){return Ta(h,d)}getParentElement(h){return Hs(h)}query(h,d,E){return go(h,d,E)}computeStyle(h,d,E){return window.getComputedStyle(h)[d]}animate(h,d,E,N,K,ce=[]){const $e={duration:E,delay:N,fill:0==N?"both":"forwards"};K&&($e.easing=K);const _t={},en=ce.filter(nr=>nr instanceof Zi);(function Fa(I,h){return 0===I||0===h})(E,N)&&en.forEach(nr=>{let hr=nr.currentSnapshot;Object.keys(hr).forEach(jn=>_t[jn]=hr[jn])}),d=function $u(I,h,d){const E=Object.keys(d);if(E.length&&h.length){let K=h[0],ce=[];if(E.forEach(ye=>{K.hasOwnProperty(ye)||ce.push(ye),K[ye]=d[ye]}),ce.length)for(var N=1;N<h.length;N++){let ye=h[N];ce.forEach(function($e){ye[$e]=bs(I,$e)})}}return h}(h,d=d.map(nr=>ei(nr,!1)),_t);const Fn=function wc(I,h){let d=null,E=null;return Array.isArray(h)&&h.length?(d=Pu(h[0]),h.length>1&&(E=Pu(h[h.length-1]))):h&&(d=Pu(h)),d||E?new Sa(I,d,E):null}(h,d);return new Zi(h,d,$e,Fn)}}let _a=(()=>{class I extends fn{constructor(d,E){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(E.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(d){const E=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(d)?Qt(d):d;return ao(this._renderer,null,E,"register",[N]),new ns(E,this._renderer)}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(v.FYo),v.LFG(m.K0))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class ns extends class Bn{}{constructor(h,d){super(),this._id=h,this._renderer=d}create(h,d){return new fu(this._id,h,d||{},this._renderer)}}class fu{constructor(h,d,E,N){this.id=h,this.element=d,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",E)}_listen(h,d){return this._renderer.listen(this.element,`@@${this.id}:${h}`,d)}_command(h,...d){return ao(this._renderer,this.element,this.id,h,d)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){var h,d;return null!==(d=null===(h=this._renderer.engine.players[+this.id])||void 0===h?void 0:h.getPosition())&&void 0!==d?d:0}}function ao(I,h,d,E,N){return I.setProperty(h,`@@${d}:${E}`,N)}const yi="@.disabled";let nu=(()=>{class I{constructor(d,E,N){this.delegate=d,this.engine=E,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),E.onRemovalComplete=(K,ce)=>{const ye=null==ce?void 0:ce.parentNode(K);ye&&ce.removeChild(ye,K)}}createRenderer(d,E){const K=this.delegate.createRenderer(d,E);if(!(d&&E&&E.data&&E.data.animation)){let en=this._rendererCache.get(K);return en||(en=new ji("",K,this.engine),this._rendererCache.set(K,en)),en}const ce=E.id,ye=E.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,d);const $e=en=>{Array.isArray(en)?en.forEach($e):this.engine.registerTrigger(ce,ye,d,en.name,en)};return E.data.animation.forEach($e),new Ei(this,ye,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,E,N){d>=0&&d<this._microtaskId?this._zone.run(()=>E(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[ce,ye]=K;ce(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([E,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(v.FYo),v.LFG(ya),v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();class ji{constructor(h,d,E){this.namespaceId=h,this.delegate=d,this.engine=E,this.destroyNode=this.delegate.destroyNode?N=>d.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(h,d){return this.delegate.createElement(h,d)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,d){this.delegate.appendChild(h,d),this.engine.onInsert(this.namespaceId,d,h,!1)}insertBefore(h,d,E,N=!0){this.delegate.insertBefore(h,d,E),this.engine.onInsert(this.namespaceId,d,h,N)}removeChild(h,d,E){this.engine.onRemove(this.namespaceId,d,this.delegate,E)}selectRootElement(h,d){return this.delegate.selectRootElement(h,d)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,d,E,N){this.delegate.setAttribute(h,d,E,N)}removeAttribute(h,d,E){this.delegate.removeAttribute(h,d,E)}addClass(h,d){this.delegate.addClass(h,d)}removeClass(h,d){this.delegate.removeClass(h,d)}setStyle(h,d,E,N){this.delegate.setStyle(h,d,E,N)}removeStyle(h,d,E){this.delegate.removeStyle(h,d,E)}setProperty(h,d,E){"@"==d.charAt(0)&&d==yi?this.disableAnimations(h,!!E):this.delegate.setProperty(h,d,E)}setValue(h,d){this.delegate.setValue(h,d)}listen(h,d,E){return this.delegate.listen(h,d,E)}disableAnimations(h,d){this.engine.disableAnimations(h,d)}}class Ei extends ji{constructor(h,d,E,N){super(d,E,N),this.factory=h,this.namespaceId=d}setProperty(h,d,E){"@"==d.charAt(0)?"."==d.charAt(1)&&d==yi?this.disableAnimations(h,E=void 0===E||!!E):this.engine.process(this.namespaceId,h,d.substr(1),E):this.delegate.setProperty(h,d,E)}listen(h,d,E){if("@"==d.charAt(0)){const N=function ru(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(h);let K=d.substr(1),ce="";return"@"!=K.charAt(0)&&([K,ce]=function ja(I){const h=I.indexOf(".");return[I.substring(0,h),I.substr(h+1)]}(K)),this.engine.listen(this.namespaceId,N,K,ce,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,E,ye)})}return this.delegate.listen(h,d,E)}}let Fs=(()=>{class I extends ya{constructor(d,E,N){super(d.body,E,N)}ngOnDestroy(){this.flush()}}return I.\u0275fac=function(d){return new(d||I)(v.LFG(m.K0),v.LFG(Ni),v.LFG(mi))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();const qi=new v.OlP("AnimationModuleType"),Ru=[{provide:fn,useClass:_a},{provide:mi,useFactory:function iu(){return new Wl}},{provide:ya,useClass:Fs},{provide:v.FYo,useFactory:function Ou(I,h,d){return new nu(I,h,d)},deps:[dt,ya,v.R0b]}],va=[{provide:Ni,useFactory:()=>new pl},{provide:qi,useValue:"BrowserAnimations"},...Ru],wi=[{provide:Ni,useClass:ua},{provide:qi,useValue:"NoopAnimations"},...Ru];let Qs=(()=>{class I{static withConfig(d){return{ngModule:I,providers:d.disableAnimations?wi:va}}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:va,imports:[Mr]}),I})();var su=V(2011),Ea=V(3692),pu=V(7246),ea=V(89);const wo_firebase={projectId:"tusalajuegosferrero",appId:"1:1087230018168:web:82bf6db7ae24c80744638d",storageBucket:"tusalajuegosferrero.appspot.com",locationId:"us-central",apiKey:"AIzaSyD85kWtl1fjlcXDC8TMskXGTuoL7V22Qao",authDomain:"tusalajuegosferrero.firebaseapp.com",messagingSenderId:"1087230018168",measurementId:"G-J94M4CMXQB"};var ou=V(577),Ho=V(6389),Ls=V(6127);let ta=(()=>{class I{constructor(){this.title="tuSalaJuegosFerrero"}}return I.\u0275fac=function(d){return new(d||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-root"]],decls:1,vars:0,template:function(d,E){1&d&&v._UZ(0,"router-outlet")},directives:[Re.lC],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:75vh;width:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mountains-1412683.svg/1280px-Mountains-1412683.svg.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}']}),I})();var Ws=V(7044);let gu=(()=>{class I{}return I.\u0275fac=function(d){return new(d||I)},I.\u0275mod=v.oAB({type:I,bootstrap:[ta]}),I.\u0275inj=v.cJS({providers:[],imports:[[Mr,us,Y.u5,ou.JuegosModule,Ho.m,(0,Ea.hX)(()=>(0,Ea.ZF)(wo_firebase)),(0,pu.AR)(()=>(0,pu.v0)()),(0,ea.Cm)(()=>(0,ea.ad)()),Y.UX,su.hO.initializeApp(wo_firebase),Qs,eo.forRoot(),Ls.x,Ws.T]]}),I})();(0,v.G48)(),br().bootstrapModule(gu).catch(I=>console.error(I))},8306:(Gt,He,V)=>{V.d(He,{y:()=>ae});var m=V(2961),v=V(727),_=V(8822),Ee=V(4671);var Se=V(2416),de=V(576),We=V(2806);let ae=(()=>{class ct{constructor(Ct){Ct&&(this._subscribe=Ct)}lift(Ct){const Ne=new ct;return Ne.source=this,Ne.operator=Ct,Ne}subscribe(Ct,Ne,st){const Mt=function at(ct){return ct&&ct instanceof m.Lv||function ke(ct){return ct&&(0,de.m)(ct.next)&&(0,de.m)(ct.error)&&(0,de.m)(ct.complete)}(ct)&&(0,v.Nn)(ct)}(Ct)?Ct:new m.Hp(Ct,Ne,st);return(0,We.x)(()=>{const{operator:Ft,source:Ge}=this;Mt.add(Ft?Ft.call(Mt,Ge):Ge?this._subscribe(Mt):this._trySubscribe(Mt))}),Mt}_trySubscribe(Ct){try{return this._subscribe(Ct)}catch(Ne){Ct.error(Ne)}}forEach(Ct,Ne){return new(Ne=he(Ne))((st,Mt)=>{const Ft=new m.Hp({next:Ge=>{try{Ct(Ge)}catch(Je){Mt(Je),Ft.unsubscribe()}},error:Mt,complete:st});this.subscribe(Ft)})}_subscribe(Ct){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(Ct)}[_.L](){return this}pipe(...Ct){return function Ae(ct){return 0===ct.length?Ee.y:1===ct.length?ct[0]:function(Ct){return ct.reduce((Ne,st)=>st(Ne),Ct)}}(Ct)(this)}toPromise(Ct){return new(Ct=he(Ct))((Ne,st)=>{let Mt;this.subscribe(Ft=>Mt=Ft,Ft=>st(Ft),()=>Ne(Mt))})}}return ct.create=tt=>new ct(tt),ct})();function he(ct){var tt;return null!==(tt=null!=ct?ct:Se.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Gt,He,V)=>{V.d(He,{x:()=>Se});var m=V(8306),v=V(727);const Ee=(0,V(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=V(8737),Ae=V(2806);let Se=(()=>{class We extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const ke=new de(this,this);return ke.operator=he,ke}_throwIfClosed(){if(this.closed)throw new Ee}next(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(he)}})}error(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:ke}=this;for(;ke.length;)ke.shift().error(he)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:ke,isStopped:at,observers:ct}=this;return ke||at?v.Lc:(this.currentObservers=null,ct.push(he),new v.w0(()=>{this.currentObservers=null,(0,oe.P)(ct,he)}))}_checkFinalizedStatuses(he){const{hasError:ke,thrownError:at,isStopped:ct}=this;ke?he.error(at):ct&&he.complete()}asObservable(){const he=new m.y;return he.source=this,he}}return We.create=(ae,he)=>new de(ae,he),We})();class de extends Se{constructor(ae,he){super(),this.destination=ae,this.source=he}next(ae){var he,ke;null===(ke=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===ke||ke.call(he,ae)}error(ae){var he,ke;null===(ke=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===ke||ke.call(he,ae)}complete(){var ae,he;null===(he=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===he||he.call(ae)}_subscribe(ae){var he,ke;return null!==(ke=null===(he=this.source)||void 0===he?void 0:he.subscribe(ae))&&void 0!==ke?ke:v.Lc}}},2961:(Gt,He,V)=>{V.d(He,{Hp:()=>Ct,Lv:()=>ke});var m=V(576),v=V(727),_=V(2416),Ee=V(7849);function oe(){}const Ae=We("C",void 0,void 0);function We(Ge,Je,ht){return{kind:Ge,value:Je,error:ht}}var ae=V(3410),he=V(2806);class ke extends v.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,v.Nn)(Je)&&Je.add(this)):this.destination=Ft}static create(Je,ht,nt){return new Ct(Je,ht,nt)}next(Je){this.isStopped?Mt(function de(Ge){return We("N",Ge,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?Mt(function Se(Ge){return We("E",void 0,Ge)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?Mt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function ct(Ge,Je){return at.call(Ge,Je)}class tt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:ht}=this;if(ht.next)try{ht.next(Je)}catch(nt){Ne(nt)}}error(Je){const{partialObserver:ht}=this;if(ht.error)try{ht.error(Je)}catch(nt){Ne(nt)}else Ne(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(ht){Ne(ht)}}}class Ct extends ke{constructor(Je,ht,nt){let vt;if(super(),(0,m.m)(Je)||!Je)vt={next:null!=Je?Je:void 0,error:null!=ht?ht:void 0,complete:null!=nt?nt:void 0};else{let ge;this&&_.v.useDeprecatedNextContext?(ge=Object.create(Je),ge.unsubscribe=()=>this.unsubscribe(),vt={next:Je.next&&ct(Je.next,ge),error:Je.error&&ct(Je.error,ge),complete:Je.complete&&ct(Je.complete,ge)}):vt=Je}this.destination=new tt(vt)}}function Ne(Ge){_.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Ge):(0,Ee.h)(Ge)}function Mt(Ge,Je){const{onStoppedNotification:ht}=_.v;ht&&ae.z.setTimeout(()=>ht(Ge,Je))}const Ft={closed:!0,next:oe,error:function st(Ge){throw Ge},complete:oe}},727:(Gt,He,V)=>{V.d(He,{Lc:()=>Ae,w0:()=>oe,Nn:()=>Se});var m=V(576);const _=(0,V(3888).d)(We=>function(he){We(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((ke,at)=>`${at+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ee=V(8737);class oe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ct of he)ct.remove(this);else he.remove(this);const{initialTeardown:ke}=this;if((0,m.m)(ke))try{ke()}catch(ct){ae=ct instanceof _?ct.errors:[ct]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const ct of at)try{de(ct)}catch(tt){ae=null!=ae?ae:[],tt instanceof _?ae=[...ae,...tt.errors]:ae.push(tt)}}if(ae)throw new _(ae)}}add(ae){var he;if(ae&&ae!==this)if(this.closed)de(ae);else{if(ae instanceof oe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ae)}}_hasParent(ae){const{_parentage:he}=this;return he===ae||Array.isArray(he)&&he.includes(ae)}_addParent(ae){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ae),he):he?[he,ae]:ae}_removeParent(ae){const{_parentage:he}=this;he===ae?this._parentage=null:Array.isArray(he)&&(0,Ee.P)(he,ae)}remove(ae){const{_finalizers:he}=this;he&&(0,Ee.P)(he,ae),ae instanceof oe&&ae._removeParent(this)}}oe.EMPTY=(()=>{const We=new oe;return We.closed=!0,We})();const Ae=oe.EMPTY;function Se(We){return We instanceof oe||We&&"closed"in We&&(0,m.m)(We.remove)&&(0,m.m)(We.add)&&(0,m.m)(We.unsubscribe)}function de(We){(0,m.m)(We)?We():We.unsubscribe()}},2416:(Gt,He,V)=>{V.d(He,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Gt,He,V)=>{V.d(He,{z:()=>oe});var m=V(8189),_=V(7669),Ee=V(8996);function oe(...Ae){return function v(){return(0,m.J)(1)}()((0,Ee.D)(Ae,(0,_.yG)(Ae)))}},515:(Gt,He,V)=>{V.d(He,{E:()=>v});const v=new(V(8306).y)(oe=>oe.complete())},8996:(Gt,He,V)=>{V.d(He,{D:()=>Je});var m=V(8421),v=V(5363),_=V(9468),Ae=V(8306),de=V(2202),We=V(576),ae=V(9672);function ke(ht,nt){if(!ht)throw new Error("Iterable cannot be null");return new Ae.y(vt=>{(0,ae.f)(vt,nt,()=>{const ge=ht[Symbol.asyncIterator]();(0,ae.f)(vt,nt,()=>{ge.next().then(St=>{St.done?vt.complete():vt.next(St.value)})},0,!0)})})}var at=V(3670),ct=V(8239),tt=V(1144),Ct=V(6495),Ne=V(2206),st=V(4532),Mt=V(3260);function Je(ht,nt){return nt?function Ge(ht,nt){if(null!=ht){if((0,at.c)(ht))return function Ee(ht,nt){return(0,m.Xf)(ht).pipe((0,_.R)(nt),(0,v.Q)(nt))}(ht,nt);if((0,tt.z)(ht))return function Se(ht,nt){return new Ae.y(vt=>{let ge=0;return nt.schedule(function(){ge===ht.length?vt.complete():(vt.next(ht[ge++]),vt.closed||this.schedule())})})}(ht,nt);if((0,ct.t)(ht))return function oe(ht,nt){return(0,m.Xf)(ht).pipe((0,_.R)(nt),(0,v.Q)(nt))}(ht,nt);if((0,Ne.D)(ht))return ke(ht,nt);if((0,Ct.T)(ht))return function he(ht,nt){return new Ae.y(vt=>{let ge;return(0,ae.f)(vt,nt,()=>{ge=ht[de.h](),(0,ae.f)(vt,nt,()=>{let St,Fe;try{({value:St,done:Fe}=ge.next())}catch(qe){return void vt.error(qe)}Fe?vt.complete():vt.next(St)},0,!0)}),()=>(0,We.m)(null==ge?void 0:ge.return)&&ge.return()})}(ht,nt);if((0,Mt.L)(ht))return function Ft(ht,nt){return ke((0,Mt.Q)(ht),nt)}(ht,nt)}throw(0,st.z)(ht)}(ht,nt):(0,m.Xf)(ht)}},8421:(Gt,He,V)=>{V.d(He,{Xf:()=>at});var m=V(655),v=V(1144),_=V(8239),Ee=V(8306),oe=V(3670),Ae=V(2206),Se=V(4532),de=V(6495),We=V(3260),ae=V(576),he=V(7849),ke=V(8822);function at(Ge){if(Ge instanceof Ee.y)return Ge;if(null!=Ge){if((0,oe.c)(Ge))return function ct(Ge){return new Ee.y(Je=>{const ht=Ge[ke.L]();if((0,ae.m)(ht.subscribe))return ht.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,v.z)(Ge))return function tt(Ge){return new Ee.y(Je=>{for(let ht=0;ht<Ge.length&&!Je.closed;ht++)Je.next(Ge[ht]);Je.complete()})}(Ge);if((0,_.t)(Ge))return function Ct(Ge){return new Ee.y(Je=>{Ge.then(ht=>{Je.closed||(Je.next(ht),Je.complete())},ht=>Je.error(ht)).then(null,he.h)})}(Ge);if((0,Ae.D)(Ge))return st(Ge);if((0,de.T)(Ge))return function Ne(Ge){return new Ee.y(Je=>{for(const ht of Ge)if(Je.next(ht),Je.closed)return;Je.complete()})}(Ge);if((0,We.L)(Ge))return function Mt(Ge){return st((0,We.Q)(Ge))}(Ge)}throw(0,Se.z)(Ge)}function st(Ge){return new Ee.y(Je=>{(function Ft(Ge,Je){var ht,nt,vt,ge;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ht=(0,m.KL)(Ge);!(nt=yield ht.next()).done;)if(Je.next(nt.value),Je.closed)return}catch(St){vt={error:St}}finally{try{nt&&!nt.done&&(ge=ht.return)&&(yield ge.call(ht))}finally{if(vt)throw vt.error}}Je.complete()})})(Ge,Je).catch(ht=>Je.error(ht))})}},6451:(Gt,He,V)=>{V.d(He,{T:()=>Ae});var m=V(8189),v=V(8421),_=V(515),Ee=V(7669),oe=V(8996);function Ae(...Se){const de=(0,Ee.yG)(Se),We=(0,Ee._6)(Se,1/0),ae=Se;return ae.length?1===ae.length?(0,v.Xf)(ae[0]):(0,m.J)(We)((0,oe.D)(ae,de)):_.E}},9646:(Gt,He,V)=>{V.d(He,{of:()=>_});var m=V(7669),v=V(8996);function _(...Ee){const oe=(0,m.yG)(Ee);return(0,v.D)(Ee,oe)}},5403:(Gt,He,V)=>{V.d(He,{x:()=>v});var m=V(2961);function v(Ee,oe,Ae,Se,de){return new _(Ee,oe,Ae,Se,de)}class _ extends m.Lv{constructor(oe,Ae,Se,de,We,ae){super(oe),this.onFinalize=We,this.shouldUnsubscribe=ae,this._next=Ae?function(he){try{Ae(he)}catch(ke){oe.error(ke)}}:super._next,this._error=de?function(he){try{de(he)}catch(ke){oe.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(he){oe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4351:(Gt,He,V)=>{V.d(He,{b:()=>_});var m=V(5577),v=V(576);function _(Ee,oe){return(0,v.m)(oe)?(0,m.z)(Ee,oe,1):(0,m.z)(Ee,1)}},6590:(Gt,He,V)=>{V.d(He,{d:()=>_});var m=V(4482),v=V(5403);function _(Ee){return(0,m.e)((oe,Ae)=>{let Se=!1;oe.subscribe((0,v.x)(Ae,de=>{Se=!0,Ae.next(de)},()=>{Se||Ae.next(Ee),Ae.complete()}))})}},9300:(Gt,He,V)=>{V.d(He,{h:()=>_});var m=V(4482),v=V(5403);function _(Ee,oe){return(0,m.e)((Ae,Se)=>{let de=0;Ae.subscribe((0,v.x)(Se,We=>Ee.call(oe,We,de++)&&Se.next(We)))})}},590:(Gt,He,V)=>{V.d(He,{P:()=>Se});var m=V(6805),v=V(9300),_=V(5698),Ee=V(6590),oe=V(8068),Ae=V(4671);function Se(de,We){const ae=arguments.length>=2;return he=>he.pipe(de?(0,v.h)((ke,at)=>de(ke,at,he)):Ae.y,(0,_.q)(1),ae?(0,Ee.d)(We):(0,oe.T)(()=>new m.K))}},4004:(Gt,He,V)=>{V.d(He,{U:()=>_});var m=V(4482),v=V(5403);function _(Ee,oe){return(0,m.e)((Ae,Se)=>{let de=0;Ae.subscribe((0,v.x)(Se,We=>{Se.next(Ee.call(oe,We,de++))}))})}},8189:(Gt,He,V)=>{V.d(He,{J:()=>_});var m=V(5577),v=V(4671);function _(Ee=1/0){return(0,m.z)(v.y,Ee)}},5577:(Gt,He,V)=>{V.d(He,{z:()=>de});var m=V(4004),v=V(8421),_=V(4482),Ee=V(9672),oe=V(5403),Se=V(576);function de(We,ae,he=1/0){return(0,Se.m)(ae)?de((ke,at)=>(0,m.U)((ct,tt)=>ae(ke,ct,at,tt))((0,v.Xf)(We(ke,at))),he):("number"==typeof ae&&(he=ae),(0,_.e)((ke,at)=>function Ae(We,ae,he,ke,at,ct,tt,Ct){const Ne=[];let st=0,Mt=0,Ft=!1;const Ge=()=>{Ft&&!Ne.length&&!st&&ae.complete()},Je=nt=>st<ke?ht(nt):Ne.push(nt),ht=nt=>{ct&&ae.next(nt),st++;let vt=!1;(0,v.Xf)(he(nt,Mt++)).subscribe((0,oe.x)(ae,ge=>{null==at||at(ge),ct?Je(ge):ae.next(ge)},()=>{vt=!0},void 0,()=>{if(vt)try{for(st--;Ne.length&&st<ke;){const ge=Ne.shift();tt?(0,Ee.f)(ae,tt,()=>ht(ge)):ht(ge)}Ge()}catch(ge){ae.error(ge)}}))};return We.subscribe((0,oe.x)(ae,Je,()=>{Ft=!0,Ge()})),()=>{null==Ct||Ct()}}(ke,at,We,he)))}},5363:(Gt,He,V)=>{V.d(He,{Q:()=>Ee});var m=V(9672),v=V(4482),_=V(5403);function Ee(oe,Ae=0){return(0,v.e)((Se,de)=>{Se.subscribe((0,_.x)(de,We=>(0,m.f)(de,oe,()=>de.next(We),Ae),()=>(0,m.f)(de,oe,()=>de.complete(),Ae),We=>(0,m.f)(de,oe,()=>de.error(We),Ae)))})}},5026:(Gt,He,V)=>{V.d(He,{R:()=>Ee});var m=V(4482),v=V(5403);function _(oe,Ae,Se,de,We){return(ae,he)=>{let ke=Se,at=Ae,ct=0;ae.subscribe((0,v.x)(he,tt=>{const Ct=ct++;at=ke?oe(at,tt,Ct):(ke=!0,tt),de&&he.next(at)},We&&(()=>{ke&&he.next(at),he.complete()})))}}function Ee(oe,Ae){return(0,m.e)(_(oe,Ae,arguments.length>=2,!0))}},3099:(Gt,He,V)=>{V.d(He,{B:()=>oe});var m=V(8421),v=V(7579),_=V(2961),Ee=V(4482);function oe(Se={}){const{connector:de=(()=>new v.x),resetOnError:We=!0,resetOnComplete:ae=!0,resetOnRefCountZero:he=!0}=Se;return ke=>{let at,ct,tt,Ct=0,Ne=!1,st=!1;const Mt=()=>{null==ct||ct.unsubscribe(),ct=void 0},Ft=()=>{Mt(),at=tt=void 0,Ne=st=!1},Ge=()=>{const Je=at;Ft(),null==Je||Je.unsubscribe()};return(0,Ee.e)((Je,ht)=>{Ct++,!st&&!Ne&&Mt();const nt=tt=null!=tt?tt:de();ht.add(()=>{Ct--,0===Ct&&!st&&!Ne&&(ct=Ae(Ge,he))}),nt.subscribe(ht),!at&&Ct>0&&(at=new _.Hp({next:vt=>nt.next(vt),error:vt=>{st=!0,Mt(),ct=Ae(Ft,We,vt),nt.error(vt)},complete:()=>{Ne=!0,Mt(),ct=Ae(Ft,ae),nt.complete()}}),(0,m.Xf)(Je).subscribe(at))})(ke)}}function Ae(Se,de,...We){if(!0===de)return void Se();if(!1===de)return;const ae=new _.Hp({next:()=>{ae.unsubscribe(),Se()}});return de(...We).subscribe(ae)}},8675:(Gt,He,V)=>{V.d(He,{O:()=>Ee});var m=V(7272),v=V(7669),_=V(4482);function Ee(...oe){const Ae=(0,v.yG)(oe);return(0,_.e)((Se,de)=>{(Ae?(0,m.z)(oe,Se,Ae):(0,m.z)(oe,Se)).subscribe(de)})}},9468:(Gt,He,V)=>{V.d(He,{R:()=>v});var m=V(4482);function v(_,Ee=0){return(0,m.e)((oe,Ae)=>{Ae.add(_.schedule(()=>oe.subscribe(Ae),Ee))})}},3900:(Gt,He,V)=>{V.d(He,{w:()=>Ee});var m=V(8421),v=V(4482),_=V(5403);function Ee(oe,Ae){return(0,v.e)((Se,de)=>{let We=null,ae=0,he=!1;const ke=()=>he&&!We&&de.complete();Se.subscribe((0,_.x)(de,at=>{null==We||We.unsubscribe();let ct=0;const tt=ae++;(0,m.Xf)(oe(at,tt)).subscribe(We=(0,_.x)(de,Ct=>de.next(Ae?Ae(at,Ct,tt,ct++):Ct),()=>{We=null,ke()}))},()=>{he=!0,ke()}))})}},5698:(Gt,He,V)=>{V.d(He,{q:()=>Ee});var m=V(515),v=V(4482),_=V(5403);function Ee(oe){return oe<=0?()=>m.E:(0,v.e)((Ae,Se)=>{let de=0;Ae.subscribe((0,_.x)(Se,We=>{++de<=oe&&(Se.next(We),oe<=de&&Se.complete())}))})}},8505:(Gt,He,V)=>{V.d(He,{b:()=>oe});var m=V(576),v=V(4482),_=V(5403),Ee=V(4671);function oe(Ae,Se,de){const We=(0,m.m)(Ae)||Se||de?{next:Ae,error:Se,complete:de}:Ae;return We?(0,v.e)((ae,he)=>{var ke;null===(ke=We.subscribe)||void 0===ke||ke.call(We);let at=!0;ae.subscribe((0,_.x)(he,ct=>{var tt;null===(tt=We.next)||void 0===tt||tt.call(We,ct),he.next(ct)},()=>{var ct;at=!1,null===(ct=We.complete)||void 0===ct||ct.call(We),he.complete()},ct=>{var tt;at=!1,null===(tt=We.error)||void 0===tt||tt.call(We,ct),he.error(ct)},()=>{var ct,tt;at&&(null===(ct=We.unsubscribe)||void 0===ct||ct.call(We)),null===(tt=We.finalize)||void 0===tt||tt.call(We)}))}):Ee.y}},8068:(Gt,He,V)=>{V.d(He,{T:()=>Ee});var m=V(6805),v=V(4482),_=V(5403);function Ee(Ae=oe){return(0,v.e)((Se,de)=>{let We=!1;Se.subscribe((0,_.x)(de,ae=>{We=!0,de.next(ae)},()=>We?de.complete():de.error(Ae())))})}function oe(){return new m.K}},4408:(Gt,He,V)=>{V.d(He,{o:()=>oe});var m=V(727);class v extends m.w0{constructor(Se,de){super()}schedule(Se,de=0){return this}}const _={setInterval(Ae,Se,...de){const{delegate:We}=_;return(null==We?void 0:We.setInterval)?We.setInterval(Ae,Se,...de):setInterval(Ae,Se,...de)},clearInterval(Ae){const{delegate:Se}=_;return((null==Se?void 0:Se.clearInterval)||clearInterval)(Ae)},delegate:void 0};var Ee=V(8737);class oe extends v{constructor(Se,de){super(Se,de),this.scheduler=Se,this.work=de,this.pending=!1}schedule(Se,de=0){if(this.closed)return this;this.state=Se;const We=this.id,ae=this.scheduler;return null!=We&&(this.id=this.recycleAsyncId(ae,We,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(ae,this.id,de),this}requestAsyncId(Se,de,We=0){return _.setInterval(Se.flush.bind(Se,this),We)}recycleAsyncId(Se,de,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return de;_.clearInterval(de)}execute(Se,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(Se,de);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,de){let ae,We=!1;try{this.work(Se)}catch(he){We=!0,ae=he||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Se,scheduler:de}=this,{actions:We}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.P)(We,this),null!=Se&&(this.id=this.recycleAsyncId(de,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,He,V)=>{V.d(He,{v:()=>_});var m=V(6063);class v{constructor(oe,Ae=v.now){this.schedulerActionCtor=oe,this.now=Ae}schedule(oe,Ae=0,Se){return new this.schedulerActionCtor(this,oe).schedule(Se,Ae)}}v.now=m.l.now;class _ extends v{constructor(oe,Ae=v.now){super(oe,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:Ae}=this;if(this._active)return void Ae.push(oe);let Se;this._active=!0;do{if(Se=oe.execute(oe.state,oe.delay))break}while(oe=Ae.shift());if(this._active=!1,Se){for(;oe=Ae.shift();)oe.unsubscribe();throw Se}}}},4986:(Gt,He,V)=>{V.d(He,{z:()=>_});var m=V(4408);const _=new(V(7565).v)(m.o)},6063:(Gt,He,V)=>{V.d(He,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(Gt,He,V)=>{V.d(He,{z:()=>m});const m={setTimeout(v,_,...Ee){const{delegate:oe}=m;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(v,_,...Ee):setTimeout(v,_,...Ee)},clearTimeout(v){const{delegate:_}=m;return((null==_?void 0:_.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(Gt,He,V)=>{V.d(He,{h:()=>v});const v=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,He,V)=>{V.d(He,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,He,V)=>{V.d(He,{K:()=>v});const v=(0,V(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Gt,He,V)=>{V.d(He,{_6:()=>Ae,jO:()=>Ee,yG:()=>oe});var m=V(576);function _(Se){return Se[Se.length-1]}function Ee(Se){return(0,m.m)(_(Se))?Se.pop():void 0}function oe(Se){return function v(Se){return Se&&(0,m.m)(Se.schedule)}(_(Se))?Se.pop():void 0}function Ae(Se,de){return"number"==typeof _(Se)?Se.pop():de}},4742:(Gt,He,V)=>{V.d(He,{D:()=>oe});const{isArray:m}=Array,{getPrototypeOf:v,prototype:_,keys:Ee}=Object;function oe(Se){if(1===Se.length){const de=Se[0];if(m(de))return{args:de,keys:null};if(function Ae(Se){return Se&&"object"==typeof Se&&v(Se)===_}(de)){const We=Ee(de);return{args:We.map(ae=>de[ae]),keys:We}}}return{args:Se,keys:null}}},8737:(Gt,He,V)=>{function m(v,_){if(v){const Ee=v.indexOf(_);0<=Ee&&v.splice(Ee,1)}}V.d(He,{P:()=>m})},3888:(Gt,He,V)=>{function m(v){const Ee=v(oe=>{Error.call(oe),oe.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}V.d(He,{d:()=>m})},1810:(Gt,He,V)=>{function m(v,_){return v.reduce((Ee,oe,Ae)=>(Ee[oe]=_[Ae],Ee),{})}V.d(He,{n:()=>m})},2806:(Gt,He,V)=>{V.d(He,{O:()=>Ee,x:()=>_});var m=V(2416);let v=null;function _(oe){if(m.v.useDeprecatedSynchronousErrorHandling){const Ae=!v;if(Ae&&(v={errorThrown:!1,error:null}),oe(),Ae){const{errorThrown:Se,error:de}=v;if(v=null,Se)throw de}}else oe()}function Ee(oe){m.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=oe)}},9672:(Gt,He,V)=>{function m(v,_,Ee,oe=0,Ae=!1){const Se=_.schedule(function(){Ee(),Ae?v.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(v.add(Se),!Ae)return Se}V.d(He,{f:()=>m})},4671:(Gt,He,V)=>{function m(v){return v}V.d(He,{y:()=>m})},1144:(Gt,He,V)=>{V.d(He,{z:()=>m});const m=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Gt,He,V)=>{V.d(He,{D:()=>v});var m=V(576);function v(_){return Symbol.asyncIterator&&(0,m.m)(null==_?void 0:_[Symbol.asyncIterator])}},576:(Gt,He,V)=>{function m(v){return"function"==typeof v}V.d(He,{m:()=>m})},3670:(Gt,He,V)=>{V.d(He,{c:()=>_});var m=V(8822),v=V(576);function _(Ee){return(0,v.m)(Ee[m.L])}},6495:(Gt,He,V)=>{V.d(He,{T:()=>_});var m=V(2202),v=V(576);function _(Ee){return(0,v.m)(null==Ee?void 0:Ee[m.h])}},8239:(Gt,He,V)=>{V.d(He,{t:()=>v});var m=V(576);function v(_){return(0,m.m)(null==_?void 0:_.then)}},3260:(Gt,He,V)=>{V.d(He,{L:()=>Ee,Q:()=>_});var m=V(655),v=V(576);function _(oe){return(0,m.FC)(this,arguments,function*(){const Se=oe.getReader();try{for(;;){const{value:de,done:We}=yield(0,m.qq)(Se.read());if(We)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(de)}}finally{Se.releaseLock()}})}function Ee(oe){return(0,v.m)(null==oe?void 0:oe.getReader)}},4482:(Gt,He,V)=>{V.d(He,{A:()=>v,e:()=>_});var m=V(576);function v(Ee){return(0,m.m)(null==Ee?void 0:Ee.lift)}function _(Ee){return oe=>{if(v(oe))return oe.lift(function(Ae){try{return Ee(Ae,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,He,V)=>{V.d(He,{Z:()=>Ee});var m=V(4004);const{isArray:v}=Array;function Ee(oe){return(0,m.U)(Ae=>function _(oe,Ae){return v(Ae)?oe(...Ae):oe(Ae)}(oe,Ae))}},7849:(Gt,He,V)=>{V.d(He,{h:()=>_});var m=V(2416),v=V(3410);function _(Ee){v.z.setTimeout(()=>{const{onUnhandledError:oe}=m.v;if(!oe)throw Ee;oe(Ee)})}},4532:(Gt,He,V)=>{function m(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(He,{z:()=>m})},655:(Gt,He,V)=>{function Ee(Fe,qe){var Ye={};for(var dt in Fe)Object.prototype.hasOwnProperty.call(Fe,dt)&&qe.indexOf(dt)<0&&(Ye[dt]=Fe[dt]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(dt=Object.getOwnPropertySymbols(Fe);ut<dt.length;ut++)qe.indexOf(dt[ut])<0&&Object.prototype.propertyIsEnumerable.call(Fe,dt[ut])&&(Ye[dt[ut]]=Fe[dt[ut]])}return Ye}function de(Fe,qe,Ye,dt){return new(Ye||(Ye=Promise))(function(bt,zt){function $t(Yn){try{It(dt.next(Yn))}catch(dn){zt(dn)}}function un(Yn){try{It(dt.throw(Yn))}catch(dn){zt(dn)}}function It(Yn){Yn.done?bt(Yn.value):function ut(bt){return bt instanceof Ye?bt:new Ye(function(zt){zt(bt)})}(Yn.value).then($t,un)}It((dt=dt.apply(Fe,qe||[])).next())})}function Ne(Fe){return this instanceof Ne?(this.v=Fe,this):new Ne(Fe)}function st(Fe,qe,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,dt=Ye.apply(Fe,qe||[]),bt=[];return ut={},zt("next"),zt("throw"),zt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function zt(Yt){dt[Yt]&&(ut[Yt]=function(xn){return new Promise(function(wn,Hn){bt.push([Yt,xn,wn,Hn])>1||$t(Yt,xn)})})}function $t(Yt,xn){try{!function un(Yt){Yt.value instanceof Ne?Promise.resolve(Yt.value.v).then(It,Yn):dn(bt[0][2],Yt)}(dt[Yt](xn))}catch(wn){dn(bt[0][3],wn)}}function It(Yt){$t("next",Yt)}function Yn(Yt){$t("throw",Yt)}function dn(Yt,xn){Yt(xn),bt.shift(),bt.length&&$t(bt[0][0],bt[0][1])}}function Ft(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,qe=Fe[Symbol.asyncIterator];return qe?qe.call(Fe):(Fe=function ke(Fe){var qe="function"==typeof Symbol&&Symbol.iterator,Ye=qe&&Fe[qe],dt=0;if(Ye)return Ye.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&dt>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[dt++],done:!Fe}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),Ye={},dt("next"),dt("throw"),dt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function dt(bt){Ye[bt]=Fe[bt]&&function(zt){return new Promise(function($t,un){!function ut(bt,zt,$t,un){Promise.resolve(un).then(function(It){bt({value:It,done:$t})},zt)}($t,un,(zt=Fe[bt](zt)).done,zt.value)})}}}V.d(He,{FC:()=>st,KL:()=>Ft,_T:()=>Ee,mG:()=>de,qq:()=>Ne})},9808:(Gt,He,V)=>{V.d(He,{Do:()=>Ge,EM:()=>tr,HT:()=>oe,JF:()=>ii,K0:()=>Se,Mx:()=>Ii,O5:()=>Si,PM:()=>to,S$:()=>Ne,V_:()=>ae,Ye:()=>Je,b0:()=>Ft,bD:()=>_s,ez:()=>Wo,lw:()=>de,mk:()=>Br,mr:()=>Mt,q:()=>_,sg:()=>or,w_:()=>Ae});var m=V(5e3);let v=null;function _(){return v}function oe(U){v||(v=U)}class Ae{}const Se=new m.OlP("DocumentToken");let de=(()=>{class U{historyGo(L){throw new Error("Not implemented")}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return function We(){return(0,m.LFG)(he)}()},providedIn:"platform"}),U})();const ae=new m.OlP("Location Initialized");let he=(()=>{class U extends de{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(L){const ne=_().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",L,!1),()=>ne.removeEventListener("popstate",L)}onHashChange(L){const ne=_().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",L,!1),()=>ne.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,ne,Te){ke()?this._history.pushState(L,ne,Te):this.location.hash=Te}replaceState(L,ne,Te){ke()?this._history.replaceState(L,ne,Te):this.location.hash=Te}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return U.\u0275fac=function(L){return new(L||U)(m.LFG(Se))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function at(){return new he((0,m.LFG)(Se))}()},providedIn:"platform"}),U})();function ke(){return!!window.history.pushState}function ct(U,Q){if(0==U.length)return Q;if(0==Q.length)return U;let L=0;return U.endsWith("/")&&L++,Q.startsWith("/")&&L++,2==L?U+Q.substring(1):1==L?U+Q:U+"/"+Q}function tt(U){const Q=U.match(/#|\?|$/),L=Q&&Q.index||U.length;return U.slice(0,L-("/"===U[L-1]?1:0))+U.slice(L)}function Ct(U){return U&&"?"!==U[0]?"?"+U:U}let Ne=(()=>{class U{historyGo(L){throw new Error("Not implemented")}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return function st(U){const Q=(0,m.LFG)(Se).location;return new Ft((0,m.LFG)(de),Q&&Q.origin||"")}()},providedIn:"root"}),U})();const Mt=new m.OlP("appBaseHref");let Ft=(()=>{class U extends Ne{constructor(L,ne){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==ne&&(ne=this._platformLocation.getBaseHrefFromDOM()),null==ne)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ne}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ct(this._baseHref,L)}path(L=!1){const ne=this._platformLocation.pathname+Ct(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&L?`${ne}${Te}`:ne}pushState(L,ne,Te,ft){const Dt=this.prepareExternalUrl(Te+Ct(ft));this._platformLocation.pushState(L,ne,Dt)}replaceState(L,ne,Te,ft){const Dt=this.prepareExternalUrl(Te+Ct(ft));this._platformLocation.replaceState(L,ne,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ne,Te;null===(Te=(ne=this._platformLocation).historyGo)||void 0===Te||Te.call(ne,L)}}return U.\u0275fac=function(L){return new(L||U)(m.LFG(de),m.LFG(Mt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})(),Ge=(()=>{class U extends Ne{constructor(L,ne){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(L){const ne=ct(this._baseHref,L);return ne.length>0?"#"+ne:ne}pushState(L,ne,Te,ft){let Dt=this.prepareExternalUrl(Te+Ct(ft));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(L,ne,Dt)}replaceState(L,ne,Te,ft){let Dt=this.prepareExternalUrl(Te+Ct(ft));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(L,ne,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ne,Te;null===(Te=(ne=this._platformLocation).historyGo)||void 0===Te||Te.call(ne,L)}}return U.\u0275fac=function(L){return new(L||U)(m.LFG(de),m.LFG(Mt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})(),Je=(()=>{class U{constructor(L,ne){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const Te=this._platformStrategy.getBaseHref();this._platformLocation=ne,this._baseHref=tt(vt(Te)),this._platformStrategy.onPopState(ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:ft.state,type:ft.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,ne=""){return this.path()==this.normalize(L+Ct(ne))}normalize(L){return U.stripTrailingSlash(function nt(U,Q){return U&&Q.startsWith(U)?Q.substring(U.length):Q}(this._baseHref,vt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,ne="",Te=null){this._platformStrategy.pushState(Te,"",L,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ct(ne)),Te)}replaceState(L,ne="",Te=null){this._platformStrategy.replaceState(Te,"",L,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ct(ne)),Te)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var ne,Te;null===(Te=(ne=this._platformStrategy).historyGo)||void 0===Te||Te.call(ne,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}))}_notifyUrlChangeListeners(L="",ne){this._urlChangeListeners.forEach(Te=>Te(L,ne))}subscribe(L,ne,Te){return this._subject.subscribe({next:L,error:ne,complete:Te})}}return U.normalizeQueryParams=Ct,U.joinWithSlash=ct,U.stripTrailingSlash=tt,U.\u0275fac=function(L){return new(L||U)(m.LFG(Ne),m.LFG(de))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function ht(){return new Je((0,m.LFG)(Ne),(0,m.LFG)(de))}()},providedIn:"root"}),U})();function vt(U){return U.replace(/\/index.html$/,"")}function Ii(U,Q){Q=encodeURIComponent(Q);for(const L of U.split(";")){const ne=L.indexOf("="),[Te,ft]=-1==ne?[L,""]:[L.slice(0,ne),L.slice(ne+1)];if(Te.trim()===Q)return decodeURIComponent(ft)}return null}let Br=(()=>{class U{constructor(L,ne,Te,ft){this._iterableDiffers=L,this._keyValueDiffers=ne,this._ngEl=Te,this._renderer=ft,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),L.forEachChangedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),L.forEachRemovedItem(ne=>{ne.previousValue&&this._toggleClass(ne.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(ne=>{if("string"!=typeof ne.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(ne.item)}`);this._toggleClass(ne.item,!0)}),L.forEachRemovedItem(ne=>this._toggleClass(ne.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(ne=>this._toggleClass(ne,!0)):Object.keys(L).forEach(ne=>this._toggleClass(ne,!!L[ne])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(ne=>this._toggleClass(ne,!1)):Object.keys(L).forEach(ne=>this._toggleClass(ne,!1)))}_toggleClass(L,ne){(L=L.trim())&&L.split(/\s+/g).forEach(Te=>{ne?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}}return U.\u0275fac=function(L){return new(L||U)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Ti{constructor(Q,L,ne,Te){this.$implicit=Q,this.ngForOf=L,this.index=ne,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class U{constructor(L,ne,Te){this._viewContainer=L,this._template=ne,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ne=this._viewContainer;L.forEachOperation((Te,ft,Dt)=>{if(null==Te.previousIndex)ne.createEmbeddedView(this._template,new Ti(Te.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)ne.remove(null===ft?void 0:ft);else if(null!==ft){const ln=ne.get(ft);ne.move(ln,Dt),Di(ln,Te)}});for(let Te=0,ft=ne.length;Te<ft;Te++){const ln=ne.get(Te).context;ln.index=Te,ln.count=ft,ln.ngForOf=this._ngForOf}L.forEachIdentityChange(Te=>{Di(ne.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(L,ne){return!0}}return U.\u0275fac=function(L){return new(L||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function Di(U,Q){U.context.$implicit=Q.item}let Si=(()=>{class U{constructor(L,ne){this._viewContainer=L,this._context=new Or,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Ve("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Ve("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ne){return!0}}return U.\u0275fac=function(L){return new(L||U)(m.Y36(m.s_b),m.Y36(m.Rgc))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Or{constructor(){this.$implicit=null,this.ngIf=null}}function Ve(U,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,m.AaK)(Q)}'.`)}let Wo=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=m.oAB({type:U}),U.\u0275inj=m.cJS({}),U})();const _s="browser";function to(U){return"server"===U}let tr=(()=>{class U{}return U.\u0275prov=(0,m.Yz7)({token:U,providedIn:"root",factory:()=>new ls((0,m.LFG)(Se),window)}),U})();class ls{constructor(Q,L){this.document=Q,this.window=L,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const L=function fo(U,Q){const L=U.getElementById(Q)||U.getElementsByName(Q)[0];if(L)return L;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const ne=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Te=ne.currentNode;for(;Te;){const ft=Te.shadowRoot;if(ft){const Dt=ft.getElementById(Q)||ft.querySelector(`[name="${Q}"]`);if(Dt)return Dt}Te=ne.nextNode()}}return null}(this.document,Q);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Q)}}scrollToElement(Q){const L=Q.getBoundingClientRect(),ne=L.left+this.window.pageXOffset,Te=L.top+this.window.pageYOffset,ft=this.offset();this.window.scrollTo(ne-ft[0],Te-ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=Ki(this.window.history)||Ki(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function Ki(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ii{}},520:(Gt,He,V)=>{V.d(He,{JF:()=>pn,eN:()=>ut});var m=V(9808),v=V(5e3),_=V(9646),Ee=V(8306),oe=V(4351),Ae=V(9300),Se=V(4004);class de{}class We{}class ae{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(xe=>{const gt=xe.indexOf(":");if(gt>0){const Le=xe.slice(0,gt),xt=Le.toLowerCase(),Ot=xe.slice(gt+1).trim();this.maybeSetNormalizedName(Le,xt),this.headers.has(xt)?this.headers.get(xt).push(Ot):this.headers.set(xt,[Ot])}})}:()=>{this.headers=new Map,Object.keys(be).forEach(xe=>{let gt=be[xe];const Le=xe.toLowerCase();"string"==typeof gt&&(gt=[gt]),gt.length>0&&(this.headers.set(Le,gt),this.maybeSetNormalizedName(xe,Le))})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const xe=this.headers.get(be.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,xe){return this.clone({name:be,value:xe,op:"a"})}set(be,xe){return this.clone({name:be,value:xe,op:"s"})}delete(be,xe){return this.clone({name:be,value:xe,op:"d"})}maybeSetNormalizedName(be,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,be)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(xe=>{this.headers.set(xe,be.headers.get(xe)),this.normalizedNames.set(xe,be.normalizedNames.get(xe))})}clone(be){const xe=new ae;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([be]),xe}applyUpdate(be){const xe=be.name.toLowerCase();switch(be.op){case"a":case"s":let gt=be.value;if("string"==typeof gt&&(gt=[gt]),0===gt.length)return;this.maybeSetNormalizedName(be.name,xe);const Le=("a"===be.op?this.headers.get(xe):void 0)||[];Le.push(...gt),this.headers.set(xe,Le);break;case"d":const xt=be.value;if(xt){let Ot=this.headers.get(xe);if(!Ot)return;Ot=Ot.filter(Xn=>-1===xt.indexOf(Xn)),0===Ot.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,Ot)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>be(this.normalizedNames.get(xe),this.headers.get(xe)))}}class he{encodeKey(be){return tt(be)}encodeValue(be){return tt(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const at=/%(\d[a-f0-9])/gi,ct={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tt(mt){return encodeURIComponent(mt).replace(at,(be,xe)=>{var gt;return null!==(gt=ct[xe])&&void 0!==gt?gt:be})}function Ct(mt){return`${mt}`}class Ne{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new he,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(mt,be){const xe=new Map;return mt.length>0&&mt.replace(/^\?/,"").split("&").forEach(Le=>{const xt=Le.indexOf("="),[Ot,Xn]=-1==xt?[be.decodeKey(Le),""]:[be.decodeKey(Le.slice(0,xt)),be.decodeValue(Le.slice(xt+1))],On=xe.get(Ot)||[];On.push(Xn),xe.set(Ot,On)}),xe}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(xe=>{const gt=be.fromObject[xe];this.map.set(xe,Array.isArray(gt)?gt:[gt])})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const xe=this.map.get(be);return xe?xe[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,xe){return this.clone({param:be,value:xe,op:"a"})}appendAll(be){const xe=[];return Object.keys(be).forEach(gt=>{const Le=be[gt];Array.isArray(Le)?Le.forEach(xt=>{xe.push({param:gt,value:xt,op:"a"})}):xe.push({param:gt,value:Le,op:"a"})}),this.clone(xe)}set(be,xe){return this.clone({param:be,value:xe,op:"s"})}delete(be,xe){return this.clone({param:be,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const xe=this.encoder.encodeKey(be);return this.map.get(be).map(gt=>xe+"="+this.encoder.encodeValue(gt)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const xe=new Ne({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(be),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const xe=("a"===be.op?this.map.get(be.param):void 0)||[];xe.push(Ct(be.value)),this.map.set(be.param,xe);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let gt=this.map.get(be.param)||[];const Le=gt.indexOf(Ct(be.value));-1!==Le&&gt.splice(Le,1),gt.length>0?this.map.set(be.param,gt):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Mt{constructor(){this.map=new Map}set(be,xe){return this.map.set(be,xe),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function Ge(mt){return"undefined"!=typeof ArrayBuffer&&mt instanceof ArrayBuffer}function Je(mt){return"undefined"!=typeof Blob&&mt instanceof Blob}function ht(mt){return"undefined"!=typeof FormData&&mt instanceof FormData}class vt{constructor(be,xe,gt,Le){let xt;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function Ft(mt){switch(mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Le?(this.body=void 0!==gt?gt:null,xt=Le):xt=gt,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params)),this.headers||(this.headers=new ae),this.context||(this.context=new Mt),this.params){const Ot=this.params.toString();if(0===Ot.length)this.urlWithParams=xe;else{const Xn=xe.indexOf("?");this.urlWithParams=xe+(-1===Xn?"?":Xn<xe.length-1?"&":"")+Ot}}else this.params=new Ne,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ge(this.body)||Je(this.body)||ht(this.body)||function nt(mt){return"undefined"!=typeof URLSearchParams&&mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ht(this.body)?null:Je(this.body)?this.body.type||null:Ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){var xe;const gt=be.method||this.method,Le=be.url||this.url,xt=be.responseType||this.responseType,Ot=void 0!==be.body?be.body:this.body,Xn=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,On=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let Cn=be.headers||this.headers,Gr=be.params||this.params;const pr=null!==(xe=be.context)&&void 0!==xe?xe:this.context;return void 0!==be.setHeaders&&(Cn=Object.keys(be.setHeaders).reduce((Rn,Ht)=>Rn.set(Ht,be.setHeaders[Ht]),Cn)),be.setParams&&(Gr=Object.keys(be.setParams).reduce((Rn,Ht)=>Rn.set(Ht,be.setParams[Ht]),Gr)),new vt(gt,Le,Ot,{params:Gr,headers:Cn,context:pr,reportProgress:On,responseType:xt,withCredentials:Xn})}}var ge=(()=>((ge=ge||{})[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge))();class St{constructor(be,xe=200,gt="OK"){this.headers=be.headers||new ae,this.status=void 0!==be.status?be.status:xe,this.statusText=be.statusText||gt,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class Fe extends St{constructor(be={}){super(be),this.type=ge.ResponseHeader}clone(be={}){return new Fe({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class qe extends St{constructor(be={}){super(be),this.type=ge.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new qe({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Ye extends St{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function dt(mt,be){return{body:be,headers:mt.headers,context:mt.context,observe:mt.observe,params:mt.params,reportProgress:mt.reportProgress,responseType:mt.responseType,withCredentials:mt.withCredentials}}let ut=(()=>{class mt{constructor(xe){this.handler=xe}request(xe,gt,Le={}){let xt;if(xe instanceof vt)xt=xe;else{let On,Cn;On=Le.headers instanceof ae?Le.headers:new ae(Le.headers),Le.params&&(Cn=Le.params instanceof Ne?Le.params:new Ne({fromObject:Le.params})),xt=new vt(xe,gt,void 0!==Le.body?Le.body:null,{headers:On,context:Le.context,params:Cn,reportProgress:Le.reportProgress,responseType:Le.responseType||"json",withCredentials:Le.withCredentials})}const Ot=(0,_.of)(xt).pipe((0,oe.b)(On=>this.handler.handle(On)));if(xe instanceof vt||"events"===Le.observe)return Ot;const Xn=Ot.pipe((0,Ae.h)(On=>On instanceof qe));switch(Le.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return Xn.pipe((0,Se.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return Xn.pipe((0,Se.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return Xn.pipe((0,Se.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));default:return Xn.pipe((0,Se.U)(On=>On.body))}case"response":return Xn;default:throw new Error(`Unreachable: unhandled observe type ${Le.observe}}`)}}delete(xe,gt={}){return this.request("DELETE",xe,gt)}get(xe,gt={}){return this.request("GET",xe,gt)}head(xe,gt={}){return this.request("HEAD",xe,gt)}jsonp(xe,gt){return this.request("JSONP",xe,{params:(new Ne).append(gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,gt={}){return this.request("OPTIONS",xe,gt)}patch(xe,gt,Le={}){return this.request("PATCH",xe,dt(Le,gt))}post(xe,gt,Le={}){return this.request("POST",xe,dt(Le,gt))}put(xe,gt,Le={}){return this.request("PUT",xe,dt(Le,gt))}}return mt.\u0275fac=function(xe){return new(xe||mt)(v.LFG(de))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})();class bt{constructor(be,xe){this.next=be,this.interceptor=xe}handle(be){return this.interceptor.intercept(be,this.next)}}const zt=new v.OlP("HTTP_INTERCEPTORS");let $t=(()=>{class mt{intercept(xe,gt){return gt.handle(xe)}}return mt.\u0275fac=function(xe){return new(xe||mt)},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const Tn=/^\)\]\}',?\n/;let _r=(()=>{class mt{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(gt=>{const Le=this.xhrFactory.build();if(Le.open(xe.method,xe.urlWithParams),xe.withCredentials&&(Le.withCredentials=!0),xe.headers.forEach((Ht,dr)=>Le.setRequestHeader(Ht,dr.join(","))),xe.headers.has("Accept")||Le.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const Ht=xe.detectContentTypeHeader();null!==Ht&&Le.setRequestHeader("Content-Type",Ht)}if(xe.responseType){const Ht=xe.responseType.toLowerCase();Le.responseType="json"!==Ht?Ht:"text"}const xt=xe.serializeBody();let Ot=null;const Xn=()=>{if(null!==Ot)return Ot;const Ht=Le.statusText||"OK",dr=new ae(Le.getAllResponseHeaders()),Nn=function qn(mt){return"responseURL"in mt&&mt.responseURL?mt.responseURL:/^X-Request-URL:/m.test(mt.getAllResponseHeaders())?mt.getResponseHeader("X-Request-URL"):null}(Le)||xe.url;return Ot=new Fe({headers:dr,status:Le.status,statusText:Ht,url:Nn}),Ot},On=()=>{let{headers:Ht,status:dr,statusText:Nn,url:Pr}=Xn(),tn=null;204!==dr&&(tn=void 0===Le.response?Le.responseText:Le.response),0===dr&&(dr=tn?200:0);let kn=dr>=200&&dr<300;if("json"===xe.responseType&&"string"==typeof tn){const Ln=tn;tn=tn.replace(Tn,"");try{tn=""!==tn?JSON.parse(tn):null}catch(er){tn=Ln,kn&&(kn=!1,tn={error:er,text:tn})}}kn?(gt.next(new qe({body:tn,headers:Ht,status:dr,statusText:Nn,url:Pr||void 0})),gt.complete()):gt.error(new Ye({error:tn,headers:Ht,status:dr,statusText:Nn,url:Pr||void 0}))},Cn=Ht=>{const{url:dr}=Xn(),Nn=new Ye({error:Ht,status:Le.status||0,statusText:Le.statusText||"Unknown Error",url:dr||void 0});gt.error(Nn)};let Gr=!1;const pr=Ht=>{Gr||(gt.next(Xn()),Gr=!0);let dr={type:ge.DownloadProgress,loaded:Ht.loaded};Ht.lengthComputable&&(dr.total=Ht.total),"text"===xe.responseType&&!!Le.responseText&&(dr.partialText=Le.responseText),gt.next(dr)},Rn=Ht=>{let dr={type:ge.UploadProgress,loaded:Ht.loaded};Ht.lengthComputable&&(dr.total=Ht.total),gt.next(dr)};return Le.addEventListener("load",On),Le.addEventListener("error",Cn),Le.addEventListener("timeout",Cn),Le.addEventListener("abort",Cn),xe.reportProgress&&(Le.addEventListener("progress",pr),null!==xt&&Le.upload&&Le.upload.addEventListener("progress",Rn)),Le.send(xt),gt.next({type:ge.Sent}),()=>{Le.removeEventListener("error",Cn),Le.removeEventListener("abort",Cn),Le.removeEventListener("load",On),Le.removeEventListener("timeout",Cn),xe.reportProgress&&(Le.removeEventListener("progress",pr),null!==xt&&Le.upload&&Le.upload.removeEventListener("progress",Rn)),Le.readyState!==Le.DONE&&Le.abort()}})}}return mt.\u0275fac=function(xe){return new(xe||mt)(v.LFG(m.JF))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const di=new v.OlP("XSRF_COOKIE_NAME"),wr=new v.OlP("XSRF_HEADER_NAME");class br{}let Kn=(()=>{class mt{constructor(xe,gt,Le){this.doc=xe,this.platform=gt,this.cookieName=Le,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return mt.\u0275fac=function(xe){return new(xe||mt)(v.LFG(m.K0),v.LFG(v.Lbi),v.LFG(di))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Mr=(()=>{class mt{constructor(xe,gt){this.tokenService=xe,this.headerName=gt}intercept(xe,gt){const Le=xe.url.toLowerCase();if("GET"===xe.method||"HEAD"===xe.method||Le.startsWith("http://")||Le.startsWith("https://"))return gt.handle(xe);const xt=this.tokenService.getToken();return null!==xt&&!xe.headers.has(this.headerName)&&(xe=xe.clone({headers:xe.headers.set(this.headerName,xt)})),gt.handle(xe)}}return mt.\u0275fac=function(xe){return new(xe||mt)(v.LFG(br),v.LFG(wr))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Vr=(()=>{class mt{constructor(xe,gt){this.backend=xe,this.injector=gt,this.chain=null}handle(xe){if(null===this.chain){const gt=this.injector.get(zt,[]);this.chain=gt.reduceRight((Le,xt)=>new bt(Le,xt),this.backend)}return this.chain.handle(xe)}}return mt.\u0275fac=function(xe){return new(xe||mt)(v.LFG(We),v.LFG(v.zs3))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Un=(()=>{class mt{static disable(){return{ngModule:mt,providers:[{provide:Mr,useClass:$t}]}}static withOptions(xe={}){return{ngModule:mt,providers:[xe.cookieName?{provide:di,useValue:xe.cookieName}:[],xe.headerName?{provide:wr,useValue:xe.headerName}:[]]}}}return mt.\u0275fac=function(xe){return new(xe||mt)},mt.\u0275mod=v.oAB({type:mt}),mt.\u0275inj=v.cJS({providers:[Mr,{provide:zt,useExisting:Mr,multi:!0},{provide:br,useClass:Kn},{provide:di,useValue:"XSRF-TOKEN"},{provide:wr,useValue:"X-XSRF-TOKEN"}]}),mt})(),pn=(()=>{class mt{}return mt.\u0275fac=function(xe){return new(xe||mt)},mt.\u0275mod=v.oAB({type:mt}),mt.\u0275inj=v.cJS({providers:[ut,{provide:de,useClass:Vr},_r,{provide:We,useExisting:_r}],imports:[[Un.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),mt})()},5e3:(Gt,He,V)=>{V.d(He,{$8M:()=>Gn,$Z:()=>Gp,AFp:()=>wE,AaK:()=>de,BQk:()=>rl,CHM:()=>Rr,CRH:()=>eE,CZH:()=>bv,CqO:()=>qp,EJc:()=>bC,EiD:()=>$a,EpF:()=>Wm,F4k:()=>Zm,FYo:()=>O0,FiY:()=>ji,G48:()=>WC,GfV:()=>R0,Gpc:()=>he,JOm:()=>bo,JVY:()=>fi,L6k:()=>Er,LAX:()=>T,LFG:()=>Zi,LSH:()=>A,Lbi:()=>EC,NdJ:()=>Kp,OlP:()=>mi,Oqu:()=>ug,PXZ:()=>VC,Q6J:()=>Bd,QGY:()=>Zp,Qsj:()=>pw,R0b:()=>ll,RDi:()=>Ki,Rgc:()=>Cg,SBq:()=>_g,Sil:()=>TC,Suo:()=>X0,TTD:()=>ys,TgZ:()=>td,Tol:()=>sy,Udp:()=>sg,VLi:()=>kC,X6Q:()=>GC,XFs:()=>hn,Xpm:()=>ai,Y36:()=>pc,YKP:()=>L0,YNc:()=>tf,Yjl:()=>Qe,Yz7:()=>xn,ZZ4:()=>Lv,_Bn:()=>x0,_UZ:()=>nd,_Vd:()=>Oy,_c5:()=>ub,_uU:()=>uy,aQg:()=>Vv,c2e:()=>wC,cJS:()=>Hn,cg1:()=>ad,d8E:()=>wf,dDg:()=>AE,deG:()=>lu,dqk:()=>Cn,eBb:()=>Ci,eFA:()=>ME,ekj:()=>og,g9A:()=>bE,h0i:()=>xf,hGG:()=>lb,hij:()=>pf,iGM:()=>J0,ifc:()=>Le,ip1:()=>EE,kL8:()=>G_,l5B:()=>j0,lG2:()=>Re,mCW:()=>mn,n5z:()=>Jt,oAB:()=>ie,oJD:()=>f,oxw:()=>Jp,pB0:()=>P,q3G:()=>C,q4F:()=>N0,qLn:()=>hd,qOj:()=>Pl,qZA:()=>$d,qzn:()=>jn,s9C:()=>cf,sBO:()=>ZC,sIi:()=>hc,s_b:()=>ky,soG:()=>Tv,tBr:()=>nu,tb:()=>IE,tp0:()=>ru,uIk:()=>xp,vHH:()=>tt,vpe:()=>Gl,wAp:()=>yr,xp6:()=>El,yhl:()=>Pn,ynx:()=>Hd,z2F:()=>Pv,z3N:()=>hr,zSh:()=>Rd,zs3:()=>Bu});var m=V(7579),v=V(727),_=V(8306),Ee=V(6451),oe=V(3099);function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Se(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function We(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=Ae({__forward_ref__:Ae});function he(n){return n.__forward_ref__=he,n.toString=function(){return de(this())},n}function ke(n){return at(n)?n():n}function at(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===he}class tt extends Error{constructor(r,o){super(function Ct(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Ne(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ne(n)}function Je(n,r){const o=r?` in ${r}`:"";throw new tt(-201,`No provider for ${st(n)} found${o}`)}function un(n,r){null==n&&function It(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function xn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tn(n){return qn(n,br)||qn(n,Mr)}function qn(n,r){return n.hasOwnProperty(r)?n[r]:null}function wr(n){return n&&(n.hasOwnProperty(Kn)||n.hasOwnProperty(Vr))?n[Kn]:null}const br=Ae({\u0275prov:Ae}),Kn=Ae({\u0275inj:Ae}),Mr=Ae({ngInjectableDef:Ae}),Vr=Ae({ngInjectorDef:Ae});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let Jn;function pn(n){const r=Jn;return Jn=n,r}function ni(n,r,o){const u=Tn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&hn.Optional?null:void 0!==r?r:void Je(de(n),"Injector")}function mt(n){return{toString:n}.toString()}var be=(()=>((be=be||{})[be.OnPush=0]="OnPush",be[be.Default=1]="Default",be))(),Le=(()=>{return(n=Le||(Le={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Le;var n})();const xt="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=xt||"undefined"!=typeof global&&global||Ot||Xn,Rn={},Ht=[],dr=Ae({\u0275cmp:Ae}),Nn=Ae({\u0275dir:Ae}),Pr=Ae({\u0275pipe:Ae}),tn=Ae({\u0275mod:Ae}),kn=Ae({\u0275fac:Ae}),Ln=Ae({__NG_ELEMENT_ID__:Ae});let er=0;function ai(n){return mt(()=>{const o={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Le.Emulated,id:"c",styles:n.styles||Ht,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,g=n.features,w=n.pipes;return u.id+=er++,u.inputs=Y(n.inputs,o),u.outputs=Y(n.outputs),g&&g.forEach(x=>x(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(Yr):null,u.pipeDefs=w?()=>("function"==typeof w?w():w).map(we):null,u})}function Yr(n){return Bt(n)||function In(n){return n[Nn]||null}(n)}function we(n){return function fn(n){return n[Pr]||null}(n)}const me={};function ie(n){return mt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(me[n.id]=n.type),r})}function Y(n,r){if(null==n)return Rn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],g=l;Array.isArray(l)&&(g=l[1],l=l[0]),o[l]=u,r&&(r[l]=g)}return o}const Re=ai;function Qe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bt(n){return n[dr]||null}function Bn(n,r){const o=n[tn]||null;if(!o&&!0===r)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return o}function ze(n){return Array.isArray(n)&&"object"==typeof n[1]}function yt(n){return Array.isArray(n)&&!0===n[1]}function Nt(n){return 0!=(8&n.flags)}function Mn(n){return 2==(2&n.flags)}function ar(n){return 1==(1&n.flags)}function le(n){return null!==n.template}function q(n){return 0!=(512&n[2])}function lr(n,r){return n.hasOwnProperty(kn)?n[kn]:null}class So{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ys(){return Ms}function Ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=js),ho}function ho(){const n=_s(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===Rn)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function js(n,r,o,u){const l=_s(n)||function Oa(n,r){return n[Wo]=r}(n,{previous:Rn,current:null}),g=l.current||(l.current={}),w=l.previous,x=this.declaredInputs[o],O=w[x];g[x]=new So(O&&O.currentValue,r,w===Rn),n[u]=r}ys.ngInherit=!0;const Wo="__ngSimpleChanges__";function _s(n){return n[Wo]||null}let ls;function Ki(n){ls=n}function fo(){return void 0!==ls?ls:"undefined"!=typeof document?document:void 0}function ii(n){return!!n.listen}const U={createRenderer:(n,r)=>fo()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function ft(n,r){return L(r[n])}function Dt(n,r){return L(r[n.index])}function Ar(n,r){return n.data[r]}function rr(n,r){const o=r[n];return ze(o)?o:o[0]}function mr(n){return 4==(4&n[2])}function ci(n){return 128==(128&n[2])}function Jr(n,r){return null==r?null:n[r]}function vs(n){n[18]=0}function cr(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const zn={lFrame:la(null),bindingsEnabled:!0};function k(){return zn.bindingsEnabled}function ve(){return zn.lFrame.lView}function Lt(){return zn.lFrame.tView}function Rr(n){return zn.lFrame.contextLView=n,n[8]}function Dr(){let n=ts();for(;null!==n&&64===n.type;)n=n.parent;return n}function ts(){return zn.lFrame.currentTNode}function ds(n,r){const o=zn.lFrame;o.currentTNode=n,o.isParent=r}function Ri(){return zn.lFrame.isParent}function vi(){zn.lFrame.isParent=!1}function Po(){return zn.lFrame.bindingIndex++}function Os(n){const r=zn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function qa(n,r){const o=zn.lFrame;o.bindingIndex=o.bindingRootIndex=n,aa(r)}function aa(n){zn.lFrame.currentDirectiveIndex=n}function po(n){const r=zn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ka(){return zn.lFrame.currentQueryIndex}function Ta(n){zn.lFrame.currentQueryIndex=n}function go(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function fs(n,r,o){if(o&hn.SkipSelf){let l=r,g=n;for(;!(l=l.parent,null!==l||o&hn.Host||(l=go(g),null===l||(g=g[15],10&l.type))););if(null===l)return!1;r=l,n=g}const u=zn.lFrame=Ni();return u.currentTNode=r,u.lView=n,!0}function ua(n){const r=Ni(),o=n[1];zn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Ni(){const n=zn.lFrame,r=null===n?null:n.child;return null===r?la(n):r}function la(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ca(){const n=zn.lFrame;return zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ks=ca;function zs(){const n=ca();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vi(){return zn.lFrame.selectedIndex}function Ui(n){zn.lFrame.selectedIndex=n}function hi(){const n=zn.lFrame;return Ar(n.tView,n.selectedIndex)}function ei(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const g=n.data[o].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:O,ngAfterViewChecked:W,ngOnDestroy:J}=g;w&&(n.contentHooks||(n.contentHooks=[])).push(-o,w),x&&((n.contentHooks||(n.contentHooks=[])).push(o,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,x)),O&&(n.viewHooks||(n.viewHooks=[])).push(-o,O),W&&((n.viewHooks||(n.viewHooks=[])).push(o,W),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,W)),null!=J&&(n.destroyHooks||(n.destroyHooks=[])).push(o,J)}}function yo(n,r,o){ro(n,r,3,o)}function Ns(n,r,o,u){(3&n[2])===o&&ro(n,r,o,u)}function Wr(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function ro(n,r,o,u){const g=null!=u?u:-1,w=r.length-1;let x=0;for(let O=void 0!==u?65535&n[18]:0;O<w;O++)if("number"==typeof r[O+1]){if(x=r[O],null!=u&&x>=u)break}else r[O]<0&&(n[18]+=65536),(x<g||-1==g)&&(Ro(n,o,r,O),n[18]=(4294901760&n[18])+O+2),O++}function Ro(n,r,o,u){const l=o[u]<0,g=o[u+1],x=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(x)}finally{}}}else try{g.call(x)}finally{}}class io{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Cs(n,r,o){const u=ii(n);let l=0;for(;l<o.length;){const g=o[l];if("number"==typeof g){if(0!==g)break;l++;const w=o[l++],x=o[l++],O=o[l++];u?n.setAttribute(r,x,O,w):r.setAttributeNS(w,x,O)}else{const w=g,x=o[++l];_o(w)?u&&n.setProperty(r,w,x):u?n.setAttribute(r,w,x):r.setAttribute(w,x),l++}}return l}function bs(n){return 3===n||4===n||6===n}function _o(n){return 64===n.charCodeAt(0)}function Zr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?o=l:0===o||No(n,o,l,null,-1===o||2===o?r[++u]:null)}}return n}function No(n,r,o,u,l){let g=0,w=n.length;if(-1===r)w=-1;else for(;g<n.length;){const x=n[g++];if("number"==typeof x){if(x===r){w=-1;break}if(x>r){w=g-1;break}}}for(;g<n.length;){const x=n[g];if("number"==typeof x)break;if(x===o){if(null===u)return void(null!==l&&(n[g+1]=l));if(u===n[g+1])return void(n[g+2]=l)}g++,null!==u&&g++,null!==l&&g++}-1!==w&&(n.splice(w,0,r),g=w+1),n.splice(g++,0,o),null!==u&&n.splice(g++,0,u),null!==l&&n.splice(g++,0,l)}function so(n){return-1!==n}function ko(n){return 32767&n}function Vt(n,r){let o=function bu(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let si=!0;function Is(n){const r=si;return si=n,r}let Jo=0;function lt(n,r){const o=ki(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,Pt(u.data,n),Pt(r,null),Pt(u.blueprint,null));const l=M(n,r),g=n.injectorIndex;if(so(l)){const w=ko(l),x=Vt(l,r),O=x[1].data;for(let W=0;W<8;W++)r[g+W]=x[w+W]|O[w+W]}return r[g+8]=l,g}function Pt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ki(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function M(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=r;for(;null!==l;){const g=l[1],w=g.type;if(u=2===w?g.declTNode:1===w?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function D(n,r,o){!function sn(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Ln)&&(u=o[Ln]),null==u&&(u=o[Ln]=Jo++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function F(n,r,o){if(o&hn.Optional)return n;Je(r,"NodeInjector")}function H(n,r,o,u){if(o&hn.Optional&&void 0===u&&(u=null),0==(o&(hn.Self|hn.Host))){const l=n[9],g=pn(void 0);try{return l?l.get(r,u,o&hn.Optional):ni(r,u,o&hn.Optional)}finally{pn(g)}}return F(u,r,o)}function ee(n,r,o,u=hn.Default,l){if(null!==n){const g=function kt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ln)?n[Ln]:void 0;return"number"==typeof r?r>=0?255&r:Me:r}(o);if("function"==typeof g){if(!fs(r,n,u))return u&hn.Host?F(l,o,u):H(r,o,u,l);try{const w=g(u);if(null!=w||u&hn.Optional)return w;Je(o)}finally{Ks()}}else if("number"==typeof g){let w=null,x=ki(n,r),O=-1,W=u&hn.Host?r[16][6]:null;for((-1===x||u&hn.SkipSelf)&&(O=-1===x?M(n,r):r[x+8],-1!==O&&qr(u,!1)?(w=r[1],x=ko(O),r=Vt(O,r)):x=-1);-1!==x;){const J=r[1];if(Sr(g,x,J.data)){const fe=ot(x,r,o,w,u,W);if(fe!==pe)return fe}O=r[x+8],-1!==O&&qr(u,r[1].data[x+8]===W)&&Sr(g,x,r)?(w=J,x=ko(O),r=Vt(O,r)):x=-1}}}return H(r,o,u,l)}const pe={};function Me(){return new Cr(Dr(),ve())}function ot(n,r,o,u,l,g){const w=r[1],x=w.data[n+8],J=an(x,w,o,null==u?Mn(x)&&si:u!=w&&0!=(3&x.type),l&hn.Host&&g===x);return null!==J?sr(r,w,J,x):pe}function an(n,r,o,u,l){const g=n.providerIndexes,w=r.data,x=1048575&g,O=n.directiveStart,J=g>>20,Oe=l?x+J:n.directiveEnd;for(let Xe=u?x:x+J;Xe<Oe;Xe++){const At=w[Xe];if(Xe<O&&o===At||Xe>=O&&At.type===o)return Xe}if(l){const Xe=w[O];if(Xe&&le(Xe)&&Xe.type===o)return O}return null}function sr(n,r,o,u){let l=n[o];const g=r.data;if(function da(n){return n instanceof io}(l)){const w=l;w.resolving&&function Mt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${o}`)}(st(g[o]));const x=Is(w.canSeeViewProviders);w.resolving=!0;const O=w.injectImpl?pn(w.injectImpl):null;fs(n,u,hn.Default);try{l=n[o]=w.factory(void 0,g,n,u),r.firstCreatePass&&o>=u.directiveStart&&function ps(n,r,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:g}=r.type.prototype;if(u){const w=Ms(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,w),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,w)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,g))}(o,g[o],r)}finally{null!==O&&pn(O),Is(x),w.resolving=!1,Ks()}}return l}function Sr(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function qr(n,r){return!(n&hn.Self||n&hn.Host&&r)}class Cr{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return ee(this._tNode,this._lView,r,u,o)}}function Jt(n){return mt(()=>{const r=n.prototype.constructor,o=r[kn]||Fo(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const g=l[kn]||Fo(l);if(g&&g!==o)return g;l=Object.getPrototypeOf(l)}return g=>new g})}function Fo(n){return at(n)?()=>{const r=Fo(ke(n));return r&&r()}:lr(n)}function Gn(n){return function b(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const g=o[l];if(bs(g))break;if(0===g)l+=2;else if("number"==typeof g)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(g===r)return o[l+1];l+=2}}}return null}(Dr(),n)}const Fr="__parameters__";function Ys(n,r,o){return mt(()=>{const u=function La(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(r);function l(...g){if(this instanceof l)return u.apply(this,g),this;const w=new l(...g);return x.annotation=w,x;function x(O,W,J){const fe=O.hasOwnProperty(Fr)?O[Fr]:Object.defineProperty(O,Fr,{value:[]})[Fr];for(;fe.length<=J;)fe.push(null);return(fe[J]=fe[J]||[]).push(w),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class mi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=xn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lu=new mi("AnalyzeForEntryComponents");function Wi(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(r===n&&(r=n.slice(0,o)),Wi(u,r)):r!==n&&r.push(u)}return r}function Vo(n,r){n.forEach(o=>Array.isArray(o)?Vo(o,r):r(o))}function Aa(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function pa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ti(n,r,o){let u=Uo(n,r);return u>=0?n[1|u]=o:(u=~u,function Gs(n,r,o,u){let l=n.length;if(l==r)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function ga(n,r){const o=Uo(n,r);if(o>=0)return n[1|o]}function Uo(n,r){return function du(n,r,o){let u=0,l=n.length>>o;for(;l!==u;){const g=u+(l-u>>1),w=n[g<<o];if(r===w)return g<<o;w>r?l=g:u=g+1}return~(l<<o)}(n,r,1)}const jo={},xu="__NG_DI_FLAG__",ma="ngTempTokenPath",fl=/\n/gm,ya="__source",wc=Ae({provide:String,useValue:Ae});let Sa;function Pu(n){const r=Sa;return Sa=n,r}function Zu(n,r=hn.Default){if(void 0===Sa)throw new tt(203,"");return null===Sa?ni(n,void 0,r):Sa.get(n,r&hn.Optional?null:void 0,r)}function Zi(n,r=hn.Default){return(function Un(){return Jn}()||Zu)(ke(n),r)}const _a=Zi;function ns(n){const r=[];for(let o=0;o<n.length;o++){const u=ke(n[o]);if(Array.isArray(u)){if(0===u.length)throw new tt(900,"");let l,g=hn.Default;for(let w=0;w<u.length;w++){const x=u[w],O=ao(x);"number"==typeof O?-1===O?l=x.token:g|=O:l=x}r.push(Zi(l,g))}else r.push(Zi(u))}return r}function fu(n,r){return n[xu]=r,n.prototype[xu]=r,n}function ao(n){return n[xu]}const nu=fu(Ys("Inject",n=>({token:n})),-1),ji=fu(Ys("Optional"),8),ru=fu(Ys("SkipSelf"),4);let Ls,d;function Ws(n){var r;return(null===(r=function ta(){if(void 0===Ls&&(Ls=null,Cn.trustedTypes))try{Ls=Cn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ls}())||void 0===r?void 0:r.createHTML(n))||n}function N(n){var r;return(null===(r=function E(){if(void 0===d&&(d=null,Cn.trustedTypes))try{d=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return d}())||void 0===r?void 0:r.createHTML(n))||n}class ye{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $e extends ye{getTypeName(){return"HTML"}}class _t extends ye{getTypeName(){return"Style"}}class en extends ye{getTypeName(){return"Script"}}class Fn extends ye{getTypeName(){return"URL"}}class nr extends ye{getTypeName(){return"ResourceURL"}}function hr(n){return n instanceof ye?n.changingThisBreaksApplicationSecurity:n}function jn(n,r){const o=Pn(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Pn(n){return n instanceof ye&&n.getTypeName()||null}function fi(n){return new $e(n)}function Er(n){return new _t(n)}function Ci(n){return new en(n)}function T(n){return new Fn(n)}function P(n){return new nr(n)}class ue{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Ws(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Ie{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ws(r),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ws(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const o=r.attributes;for(let l=o.length-1;0<l;l--){const w=o.item(l).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ke=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mn(n){return(n=String(n)).match(Ke)||n.match(Xt)?n:"unsafe:"+n}function $n(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function Qi(...n){const r={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(r[u]=!0);return r}const on=$n("area,br,col,hr,img,wbr"),Vn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=$n("rp,rt"),Vs=Qi(on,Qi(Vn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qi(ir,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qi(ir,Vn)),xa=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fi=$n("srcset"),Ds=Qi(xa,Fi,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Co=$n("script,style,template");class na{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Vs.hasOwnProperty(o))return this.sanitizedSomething=!0,!Co.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=r.attributes;for(let l=0;l<u.length;l++){const g=u.item(l),w=g.name,x=w.toLowerCase();if(!Ds.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let O=g.value;xa[x]&&(O=mn(O)),Fi[x]&&(n=O,O=(n=String(n)).split(",").map(r=>mn(r.trim())).join(", ")),this.buf.push(" ",w,'="',ld(O),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Vs.hasOwnProperty(o)&&!on.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(ld(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Ma=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nu=/([^\#-~ |!])/g;function ld(n){return n.replace(/&/g,"&amp;").replace(Ma,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Nu,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kl;function $a(n,r){let o=null;try{Kl=Kl||function z(n){const r=new Ie(n);return function De(){try{return!!(new window.DOMParser).parseFromString(Ws(""),"text/html")}catch(n){return!1}}()?new ue(r):r}(n);let u=r?String(r):"";o=Kl.getInertBodyElement(u);let l=5,g=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=g,g=o.innerHTML,o=Kl.getInertBodyElement(u)}while(u!==g);return Ws((new na).sanitizeChildren(bc(o)||o))}finally{if(o){const u=bc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function bc(n){return"content"in n&&function gl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var C=(()=>((C=C||{})[C.NONE=0]="NONE",C[C.HTML=1]="HTML",C[C.STYLE=2]="STYLE",C[C.SCRIPT=3]="SCRIPT",C[C.URL=4]="URL",C[C.RESOURCE_URL=5]="RESOURCE_URL",C))();function f(n){const r=Zs();return r?N(r.sanitize(C.HTML,n)||""):jn(n,"HTML")?N(hr(n)):$a(fo(),Ne(n))}function A(n){const r=Zs();return r?r.sanitize(C.URL,n)||"":jn(n,"URL")?hr(n):mn(Ne(n))}function Zs(){const n=ve();return n&&n[12]}const Ic="__ngContext__";function xi(n,r){n[Ic]=r}function mu(n){const r=function Ku(n){return n[Ic]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Tc(n){return n.ngOriginalError}function Gy(n,...r){n.error(...r)}class hd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),u=function zy(n){return n&&n.ngErrorLogger||Gy}(r);u(this._console,"ERROR",r),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Tc(r);for(;o&&Tc(o);)o=Tc(o);return o||null}}const Zy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function ku(n){return n instanceof Function?n():n}var bo=(()=>((bo=bo||{})[bo.Important=1]="Important",bo[bo.DashCase=2]="DashCase",bo))();function lh(n,r){return undefined(n,r)}function nc(n){const r=n[3];return yt(r)?r[3]:r}function gd(n){return Pg(n[13])}function Nf(n){return Pg(n[4])}function Pg(n){for(;null!==n&&!yt(n);)n=n[4];return n}function Qr(n,r,o,u,l){if(null!=u){let g,w=!1;yt(u)?g=u:ze(u)&&(w=!0,u=u[0]);const x=L(u);0===n&&null!==o?null==l?Vg(r,o,x):_l(r,o,x,l||null,!0):1===n&&null!==o?_l(r,o,x,l||null,!0):2===n?function jf(n,r,o){const u=ph(n,r);u&&function Ky(n,r,o,u){ii(n)?n.removeChild(r,o,u):r.removeChild(o)}(n,u,r,o)}(r,x,w):3===n&&r.destroyNode(x),null!=g&&function Yy(n,r,o,u,l){const g=o[7];g!==L(o)&&Qr(r,n,u,g,l);for(let x=10;x<o.length;x++){const O=o[x];xc(O[1],O,n,r,u,g)}}(r,n,g,o,l)}}function Ac(n,r,o){if(ii(n))return n.createElement(r,o);{const u=null!==o?function tr(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function Sc(n,r){const o=n[9],u=o.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,cr(l,-1)),o.splice(u,1)}function rc(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&Sc(l,u),r>0&&(n[o-1][4]=u[4]);const g=pa(n,10+r);!function Og(n,r){xc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const w=g[19];null!==w&&w.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function yd(n,r){if(!(256&r[2])){const o=r[11];ii(o)&&o.destroyNode&&xc(n,r,o,3,null,null),function Ng(n){let r=n[13];if(!r)return fh(n[1],n);for(;r;){let o=null;if(ze(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)ze(r)&&fh(r[1],r),r=r[3];null===r&&(r=n),ze(r)&&fh(r[1],r),o=r&&r[4]}r=o}}(r)}}function fh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Fg(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=r[o[u]];if(!(l instanceof io)){const g=o[u+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const x=l[g[w]],O=g[w+1];try{O.call(x)}finally{}}else try{g.call(l)}finally{}}}}(n,r),function kg(n,r){const o=n.cleanup,u=r[7];let l=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const w=o[g+1],x="function"==typeof w?w(r):L(r[w]),O=u[l=o[g+2]],W=o[g+3];"boolean"==typeof W?x.removeEventListener(o[g],O,W):W>=0?u[l=W]():u[l=-W].unsubscribe(),g+=2}else{const w=u[l=o[g+1]];o[g].call(w)}if(null!==u){for(let g=l+1;g<u.length;g++)u[g]();r[7]=null}}(n,r),1===r[1].type&&ii(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&yt(r[3])){o!==r[3]&&Sc(o,r);const u=r[19];null!==u&&u.detachView(n)}}}function Lg(n,r,o){return function Vf(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===Le.None||l===Le.Emulated)return null}return Dt(u,o)}(n,r.parent,o)}function _l(n,r,o,u,l){ii(n)?n.insertBefore(r,o,u,l):r.insertBefore(o,u,l)}function Vg(n,r,o){ii(n)?n.appendChild(r,o):r.appendChild(o)}function Ug(n,r,o,u,l){null!==u?_l(n,r,o,u,l):Vg(n,r,o)}function ph(n,r){return ii(n)?n.parentNode(r):r.parentNode}let Bg=function Bf(n,r,o){return 40&n.type?Dt(n,o):null};function _d(n,r,o,u){const l=Lg(n,u,r),g=r[11],x=function ic(n,r,o){return Bg(n,r,o)}(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)Ug(g,l,o[O],x,!1);else Ug(g,l,o,x,!1)}function vl(n,r){if(null!==r){const o=r.type;if(3&o)return Dt(r,n);if(4&o)return vd(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return vl(n,u);{const l=n[r.index];return yt(l)?vd(-1,l):L(l)}}if(32&o)return lh(r,n)()||L(n[r.index]);{const u=yu(n,r);return null!==u?Array.isArray(u)?u[0]:vl(nc(n[16]),u):vl(n,r.next)}}return null}function yu(n,r){return null!==r?n[16][6].projection[r.projection]:null}function vd(n,r){const o=10+n+1;if(o<r.length){const u=r[o],l=u[1].firstChild;if(null!==l)return vl(u,l)}return r[7]}function sc(n,r,o,u,l,g,w){for(;null!=o;){const x=u[o.index],O=o.type;if(w&&0===r&&(x&&xi(L(x),u),o.flags|=4),64!=(64&o.flags))if(8&O)sc(n,r,o.child,u,l,g,!1),Qr(r,n,l,x,g);else if(32&O){const W=lh(o,u);let J;for(;J=W();)Qr(r,n,l,J,g);Qr(r,n,l,x,g)}else 16&O?$f(n,r,u,o,l,g):Qr(r,n,l,x,g);o=w?o.projectionNext:o.next}}function xc(n,r,o,u,l,g){sc(o,u,n.firstChild,r,l,g,!1)}function $f(n,r,o,u,l,g){const w=o[16],O=w[6].projection[u.projection];if(Array.isArray(O))for(let W=0;W<O.length;W++)Qr(r,n,l,O[W],g);else sc(n,r,O,w[3],l,g,!0)}function Mc(n,r,o){ii(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Ed(n,r,o){ii(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function $g(n,r,o){let u=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const g=r.length;if(l+g===u||n.charCodeAt(l+g)<=32)return l}o=l+1}}const mh="ng-template";function Hg(n,r,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==$g(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function zg(n){return 4===n.type&&n.value!==mh}function Gg(n,r,o){return r===(4!==n.type||o?n.value:mh)}function Xy(n,r,o){let u=4;const l=n.attrs||[],g=function Wg(n){for(let r=0;r<n.length;r++)if(bs(n[r]))return r;return n.length}(l);let w=!1;for(let x=0;x<r.length;x++){const O=r[x];if("number"!=typeof O){if(!w)if(4&u){if(u=2|1&u,""!==O&&!Gg(n,O,o)||""===O&&1===r.length){if(_u(u))return!1;w=!0}}else{const W=8&u?O:r[++x];if(8&u&&null!==n.attrs){if(!Hg(n.attrs,W,o)){if(_u(u))return!1;w=!0}continue}const fe=e_(8&u?"class":O,l,zg(n),o);if(-1===fe){if(_u(u))return!1;w=!0;continue}if(""!==W){let Oe;Oe=fe>g?"":l[fe+1].toLowerCase();const Xe=8&u?Oe:null;if(Xe&&-1!==$g(Xe,W,0)||2&u&&W!==Oe){if(_u(u))return!1;w=!0}}}}else{if(!w&&!_u(u)&&!_u(O))return!1;if(w&&_u(O))continue;w=!1,u=O|1&u}}return _u(u)||w}function _u(n){return 0==(1&n)}function e_(n,r,o,u){if(null===r)return-1;let l=0;if(u||!o){let g=!1;for(;l<r.length;){const w=r[l];if(w===n)return l;if(3===w||6===w)g=!0;else{if(1===w||2===w){let x=r[++l];for(;"string"==typeof x;)x=r[++l];continue}if(4===w)break;if(0===w){l+=4;continue}}l+=g?1:2}return-1}return function t_(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Yu(n,r,o=!1){for(let u=0;u<r.length;u++)if(Xy(n,r[u],o))return!0;return!1}function Fu(n,r){return n?":not("+r.trim()+")":r}function qg(n){let r=n[0],o=1,u=2,l="",g=!1;for(;o<n.length;){let w=n[o];if("string"==typeof w)if(2&u){const x=n[++o];l+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?l+="."+w:4&u&&(l+=" "+w);else""!==l&&!_u(w)&&(r+=Fu(g,l),l=""),u=w,g=g||!_u(u);o++}return""!==l&&(r+=Fu(g,l)),r}const Tr={};function El(n){wl(Lt(),ve(),Vi()+n,!1)}function wl(n,r,o,u){if(!u)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&yo(r,g,o)}else{const g=n.preOrderHooks;null!==g&&Ns(r,g,0,o)}Ui(o)}function bl(n,r){return n<<17|r<<2}function au(n){return n>>17&32767}function _h(n){return 2|n}function Lu(n){return(131068&n)>>2}function zf(n,r){return-131069&n|r<<2}function vh(n){return 1|n}function Xu(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],g=o[u+1];if(-1!==g){const w=n.data[g];Ta(l),w.contentQueries(2,r[g],g)}}}function Fc(n,r,o,u,l,g,w,x,O,W){const J=r.blueprint.slice();return J[0]=l,J[2]=140|u,vs(J),J[3]=J[15]=n,J[8]=o,J[10]=w||n&&n[10],J[11]=x||n&&n[11],J[12]=O||n&&n[12]||null,J[9]=W||n&&n[9]||null,J[6]=g,J[16]=2==r.type?n[16]:J,J}function Lc(n,r,o,u,l){let g=n.data[r];if(null===g)g=function Dh(n,r,o,u,l){const g=ts(),w=Ri(),O=n.data[r]=function sp(n,r,o,u,l,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,o,r,u,l);return null===n.firstChild&&(n.firstChild=O),null!==g&&(w?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O)),O}(n,r,o,u,l),function Hs(){return zn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=u,g.attrs=l;const w=function Es(){const n=zn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return ds(g,!0),g}function Vc(n,r,o,u){if(0===o)return-1;const l=r.length;for(let g=0;g<o;g++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function Al(n,r,o){ua(r);try{const u=n.viewQuery;null!==u&&Pd(1,u,o);const l=n.template;null!==l&&ip(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xu(n,r),n.staticViewQueries&&Pd(2,n.viewQuery,o);const g=n.components;null!==g&&function a_(n,r){for(let o=0;o<r.length;o++)p_(n,r[o])}(r,g)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,zs()}}function ac(n,r,o,u){const l=r[2];if(256!=(256&l)){ua(r);try{vs(r),function Yo(n){return zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ip(n,r,o,2,u);const w=3==(3&l);if(w){const W=n.preOrderCheckHooks;null!==W&&yo(r,W,null)}else{const W=n.preOrderHooks;null!==W&&Ns(r,W,0,null),Wr(r,0)}if(function pm(n){for(let r=gd(n);null!==r;r=Nf(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const l=o[u],g=l[3];0==(1024&l[2])&&cr(g,1),l[2]|=1024}}}(r),function Nh(n){for(let r=gd(n);null!==r;r=Nf(r))for(let o=10;o<r.length;o++){const u=r[o],l=u[1];ci(u)&&ac(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&Xu(n,r),w){const W=n.contentCheckHooks;null!==W&&yo(r,W)}else{const W=n.contentHooks;null!==W&&Ns(r,W,1),Wr(r,1)}!function em(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ui(~l);else{const g=l,w=o[++u],x=o[++u];qa(w,g),x(2,r[g])}}}finally{Ui(-1)}}(n,r);const x=n.components;null!==x&&function tm(n,r){for(let o=0;o<r.length;o++)gm(n,r[o])}(r,x);const O=n.viewQuery;if(null!==O&&Pd(2,O,u),w){const W=n.viewCheckHooks;null!==W&&yo(r,W)}else{const W=n.viewHooks;null!==W&&Ns(r,W,2),Wr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,cr(r[3],-1))}finally{zs()}}}function u_(n,r,o,u){const l=r[10],w=mr(r);try{!w&&l.begin&&l.begin(),w&&Al(n,r,u),ac(n,r,o,u)}finally{!w&&l.end&&l.end()}}function ip(n,r,o,u,l){const g=Vi(),w=2&u;try{Ui(-1),w&&r.length>20&&wl(n,r,20,!1),o(u,l)}finally{Ui(g)}}function nm(n,r,o){if(Nt(r)){const l=r.directiveEnd;for(let g=r.directiveStart;g<l;g++){const w=n.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}}function Ah(n,r,o){!k()||(function xh(n,r,o,u){const l=o.directiveStart,g=o.directiveEnd;n.firstCreatePass||lt(o,r),xi(u,r);const w=o.initialInputs;for(let x=l;x<g;x++){const O=n.data[x],W=le(O);W&&fm(r,o,O);const J=sr(r,n,x,o);xi(J,r),null!==w&&f_(0,x-l,J,O,0,w),W&&(rr(o.index,r)[8]=J)}}(n,r,o,Dt(o,r)),128==(128&o.flags)&&function up(n,r,o){const u=o.directiveStart,l=o.directiveEnd,w=o.index,x=function hs(){return zn.lFrame.currentDirectiveIndex}();try{Ui(w);for(let O=u;O<l;O++){const W=n.data[O],J=r[O];aa(O),(null!==W.hostBindings||0!==W.hostVars||null!==W.hostAttrs)&&Mh(W,J)}}finally{Ui(-1),aa(x)}}(n,r,o))}function el(n,r,o=Dt){const u=r.localNames;if(null!==u){let l=r.index+1;for(let g=0;g<u.length;g+=2){const w=u[g+1],x=-1===w?o(r,n):n[w];n[l++]=x}}}function Uc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function bd(n,r,o,u,l,g,w,x,O,W){const J=20+u,fe=J+l,Oe=function rm(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Tr);return o}(J,fe),Xe="function"==typeof W?W():W;return Oe[1]={type:n,blueprint:Oe,template:o,queries:null,viewQuery:x,declTNode:r,data:Oe.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:O,consts:Xe,incompleteFirstPass:!1}}function om(n,r,o,u){const l=hp(r);null===o?l.push(u):(l.push(o),n.firstCreatePass&&_m(n).push(u,l.length-1))}function lo(n,r,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(r,l):o[u]=[r,l]}return o}function Ga(n,r,o,u,l,g,w,x){const O=Dt(r,o);let J,W=r.inputs;!x&&null!=W&&(J=W[u])?(Uh(n,o,J,u,l),Mn(r)&&function h_(n,r){const o=rr(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(u=function d_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=w?w(l,r.value||"",u):l,ii(g)?g.setProperty(O,u,l):_o(u)||(O.setProperty?O.setProperty(u,l):O[u]=l))}function Td(n,r,o,u){let l=!1;if(k()){const g=function um(n,r,o){const u=n.directiveRegistry;let l=null;if(u)for(let g=0;g<u.length;g++){const w=u[g];Yu(o,w.selectors,!1)&&(l||(l=[]),D(lt(o,r),n,w.type),le(w)?(lm(n,o),l.unshift(w)):l.push(w))}return l}(n,r,o),w=null===u?null:{"":-1};if(null!==g){l=!0,Ph(o,n.data.length,g.length);for(let J=0;J<g.length;J++){const fe=g[J];fe.providersResolver&&fe.providersResolver(fe)}let x=!1,O=!1,W=Vc(n,r,g.length,null);for(let J=0;J<g.length;J++){const fe=g[J];o.mergedAttrs=Zr(o.mergedAttrs,fe.hostAttrs),hm(n,o,r,W,fe),dm(W,fe,w),null!==fe.contentQueries&&(o.flags|=8),(null!==fe.hostBindings||null!==fe.hostAttrs||0!==fe.hostVars)&&(o.flags|=128);const Oe=fe.type.prototype;!x&&(Oe.ngOnChanges||Oe.ngOnInit||Oe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),x=!0),!O&&(Oe.ngOnChanges||Oe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),O=!0),W++}!function c_(n,r){const u=r.directiveEnd,l=n.data,g=r.attrs,w=[];let x=null,O=null;for(let W=r.directiveStart;W<u;W++){const J=l[W],fe=J.inputs,Oe=null===g||zg(r)?null:Bc(fe,g);w.push(Oe),x=lo(fe,W,x),O=lo(J.outputs,W,O)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=x,r.outputs=O}(n,o)}w&&function cm(n,r,o){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const g=o[r[l+1]];if(null==g)throw new tt(-301,!1);u.push(r[l],g)}}}(o,u,w)}return o.mergedAttrs=Zr(o.mergedAttrs,o.attrs),l}function Sh(n,r,o,u,l,g){const w=g.hostBindings;if(w){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const O=~r.index;(function Dd(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=O&&x.push(O),x.push(u,l,w)}}function Mh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function lm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function dm(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;le(r)&&(o[""]=n)}}function Ph(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function hm(n,r,o,u,l){n.data[u]=l;const g=l.factory||(l.factory=lr(l.type)),w=new io(g,le(l),null);n.blueprint[u]=w,o[u]=w,Sh(n,r,0,u,Vc(n,o,l.hostVars,Tr),l)}function fm(n,r,o){const u=Dt(r,n),l=Uc(o),g=n[10],w=Fh(n,Fc(n,l,null,o.onPush?64:16,u,r,g,g.createRenderer(u,o),null,null));n[r.index]=w}function Uu(n,r,o,u,l,g){const w=Dt(n,r);!function Oh(n,r,o,u,l,g,w){if(null==g)ii(n)?n.removeAttribute(r,l,o):r.removeAttribute(l);else{const x=null==w?Ne(g):w(g,u||"",l);ii(n)?n.setAttribute(r,l,x,o):o?r.setAttributeNS(o,l,x):r.setAttribute(l,x)}}(r[11],w,g,n.value,o,u,l)}function f_(n,r,o,u,l,g){const w=g[r];if(null!==w){const x=u.setInput;for(let O=0;O<w.length;){const W=w[O++],J=w[O++],fe=w[O++];null!==x?u.setInput(o,fe,W,J):o[J]=fe}}}function Bc(n,r){let o=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return o}function Rh(n,r,o,u){return new Array(n,!0,!1,r,null,0,u,o,null,null)}function gm(n,r){const o=rr(r,n);if(ci(o)){const u=o[1];80&o[2]?ac(u,o,u.template,o[8]):o[5]>0&&kh(o)}}function kh(n){for(let u=gd(n);null!==u;u=Nf(u))for(let l=10;l<u.length;l++){const g=u[l];if(1024&g[2]){const w=g[1];ac(w,g,w.template,g[8])}else g[5]>0&&kh(g)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=rr(o[u],n);ci(l)&&l[5]>0&&kh(l)}}function p_(n,r){const o=rr(r,n),u=o[1];(function lp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),Al(u,o,o[8])}function Fh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Sd(n){for(;n;){n[2]|=64;const r=nc(n);if(q(n)&&!r)return n;n=r}return null}function Md(n){!function Lh(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],u=mu(o),l=u[1];u_(l,u,l.template,o)}}(n[8])}function Pd(n,r,o){Ta(0),r(n,o)}const dp=(()=>Promise.resolve(null))();function hp(n){return n[7]||(n[7]=[])}function _m(n){return n.cleanup||(n.cleanup=[])}function Od(n,r){const o=n[9],u=o?o.get(hd,null):null;u&&u.handleError(r)}function Uh(n,r,o,u,l){for(let g=0;g<o.length;){const w=o[g++],x=o[g++],O=r[w],W=n.data[w];null!==W.setInput?W.setInput(O,l,u,x):O[x]=l}}function tl(n,r,o){const u=ft(r,n);!function kf(n,r,o){ii(n)?n.setValue(r,o):r.textContent=o}(n[11],u,o)}function Bh(n,r,o){let u=o?n.styles:null,l=o?n.classes:null,g=0;if(null!==r)for(let w=0;w<r.length;w++){const x=r[w];"number"==typeof x?g=x:1==g?l=We(l,x):2==g&&(u=We(u,x+": "+r[++w]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}const jc=new mi("INJECTOR",-1);class $c{get(r,o=jo){if(o===jo){const u=new Error(`NullInjectorError: No provider for ${de(r)}!`);throw u.name="NullInjectorError",u}return o}}const Rd=new mi("Set Injector scope."),Hc={},y_={};let pp;function vm(){return void 0===pp&&(pp=new $c),pp}function Em(n,r=null,o=null,u){const l=jh(n,r,o,u);return l._resolveInjectorDefTypes(),l}function jh(n,r=null,o=null,u){return new __(n,o,r||vm(),u)}class __{constructor(r,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&Vo(o,x=>this.processProvider(x,r,o)),Vo([r],x=>this.processInjectorType(x,[],g)),this.records.set(jc,Sl(void 0,this));const w=this.records.get(Rd);this.scope=null!=w?w.value:null,this.source=l||("object"==typeof r?null:de(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=jo,u=hn.Default){this.assertNotDestroyed();const l=Pu(this),g=pn(void 0);try{if(!(u&hn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const O=function wm(n){return"function"==typeof n||"object"==typeof n&&n instanceof mi}(r)&&Tn(r);x=O&&this.injectableDefInScope(O)?Sl(gp(r),Hc):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(u&hn.Self?vm():this.parent).get(r,o=u&hn.Optional&&o===jo?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[ma]=w[ma]||[]).unshift(de(r)),l)throw w;return function tu(n,r,o,u){const l=n[ma];throw r[ya]&&l.unshift(r[ya]),n.message=function yi(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=de(r);if(Array.isArray(r))l=r.map(de).join(" -> ");else if("object"==typeof r){let g=[];for(let w in r)if(r.hasOwnProperty(w)){let x=r[w];g.push(w+":"+("string"==typeof x?JSON.stringify(x):de(x)))}l=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(fl,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ma]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{pn(g),Pu(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,l)=>r.push(de(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processInjectorType(r,o,u){if(!(r=ke(r)))return!1;let l=wr(r);const g=null==l&&r.ngModule||void 0,w=void 0===g?r:g,x=-1!==u.indexOf(w);if(void 0!==g&&(l=wr(g)),null==l)return!1;if(null!=l.imports&&!x){let J;u.push(w);try{Vo(l.imports,fe=>{this.processInjectorType(fe,o,u)&&(void 0===J&&(J=[]),J.push(fe))})}finally{}if(void 0!==J)for(let fe=0;fe<J.length;fe++){const{ngModule:Oe,providers:Xe}=J[fe];Vo(Xe,At=>this.processProvider(At,Oe,Xe||Ht))}}this.injectorDefTypes.add(w);const O=lr(w)||(()=>new w);this.records.set(w,Sl(O,Hc));const W=l.providers;if(null!=W&&!x){const J=r;Vo(W,fe=>this.processProvider(fe,J,W))}return void 0!==g&&void 0!==r.providers}processProvider(r,o,u){let l=lc(r=ke(r))?r:ke(r&&r.provide);const g=function mp(n,r,o){return kd(n)?Sl(void 0,n.useValue):Sl(uc(n),Hc)}(r);if(lc(r)||!0!==r.multi)this.records.get(l);else{let w=this.records.get(l);w||(w=Sl(void 0,Hc,!0),w.factory=()=>ns(w.multi),this.records.set(l,w)),l=r,w.multi.push(r)}this.records.set(l,g)}hydrate(r,o){return o.value===Hc&&(o.value=y_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function xl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ke(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function gp(n){const r=Tn(n),o=null!==r?r.factory:lr(n);if(null!==o)return o;if(n instanceof mi)throw new tt(204,!1);if(n instanceof Function)return function Nd(n){const r=n.length;if(r>0)throw function Ua(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}(r,"?"),new tt(204,!1);const o=function _r(n){const r=n&&(n[br]||n[Mr]);if(r){const o=function di(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new tt(204,!1)}function uc(n,r,o){let u;if(lc(n)){const l=ke(n);return lr(l)||gp(l)}if(kd(n))u=()=>ke(n.useValue);else if(function yp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...ns(n.deps||[]));else if(function Fd(n){return!(!n||!n.useExisting)}(n))u=()=>Zi(ke(n.useExisting));else{const l=ke(n&&(n.useClass||n.provide));if(!function vp(n){return!!n.deps}(n))return lr(l)||gp(l);u=()=>new l(...ns(n.deps))}return u}function Sl(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function kd(n){return null!==n&&"object"==typeof n&&wc in n}function lc(n){return"function"==typeof n}let Bu=(()=>{class n{static create(o,u){var l;if(Array.isArray(o))return Em({name:""},u,o,"");{const g=null!==(l=o.name)&&void 0!==l?l:"";return Em({name:g},o.parent,o.providers,g)}}}return n.THROW_IF_NOT_FOUND=jo,n.NULL=new $c,n.\u0275prov=xn({token:n,providedIn:"any",factory:()=>Zi(jc)}),n.__NG_ELEMENT_ID__=-1,n})();function Ml(n,r){ei(mu(n)[1],Dr())}function Pl(n){let r=function dc(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let l;if(le(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,"");l=r.\u0275dir}if(l){if(o){u.push(l);const w=n;w.inputs=Ol(n.inputs),w.declaredInputs=Ol(n.declaredInputs),w.outputs=Ol(n.outputs);const x=l.hostBindings;x&&bp(n,x);const O=l.viewQuery,W=l.contentQueries;if(O&&E_(n,O),W&&w_(n,W),Se(n.inputs,l.inputs),Se(n.declaredInputs,l.declaredInputs),Se(n.outputs,l.outputs),le(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const g=l.features;if(g)for(let w=0;w<g.length;w++){const x=g[w];x&&x.ngInherit&&x(n),x===Pl&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Om(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=Zr(l.hostAttrs,o=Zr(o,l.hostAttrs))}}(u)}function Ol(n){return n===Rn?{}:n===Ht?[]:n}function E_(n,r){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{r(u,l),o(u,l)}:r}function w_(n,r){const o=n.contentQueries;n.contentQueries=o?(u,l,g)=>{r(u,l,g),o(u,l,g)}:r}function bp(n,r){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{r(u,l),o(u,l)}:r}let Kh=null;function Gc(){if(!Kh){const n=Cn.Symbol;if(n&&n.iterator)Kh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Kh=u)}}}return Kh}function hc(n){return!!Sp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gc()in n)}function Sp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zo(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Rl(n,r,o,u){const l=zo(n,r,o);return zo(n,r+1,u)||l}function xp(n,r,o,u){const l=ve();return zo(l,Po(),r)&&(Lt(),Uu(hi(),l,n,r,o,u)),xp}function Nl(n,r,o,u){return zo(n,Po(),o)?r+Ne(o)+u:Tr}function tf(n,r,o,u,l,g,w,x){const O=ve(),W=Lt(),J=n+20,fe=W.firstCreatePass?function Pp(n,r,o,u,l,g,w,x,O){const W=r.consts,J=Lc(r,n,4,w||null,Jr(W,x));Td(r,o,J,Jr(W,O)),ei(r,J);const fe=J.tViews=bd(2,J,u,l,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,W);return null!==r.queries&&(r.queries.template(r,J),fe.queries=r.queries.embeddedTView(J)),J}(J,W,O,r,o,u,l,g,w):W.data[J];ds(fe,!1);const Oe=O[11].createComment("");_d(W,O,Oe,fe),xi(Oe,O),Fh(O,O[J]=Rh(Oe,O,Oe,fe)),ar(fe)&&Ah(W,O,fe),null!=w&&el(O,fe,x)}function pc(n,r=hn.Default){const o=ve();return null===o?Zi(n,r):ee(Dr(),o,ke(n),r)}function Gp(){throw new Error("invalid")}function Bd(n,r,o){const u=ve();return zo(u,Po(),r)&&Ga(Lt(),hi(),u,n,r,u[11],o,!1),Bd}function jd(n,r,o,u,l){const w=l?"class":"style";Uh(n,o,r.inputs[w],w,u)}function td(n,r,o,u){const l=ve(),g=Lt(),w=20+n,x=l[11],O=l[w]=Ac(x,r,function ws(){return zn.lFrame.currentNamespace}()),W=g.firstCreatePass?function uf(n,r,o,u,l,g,w){const x=r.consts,W=Lc(r,n,2,l,Jr(x,g));return Td(r,o,W,Jr(x,w)),null!==W.attrs&&Bh(W,W.attrs,!1),null!==W.mergedAttrs&&Bh(W,W.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,W),W}(w,g,l,0,r,o,u):g.data[w];ds(W,!0);const J=W.mergedAttrs;null!==J&&Cs(x,O,J);const fe=W.classes;null!==fe&&Ed(x,O,fe);const Oe=W.styles;return null!==Oe&&Mc(x,O,Oe),64!=(64&W.flags)&&_d(g,l,O,W),0===function Zo(){return zn.lFrame.elementDepthCount}()&&xi(O,l),function qo(){zn.lFrame.elementDepthCount++}(),ar(W)&&(Ah(g,l,W),nm(g,W,l)),null!==u&&el(l,W),td}function $d(){let n=Dr();Ri()?vi():(n=n.parent,ds(n,!1));const r=n;!function j(){zn.lFrame.elementDepthCount--}();const o=Lt();return o.firstCreatePass&&(ei(o,n),Nt(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ka(n){return 0!=(16&n.flags)}(r)&&jd(o,r,ve(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ju(n){return 0!=(32&n.flags)}(r)&&jd(o,r,ve(),r.stylesWithoutHost,!1),$d}function nd(n,r,o,u){return td(n,r,o,u),$d(),nd}function Hd(n,r,o){const u=ve(),l=Lt(),g=n+20,w=l.firstCreatePass?function Wp(n,r,o,u,l){const g=r.consts,w=Jr(g,u),x=Lc(r,n,8,"ng-container",w);return null!==w&&Bh(x,w,!0),Td(r,o,x,Jr(g,l)),null!==r.queries&&r.queries.elementStart(r,x),x}(g,l,u,r,o):l.data[g];ds(w,!0);const x=u[g]=u[11].createComment("");return _d(l,u,x,w),xi(x,u),ar(w)&&(Ah(l,u,w),nm(l,w,u)),null!=o&&el(u,w),Hd}function rl(){let n=Dr();const r=Lt();return Ri()?vi():(n=n.parent,ds(n,!1)),r.firstCreatePass&&(ei(r,n),Nt(n)&&r.queries.elementEnd(n)),rl}function Wm(){return ve()}function Zp(n){return!!n&&"function"==typeof n.then}function Zm(n){return!!n&&"function"==typeof n.subscribe}const qp=Zm;function Kp(n,r,o,u){const l=ve(),g=Lt(),w=Dr();return function qm(n,r,o,u,l,g,w,x){const O=ar(u),J=n.firstCreatePass&&_m(n),fe=r[8],Oe=hp(r);let Xe=!0;if(3&u.type||x){const _n=Dt(u,r),Wn=x?x(_n):_n,Ut=Oe.length,fr=x?pi=>x(L(pi[u.index])):u.index;if(ii(o)){let pi=null;if(!x&&O&&(pi=function M_(n,r,o,u){const l=n.cleanup;if(null!=l)for(let g=0;g<l.length-1;g+=2){const w=l[g];if(w===o&&l[g+1]===u){const x=r[7],O=l[g+2];return x.length>O?x[O]:null}"string"==typeof w&&(g+=2)}return null}(n,r,l,u.index)),null!==pi)(pi.__ngLastListenerFn__||pi).__ngNextListenerFn__=g,pi.__ngLastListenerFn__=g,Xe=!1;else{g=Qp(u,r,fe,g,!1);const $i=o.listen(Wn,l,g);Oe.push(g,$i),J&&J.push(l,fr,Ut,Ut+1)}}else g=Qp(u,r,fe,g,!0),Wn.addEventListener(l,g,w),Oe.push(g),J&&J.push(l,fr,Ut,w)}else g=Qp(u,r,fe,g,!1);const At=u.outputs;let rn;if(Xe&&null!==At&&(rn=At[l])){const _n=rn.length;if(_n)for(let Wn=0;Wn<_n;Wn+=2){const Cu=r[rn[Wn]][rn[Wn+1]].subscribe(g),nh=Oe.length;Oe.push(g,Cu),J&&J.push(l,u.index,nh,-(nh+1))}}}(g,l,l[11],w,n,r,!!o,u),Kp}function Km(n,r,o,u){try{return!1!==o(u)}catch(l){return Od(n,l),!1}}function Qp(n,r,o,u,l){return function g(w){if(w===Function)return u;const x=2&n.flags?rr(n.index,r):r;0==(32&r[2])&&Sd(x);let O=Km(r,0,u,w),W=g.__ngNextListenerFn__;for(;W;)O=Km(r,0,W,w)&&O,W=W.__ngNextListenerFn__;return l&&!1===O&&(w.preventDefault(),w.returnValue=!1),O}}function Jp(n=1){return function zr(n){return(zn.lFrame.contextLView=function mo(n,r){for(;n>0;)r=r[15],n--;return r}(n,zn.lFrame.contextLView))[8]}(n)}function cf(n,r,o){return df(n,"",r,"",o),cf}function df(n,r,o,u,l){const g=ve(),w=Nl(g,r,o,u);return w!==Tr&&Ga(Lt(),hi(),g,n,w,g[11],l,!1),df}function rg(n,r,o,u,l){const g=n[o+1],w=null===r;let x=u?au(g):Lu(g),O=!1;for(;0!==x&&(!1===O||w);){const J=n[x+1];R_(n[x],r)&&(O=!0,n[x+1]=u?vh(J):_h(J)),x=u?au(J):Lu(J)}O&&(n[o+1]=u?_h(g):vh(g))}function R_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Uo(n,r)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jm(n){return n.substring(qs.key,qs.keyEnd)}function Xm(n,r){const o=qs.textEnd;return o===r?-1:(r=qs.keyEnd=function ty(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,qs.key=r,o),Ji(n,r,o))}function Ji(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function sg(n,r,o){return wa(n,r,o,!1),sg}function og(n,r){return wa(n,r,null,!0),og}function sy(n){!function wu(n,r,o,u){const l=Lt(),g=Os(2);l.firstUpdatePass&&al(l,null,g,u);const w=ve();if(o!==Tr&&zo(w,g,o)){const x=l.data[Vi()];if(ff(x,u)&&!ol(l,g)){let O=u?x.classesWithoutHost:x.stylesWithoutHost;null!==O&&(o=We(O,o||"")),jd(l,x,w,o,u)}else!function U_(n,r,o,u,l,g,w,x){l===Tr&&(l=Ht);let O=0,W=0,J=0<l.length?l[0]:null,fe=0<g.length?g[0]:null;for(;null!==J||null!==fe;){const Oe=O<l.length?l[O+1]:void 0,Xe=W<g.length?g[W+1]:void 0;let rn,At=null;J===fe?(O+=2,W+=2,Oe!==Xe&&(At=fe,rn=Xe)):null===fe||null!==J&&J<fe?(O+=2,At=J):(W+=2,At=fe,rn=Xe),null!==At&&Ul(n,r,o,u,At,rn,w,x),J=O<l.length?l[O]:null,fe=W<g.length?g[W]:null}}(l,x,w,w[11],w[g+1],w[g+1]=function oy(n,r,o){if(null==o||""===o)return Ht;const u=[],l=hr(o);if(Array.isArray(l))for(let g=0;g<l.length;g++)n(u,l[g],!0);else if("object"==typeof l)for(const g in l)l.hasOwnProperty(g)&&n(u,g,l[g]);else"string"==typeof l&&r(u,l);return u}(n,r,o),u,g)}}(ti,Eu,n,!0)}function Eu(n,r){for(let o=function N_(n){return function ey(n){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=n.length}(n),Xm(n,Ji(n,0,qs.textEnd))}(r);o>=0;o=Xm(r,o))ti(n,Jm(r),!0)}function wa(n,r,o,u){const l=ve(),g=Lt(),w=Os(2);g.firstUpdatePass&&al(g,n,w,u),r!==Tr&&zo(l,w,r)&&Ul(g,g.data[Vi()],l,l[11],n,l[w+1]=function ay(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=de(hr(n)))),n}(r,o),u,w)}function ol(n,r){return r>=n.expandoStartIndex}function al(n,r,o,u){const l=n.data;if(null===l[o+1]){const g=l[Vi()],w=ol(n,o);ff(g,u)&&null===r&&!w&&(r=!1),r=function l0(n,r,o,u){const l=po(n);let g=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(o=id(o=ag(null,n,r,o,u),r.attrs,u),g=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==l)if(o=ag(l,n,r,o,u),null===g){let O=function gc(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Lu(u))return n[au(u)]}(n,r,u);void 0!==O&&Array.isArray(O)&&(O=ag(null,n,r,O[1],u),O=id(O,r.attrs,u),function hf(n,r,o,u){n[au(o?r.classBindings:r.styleBindings)]=u}(n,r,u,O))}else g=function V_(n,r,o){let u;const l=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<l;g++)u=id(u,n[g].hostAttrs,o);return id(u,r.attrs,o)}(n,r,u)}return void 0!==g&&(u?r.residualClasses=g:r.residualStyles=g),o}(l,g,r,u),function P_(n,r,o,u,l,g){let w=g?r.classBindings:r.styleBindings,x=au(w),O=Lu(w);n[u]=o;let J,W=!1;if(Array.isArray(o)){const fe=o;J=fe[1],(null===J||Uo(fe,J)>0)&&(W=!0)}else J=o;if(l)if(0!==O){const Oe=au(n[x+1]);n[u+1]=bl(Oe,x),0!==Oe&&(n[Oe+1]=zf(n[Oe+1],u)),n[x+1]=function Hf(n,r){return 131071&n|r<<17}(n[x+1],u)}else n[u+1]=bl(x,0),0!==x&&(n[x+1]=zf(n[x+1],u)),x=u;else n[u+1]=bl(O,0),0===x?x=u:n[O+1]=zf(n[O+1],u),O=u;W&&(n[u+1]=_h(n[u+1])),rg(n,J,u,!0),rg(n,J,u,!1),function O_(n,r,o,u,l){const g=l?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&Uo(g,r)>=0&&(o[u+1]=vh(o[u+1]))}(r,J,n,u,g),w=bl(x,O),g?r.classBindings=w:r.styleBindings=w}(l,g,r,o,w,u)}}function ag(n,r,o,u,l){let g=null;const w=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<w&&(g=r[x],u=id(u,g.hostAttrs,l),g!==n);)x++;return null!==n&&(o.directiveStylingLast=x),u}function id(n,r,o){const u=o?1:2;let l=-1;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?l=w:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ti(n,w,!!o||r[++g]))}return void 0===n?null:n}function Ul(n,r,o,u,l,g,w,x){if(!(3&r.type))return;const O=n.data,W=O[x+1];Bl(function Gf(n){return 1==(1&n)}(W)?Wd(O,r,o,l,Lu(W),w):void 0)||(Bl(g)||function yh(n){return 2==(2&n)}(W)&&(g=Wd(O,null,o,l,x,w)),function Qy(n,r,o,u,l){const g=ii(n);if(r)l?g?n.addClass(o,u):o.classList.add(u):g?n.removeClass(o,u):o.classList.remove(u);else{let w=-1===u.indexOf("-")?void 0:bo.DashCase;if(null==l)g?n.removeStyle(o,u,w):o.style.removeProperty(u);else{const x="string"==typeof l&&l.endsWith("!important");x&&(l=l.slice(0,-10),w|=bo.Important),g?n.setStyle(o,u,l,w):o.style.setProperty(u,l,x?"important":"")}}}(u,w,ft(Vi(),o),l,g))}function Wd(n,r,o,u,l,g){const w=null===r;let x;for(;l>0;){const O=n[l],W=Array.isArray(O),J=W?O[1]:O,fe=null===J;let Oe=o[l+1];Oe===Tr&&(Oe=fe?Ht:void 0);let Xe=fe?ga(Oe,u):J===u?Oe:void 0;if(W&&!Bl(Xe)&&(Xe=ga(O,u)),Bl(Xe)&&(x=Xe,w))return x;const At=n[l+1];l=w?au(At):Lu(At)}if(null!==r){let O=g?r.residualClasses:r.residualStyles;null!=O&&(x=ga(O,u))}return x}function Bl(n){return void 0!==n}function ff(n,r){return 0!=(n.flags&(r?16:32))}function uy(n,r=""){const o=ve(),u=Lt(),l=n+20,g=u.firstCreatePass?Lc(u,l,1,r,null):u.data[l],w=o[l]=function hh(n,r){return ii(n)?n.createText(r):n.createTextNode(r)}(o[11],r);_d(u,o,w,g),ds(g,!1)}function ug(n){return pf("",n,""),ug}function pf(n,r,o){const u=ve(),l=Nl(u,n,r,o);return l!==Tr&&tl(u,Vi(),l),pf}function wf(n,r,o){const u=ve();if(zo(u,Po(),r)){const g=Lt(),w=hi();Ga(g,w,u,n,r,function fp(n,r,o){return(null===n||le(n))&&(o=function ne(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}(po(g.data),w,u),o,!0)}return wf}const $l=void 0;var _y=["en",[["a","p"],["AM","PM"],$l],[["AM","PM"],$l,$l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$l,"{1} 'at' {0}",$l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yy(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let mc={};function ad(n){const r=function p0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=W_(r);if(o)return o;const u=r.split("-")[0];if(o=W_(u),o)return o;if("en"===u)return _y;throw new Error(`Missing locale data for the locale "${n}".`)}function G_(n){return ad(n)[yr.PluralCase]}function W_(n){return n in mc||(mc[n]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[n]),mc[n]}var yr=(()=>((yr=yr||{})[yr.LocaleId=0]="LocaleId",yr[yr.DayPeriodsFormat=1]="DayPeriodsFormat",yr[yr.DayPeriodsStandalone=2]="DayPeriodsStandalone",yr[yr.DaysFormat=3]="DaysFormat",yr[yr.DaysStandalone=4]="DaysStandalone",yr[yr.MonthsFormat=5]="MonthsFormat",yr[yr.MonthsStandalone=6]="MonthsStandalone",yr[yr.Eras=7]="Eras",yr[yr.FirstDayOfWeek=8]="FirstDayOfWeek",yr[yr.WeekendRange=9]="WeekendRange",yr[yr.DateFormat=10]="DateFormat",yr[yr.TimeFormat=11]="TimeFormat",yr[yr.DateTimeFormat=12]="DateTimeFormat",yr[yr.NumberSymbols=13]="NumberSymbols",yr[yr.NumberFormats=14]="NumberFormats",yr[yr.CurrencyCode=15]="CurrencyCode",yr[yr.CurrencySymbol=16]="CurrencySymbol",yr[yr.CurrencyName=17]="CurrencyName",yr[yr.Currencies=18]="Currencies",yr[yr.Directionality=19]="Directionality",yr[yr.PluralCase=20]="PluralCase",yr[yr.ExtraData=21]="ExtraData",yr))();const Hl="en-US";let Ey=Hl;function rv(n,r,o,u,l){if(n=ke(n),Array.isArray(n))for(let g=0;g<n.length;g++)rv(n[g],r,o,u,l);else{const g=Lt(),w=ve();let x=lc(n)?n:ke(n.provide),O=uc(n);const W=Dr(),J=1048575&W.providerIndexes,fe=W.directiveStart,Oe=W.providerIndexes>>20;if(lc(n)||!n.multi){const Xe=new io(O,l,pc),At=sv(x,r,l?J:J+Oe,fe);-1===At?(D(lt(W,w),g,x),iv(g,n,r.length),r.push(x),W.directiveStart++,W.directiveEnd++,l&&(W.providerIndexes+=1048576),o.push(Xe),w.push(Xe)):(o[At]=Xe,w[At]=Xe)}else{const Xe=sv(x,r,J+Oe,fe),At=sv(x,r,J,J+Oe),rn=Xe>=0&&o[Xe],_n=At>=0&&o[At];if(l&&!_n||!l&&!rn){D(lt(W,w),g,x);const Wn=function uw(n,r,o,u,l){const g=new io(n,o,pc);return g.multi=[],g.index=r,g.componentProviders=0,S0(g,l,u&&!o),g}(l?aw:ow,o.length,l,u,O);!l&&_n&&(o[At].providerFactory=Wn),iv(g,n,r.length,0),r.push(x),W.directiveStart++,W.directiveEnd++,l&&(W.providerIndexes+=1048576),o.push(Wn),w.push(Wn)}else iv(g,n,Xe>-1?Xe:At,S0(o[l?At:Xe],O,!l&&u));!l&&u&&_n&&o[At].componentProviders++}}}function iv(n,r,o,u){const l=lc(r),g=function _p(n){return!!n.useClass}(r);if(l||g){const O=(g?ke(r.useClass):r).prototype.ngOnDestroy;if(O){const W=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const J=W.indexOf(o);-1===J?W.push(o,[u,O]):W[J+1].push(u,O)}else W.push(o,O)}}}function S0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function sv(n,r,o,u){for(let l=o;l<u;l++)if(r[l]===n)return l;return-1}function ow(n,r,o,u){return ov(this.multi,[])}function aw(n,r,o,u){const l=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=sr(o,o[1],this.providerFactory.index,u);g=x.slice(0,w),ov(l,g);for(let O=w;O<x.length;O++)g.push(x[O])}else g=[],ov(l,g);return g}function ov(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function x0(n,r=[]){return o=>{o.providersResolver=(u,l)=>function sw(n,r,o){const u=Lt();if(u.firstCreatePass){const l=le(n);rv(o,u.data,u.blueprint,l,!0),rv(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class M0{}class dw{resolveComponentFactory(r){throw function cw(n){const r=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Oy=(()=>{class n{}return n.NULL=new dw,n})();function hw(){return Sf(Dr(),ve())}function Sf(n,r){return new _g(Dt(n,r))}let _g=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=hw,n})();function fw(n){return n instanceof _g?n.nativeElement:n}class O0{}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mw(){const n=ve(),o=rr(Dr().index,n);return function gw(n){return n[11]}(ze(o)?o:n)}(),n})(),yw=(()=>{class n{}return n.\u0275prov=xn({token:n,providedIn:"root",factory:()=>null}),n})();class R0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const N0=new R0("13.3.11"),av={};function Ry(n,r,o,u,l=!1){for(;null!==o;){const g=r[o.index];if(null!==g&&u.push(L(g)),yt(g))for(let x=10;x<g.length;x++){const O=g[x],W=O[1].firstChild;null!==W&&Ry(O[1],O,W,u)}const w=o.type;if(8&w)Ry(n,r,o.child,u);else if(32&w){const x=lh(o,r);let O;for(;O=x();)u.push(O)}else if(16&w){const x=yu(r,o);if(Array.isArray(x))u.push(...x);else{const O=nc(r[16]);Ry(O[1],O,x,u,!0)}}o=l?o.projectionNext:o.next}return u}class vg{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Ry(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(yt(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(rc(r,u),pa(o,u))}this._attachedToViewContainer=!1}yd(this._lView[1],this._lView)}onDestroy(r){om(this._lView[1],this._lView,null,r)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function xd(n,r,o){const u=r[10];u.begin&&u.begin();try{ac(n,r,n.template,o)}catch(l){throw Od(r,l),l}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rg(n,r){xc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,"");this._appRef=r}}class _w extends vg{constructor(r){super(r),this._view=r}detectChanges(){Md(this._view)}checkNoChanges(){}get context(){return null}}class k0 extends Oy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Bt(r);return new uv(o,this.ngModule)}}function F0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class uv extends M0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function n_(n){return n.map(qg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return F0(this.componentDef.inputs)}get outputs(){return F0(this.componentDef.outputs)}create(r,o,u,l){const g=(l=l||this.ngModule)?function Ew(n,r){return{get:(o,u,l)=>{const g=n.get(o,av,l);return g!==av||u===av?g:r.get(o,u,l)}}}(r,l.injector):r,w=g.get(O0,U),x=g.get(yw,null),O=w.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",J=u?function sm(n,r,o){if(ii(n))return n.selectRootElement(r,o===Le.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(O,u,this.componentDef.encapsulation):Ac(w.createRenderer(null,this.componentDef),W,function vw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(W)),fe=this.componentDef.onPush?576:528,Oe=function cc(n,r){return{components:[],scheduler:n||Zy,clean:dp,playerHandler:r||null,flags:0}}(),Xe=bd(0,null,null,1,0,null,null,null,null,null),At=Fc(null,Xe,Oe,fe,null,null,w,O,x,g);let rn,_n;ua(At);try{const Wn=function Zh(n,r,o,u,l,g){const w=o[1];o[20]=n;const O=Lc(w,20,2,"#host",null),W=O.mergedAttrs=r.hostAttrs;null!==W&&(Bh(O,W,!0),null!==n&&(Cs(l,n,W),null!==O.classes&&Ed(l,n,O.classes),null!==O.styles&&Mc(l,n,O.styles)));const J=u.createRenderer(n,r),fe=Fc(o,Uc(r),null,r.onPush?64:16,o[20],O,u,J,g||null,null);return w.firstCreatePass&&(D(lt(O,o),w,r.type),lm(w,O),Ph(O,o.length,1)),Fh(o,fe),o[20]=fe}(J,this.componentDef,At,w,O);if(J)if(u)Cs(O,J,["ng-version",N0.full]);else{const{attrs:Ut,classes:fr}=function Kg(n){const r=[],o=[];let u=1,l=2;for(;u<n.length;){let g=n[u];if("string"==typeof g)2===l?""!==g&&r.push(g,n[++u]):8===l&&o.push(g);else{if(!_u(l))break;l=g}u++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Ut&&Cs(O,J,Ut),fr&&fr.length>0&&Ed(O,J,fr.join(" "))}if(_n=Ar(Xe,20),void 0!==o){const Ut=_n.projection=[];for(let fr=0;fr<this.ngContentSelectors.length;fr++){const pi=o[fr];Ut.push(null!=pi?Array.from(pi):null)}}rn=function qh(n,r,o,u,l){const g=o[1],w=function am(n,r,o){const u=Dr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),hm(n,u,r,Vc(n,r,1,null),o));const l=sr(r,n,u.directiveStart,u);xi(l,r);const g=Dt(u,r);return g&&xi(g,r),l}(g,o,r);if(u.components.push(w),n[8]=w,l&&l.forEach(O=>O(w,r)),r.contentQueries){const O=Dr();r.contentQueries(1,w,O.directiveStart)}const x=Dr();return!g.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ui(x.index),Sh(o[1],x,0,x.directiveStart,x.directiveEnd,r),Mh(r,w)),w}(Wn,this.componentDef,At,Oe,[Ml]),Al(Xe,At,null)}finally{zs()}return new Cw(this.componentType,rn,Sf(_n,At),At,_n)}}class Cw extends class lw{}{constructor(r,o,u,l,g){super(),this.location=u,this._rootLView=l,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new _w(l),this.componentType=r}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class xf{}class L0{}const Mf=new Map;class B0 extends xf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new k0(this);const u=Bn(r);this._bootstrapComponents=ku(u.bootstrap),this._r3Injector=jh(r,o,[{provide:xf,useValue:this},{provide:Oy,useValue:this.componentFactoryResolver}],de(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Bu.THROW_IF_NOT_FOUND,u=hn.Default){return r===Bu||r===xf||r===jc?this:this._r3Injector.get(r,o,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class lv extends L0{constructor(r){super(),this.moduleType=r,null!==Bn(r)&&function Iw(n){const r=new Set;!function o(u){const l=Bn(u,!0),g=l.id;null!==g&&(function V0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${de(r)} vs ${de(r.name)}`)}(g,Mf.get(g),u),Mf.set(g,u));const w=ku(l.imports);for(const x of w)r.has(x)||(r.add(x),o(x))}(n)}(r)}create(r){return new B0(this.moduleType,r)}}function j0(n,r,o,u,l,g,w){return function G0(n,r,o,u,l,g,w,x,O){const W=r+o;return function uu(n,r,o,u,l,g){const w=Rl(n,r,o,u);return Rl(n,r+2,l,g)||w}(n,W,l,g,w,x)?function vu(n,r,o){return n[r]=o}(n,W+4,O?u.call(O,l,g,w,x):u(l,g,w,x)):function Eg(n,r){const o=n[r];return o===Tr?void 0:o}(n,W+4)}(ve(),function Xr(){const n=zn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),n,r,o,u,l,g,w)}function cv(n){return r=>{setTimeout(n,void 0,r)}}const Gl=class jw extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){var l,g,w;let x=r,O=o||(()=>null),W=u;if(r&&"object"==typeof r){const fe=r;x=null===(l=fe.next)||void 0===l?void 0:l.bind(fe),O=null===(g=fe.error)||void 0===g?void 0:g.bind(fe),W=null===(w=fe.complete)||void 0===w?void 0:w.bind(fe)}this.__isAsync&&(O=cv(O),x&&(x=cv(x)),W&&(W=cv(W)));const J=super.subscribe({next:x,error:O,complete:W});return r instanceof v.w0&&r.add(J),J}};function $w(){return this._results[Gc()]()}class dv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Gc(),u=dv.prototype;u[o]||(u[o]=$w)}get changes(){return this._changes||(this._changes=new Gl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const l=Wi(r);(this._changesDetected=!function Va(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],g=r[u];if(o&&(l=o(l),g=o(g)),g!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();const Hw=Cg,zw=class extends Hw{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r){const o=this._declarationTContainer.tViews,u=Fc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(o)),Al(o,u,r),new vg(u)}};function Gw(){return Ny(Dr(),ve())}function Ny(n,r){return 4&n.type?new zw(r,n,Sf(n,r)):null}let ky=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();function Ww(){return K0(Dr(),ve())}const Zw=ky,Z0=class extends Zw{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Sf(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const r=M(this._hostTNode,this._hostLView);if(so(r)){const o=Vt(r,this._hostLView),u=ko(r);return new Cr(o[1].data[u+8],o)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=q0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){const l=r.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(r,o,u,l,g){const w=r&&!function Ts(n){return"function"==typeof n}(r);let x;if(w)x=o;else{const fe=o||{};x=fe.index,u=fe.injector,l=fe.projectableNodes,g=fe.ngModuleRef}const O=w?r:new uv(Bt(r)),W=u||this.parentInjector;if(!g&&null==O.ngModule){const Oe=(w?W:this.parentInjector).get(xf,null);Oe&&(g=Oe)}const J=O.create(W,l,void 0,g);return this.insert(J.hostView,x),J}insert(r,o){const u=r._lView,l=u[1];if(function jr(n){return yt(n[3])}(u)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const fe=u[3],Oe=new Z0(fe,fe[6],fe[3]);Oe.detach(Oe.indexOf(r))}}const g=this._adjustIndex(o),w=this._lContainer;!function Lf(n,r,o,u){const l=10+u,g=o.length;u>0&&(o[l-1][4]=r),u<g-10?(r[4]=o[l],Aa(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const w=r[17];null!==w&&o!==w&&function md(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(w,r);const x=r[19];null!==x&&x.insertView(n),r[2]|=128}(l,u,w,g);const x=vd(g,w),O=u[11],W=ph(O,w[7]);return null!==W&&function qy(n,r,o,u,l,g){u[0]=l,u[6]=r,xc(n,u,o,1,l,g)}(l,w[6],O,u,W,x),r.attachToViewContainerRef(),Aa(hv(w),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=q0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=rc(this._lContainer,o);u&&(pa(hv(this._lContainer),o),yd(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=rc(this._lContainer,o);return u&&null!=pa(hv(this._lContainer),o)?new vg(u):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function q0(n){return n[8]}function hv(n){return n[8]||(n[8]=[])}function K0(n,r){let o;const u=r[n.index];if(yt(u))o=u;else{let l;if(8&n.type)l=L(u);else{const g=r[11];l=g.createComment("");const w=Dt(n,r);_l(g,ph(g,w),l,function Uf(n,r){return ii(n)?n.nextSibling(r):r.nextSibling}(g,w),!1)}r[n.index]=o=Rh(u,r,l,n),Fh(r,o)}return new Z0(o,n,r)}class fv{constructor(r){this.queryList=r,this.matches=null}clone(){return new fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let g=0;g<u;g++){const w=o.getByIndex(g);l.push(this.queries[w.indexInDeclarationView].clone())}return new pv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==rE(r,o).matches&&this.queries[o].setDirty()}}class Y0{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class gv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(r,l);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new gv(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class mv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new mv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const g=u[l];this.matchTNodeWithReadOption(r,o,Yw(o,g)),this.matchTNodeWithReadOption(r,o,an(o,r,g,!1,!1))}else u===Cg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,an(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===_g||l===ky||l===Cg&&4&o.type)this.addMatch(o.index,-2);else{const g=an(o,r,l,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Yw(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function Jw(n,r,o,u){return-1===o?function Qw(n,r){return 11&n.type?Sf(n,r):4&n.type?Ny(n,r):null}(r,n):-2===o?function Xw(n,r,o){return o===_g?Sf(r,n):o===Cg?Ny(r,n):o===ky?K0(r,n):void 0}(n,r,u):sr(n,n[1],o,r)}function Q0(n,r,o,u){const l=r[19].queries[u];if(null===l.matches){const g=n.data,w=o.matches,x=[];for(let O=0;O<w.length;O+=2){const W=w[O];x.push(W<0?null:Jw(r,g[W],w[O+1],o.metadata.read))}l.matches=x}return l.matches}function yv(n,r,o,u){const l=n.queries.getByIndex(o),g=l.matches;if(null!==g){const w=Q0(n,r,l,o);for(let x=0;x<g.length;x+=2){const O=g[x];if(O>0)u.push(w[x/2]);else{const W=g[x+1],J=r[-O];for(let fe=10;fe<J.length;fe++){const Oe=J[fe];Oe[17]===Oe[3]&&yv(Oe[1],Oe,W,u)}if(null!==J[9]){const fe=J[9];for(let Oe=0;Oe<fe.length;Oe++){const Xe=fe[Oe];yv(Xe[1],Xe,W,u)}}}}}return u}function J0(n){const r=ve(),o=Lt(),u=Ka();Ta(u+1);const l=rE(o,u);if(n.dirty&&mr(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const g=l.crossesNgTemplate?yv(o,r,u,[]):Q0(o,r,l,u);n.reset(g,fw),n.notifyOnChanges()}return!0}return!1}function X0(n,r,o,u){const l=Lt();if(l.firstCreatePass){const g=Dr();(function nE(n,r,o){null===n.queries&&(n.queries=new gv),n.queries.track(new mv(r,o))})(l,new Y0(r,o,u),g.index),function nC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function tE(n,r,o){const u=new dv(4==(4&o));om(n,r,u,u.destroy),null===r[19]&&(r[19]=new pv),r[19].queries.push(new fv(u))}(l,ve(),o)}function eE(){return function tC(n,r){return n[19].queries[r].queryList}(ve(),Ka())}function rE(n,r){return n.queries.getByIndex(r)}function Vy(...n){}const EE=new mi("Application Initializer");let bv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Vy,this.reject=Vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const g=this.appInits[l]();if(Zp(g))o.push(g);else if(qp(g)){const w=new Promise((x,O)=>{g.subscribe({complete:x,error:O})});o.push(w)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Zi(EE,8))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wE=new mi("AppId",{providedIn:"root",factory:function CE(){return`${Iv()}${Iv()}${Iv()}`}});function Iv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bE=new mi("Platform Initializer"),EC=new mi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IE=new mi("appBootstrapListener");let wC=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Tv=new mi("LocaleId",{providedIn:"root",factory:()=>_a(Tv,hn.Optional|hn.SkipSelf)||function CC(){return"undefined"!=typeof $localize&&$localize.locale||Hl}()}),bC=new mi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class IC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let TC=(()=>{class n{compileModuleSync(o){return new lv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=ku(Bn(o).declarations).reduce((w,x)=>{const O=Bt(x);return O&&w.push(new uv(O)),w},[]);return new IC(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AC=(()=>Promise.resolve(0))();function Dv(n){"undefined"==typeof Zone?AC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ll{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function SC(){let n=Cn.requestAnimationFrame,r=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function PC(n){const r=()=>{!function MC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,g,w,x)=>{try{return TE(n),o.invokeTask(l,g,w,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),DE(n)}},onInvoke:(o,u,l,g,w,x,O)=>{try{return TE(n),o.invoke(l,g,w,x,O)}finally{n.shouldCoalesceRunChangeDetection&&r(),DE(n)}},onHasTask:(o,u,l,g)=>{o.hasTask(l,g),u===l&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,Sv(n),Av(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,l,g)=>(o.handleError(l,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ll.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ll.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,l){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+l,r,xC,Vy,Vy);try{return g.runTask(w,o,u)}finally{g.cancelTask(w)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const xC={};function Av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function TE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DE(n){n._nesting--,Av(n)}class OC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,l){return r.apply(o,u)}}let AE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ll.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Zi(ll))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})(),RC=(()=>{class n{constructor(){this._applications=new Map,xv.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return xv.findTestabilityInTree(this,o,u)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class NC{addToWindow(r){}findTestabilityInTree(r,o,u){return null}}function kC(n){xv=n}let xv=new NC,eh=null;const SE=new mi("AllowMultipleToken"),xE=new mi("PlatformOnDestroy");class VC{constructor(r,o){this.name=r,this.token=o}}function ME(n,r,o=[]){const u=`Platform: ${r}`,l=new mi(u);return(g=[])=>{let w=Mv();if(!w||w.injector.get(SE,!1)){const x=[...o,...g,{provide:l,useValue:!0}];n?n(x):function UC(n){if(eh&&!eh.get(SE,!1))throw new tt(400,"");eh=n;const r=n.get(PE),o=n.get(bE,null);o&&o.forEach(u=>u())}(function jC(n=[],r){return Bu.create({name:r,providers:[{provide:Rd,useValue:"platform"},{provide:xE,useValue:()=>eh=null},...n]})}(x,u))}return function BC(n){const r=Mv();if(!r)throw new tt(401,"");return r}()}}function Mv(){var n;return null!==(n=null==eh?void 0:eh.get(PE))&&void 0!==n?n:null}let PE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const x=function $C(n,r){let o;return o="noop"===n?new OC:("zone.js"===n?void 0:n)||new ll({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),O=[{provide:ll,useValue:x}];return x.run(()=>{const W=Bu.create({providers:O,parent:this.injector,name:o.moduleType.name}),J=o.create(W),fe=J.injector.get(hd,null);if(!fe)throw new tt(402,"");return x.runOutsideAngular(()=>{const Oe=x.onError.subscribe({next:Xe=>{fe.handleError(Xe)}});J.onDestroy(()=>{Ov(this._modules,J),Oe.unsubscribe()})}),function HC(n,r,o){try{const u=o();return Zp(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(fe,x,()=>{const Oe=J.injector.get(bv);return Oe.runInitializers(),Oe.donePromise.then(()=>(function Z_(n){un(n,"Expected localeId to be defined"),"string"==typeof n&&(Ey=n.toLowerCase().replace(/_/g,"-"))}(J.injector.get(Tv,Hl)||Hl),this._moduleDoBootstrap(J),J))})})}bootstrapModule(o,u=[]){const l=OE({},u);return function FC(n,r,o){const u=new lv(o);return Promise.resolve(u)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,l))}_moduleDoBootstrap(o){const u=o.injector.get(Pv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new tt(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(xE,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Zi(Bu))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function OE(n,r){return Array.isArray(r)?r.reduce(OE,n):Object.assign(Object.assign({},n),r)}let Pv=(()=>{class n{constructor(o,u,l,g){this._zone=o,this._injector=u,this._exceptionHandler=l,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new _.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),x=new _.y(O=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{ll.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{ll.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{W.unsubscribe(),J.unsubscribe()}});this.isStable=(0,Ee.T)(w,x.pipe((0,oe.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new tt(405,"");let l;l=o instanceof M0?o:this._injector.get(Oy).resolveComponentFactory(o),this.componentTypes.push(l.componentType);const g=function LC(n){return n.isBoundToModule}(l)?void 0:this._injector.get(xf),x=l.create(Bu.NULL,[],u||l.selector,g),O=x.location.nativeElement,W=x.injector.get(AE,null),J=W&&x.injector.get(RC);return W&&J&&J.registerApplication(O,W),x.onDestroy(()=>{this.detachView(x.hostView),Ov(this.components,x),J&&J.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new tt(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ov(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(IE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(Zi(ll),Zi(Bu),Zi(hd),Zi(bv))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ov(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let NE=!0,kE=!1;function GC(){return kE=!0,NE}function WC(){if(kE)throw new Error("Cannot enable prod mode after platform setup.");NE=!1}let ZC=(()=>{class n{}return n.__NG_ELEMENT_ID__=qC,n})();function qC(n){return function KC(n,r,o){if(Mn(n)&&!o){const u=rr(n.index,r);return new vg(u,u)}return 47&n.type?new vg(r[16],r):null}(Dr(),ve(),16==(16&n))}class UE{constructor(){}supports(r){return hc(r)}create(r){return new tb(r)}}const eb=(n,r)=>r;class tb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eb}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,l=0,g=null;for(;o||u;){const w=!u||o&&o.currentIndex<jE(u,l,g)?o:u,x=jE(w,l,g),O=w.currentIndex;if(w===u)l--,u=u._nextRemoved;else if(o=o._next,null==w.previousIndex)l++;else{g||(g=[]);const W=x-l,J=O-l;if(W!=J){for(let Oe=0;Oe<W;Oe++){const Xe=Oe<g.length?g[Oe]:g[Oe]=0,At=Xe+Oe;J<=At&&At<W&&(g[Oe]=Xe+1)}g[w.previousIndex]=J-W}}x!==O&&r(w,x,O)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!hc(r))throw new tt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,g,w,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)g=r[x],w=this._trackByFn(x,g),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,g,w,x)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,w,x),u=!0),o=o._next}else l=0,function Rm(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Gc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,x=>{w=this._trackByFn(l,x),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,x,w,l)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,w,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,l){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,l)):r=this._addAfter(new nb(o,u),g,l),r}_verifyReinsertion(r,o,u,l){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?r=this._reinsertAfter(g,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,g=r._nextRemoved;return null===l?this._removalsHead=g:l._nextRemoved=g,null===g?this._removalsTail=l:g._prevRemoved=l,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new BE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class nb{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class BE{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new rb,this.map.set(o,u)),u.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jE(n,r,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+r+l}class $E{constructor(){}supports(r){return r instanceof Map||Sp(r)}create(){return new ib}}class ib{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Sp(r)))throw new tt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const g=l._prev,w=l._next;return g&&(g._next=w),w&&(w._prev=g),l._next=null,l._prev=null,l}const u=new sb(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class sb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HE(){return new Lv([new UE])}let Lv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||HE()),deps:[[n,new ru,new ji]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new tt(901,"")}}return n.\u0275prov=xn({token:n,providedIn:"root",factory:HE}),n})();function zE(){return new Vv([new $E])}let Vv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||zE()),deps:[[n,new ru,new ji]]}}find(o){const u=this.factories.find(g=>g.supports(o));if(u)return u;throw new tt(901,"")}}return n.\u0275prov=xn({token:n,providedIn:"root",factory:zE}),n})();const ub=ME(null,"core",[]);let lb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Zi(Pv))},n.\u0275mod=ie({type:n}),n.\u0275inj=Hn({}),n})()},2382:(Gt,He,V)=>{V.d(He,{Fj:()=>Ge,qu:()=>Zo,NI:()=>Ai,u:()=>Ms,cw:()=>Si,sg:()=>gi,u5:()=>zn,JJ:()=>be,JL:()=>xe,F:()=>ze,UX:()=>cs,kI:()=>St,_Y:()=>Hr});var m=V(5e3),v=V(9808),_=V(8306),Ee=V(4742),oe=V(8421),Ae=V(7669),Se=V(5403),de=V(3268),We=V(1810),he=V(8996),ke=V(4004);let at=(()=>{class j{constructor(R,X){this._renderer=R,this._elementRef=X,this.onChange=ve=>{},this.onTouched=()=>{}}setProperty(R,X){this._renderer.setProperty(this._elementRef.nativeElement,R,X)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(m.Qsj),m.Y36(m.SBq))},j.\u0275dir=m.lG2({type:j}),j})(),ct=(()=>{class j extends at{}return j.\u0275fac=function(){let k;return function(X){return(k||(k=m.n5z(j)))(X||j)}}(),j.\u0275dir=m.lG2({type:j,features:[m.qOj]}),j})();const tt=new m.OlP("NgValueAccessor"),st={provide:tt,useExisting:(0,m.Gpc)(()=>Ge),multi:!0},Ft=new m.OlP("CompositionEventMode");let Ge=(()=>{class j extends at{constructor(R,X,ve){super(R,X),this._compositionMode=ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mt(){const j=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ft,8))},j.\u0275dir=m.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,X){1&R&&m.NdJ("input",function(Lt){return X._handleInput(Lt.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(Lt){return X._compositionEnd(Lt.target.value)})},features:[m._Bn([st]),m.qOj]}),j})();function Je(j){return null==j||0===j.length}function ht(j){return null!=j&&"number"==typeof j.length}const nt=new m.OlP("NgValidators"),vt=new m.OlP("NgAsyncValidators"),ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class St{static min(k){return function Fe(j){return k=>{if(Je(k.value)||Je(j))return null;const R=parseFloat(k.value);return!isNaN(R)&&R<j?{min:{min:j,actual:k.value}}:null}}(k)}static max(k){return function qe(j){return k=>{if(Je(k.value)||Je(j))return null;const R=parseFloat(k.value);return!isNaN(R)&&R>j?{max:{max:j,actual:k.value}}:null}}(k)}static required(k){return function Ye(j){return Je(j.value)?{required:!0}:null}(k)}static requiredTrue(k){return function dt(j){return!0===j.value?null:{required:!0}}(k)}static email(k){return function ut(j){return Je(j.value)||ge.test(j.value)?null:{email:!0}}(k)}static minLength(k){return function bt(j){return k=>Je(k.value)||!ht(k.value)?null:k.value.length<j?{minlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function zt(j){return k=>ht(k.value)&&k.value.length>j?{maxlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static pattern(k){return function $t(j){if(!j)return un;let k,R;return"string"==typeof j?(R="","^"!==j.charAt(0)&&(R+="^"),R+=j,"$"!==j.charAt(j.length-1)&&(R+="$"),k=new RegExp(R)):(R=j.toString(),k=j),X=>{if(Je(X.value))return null;const ve=X.value;return k.test(ve)?null:{pattern:{requiredPattern:R,actualValue:ve}}}}(k)}static nullValidator(k){return null}static compose(k){return Hn(k)}static composeAsync(k){return qn(k)}}function un(j){return null}function It(j){return null!=j}function Yn(j){const k=(0,m.QGY)(j)?(0,he.D)(j):j;return(0,m.CqO)(k),k}function dn(j){let k={};return j.forEach(R=>{k=null!=R?Object.assign(Object.assign({},k),R):k}),0===Object.keys(k).length?null:k}function Yt(j,k){return k.map(R=>R(j))}function wn(j){return j.map(k=>function xn(j){return!j.validate}(k)?k:R=>k.validate(R))}function Hn(j){if(!j)return null;const k=j.filter(It);return 0==k.length?null:function(R){return dn(Yt(R,k))}}function Tn(j){return null!=j?Hn(wn(j)):null}function qn(j){if(!j)return null;const k=j.filter(It);return 0==k.length?null:function(R){return function ae(...j){const k=(0,Ae.jO)(j),{args:R,keys:X}=(0,Ee.D)(j),ve=new _.y(Lt=>{const{length:Rr}=R;if(!Rr)return void Lt.complete();const Dr=new Array(Rr);let ts=Rr,Es=Rr;for(let ds=0;ds<Rr;ds++){let Ri=!1;(0,oe.Xf)(R[ds]).subscribe((0,Se.x)(Lt,vi=>{Ri||(Ri=!0,Es--),Dr[ds]=vi},()=>ts--,void 0,()=>{(!ts||!Ri)&&(Es||Lt.next(X?(0,We.n)(X,Dr):Dr),Lt.complete())}))}});return k?ve.pipe((0,de.Z)(k)):ve}(Yt(R,k).map(Yn)).pipe((0,ke.U)(dn))}}function _r(j){return null!=j?qn(wn(j)):null}function di(j,k){return null===j?[k]:Array.isArray(j)?[...j,k]:[j,k]}function wr(j){return j._rawValidators}function br(j){return j._rawAsyncValidators}function Kn(j){return j?Array.isArray(j)?j:[j]:[]}function Mr(j,k){return Array.isArray(j)?j.includes(k):j===k}function Vr(j,k){const R=Kn(k);return Kn(j).forEach(ve=>{Mr(R,ve)||R.push(ve)}),R}function hn(j,k){return Kn(k).filter(R=>!Mr(j,R))}class Jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Tn(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=_r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,R){return!!this.control&&this.control.hasError(k,R)}getError(k,R){return this.control?this.control.getError(k,R):null}}class Un extends Jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn extends Jn{get formDirective(){return null}get path(){return null}}class ni{constructor(k){this._cd=k}is(k){var R,X,ve;return"submitted"===k?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(ve=null===(X=this._cd)||void 0===X?void 0:X.control)||void 0===ve?void 0:ve[k])}}let be=(()=>{class j extends ni{constructor(R){super(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(Un,2))},j.\u0275dir=m.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,X){2&R&&m.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))},features:[m.qOj]}),j})(),xe=(()=>{class j extends ni{constructor(R){super(R)}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(pn,10))},j.\u0275dir=m.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,X){2&R&&m.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))("ng-submitted",X.is("submitted"))},features:[m.qOj]}),j})();function er(j,k){we(j,k),k.valueAccessor.writeValue(j.value),function ie(j,k){k.valueAccessor.registerOnChange(R=>{j._pendingValue=R,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Y(j,k)})}(j,k),function Re(j,k){const R=(X,ve)=>{k.valueAccessor.writeValue(X),ve&&k.viewToModelUpdate(X)};j.registerOnChange(R),k._registerOnDestroy(()=>{j._unregisterOnChange(R)})}(j,k),function se(j,k){k.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Y(j,k),"submit"!==j.updateOn&&j.markAsTouched()})}(j,k),function Yr(j,k){if(k.valueAccessor.setDisabledState){const R=X=>{k.valueAccessor.setDisabledState(X)};j.registerOnDisabledChange(R),k._registerOnDestroy(()=>{j._unregisterOnDisabledChange(R)})}}(j,k)}function ai(j,k,R=!0){const X=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(X),k.valueAccessor.registerOnTouched(X)),me(j,k),j&&(k._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function ri(j,k){j.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(k)})}function we(j,k){const R=wr(j);null!==k.validator?j.setValidators(di(R,k.validator)):"function"==typeof R&&j.setValidators([R]);const X=br(j);null!==k.asyncValidator?j.setAsyncValidators(di(X,k.asyncValidator)):"function"==typeof X&&j.setAsyncValidators([X]);const ve=()=>j.updateValueAndValidity();ri(k._rawValidators,ve),ri(k._rawAsyncValidators,ve)}function me(j,k){let R=!1;if(null!==j){if(null!==k.validator){const ve=wr(j);if(Array.isArray(ve)&&ve.length>0){const Lt=ve.filter(Rr=>Rr!==k.validator);Lt.length!==ve.length&&(R=!0,j.setValidators(Lt))}}if(null!==k.asyncValidator){const ve=br(j);if(Array.isArray(ve)&&ve.length>0){const Lt=ve.filter(Rr=>Rr!==k.asyncValidator);Lt.length!==ve.length&&(R=!0,j.setAsyncValidators(Lt))}}}const X=()=>{};return ri(k._rawValidators,X),ri(k._rawAsyncValidators,X),R}function Y(j,k){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function Qe(j,k){we(j,k)}function Rt(j,k){j._syncPendingControls(),k.forEach(R=>{const X=R.control;"submit"===X.updateOn&&X._pendingChange&&(R.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}function Be(j,k){const R=j.indexOf(k);R>-1&&j.splice(R,1)}const it="VALID",jt="INVALID",nn="PENDING",An="DISABLED";function ur(j){return(Hi(j)?j.validators:j)||null}function kr(j){return Array.isArray(j)?Tn(j):j||null}function gr(j,k){return(Hi(k)?k.asyncValidators:j)||null}function Bi(j){return Array.isArray(j)?_r(j):j||null}function Hi(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}const Sn=j=>j instanceof Ai,Ii=j=>j instanceof Si,Br=j=>j instanceof Or;function Bs(j){return Sn(j)?j.value:j.getRawValue()}function Ti(j,k){const R=Ii(j),X=j.controls;if(!(R?Object.keys(X):X).length)throw new m.vHH(1e3,"");if(!X[k])throw new m.vHH(1001,"")}function or(j,k){Ii(j),j._forEachChild((X,ve)=>{if(void 0===k[ve])throw new m.vHH(1002,"")})}class Di{constructor(k,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=R,this._composedValidatorFn=kr(this._rawValidators),this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===it}get invalid(){return this.status===jt}get pending(){return this.status==nn}get disabled(){return this.status===An}get enabled(){return this.status!==An}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=kr(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=Bi(k)}addValidators(k){this.setValidators(Vr(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Vr(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(hn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(hn(k,this._rawAsyncValidators))}hasValidator(k){return Mr(this._rawValidators,k)}hasAsyncValidator(k){return Mr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=nn,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=An,this.errors=null,this._forEachChild(X=>{X.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:R})),this._onDisabledChange.forEach(X=>X(!0))}enable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=it,this._forEachChild(X=>{X.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:R})),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===it||this.status===nn)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?An:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const R=Yn(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,R={}){this.errors=k,this._updateControlsErrors(!1!==R.emitEvent)}get(k){return function Ur(j,k,R){if(null==k||(Array.isArray(k)||(k=k.split(R)),Array.isArray(k)&&0===k.length))return null;let X=j;return k.forEach(ve=>{X=Ii(X)?X.controls.hasOwnProperty(ve)?X.controls[ve]:null:Br(X)&&X.at(ve)||null}),X}(this,k,".")}getError(k,R){const X=R?this.get(R):this;return X&&X.errors?X.errors[k]:null}hasError(k,R){return!!this.getError(k,R)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?An:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(jt)?jt:it}_anyControlsHaveStatus(k){return this._anyControls(R=>R.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Hi(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ai extends Di{constructor(k=null,R,X){super(ur(R),gr(X,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hi(R)&&R.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(k)?k.value:k)}setValue(k,R={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(k,R={}){this.setValue(k,R)}reset(k=this.defaultValue,R={}){this._applyFormState(k),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Be(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Be(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class Si extends Di{constructor(k,R,X){super(ur(R),gr(X,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,R){return this.controls[k]?this.controls[k]:(this.controls[k]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(k,R,X={}){this.registerControl(k,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(k,R,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],R&&this.registerControl(k,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,R={}){or(this,k),Object.keys(k).forEach(X=>{Ti(this,X),this.controls[X].setValue(k[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(Object.keys(k).forEach(X=>{this.controls[X]&&this.controls[X].patchValue(k[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k={},R={}){this._forEachChild((X,ve)=>{X.reset(k[ve],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(k,R,X)=>(k[X]=Bs(R),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(R,X)=>!!X._syncPendingControls()||R);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(R=>{const X=this.controls[R];X&&k(X,R)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const R of Object.keys(this.controls)){const X=this.controls[R];if(this.contains(R)&&k(X))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,R,X)=>((R.enabled||this.disabled)&&(k[X]=R.value),k))}_reduceChildren(k,R){let X=k;return this._forEachChild((ve,Lt)=>{X=R(X,ve,Lt)}),X}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Or extends Di{constructor(k,R,X){super(ur(R),gr(X,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,R={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(k,R,X={}){this.controls.splice(k,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(k,R,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),R&&(this.controls.splice(k,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,R={}){or(this,k),k.forEach((X,ve)=>{Ti(this,ve),this.at(ve).setValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(k.forEach((X,ve)=>{this.at(ve)&&this.at(ve).patchValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k=[],R={}){this._forEachChild((X,ve)=>{X.reset(k[ve],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(k=>Bs(k))}clear(k={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((R,X)=>!!X._syncPendingControls()||R,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((R,X)=>{k(R,X)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(R=>R.enabled&&k(R))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const Ve={provide:pn,useExisting:(0,m.Gpc)(()=>ze)},Pe=(()=>Promise.resolve(null))();let ze=(()=>{class j extends pn{constructor(R,X){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new Si({},Tn(R),_r(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){Pe.then(()=>{const X=this._findContainer(R.path);R.control=X.registerControl(R.name,R.control),er(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){Pe.then(()=>{const X=this._findContainer(R.path);X&&X.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){Pe.then(()=>{const X=this._findContainer(R.path),ve=new Si({});Qe(ve,R),X.registerControl(R.name,ve),ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){Pe.then(()=>{const X=this._findContainer(R.path);X&&X.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,X){Pe.then(()=>{this.form.get(R.path).setValue(X)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,Rt(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(nt,10),m.Y36(vt,10))},j.\u0275dir=m.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,X){1&R&&m.NdJ("submit",function(Lt){return X.onSubmit(Lt)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ve]),m.qOj]}),j})(),Hr=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275dir=m.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),as=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({}),j})();const Go=new m.OlP("NgModelWithFormControlWarning"),ui={provide:pn,useExisting:(0,m.Gpc)(()=>gi)};let gi=(()=>{class j extends pn{constructor(R,X){super(),this.validators=R,this.asyncValidators=X,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(R),this._setAsyncValidators(X)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const X=this.form.get(R.path);return er(X,R),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),X}getControl(R){return this.form.get(R.path)}removeControl(R){ai(R.control||null,R,!1),Be(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,X){this.form.get(R.path).setValue(X)}onSubmit(R){return this.submitted=!0,Rt(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const X=R.control,ve=this.form.get(R.path);X!==ve&&(ai(X||null,R),Sn(ve)&&(er(ve,R),R.control=ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const X=this.form.get(R.path);Qe(X,R),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const X=this.form.get(R.path);X&&function Bt(j,k){return me(j,k)}(X,R)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){we(this.form,this),this._oldForm&&me(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(R){return new(R||j)(m.Y36(nt,10),m.Y36(vt,10))},j.\u0275dir=m.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(R,X){1&R&&m.NdJ("submit",function(Lt){return X.onSubmit(Lt)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ui]),m.qOj,m.TTD]}),j})();const ys={provide:Un,useExisting:(0,m.Gpc)(()=>Ms)};let Ms=(()=>{class j extends Un{constructor(R,X,ve,Lt,Rr){super(),this._ngModelWarningConfig=Rr,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(X),this._setAsyncValidators(ve),this.valueAccessor=function Qt(j,k){if(!k)return null;let R,X,ve;return Array.isArray(k),k.forEach(Lt=>{Lt.constructor===Ge?R=Lt:function Tt(j){return Object.getPrototypeOf(j.constructor)===ct}(Lt)?X=Lt:ve=Lt}),ve||X||R||null}(0,Lt)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),function vr(j,k){if(!j.hasOwnProperty("model"))return!1;const R=j.model;return!!R.isFirstChange()||!Object.is(k,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function Ln(j,k){return[...k.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(R){return new(R||j)(m.Y36(pn,13),m.Y36(nt,10),m.Y36(vt,10),m.Y36(tt,10),m.Y36(Go,8))},j.\u0275dir=m.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ys]),m.qOj,m.TTD]}),j})(),cr=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[[as]]}),j})(),zn=(()=>{class j{}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[cr]}),j})(),cs=(()=>{class j{static withConfig(R){return{ngModule:j,providers:[{provide:Go,useValue:R.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(R){return new(R||j)},j.\u0275mod=m.oAB({type:j}),j.\u0275inj=m.cJS({imports:[cr]}),j})(),Zo=(()=>{class j{group(R,X=null){const ve=this._reduceControls(R);let Dr,Lt=null,Rr=null;return null!=X&&(function Mo(j){return void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn}(X)?(Lt=null!=X.validators?X.validators:null,Rr=null!=X.asyncValidators?X.asyncValidators:null,Dr=null!=X.updateOn?X.updateOn:void 0):(Lt=null!=X.validator?X.validator:null,Rr=null!=X.asyncValidator?X.asyncValidator:null)),new Si(ve,{asyncValidators:Rr,updateOn:Dr,validators:Lt})}control(R,X,ve){return new Ai(R,X,ve)}array(R,X,ve){const Lt=R.map(Rr=>this._createControl(Rr));return new Or(Lt,X,ve)}_reduceControls(R){const X={};return Object.keys(R).forEach(ve=>{X[ve]=this._createControl(R[ve])}),X}_createControl(R){return Sn(R)||Ii(R)||Br(R)?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return j.\u0275fac=function(R){return new(R||j)},j.\u0275prov=m.Yz7({token:j,factory:j.\u0275fac,providedIn:cs}),j})()},3809:(Gt,He,V)=>{V.d(He,{F0:()=>Wr,rH:()=>gs,yS:()=>io,Bz:()=>so,lC:()=>tr});var m=V(5e3),v=V(7579);class _ extends v.x{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const b=super._subscribe(D);return!b.closed&&D.next(this._value),b}getValue(){const{hasError:D,thrownError:b,_value:F}=this;if(D)throw b;return this._throwIfClosed(),F}next(D){super.next(this._value=D)}}var Ee=V(8306),oe=V(4742),Ae=V(8996),Se=V(4671),de=V(3268),We=V(7669),ae=V(1810),he=V(5403),ke=V(9672);function tt(M,D,b){M?(0,ke.f)(b,M,D):D()}var Ct=V(576);function Ne(M,D){const b=(0,Ct.m)(M)?M:()=>M,F=H=>H.error(b());return new Ee.y(D?H=>D.schedule(F,0,H):F)}var st=V(8421);function Mt(M){return new Ee.y(D=>{(0,st.Xf)(M()).subscribe(D)})}var Ft=V(727),Ge=V(4482);function Je(){return(0,Ge.e)((M,D)=>{let b=null;M._refCount++;const F=(0,he.x)(D,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(b=null);const H=M._connection,ee=b;b=null,H&&(!ee||H===ee)&&H.unsubscribe(),D.unsubscribe()});M.subscribe(F),F.closed||(b=M.connect())})}class ht extends Ee.y{constructor(D,b){super(),this.source=D,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Ft.w0;const b=this.getSubject();D.add(this.source.subscribe((0,he.x)(b,void 0,()=>{this._teardown(),b.complete()},F=>{this._teardown(),b.error(F)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Ft.w0.EMPTY)}return D}refCount(){return Je()(this)}}var nt=V(9646),vt=V(6805),ge=V(7272),St=V(515);function Fe(M){return(0,Ge.e)((D,b)=>{let ee,F=null,H=!1;F=D.subscribe((0,he.x)(b,void 0,void 0,pe=>{ee=(0,st.Xf)(M(pe,Fe(M)(D))),F?(F.unsubscribe(),F=null,ee.subscribe(b)):H=!0})),H&&(F.unsubscribe(),F=null,ee.subscribe(b))})}var qe=V(9300);function Ye(M){return M<=0?()=>St.E:(0,Ge.e)((D,b)=>{let F=[];D.subscribe((0,he.x)(b,H=>{F.push(H),M<F.length&&F.shift()},()=>{for(const H of F)b.next(H);b.complete()},void 0,()=>{F=null}))})}var dt=V(8068),ut=V(6590),$t=V(4004),un=V(3900),It=V(5698),Yn=V(8675),dn=V(5026),Yt=V(4351),xn=V(590),wn=V(5577),Hn=V(8505),Tn=V(8189),qn=V(9808);class _r{constructor(D,b){this.id=D,this.url=b}}class di extends _r{constructor(D,b,F="imperative",H=null){super(D,b),this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends _r{constructor(D,b,F){super(D,b),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class br extends _r{constructor(D,b,F){super(D,b),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kn extends _r{constructor(D,b,F){super(D,b),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mr extends _r{constructor(D,b,F,H){super(D,b),this.urlAfterRedirects=F,this.state=H}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends _r{constructor(D,b,F,H){super(D,b),this.urlAfterRedirects=F,this.state=H}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends _r{constructor(D,b,F,H,ee){super(D,b),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=ee}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jn extends _r{constructor(D,b,F,H){super(D,b),this.urlAfterRedirects=F,this.state=H}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends _r{constructor(D,b,F,H){super(D,b),this.urlAfterRedirects=F,this.state=H}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ni{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mi{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class be{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xe{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(D,b,F){this.routerEvent=D,this.position=b,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Le="primary";class xt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b[0]:b}return null}getAll(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ot(M){return new xt(M)}const Xn="ngNavigationCancelingError";function On(M){const D=Error("NavigationCancelingError: "+M);return D[Xn]=!0,D}function Gr(M,D,b){const F=b.path.split("/");if(F.length>M.length||"full"===b.pathMatch&&(D.hasChildren()||F.length<M.length))return null;const H={};for(let ee=0;ee<F.length;ee++){const pe=F[ee],Me=M[ee];if(pe.startsWith(":"))H[pe.substring(1)]=Me;else if(pe!==Me.path)return null}return{consumed:M.slice(0,F.length),posParams:H}}function Rn(M,D){const b=M?Object.keys(M):void 0,F=D?Object.keys(D):void 0;if(!b||!F||b.length!=F.length)return!1;let H;for(let ee=0;ee<b.length;ee++)if(H=b[ee],!Ht(M[H],D[H]))return!1;return!0}function Ht(M,D){if(Array.isArray(M)&&Array.isArray(D)){if(M.length!==D.length)return!1;const b=[...M].sort(),F=[...D].sort();return b.every((H,ee)=>F[ee]===H)}return M===D}function dr(M){return Array.prototype.concat.apply([],M)}function Nn(M){return M.length>0?M[M.length-1]:null}function tn(M,D){for(const b in M)M.hasOwnProperty(b)&&D(M[b],b)}function kn(M){return(0,m.CqO)(M)?M:(0,m.QGY)(M)?(0,Ae.D)(Promise.resolve(M)):(0,nt.of)(M)}const er={exact:function we(M,D,b){if(!fn(M.segments,D.segments)||!Y(M.segments,D.segments,b)||M.numberOfChildren!==D.numberOfChildren)return!1;for(const F in D.children)if(!M.children[F]||!we(M.children[F],D.children[F],b))return!1;return!0},subset:ie},ai={exact:function Yr(M,D){return Rn(M,D)},subset:function me(M,D){return Object.keys(D).length<=Object.keys(M).length&&Object.keys(D).every(b=>Ht(M[b],D[b]))},ignored:()=>!0};function ri(M,D,b){return er[b.paths](M.root,D.root,b.matrixParams)&&ai[b.queryParams](M.queryParams,D.queryParams)&&!("exact"===b.fragment&&M.fragment!==D.fragment)}function ie(M,D,b){return se(M,D,D.segments,b)}function se(M,D,b,F){if(M.segments.length>b.length){const H=M.segments.slice(0,b.length);return!(!fn(H,b)||D.hasChildren()||!Y(H,b,F))}if(M.segments.length===b.length){if(!fn(M.segments,b)||!Y(M.segments,b,F))return!1;for(const H in D.children)if(!M.children[H]||!ie(M.children[H],D.children[H],F))return!1;return!0}{const H=b.slice(0,M.segments.length),ee=b.slice(M.segments.length);return!!(fn(M.segments,H)&&Y(M.segments,H,F)&&M.children[Le])&&se(M.children[Le],D,ee,F)}}function Y(M,D,b){return D.every((F,H)=>ai[b](M[H].parameters,F.parameters))}class Re{constructor(D,b,F){this.root=D,this.queryParams=b,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class Qe{constructor(D,b){this.segments=D,this.children=b,this.parent=null,tn(b,(F,H)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rt(this)}}class Bt{constructor(D,b){this.path=D,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ot(this.parameters)),this._parameterMap}toString(){return An(this)}}function fn(M,D){return M.length===D.length&&M.every((b,F)=>b.path===D[F].path)}class gn{}class vr{parse(D){const b=new Br(D);return new Re(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(D){const b=`/${Qt(D.root,!0)}`,F=function ur(M){const D=Object.keys(M).map(b=>{const F=M[b];return Array.isArray(F)?F.map(H=>`${je(b)}=${je(H)}`).join("&"):`${je(b)}=${je(F)}`}).filter(b=>!!b);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${b}${F}${"string"==typeof D.fragment?`#${function Et(M){return encodeURI(M)}(D.fragment)}`:""}`}}const Tt=new vr;function Rt(M){return M.segments.map(D=>An(D)).join("/")}function Qt(M,D){if(!M.hasChildren())return Rt(M);if(D){const b=M.children[Le]?Qt(M.children[Le],!1):"",F=[];return tn(M.children,(H,ee)=>{ee!==Le&&F.push(`${ee}:${Qt(H,!1)}`)}),F.length>0?`${b}(${F.join("//")})`:b}{const b=function Bn(M,D){let b=[];return tn(M.children,(F,H)=>{H===Le&&(b=b.concat(D(F,H)))}),tn(M.children,(F,H)=>{H!==Le&&(b=b.concat(D(F,H)))}),b}(M,(F,H)=>H===Le?[Qt(M.children[Le],!1)]:[`${H}:${Qt(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Le]?`${Rt(M)}/${b[0]}`:`${Rt(M)}/(${b.join("//")})`}}function Be(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function je(M){return Be(M).replace(/%3B/gi,";")}function it(M){return Be(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jt(M){return decodeURIComponent(M)}function nn(M){return jt(M.replace(/\+/g,"%20"))}function An(M){return`${it(M.path)}${function Ur(M){return Object.keys(M).map(D=>`;${it(D)}=${it(M[D])}`).join("")}(M.parameters)}`}const kr=/^[^\/()?;=#]+/;function gr(M){const D=M.match(kr);return D?D[0]:""}const Bi=/^[^=?&#]+/,Sn=/^[^&#]+/;class Br{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(D.length>0||Object.keys(b).length>0)&&(F[Le]=new Qe(D,b)),F}parseSegment(){const D=gr(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new Bt(jt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const b=gr(this.remaining);if(!b)return;this.capture(b);let F="";if(this.consumeOptional("=")){const H=gr(this.remaining);H&&(F=H,this.capture(F))}D[jt(b)]=jt(F)}parseQueryParam(D){const b=function Hi(M){const D=M.match(Bi);return D?D[0]:""}(this.remaining);if(!b)return;this.capture(b);let F="";if(this.consumeOptional("=")){const pe=function Ii(M){const D=M.match(Sn);return D?D[0]:""}(this.remaining);pe&&(F=pe,this.capture(F))}const H=nn(b),ee=nn(F);if(D.hasOwnProperty(H)){let pe=D[H];Array.isArray(pe)||(pe=[pe],D[H]=pe),pe.push(ee)}else D[H]=ee}parseParens(D){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=gr(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new Error(`Cannot parse url '${this.url}'`);let ee;F.indexOf(":")>-1?(ee=F.substr(0,F.indexOf(":")),this.capture(ee),this.capture(":")):D&&(ee=Le);const pe=this.parseChildren();b[ee]=1===Object.keys(pe).length?pe[Le]:new Qe([],pe),this.consumeOptional("//")}return b}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Bs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const b=this.pathFromRoot(D);return b.length>1?b[b.length-2]:null}children(D){const b=Ti(D,this._root);return b?b.children.map(F=>F.value):[]}firstChild(D){const b=Ti(D,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(D){const b=or(D,this._root);return b.length<2?[]:b[b.length-2].children.map(H=>H.value).filter(H=>H!==D)}pathFromRoot(D){return or(D,this._root).map(b=>b.value)}}function Ti(M,D){if(M===D.value)return D;for(const b of D.children){const F=Ti(M,b);if(F)return F}return null}function or(M,D){if(M===D.value)return[D];for(const b of D.children){const F=or(M,b);if(F.length)return F.unshift(D),F}return[]}class Di{constructor(D,b){this.value=D,this.children=b}toString(){return`TreeNode(${this.value})`}}function Ai(M){const D={};return M&&M.children.forEach(b=>D[b.value.outlet]=b),D}class Si extends Bs{constructor(D,b){super(D),this.snapshot=b,ar(this,D)}toString(){return this.snapshot.toString()}}function Or(M,D){const b=function Ve(M,D){const pe=new Nt([],{},{},"",{},Le,D,null,M.root,-1,{});return new Mn("",new Di(pe,[]))}(M,D),F=new _([new Bt("",{})]),H=new _({}),ee=new _({}),pe=new _({}),Me=new _(""),ot=new Pe(F,H,pe,Me,ee,Le,D,b.root);return ot.snapshot=b.root,new Si(new Di(ot,[]),b)}class Pe{constructor(D,b,F,H,ee,pe,Me,ot){this.url=D,this.params=b,this.queryParams=F,this.fragment=H,this.data=ee,this.outlet=pe,this.component=Me,this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(D=>Ot(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(D=>Ot(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ze(M,D="emptyOnly"){const b=M.pathFromRoot;let F=0;if("always"!==D)for(F=b.length-1;F>=1;){const H=b[F],ee=b[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(ee.component)break;F--}}return function yt(M){return M.reduce((D,b)=>({params:Object.assign(Object.assign({},D.params),b.params),data:Object.assign(Object.assign({},D.data),b.data),resolve:Object.assign(Object.assign({},D.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(F))}class Nt{constructor(D,b,F,H,ee,pe,Me,ot,an,sr,kt){this.url=D,this.params=b,this.queryParams=F,this.fragment=H,this.data=ee,this.outlet=pe,this.component=Me,this.routeConfig=ot,this._urlSegment=an,this._lastPathIndex=sr,this._resolve=kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mn extends Bs{constructor(D,b){super(b),this.url=D,ar(this,b)}toString(){return le(this._root)}}function ar(M,D){D.value._routerState=M,D.children.forEach(b=>ar(M,b))}function le(M){const D=M.children.length>0?` { ${M.children.map(le).join(", ")} } `:"";return`${M.value}${D}`}function q(M){if(M.snapshot){const D=M.snapshot,b=M._futureSnapshot;M.snapshot=b,Rn(D.queryParams,b.queryParams)||M.queryParams.next(b.queryParams),D.fragment!==b.fragment&&M.fragment.next(b.fragment),Rn(D.params,b.params)||M.params.next(b.params),function pr(M,D){if(M.length!==D.length)return!1;for(let b=0;b<M.length;++b)if(!Rn(M[b],D[b]))return!1;return!0}(D.url,b.url)||M.url.next(b.url),Rn(D.data,b.data)||M.data.next(b.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function $(M,D){const b=Rn(M.params,D.params)&&function In(M,D){return fn(M,D)&&M.every((b,F)=>Rn(b.parameters,D[F].parameters))}(M.url,D.url);return b&&!(!M.parent!=!D.parent)&&(!M.parent||$(M.parent,D.parent))}function et(M,D,b){if(b&&M.shouldReuseRoute(D.value,b.value.snapshot)){const F=b.value;F._futureSnapshot=D.value;const H=function vn(M,D,b){return D.children.map(F=>{for(const H of b.children)if(M.shouldReuseRoute(F.value,H.value.snapshot))return et(M,F,H);return et(M,F)})}(M,D,b);return new Di(F,H)}{if(M.shouldAttach(D.value)){const ee=M.retrieve(D.value);if(null!==ee){const pe=ee.route;return pe.value._futureSnapshot=D.value,pe.children=D.children.map(Me=>et(M,Me)),pe}}const F=function Hr(M){return new Pe(new _(M.url),new _(M.params),new _(M.queryParams),new _(M.fragment),new _(M.data),M.outlet,M.component,M)}(D.value),H=D.children.map(ee=>et(M,ee));return new Di(F,H)}}function Li(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Xi(M){return"object"==typeof M&&null!=M&&M.outlets}function zi(M,D,b,F,H){let ee={};if(F&&tn(F,(Me,ot)=>{ee[ot]=Array.isArray(Me)?Me.map(an=>`${an}`):`${Me}`}),M===D)return new Re(b,ee,H);const pe=as(M,D,b);return new Re(pe,ee,H)}function as(M,D,b){const F={};return tn(M.children,(H,ee)=>{F[ee]=H===D?b:as(H,D,b)}),new Qe(M.segments,F)}class xs{constructor(D,b,F){if(this.isAbsolute=D,this.numberOfDoubleDots=b,this.commands=F,D&&F.length>0&&Li(F[0]))throw new Error("Root segment cannot have matrix parameters");const H=F.find(Xi);if(H&&H!==Nn(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Do{constructor(D,b,F){this.segmentGroup=D,this.processChildren=b,this.index=F}}function ia(M,D,b){if(M||(M=new Qe([],{})),0===M.segments.length&&M.hasChildren())return ui(M,D,b);const F=function gi(M,D,b){let F=0,H=D;const ee={match:!1,pathIndex:0,commandIndex:0};for(;H<M.segments.length;){if(F>=b.length)return ee;const pe=M.segments[H],Me=b[F];if(Xi(Me))break;const ot=`${Me}`,an=F<b.length-1?b[F+1]:null;if(H>0&&void 0===ot)break;if(ot&&an&&"object"==typeof an&&void 0===an.outlets){if(!lr(ot,an,pe))return ee;F+=2}else{if(!lr(ot,{},pe))return ee;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(M,D,b),H=b.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const ee=new Qe(M.segments.slice(0,F.pathIndex),{});return ee.children[Le]=new Qe(M.segments.slice(F.pathIndex),M.children),ui(ee,0,H)}return F.match&&0===H.length?new Qe(M.segments,{}):F.match&&!M.hasChildren()?Oi(M,D,b):F.match?ui(M,0,H):Oi(M,D,b)}function ui(M,D,b){if(0===b.length)return new Qe(M.segments,{});{const F=function co(M){return Xi(M[0])?M[0].outlets:{[Le]:M}}(b),H={};return tn(F,(ee,pe)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(H[pe]=ia(M.children[pe],D,ee))}),tn(M.children,(ee,pe)=>{void 0===F[pe]&&(H[pe]=ee)}),new Qe(M.segments,H)}}function Oi(M,D,b){const F=M.segments.slice(0,D);let H=0;for(;H<b.length;){const ee=b[H];if(Xi(ee)){const ot=es(ee.outlets);return new Qe(F,ot)}if(0===H&&Li(b[0])){F.push(new Bt(M.segments[D].path,sa(b[0]))),H++;continue}const pe=Xi(ee)?ee.outlets[Le]:`${ee}`,Me=H<b.length-1?b[H+1]:null;pe&&Me&&Li(Me)?(F.push(new Bt(pe,sa(Me))),H+=2):(F.push(new Bt(pe,{})),H++)}return new Qe(F,{})}function es(M){const D={};return tn(M,(b,F)=>{"string"==typeof b&&(b=[b]),null!==b&&(D[F]=Oi(new Qe([],{}),0,b))}),D}function sa(M){const D={};return tn(M,(b,F)=>D[F]=`${b}`),D}function lr(M,D,b){return M==b.path&&Rn(D,b.parameters)}class ys{constructor(D,b,F,H){this.routeReuseStrategy=D,this.futureState=b,this.currState=F,this.forwardEvent=H}activate(D){const b=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,F,D),q(this.futureState.root),this.activateChildRoutes(b,F,D)}deactivateChildRoutes(D,b,F){const H=Ai(b);D.children.forEach(ee=>{const pe=ee.value.outlet;this.deactivateRoutes(ee,H[pe],F),delete H[pe]}),tn(H,(ee,pe)=>{this.deactivateRouteAndItsChildren(ee,F)})}deactivateRoutes(D,b,F){const H=D.value,ee=b?b.value:null;if(H===ee)if(H.component){const pe=F.getContext(H.outlet);pe&&this.deactivateChildRoutes(D,b,pe.children)}else this.deactivateChildRoutes(D,b,F);else ee&&this.deactivateRouteAndItsChildren(b,F)}deactivateRouteAndItsChildren(D,b){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,b):this.deactivateRouteAndOutlet(D,b)}detachAndStoreRouteSubtree(D,b){const F=b.getContext(D.value.outlet),H=F&&D.value.component?F.children:b,ee=Ai(D);for(const pe of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[pe],H);if(F&&F.outlet){const pe=F.outlet.detach(),Me=F.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:pe,route:D,contexts:Me})}}deactivateRouteAndOutlet(D,b){const F=b.getContext(D.value.outlet),H=F&&D.value.component?F.children:b,ee=Ai(D);for(const pe of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[pe],H);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(D,b,F){const H=Ai(b);D.children.forEach(ee=>{this.activateRoutes(ee,H[ee.value.outlet],F),this.forwardEvent(new xe(ee.value.snapshot))}),D.children.length&&this.forwardEvent(new mt(D.value.snapshot))}activateRoutes(D,b,F){const H=D.value,ee=b?b.value:null;if(q(H),H===ee)if(H.component){const pe=F.getOrCreateContext(H.outlet);this.activateChildRoutes(D,b,pe.children)}else this.activateChildRoutes(D,b,F);else if(H.component){const pe=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Me=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),pe.children.onOutletReAttached(Me.contexts),pe.attachRef=Me.componentRef,pe.route=Me.route.value,pe.outlet&&pe.outlet.attach(Me.componentRef,Me.route.value),q(Me.route.value),this.activateChildRoutes(D,null,pe.children)}else{const Me=function Ms(M){for(let D=M.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(H.snapshot),ot=Me?Me.module.componentFactoryResolver:null;pe.attachRef=null,pe.route=H,pe.resolver=ot,pe.outlet&&pe.outlet.activateWith(H,ot),this.activateChildRoutes(D,null,pe.children)}}else this.activateChildRoutes(D,null,F)}}class ho{constructor(D,b){this.routes=D,this.module=b}}function js(M){return"function"==typeof M}function _s(M){return M instanceof Re}const to=Symbol("INITIAL_VALUE");function Ps(){return(0,un.w)(M=>function at(...M){const D=(0,We.yG)(M),b=(0,We.jO)(M),{args:F,keys:H}=(0,oe.D)(M);if(0===F.length)return(0,Ae.D)([],D);const ee=new Ee.y(function ct(M,D,b=Se.y){return F=>{tt(D,()=>{const{length:H}=M,ee=new Array(H);let pe=H,Me=H;for(let ot=0;ot<H;ot++)tt(D,()=>{const an=(0,Ae.D)(M[ot],D);let sr=!1;an.subscribe((0,he.x)(F,kt=>{ee[ot]=kt,sr||(sr=!0,Me--),Me||F.next(b(ee.slice()))},()=>{--pe||F.complete()}))},F)},F)}}(F,D,H?pe=>(0,ae.n)(H,pe):Se.y));return b?ee.pipe((0,de.Z)(b)):ee}(M.map(D=>D.pipe((0,It.q)(1),(0,Yn.O)(to)))).pipe((0,dn.R)((D,b)=>{let F=!1;return b.reduce((H,ee,pe)=>H!==to?H:(ee===to&&(F=!0),F||!1!==ee&&pe!==b.length-1&&!_s(ee)?H:ee),D)},to),(0,qe.h)(D=>D!==to),(0,$t.U)(D=>_s(D)?D:!0===D),(0,It.q)(1)))}class Ca{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new us,this.attachRef=null}}class us{constructor(){this.contexts=new Map}onChildOutletCreated(D,b){const F=this.getOrCreateContext(D);F.outlet=b,this.contexts.set(D,F)}onChildOutletDestroyed(D){const b=this.getContext(D);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let b=this.getContext(D);return b||(b=new Ca,this.contexts.set(D,b)),b}getContext(D){return this.contexts.get(D)||null}}let tr=(()=>{class M{constructor(b,F,H,ee,pe){this.parentContexts=b,this.location=F,this.resolver=H,this.changeDetector=pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=ee||Le,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,F){this.activated=b,this._activatedRoute=F,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const pe=(F=F||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Me=this.parentContexts.getOrCreateContext(this.name).children,ot=new ls(b,Me,this.location.injector);this.activated=this.location.createComponent(pe,this.location.length,ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(b){return new(b||M)(m.Y36(us),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},M.\u0275dir=m.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class ls{constructor(D,b,F){this.route=D,this.childContexts=b,this.parent=F}get(D,b){return D===Pe?this.route:D===us?this.childContexts:this.parent.get(D,b)}}let Ki=(()=>{class M{}return M.\u0275fac=function(b){return new(b||M)},M.\u0275cmp=m.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,F){1&b&&m._UZ(0,"router-outlet")},directives:[tr],encapsulation:2}),M})();function fo(M,D=""){for(let b=0;b<M.length;b++){const F=M[b];Ra(F,ii(D,F))}}function Ra(M,D){M.children&&fo(M.children,D)}function ii(M,D){return D?M||D.path?M&&!D.path?`${M}/`:!M&&D.path?D.path:`${M}/${D.path}`:"":M}function U(M){const D=M.children&&M.children.map(U),b=D?Object.assign(Object.assign({},M),{children:D}):Object.assign({},M);return!b.component&&(D||b.loadChildren)&&b.outlet&&b.outlet!==Le&&(b.component=Ki),b}function Q(M){return M.outlet||Le}function L(M,D){const b=M.filter(F=>Q(F)===D);return b.push(...M.filter(F=>Q(F)!==D)),b}const ne={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Te(M,D,b){var F;if(""===D.path)return"full"===D.pathMatch&&(M.hasChildren()||b.length>0)?Object.assign({},ne):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const ee=(D.matcher||Gr)(b,M,D);if(!ee)return Object.assign({},ne);const pe={};tn(ee.posParams,(ot,an)=>{pe[an]=ot.path});const Me=ee.consumed.length>0?Object.assign(Object.assign({},pe),ee.consumed[ee.consumed.length-1].parameters):pe;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:b.slice(ee.consumed.length),parameters:Me,positionalParamSegments:null!==(F=ee.posParams)&&void 0!==F?F:{}}}function ft(M,D,b,F,H="corrected"){if(b.length>0&&function Ar(M,D,b){return b.some(F=>rr(M,D,F)&&Q(F)!==Le)}(M,b,F)){const pe=new Qe(D,function ln(M,D,b,F){const H={};H[Le]=F,F._sourceSegment=M,F._segmentIndexShift=D.length;for(const ee of b)if(""===ee.path&&Q(ee)!==Le){const pe=new Qe([],{});pe._sourceSegment=M,pe._segmentIndexShift=D.length,H[Q(ee)]=pe}return H}(M,D,F,new Qe(b,M.children)));return pe._sourceSegment=M,pe._segmentIndexShift=D.length,{segmentGroup:pe,slicedSegments:[]}}if(0===b.length&&function Ir(M,D,b){return b.some(F=>rr(M,D,F))}(M,b,F)){const pe=new Qe(M.segments,function Dt(M,D,b,F,H,ee){const pe={};for(const Me of F)if(rr(M,b,Me)&&!H[Q(Me)]){const ot=new Qe([],{});ot._sourceSegment=M,ot._segmentIndexShift="legacy"===ee?M.segments.length:D.length,pe[Q(Me)]=ot}return Object.assign(Object.assign({},H),pe)}(M,D,b,F,M.children,H));return pe._sourceSegment=M,pe._segmentIndexShift=D.length,{segmentGroup:pe,slicedSegments:b}}const ee=new Qe(M.segments,M.children);return ee._sourceSegment=M,ee._segmentIndexShift=D.length,{segmentGroup:ee,slicedSegments:b}}function rr(M,D,b){return(!(M.hasChildren()||D.length>0)||"full"!==b.pathMatch)&&""===b.path}function mr(M,D,b,F){return!!(Q(M)===F||F!==Le&&rr(D,b,M))&&("**"===M.path||Te(D,M,b).matched)}function ci(M,D,b){return 0===D.length&&!M.children[b]}class jr{constructor(D){this.segmentGroup=D||null}}class Jr{constructor(D){this.urlTree=D}}function vs(M){return Ne(new jr(M))}function cr(M){return Ne(new Jr(M))}class Zo{constructor(D,b,F,H,ee){this.configLoader=b,this.urlSerializer=F,this.urlTree=H,this.config=ee,this.allowRedirects=!0,this.ngModule=D.get(m.h0i)}apply(){const D=ft(this.urlTree.root,[],[],this.config).segmentGroup,b=new Qe(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,b,Le).pipe((0,$t.U)(ee=>this.createUrlTree(j(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(ee=>{if(ee instanceof Jr)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof jr?this.noMatchError(ee):ee}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,Le).pipe((0,$t.U)(H=>this.createUrlTree(j(H),D.queryParams,D.fragment))).pipe(Fe(H=>{throw H instanceof jr?this.noMatchError(H):H}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,b,F){const H=D.segments.length>0?new Qe([],{[Le]:D}):D;return new Re(H,b,F)}expandSegmentGroup(D,b,F,H){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(D,b,F).pipe((0,$t.U)(ee=>new Qe([],ee))):this.expandSegment(D,F,b,F.segments,H,!0)}expandChildren(D,b,F){const H=[];for(const ee of Object.keys(F.children))"primary"===ee?H.unshift(ee):H.push(ee);return(0,Ae.D)(H).pipe((0,Yt.b)(ee=>{const pe=F.children[ee],Me=L(b,ee);return this.expandSegmentGroup(D,Me,pe,ee).pipe((0,$t.U)(ot=>({segment:ot,outlet:ee})))}),(0,dn.R)((ee,pe)=>(ee[pe.outlet]=pe.segment,ee),{}),function bt(M,D){const b=arguments.length>=2;return F=>F.pipe(M?(0,qe.h)((H,ee)=>M(H,ee,F)):Se.y,Ye(1),b?(0,ut.d)(D):(0,dt.T)(()=>new vt.K))}())}expandSegment(D,b,F,H,ee,pe){return(0,Ae.D)(F).pipe((0,Yt.b)(Me=>this.expandSegmentAgainstRoute(D,b,F,Me,H,ee,pe).pipe(Fe(an=>{if(an instanceof jr)return(0,nt.of)(null);throw an}))),(0,xn.P)(Me=>!!Me),Fe((Me,ot)=>{if(Me instanceof vt.K||"EmptyError"===Me.name)return ci(b,H,ee)?(0,nt.of)(new Qe([],{})):vs(b);throw Me}))}expandSegmentAgainstRoute(D,b,F,H,ee,pe,Me){return mr(H,b,ee,pe)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(D,b,H,ee,pe):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,b,F,H,ee,pe):vs(b):vs(b)}expandSegmentAgainstRouteUsingRedirect(D,b,F,H,ee,pe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,F,H,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,b,F,H,ee,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,F,H){const ee=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?cr(ee):this.lineralizeSegments(F,ee).pipe((0,wn.z)(pe=>{const Me=new Qe(pe,{});return this.expandSegment(D,Me,b,pe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,b,F,H,ee,pe){const{matched:Me,consumedSegments:ot,remainingSegments:an,positionalParamSegments:sr}=Te(b,H,ee);if(!Me)return vs(b);const kt=this.applyRedirectCommands(ot,H.redirectTo,sr);return H.redirectTo.startsWith("/")?cr(kt):this.lineralizeSegments(H,kt).pipe((0,wn.z)(Sr=>this.expandSegment(D,b,F,Sr.concat(an),pe,!1)))}matchSegmentAgainstRoute(D,b,F,H,ee){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,nt.of)(F._loadedConfig):this.configLoader.load(D.injector,F)).pipe((0,$t.U)(kt=>(F._loadedConfig=kt,new Qe(H,{})))):(0,nt.of)(new Qe(H,{}));const{matched:pe,consumedSegments:Me,remainingSegments:ot}=Te(b,F,H);return pe?this.getChildConfig(D,F,H).pipe((0,wn.z)(sr=>{const kt=sr.module,Sr=sr.routes,{segmentGroup:qr,slicedSegments:Cr}=ft(b,Me,ot,Sr),Jt=new Qe(qr.segments,qr.children);if(0===Cr.length&&Jt.hasChildren())return this.expandChildren(kt,Sr,Jt).pipe((0,$t.U)(Fr=>new Qe(Me,Fr)));if(0===Sr.length&&0===Cr.length)return(0,nt.of)(new Qe(Me,{}));const Fo=Q(F)===ee;return this.expandSegment(kt,Jt,Sr,Cr,Fo?Le:ee,!0).pipe((0,$t.U)(oo=>new Qe(Me.concat(oo.segments),oo.children)))})):vs(b)}getChildConfig(D,b,F){return b.children?(0,nt.of)(new ho(b.children,D)):b.loadChildren?void 0!==b._loadedConfig?(0,nt.of)(b._loadedConfig):this.runCanLoadGuards(D.injector,b,F).pipe((0,wn.z)(H=>H?this.configLoader.load(D.injector,b).pipe((0,$t.U)(ee=>(b._loadedConfig=ee,ee))):function cs(M){return Ne(On(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))}(b))):(0,nt.of)(new ho([],D))}runCanLoadGuards(D,b,F){const H=b.canLoad;if(!H||0===H.length)return(0,nt.of)(!0);const ee=H.map(pe=>{const Me=D.get(pe);let ot;if(function Oa(M){return M&&js(M.canLoad)}(Me))ot=Me.canLoad(b,F);else{if(!js(Me))throw new Error("Invalid CanLoad guard");ot=Me(b,F)}return kn(ot)});return(0,nt.of)(ee).pipe(Ps(),(0,Hn.b)(pe=>{if(!_s(pe))return;const Me=On(`Redirecting to "${this.urlSerializer.serialize(pe)}"`);throw Me.url=pe,Me}),(0,$t.U)(pe=>!0===pe))}lineralizeSegments(D,b){let F=[],H=b.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,nt.of)(F);if(H.numberOfChildren>1||!H.children[Le])return Ne(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));H=H.children[Le]}}applyRedirectCommands(D,b,F){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),D,F)}applyRedirectCreatreUrlTree(D,b,F,H){const ee=this.createSegmentGroup(D,b.root,F,H);return new Re(ee,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(D,b){const F={};return tn(D,(H,ee)=>{if("string"==typeof H&&H.startsWith(":")){const Me=H.substring(1);F[ee]=b[Me]}else F[ee]=H}),F}createSegmentGroup(D,b,F,H){const ee=this.createSegments(D,b.segments,F,H);let pe={};return tn(b.children,(Me,ot)=>{pe[ot]=this.createSegmentGroup(D,Me,F,H)}),new Qe(ee,pe)}createSegments(D,b,F,H){return b.map(ee=>ee.path.startsWith(":")?this.findPosParam(D,ee,H):this.findOrReturn(ee,F))}findPosParam(D,b,F){const H=F[b.path.substring(1)];if(!H)throw new Error(`Cannot redirect to '${D}'. Cannot find '${b.path}'.`);return H}findOrReturn(D,b){let F=0;for(const H of b){if(H.path===D.path)return b.splice(F),H;F++}return D}}function j(M){const D={};for(const F of Object.keys(M.children)){const ee=j(M.children[F]);(ee.segments.length>0||ee.hasChildren())&&(D[F]=ee)}return function qo(M){if(1===M.numberOfChildren&&M.children[Le]){const D=M.children[Le];return new Qe(M.segments.concat(D.segments),D.children)}return M}(new Qe(M.segments,D))}class R{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class X{constructor(D,b){this.component=D,this.route=b}}function ve(M,D,b){const F=M._root;return ts(F,D?D._root:null,b,[F.value])}function Rr(M,D,b){const F=function Dr(M){if(!M)return null;for(let D=M.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(D);return(F?F.module.injector:b).get(M)}function ts(M,D,b,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ee=Ai(D);return M.children.forEach(pe=>{(function Es(M,D,b,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ee=M.value,pe=D?D.value:null,Me=b?b.getContext(M.value.outlet):null;if(pe&&ee.routeConfig===pe.routeConfig){const ot=function ds(M,D,b){if("function"==typeof b)return b(M,D);switch(b){case"pathParamsChange":return!fn(M.url,D.url);case"pathParamsOrQueryParamsChange":return!fn(M.url,D.url)||!Rn(M.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$(M,D)||!Rn(M.queryParams,D.queryParams);default:return!$(M,D)}}(pe,ee,ee.routeConfig.runGuardsAndResolvers);ot?H.canActivateChecks.push(new R(F)):(ee.data=pe.data,ee._resolvedData=pe._resolvedData),ts(M,D,ee.component?Me?Me.children:null:b,F,H),ot&&Me&&Me.outlet&&Me.outlet.isActivated&&H.canDeactivateChecks.push(new X(Me.outlet.component,pe))}else pe&&Ri(D,Me,H),H.canActivateChecks.push(new R(F)),ts(M,null,ee.component?Me?Me.children:null:b,F,H)})(pe,ee[pe.value.outlet],b,F.concat([pe.value]),H),delete ee[pe.value.outlet]}),tn(ee,(pe,Me)=>Ri(pe,b.getContext(Me),H)),H}function Ri(M,D,b){const F=Ai(M),H=M.value;tn(F,(ee,pe)=>{Ri(ee,H.component?D?D.children.getContext(pe):null:D,b)}),b.canDeactivateChecks.push(new X(H.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,H))}class Po{}function Os(M){return new Ee.y(D=>D.error(M))}class Ia{constructor(D,b,F,H,ee,pe){this.rootComponentType=D,this.config=b,this.urlTree=F,this.url=H,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=pe}recognize(){const D=ft(this.urlTree.root,[],[],this.config.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,D,Le);if(null===b)return null;const F=new Nt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new Di(F,b),ee=new Mn(this.url,H);return this.inheritParamsAndData(ee._root),ee}inheritParamsAndData(D){const b=D.value,F=ze(b,this.paramsInheritanceStrategy);b.params=Object.freeze(F.params),b.data=Object.freeze(F.data),D.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(D,b,F){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,b):this.processSegment(D,b,b.segments,F)}processChildren(D,b){const F=[];for(const ee of Object.keys(b.children)){const pe=b.children[ee],Me=L(D,ee),ot=this.processSegmentGroup(Me,pe,ee);if(null===ot)return null;F.push(...ot)}const H=po(F);return function qa(M){M.sort((D,b)=>D.value.outlet===Le?-1:b.value.outlet===Le?1:D.value.outlet.localeCompare(b.value.outlet))}(H),H}processSegment(D,b,F,H){for(const ee of D){const pe=this.processSegmentAgainstRoute(ee,b,F,H);if(null!==pe)return pe}return ci(b,F,H)?[]:null}processSegmentAgainstRoute(D,b,F,H){if(D.redirectTo||!mr(D,b,F,H))return null;let ee,pe=[],Me=[];if("**"===D.path){const qr=F.length>0?Nn(F).parameters:{};ee=new Nt(F,qr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fs(D),Q(D),D.component,D,Ta(b),go(b)+F.length,ua(D))}else{const qr=Te(b,D,F);if(!qr.matched)return null;pe=qr.consumedSegments,Me=qr.remainingSegments,ee=new Nt(pe,qr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fs(D),Q(D),D.component,D,Ta(b),go(b)+pe.length,ua(D))}const ot=function hs(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(D),{segmentGroup:an,slicedSegments:sr}=ft(b,pe,Me,ot.filter(qr=>void 0===qr.redirectTo),this.relativeLinkResolution);if(0===sr.length&&an.hasChildren()){const qr=this.processChildren(ot,an);return null===qr?null:[new Di(ee,qr)]}if(0===ot.length&&0===sr.length)return[new Di(ee,[])];const kt=Q(D)===H,Sr=this.processSegment(ot,an,sr,kt?Le:H);return null===Sr?null:[new Di(ee,Sr)]}}function aa(M){const D=M.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function po(M){const D=[],b=new Set;for(const F of M){if(!aa(F)){D.push(F);continue}const H=D.find(ee=>F.value.routeConfig===ee.value.routeConfig);void 0!==H?(H.children.push(...F.children),b.add(H)):D.push(F)}for(const F of b){const H=po(F.children);D.push(new Di(F.value,H))}return D.filter(F=>!b.has(F))}function Ta(M){let D=M;for(;D._sourceSegment;)D=D._sourceSegment;return D}function go(M){let D=M,b=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,b+=D._segmentIndexShift?D._segmentIndexShift:0;return b-1}function fs(M){return M.data||{}}function ua(M){return M.resolve||{}}function zs(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function mo(M){return(0,un.w)(D=>{const b=M(D);return b?(0,Ae.D)(b).pipe((0,$t.U)(()=>D)):(0,nt.of)(D)})}class hi extends class Ui{shouldDetach(D){return!1}store(D,b){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,b){return D.routeConfig===b.routeConfig}}{}const Rs=new m.OlP("ROUTES");class Oo{constructor(D,b,F,H){this.injector=D,this.compiler=b,this.onLoadStartListener=F,this.onLoadEndListener=H}load(D,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const H=this.loadModuleFactory(b.loadChildren).pipe((0,$t.U)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(b);const pe=ee.create(D);return new ho(dr(pe.injector.get(Rs,void 0,m.XFs.Self|m.XFs.Optional)).map(U),pe)}),Fe(ee=>{throw b._loader$=void 0,ee}));return b._loader$=new ht(H,()=>new v.x).pipe(Je()),b._loader$}loadModuleFactory(D){return kn(D()).pipe((0,wn.z)(b=>b instanceof m.YKP?(0,nt.of)(b):(0,Ae.D)(this.compiler.compileModuleAsync(b))))}}class Ya{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,b){return D}}function ws(M){throw M}function ps(M,D,b){return D.parse("/")}function ei(M,D){return(0,nt.of)(null)}const yo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class M{constructor(b,F,H,ee,pe,Me,ot){this.rootComponentType=b,this.urlSerializer=F,this.rootContexts=H,this.location=ee,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new v.x,this.errorHandler=ws,this.malformedUriErrorHandler=ps,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ei,afterPreactivation:ei},this.urlHandlingStrategy=new Ya,this.routeReuseStrategy=new hi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=pe.get(m.h0i),this.console=pe.get(m.c2e);const kt=pe.get(m.R0b);this.isNgZoneEnabled=kt instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=function Ln(){return new Re(new Qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Oo(pe,Me,Sr=>this.triggerEvent(new pn(Sr)),Sr=>this.triggerEvent(new ni(Sr))),this.routerState=Or(this.currentUrlTree,this.rootComponentType),this.transitions=new _({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const F=this.events;return b.pipe((0,qe.h)(H=>0!==H.id),(0,$t.U)(H=>Object.assign(Object.assign({},H),{extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,un.w)(H=>{let ee=!1,pe=!1;return(0,nt.of)(H).pipe((0,Hn.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.currentRawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,un.w)(Me=>{const ot=this.browserUrlTree.toString(),an=!this.navigated||Me.extractedUrl.toString()!==ot||ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||an)&&this.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return Ro(Me.source)&&(this.browserUrlTree=Me.extractedUrl),(0,nt.of)(Me).pipe((0,un.w)(kt=>{const Sr=this.transitions.getValue();return F.next(new di(kt.id,this.serializeUrl(kt.extractedUrl),kt.source,kt.restoredState)),Sr!==this.transitions.getValue()?St.E:Promise.resolve(kt)}),function k(M,D,b,F){return(0,un.w)(H=>function Mo(M,D,b,F,H){return new Zo(M,D,b,F,H).apply()}(M,D,b,H.extractedUrl,F).pipe((0,$t.U)(ee=>Object.assign(Object.assign({},H),{urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hn.b)(kt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:kt.urlAfterRedirects})}),function Ni(M,D,b,F,H){return(0,wn.z)(ee=>function Hs(M,D,b,F,H="emptyOnly",ee="legacy"){try{const pe=new Ia(M,D,b,F,H,ee).recognize();return null===pe?Os(new Po):(0,nt.of)(pe)}catch(pe){return Os(pe)}}(M,D,ee.urlAfterRedirects,b(ee.urlAfterRedirects),F,H).pipe((0,$t.U)(pe=>Object.assign(Object.assign({},ee),{targetSnapshot:pe}))))}(this.rootComponentType,this.config,kt=>this.serializeUrl(kt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hn.b)(kt=>{if("eager"===this.urlUpdateStrategy){if(!kt.extras.skipLocationChange){const qr=this.urlHandlingStrategy.merge(kt.urlAfterRedirects,kt.rawUrl);this.setBrowserUrl(qr,kt)}this.browserUrlTree=kt.urlAfterRedirects}const Sr=new Mr(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);F.next(Sr)}));if(an&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Sr,extractedUrl:qr,source:Cr,restoredState:Jt,extras:Fo}=Me,Gn=new di(Sr,this.serializeUrl(qr),Cr,Jt);F.next(Gn);const oo=Or(qr,this.rootComponentType).snapshot;return(0,nt.of)(Object.assign(Object.assign({},Me),{targetSnapshot:oo,urlAfterRedirects:qr,extras:Object.assign(Object.assign({},Fo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Me.rawUrl,Me.resolve(null),St.E}),mo(Me=>{const{targetSnapshot:ot,id:an,extractedUrl:sr,rawUrl:kt,extras:{skipLocationChange:Sr,replaceUrl:qr}}=Me;return this.hooks.beforePreactivation(ot,{navigationId:an,appliedUrlTree:sr,rawUrlTree:kt,skipLocationChange:!!Sr,replaceUrl:!!qr})}),(0,Hn.b)(Me=>{const ot=new Vr(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(ot)}),(0,$t.U)(Me=>Object.assign(Object.assign({},Me),{guards:ve(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)})),function vi(M,D){return(0,wn.z)(b=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:ee,canDeactivateChecks:pe}}=b;return 0===pe.length&&0===ee.length?(0,nt.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function ba(M,D,b,F){return(0,Ae.D)(M).pipe((0,wn.z)(H=>function Yo(M,D,b,F,H){const ee=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,nt.of)(!0);const pe=ee.map(Me=>{const ot=Rr(Me,D,H);let an;if(function li(M){return M&&js(M.canDeactivate)}(ot))an=kn(ot.canDeactivate(M,D,b,F));else{if(!js(ot))throw new Error("Invalid CanDeactivate guard");an=kn(ot(M,D,b,F))}return an.pipe((0,xn.P)())});return(0,nt.of)(pe).pipe(Ps())}(H.component,H.route,b,D,F)),(0,xn.P)(H=>!0!==H,!0))}(pe,F,H,M).pipe((0,wn.z)(Me=>Me&&function Wo(M){return"boolean"==typeof M}(Me)?function oa(M,D,b,F){return(0,Ae.D)(D).pipe((0,Yt.b)(H=>(0,ge.z)(function no(M,D){return null!==M&&D&&D(new Mi(M)),(0,nt.of)(!0)}(H.route.parent,F),function Ko(M,D){return null!==M&&D&&D(new be(M)),(0,nt.of)(!0)}(H.route,F),function $s(M,D,b){const F=D[D.length-1],ee=D.slice(0,D.length-1).reverse().map(pe=>function Lt(M){const D=M.routeConfig?M.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:M,guards:D}:null}(pe)).filter(pe=>null!==pe).map(pe=>Mt(()=>{const Me=pe.guards.map(ot=>{const an=Rr(ot,pe.node,b);let sr;if(function Gi(M){return M&&js(M.canActivateChild)}(an))sr=kn(an.canActivateChild(F,M));else{if(!js(an))throw new Error("Invalid CanActivateChild guard");sr=kn(an(F,M))}return sr.pipe((0,xn.P)())});return(0,nt.of)(Me).pipe(Ps())}));return(0,nt.of)(ee).pipe(Ps())}(M,H.path,b),function Xr(M,D,b){const F=D.routeConfig?D.routeConfig.canActivate:null;if(!F||0===F.length)return(0,nt.of)(!0);const H=F.map(ee=>Mt(()=>{const pe=Rr(ee,D,b);let Me;if(function xo(M){return M&&js(M.canActivate)}(pe))Me=kn(pe.canActivate(D,M));else{if(!js(pe))throw new Error("Invalid CanActivate guard");Me=kn(pe(D,M))}return Me.pipe((0,xn.P)())}));return(0,nt.of)(H).pipe(Ps())}(M,H.route,b))),(0,xn.P)(H=>!0!==H,!0))}(F,ee,M,D):(0,nt.of)(Me)),(0,$t.U)(Me=>Object.assign(Object.assign({},b),{guardsResult:Me})))})}(this.ngModule.injector,Me=>this.triggerEvent(Me)),(0,Hn.b)(Me=>{if(_s(Me.guardsResult)){const an=On(`Redirecting to "${this.serializeUrl(Me.guardsResult)}"`);throw an.url=Me.guardsResult,an}const ot=new hn(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.triggerEvent(ot)}),(0,qe.h)(Me=>!!Me.guardsResult||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,""),!1)),mo(Me=>{if(Me.guards.canActivateChecks.length)return(0,nt.of)(Me).pipe((0,Hn.b)(ot=>{const an=new Jn(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(an)}),(0,un.w)(ot=>{let an=!1;return(0,nt.of)(ot).pipe(function la(M,D){return(0,wn.z)(b=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=b;if(!H.length)return(0,nt.of)(b);let ee=0;return(0,Ae.D)(H).pipe((0,Yt.b)(pe=>function ca(M,D,b,F){return function Ks(M,D,b,F){const H=zs(M);if(0===H.length)return(0,nt.of)({});const ee={};return(0,Ae.D)(H).pipe((0,wn.z)(pe=>function zr(M,D,b,F){const H=Rr(M,D,F);return kn(H.resolve?H.resolve(D,b):H(D,b))}(M[pe],D,b,F).pipe((0,Hn.b)(Me=>{ee[pe]=Me}))),Ye(1),(0,wn.z)(()=>zs(ee).length===H.length?(0,nt.of)(ee):St.E))}(M._resolve,M,D,F).pipe((0,$t.U)(ee=>(M._resolvedData=ee,M.data=Object.assign(Object.assign({},M.data),ze(M,b).resolve),null)))}(pe.route,F,M,D)),(0,Hn.b)(()=>ee++),Ye(1),(0,wn.z)(pe=>ee===H.length?(0,nt.of)(b):St.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hn.b)({next:()=>an=!0,complete:()=>{an||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"At least one route resolver didn't emit any value."))}}))}),(0,Hn.b)(ot=>{const an=new Un(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(an)}))}),mo(Me=>{const{targetSnapshot:ot,id:an,extractedUrl:sr,rawUrl:kt,extras:{skipLocationChange:Sr,replaceUrl:qr}}=Me;return this.hooks.afterPreactivation(ot,{navigationId:an,appliedUrlTree:sr,rawUrlTree:kt,skipLocationChange:!!Sr,replaceUrl:!!qr})}),(0,$t.U)(Me=>{const ot=function _e(M,D,b){const F=et(M,D._root,b?b._root:void 0);return new Si(F,D)}(this.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return Object.assign(Object.assign({},Me),{targetRouterState:ot})}),(0,Hn.b)(Me=>{this.currentUrlTree=Me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl),this.routerState=Me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Me),this.browserUrlTree=Me.urlAfterRedirects)}),((M,D,b)=>(0,$t.U)(F=>(new ys(D,F.targetRouterState,F.currentRouterState,b).activate(M),F)))(this.rootContexts,this.routeReuseStrategy,Me=>this.triggerEvent(Me)),(0,Hn.b)({next(){ee=!0},complete(){ee=!0}}),function zt(M){return(0,Ge.e)((D,b)=>{try{D.subscribe(b)}finally{b.add(M)}})}(()=>{var Me;ee||pe||this.cancelNavigationTransition(H,`Navigation ID ${H.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Me=this.currentNavigation)||void 0===Me?void 0:Me.id)===H.id&&(this.currentNavigation=null)}),Fe(Me=>{if(pe=!0,function Cn(M){return M&&M[Xn]}(Me)){const ot=_s(Me.url);ot||(this.navigated=!0,this.restoreHistory(H,!0));const an=new br(H.id,this.serializeUrl(H.extractedUrl),Me.message);F.next(an),ot?setTimeout(()=>{const sr=this.urlHandlingStrategy.merge(Me.url,this.rawUrlTree),kt={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ro(H.source)};this.scheduleNavigation(sr,"imperative",null,kt,{resolve:H.resolve,reject:H.reject,promise:H.promise})},0):H.resolve(!1)}else{this.restoreHistory(H,!0);const ot=new Kn(H.id,this.serializeUrl(H.extractedUrl),Me);F.next(ot);try{H.resolve(this.errorHandler(Me))}catch(an){H.reject(an)}}return St.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const F="popstate"===b.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var H;const ee={replaceUrl:!0},pe=(null===(H=b.state)||void 0===H?void 0:H.navigationId)?b.state:null;if(pe){const ot=Object.assign({},pe);delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(ee.state=ot)}const Me=this.parseUrl(b.url);this.scheduleNavigation(Me,F,pe,ee)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){fo(b),this.config=b.map(U),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,F={}){const{relativeTo:H,queryParams:ee,fragment:pe,queryParamsHandling:Me,preserveFragment:ot}=F,an=H||this.routerState.root,sr=ot?this.currentUrlTree.fragment:pe;let kt=null;switch(Me){case"merge":kt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ee);break;case"preserve":kt=this.currentUrlTree.queryParams;break;default:kt=ee||null}return null!==kt&&(kt=this.removeEmptyProps(kt)),function Pi(M,D,b,F,H){if(0===b.length)return zi(D.root,D.root,D.root,F,H);const ee=function eo(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new xs(!0,0,M);let D=0,b=!1;const F=M.reduce((H,ee,pe)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Me={};return tn(ee.outlets,(ot,an)=>{Me[an]="string"==typeof ot?ot.split("/"):ot}),[...H,{outlets:Me}]}if(ee.segmentPath)return[...H,ee.segmentPath]}return"string"!=typeof ee?[...H,ee]:0===pe?(ee.split("/").forEach((Me,ot)=>{0==ot&&"."===Me||(0==ot&&""===Me?b=!0:".."===Me?D++:""!=Me&&H.push(Me))}),H):[...H,ee]},[]);return new xs(b,D,F)}(b);if(ee.toRoot())return zi(D.root,D.root,new Qe([],{}),F,H);const pe=function Ao(M,D,b){if(M.isAbsolute)return new Do(D.root,!0,0);if(-1===b.snapshot._lastPathIndex){const ee=b.snapshot._urlSegment;return new Do(ee,ee===D.root,0)}const F=Li(M.commands[0])?0:1;return function Go(M,D,b){let F=M,H=D,ee=b;for(;ee>H;){if(ee-=H,F=F.parent,!F)throw new Error("Invalid number of '../'");H=F.segments.length}return new Do(F,!1,H-ee)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+F,M.numberOfDoubleDots)}(ee,D,M),Me=pe.processChildren?ui(pe.segmentGroup,pe.index,ee.commands):ia(pe.segmentGroup,pe.index,ee.commands);return zi(D.root,pe.segmentGroup,Me,F,H)}(an,this.currentUrlTree,b,kt,null!=sr?sr:null)}navigateByUrl(b,F={skipLocationChange:!1}){const H=_s(b)?b:this.parseUrl(b),ee=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,F)}navigate(b,F={skipLocationChange:!1}){return function ro(M){for(let D=0;D<M.length;D++){const b=M[D];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${D}`)}}(b),this.navigateByUrl(this.createUrlTree(b,F),F)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let F;try{F=this.urlSerializer.parse(b)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,b)}return F}isActive(b,F){let H;if(H=!0===F?Object.assign({},yo):!1===F?Object.assign({},Ns):F,_s(b))return ri(this.currentUrlTree,b,H);const ee=this.parseUrl(b);return ri(this.currentUrlTree,ee,H)}removeEmptyProps(b){return Object.keys(b).reduce((F,H)=>{const ee=b[H];return null!=ee&&(F[H]=ee),F},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new wr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,F,H,ee,pe){var Me,ot;if(this.disposed)return Promise.resolve(!1);let an,sr,kt;pe?(an=pe.resolve,sr=pe.reject,kt=pe.promise):kt=new Promise((Cr,Jt)=>{an=Cr,sr=Jt});const Sr=++this.navigationId;let qr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),qr=H&&H.\u0275routerPageId?H.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?null!==(Me=this.browserPageId)&&void 0!==Me?Me:0:(null!==(ot=this.browserPageId)&&void 0!==ot?ot:0)+1):qr=0,this.setTransition({id:Sr,targetPageId:qr,source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:ee,resolve:an,reject:sr,promise:kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kt.catch(Cr=>Promise.reject(Cr))}setBrowserUrl(b,F){const H=this.urlSerializer.serialize(b),ee=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl?this.location.replaceState(H,"",ee):this.location.go(H,"",ee)}restoreHistory(b,F=!1){var H,ee;if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)||0===pe?this.currentUrlTree===(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)&&0===pe&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(pe)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,F){const H=new br(b.id,this.serializeUrl(b.extractedUrl),F);this.triggerEvent(H),b.resolve(!1)}generateNgRouterState(b,F){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:F}:{navigationId:b}}}return M.\u0275fac=function(b){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function Ro(M){return"imperative"!==M}let gs=(()=>{class M{constructor(b,F,H,ee,pe){this.router=b,this.route=F,this.tabIndexAttribute=H,this.renderer=ee,this.el=pe,this.commands=null,this.onChanges=new v.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const F=this.renderer,H=this.el.nativeElement;null!==b?F.setAttribute(H,"tabindex",b):F.removeAttribute(H,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:da(this.skipLocationChange),replaceUrl:da(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:da(this.preserveFragment)})}}return M.\u0275fac=function(b){return new(b||M)(m.Y36(Wr),m.Y36(Pe),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},M.\u0275dir=m.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,F){1&b&&m.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),M})(),io=(()=>{class M{constructor(b,F,H){this.router=b,this.route=F,this.locationStrategy=H,this.commands=null,this.href=null,this.onChanges=new v.x,this.subscription=b.events.subscribe(ee=>{ee instanceof wr&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,F,H,ee,pe){if(0!==b||F||H||ee||pe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Me={skipLocationChange:da(this.skipLocationChange),replaceUrl:da(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Me),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:da(this.preserveFragment)})}}return M.\u0275fac=function(b){return new(b||M)(m.Y36(Wr),m.Y36(Pe),m.Y36(qn.S$))},M.\u0275dir=m.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,F){1&b&&m.NdJ("click",function(ee){return F.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&b&&m.uIk("target",F.target)("href",F.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),M})();function da(M){return""===M||!!M}class Qa{}class ju{preload(D,b){return(0,nt.of)(null)}}let Fa=(()=>{class M{constructor(b,F,H,ee){this.router=b,this.injector=H,this.preloadingStrategy=ee,this.loader=new Oo(H,F,ot=>b.triggerEvent(new pn(ot)),ot=>b.triggerEvent(new ni(ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,qe.h)(b=>b instanceof wr),(0,Yt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(m.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,F){const H=[];for(const ee of F)if(ee.loadChildren&&!ee.canLoad&&ee._loadedConfig){const pe=ee._loadedConfig;H.push(this.processRoutes(pe.module,pe.routes))}else ee.loadChildren&&!ee.canLoad?H.push(this.preloadConfig(b,ee)):ee.children&&H.push(this.processRoutes(b,ee.children));return(0,Ae.D)(H).pipe((0,Tn.J)(),(0,$t.U)(ee=>{}))}preloadConfig(b,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,nt.of)(F._loadedConfig):this.loader.load(b.injector,F)).pipe((0,wn.z)(ee=>(F._loadedConfig=ee,this.processRoutes(ee.module,ee.routes)))))}}return M.\u0275fac=function(b){return new(b||M)(m.LFG(Wr),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Qa))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})(),$u=(()=>{class M{constructor(b,F,H={}){this.router=b,this.viewportScroller=F,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof wr&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof gt&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,F){this.router.triggerEvent(new gt(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(b){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();const bs=new m.OlP("ROUTER_CONFIGURATION"),_o=new m.OlP("ROUTER_FORROOT_GUARD"),Zr=[qn.Ye,{provide:gn,useClass:vr},{provide:Wr,useFactory:function Is(M,D,b,F,H,ee,pe={},Me,ot){const an=new Wr(null,M,D,b,F,H,dr(ee));return Me&&(an.urlHandlingStrategy=Me),ot&&(an.routeReuseStrategy=ot),function Ja(M,D){M.errorHandler&&(D.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(D.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(D.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(D.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(D.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(D.canceledNavigationResolution=M.canceledNavigationResolution)}(pe,an),pe.enableTracing&&an.events.subscribe(sr=>{var kt,Sr;null===(kt=console.group)||void 0===kt||kt.call(console,`Router Event: ${sr.constructor.name}`),console.log(sr.toString()),console.log(sr),null===(Sr=console.groupEnd)||void 0===Sr||Sr.call(console)}),an},deps:[gn,us,qn.Ye,m.zs3,m.Sil,Rs,bs,[class Qo{},new m.FiY],[class Vi{},new m.FiY]]},us,{provide:Pe,useFactory:function cn(M){return M.routerState.root},deps:[Wr]},Fa,ju,class ka{preload(D,b){return b().pipe(Fe(()=>(0,nt.of)(null)))}},{provide:bs,useValue:{enableTracing:!1}}];function No(){return new m.PXZ("Router",Wr)}let so=(()=>{class M{constructor(b,F){}static forRoot(b,F){return{ngModule:M,providers:[Zr,si(b),{provide:_o,useFactory:Vt,deps:[[Wr,new m.FiY,new m.tp0]]},{provide:bs,useValue:F||{}},{provide:qn.S$,useFactory:bu,deps:[qn.lw,[new m.tBr(qn.mr),new m.FiY],bs]},{provide:$u,useFactory:ko,deps:[Wr,qn.EM,bs]},{provide:Qa,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:ju},{provide:m.PXZ,multi:!0,useFactory:No},[bn,{provide:m.ip1,multi:!0,useFactory:Jo,deps:[bn]},{provide:lt,useFactory:sn,deps:[bn]},{provide:m.tb,multi:!0,useExisting:lt}]]}}static forChild(b){return{ngModule:M,providers:[si(b)]}}}return M.\u0275fac=function(b){return new(b||M)(m.LFG(_o,8),m.LFG(Wr,8))},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({}),M})();function ko(M,D,b){return b.scrollOffset&&D.setOffset(b.scrollOffset),new $u(M,D,b)}function bu(M,D,b={}){return b.useHash?new qn.Do(M,D):new qn.b0(M,D)}function Vt(M){return"guarded"}function si(M){return[{provide:m.deG,multi:!0,useValue:M},{provide:Rs,multi:!0,useValue:M}]}let bn=(()=>{class M{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new v.x}appInitializer(){return this.injector.get(qn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const H=new Promise(Me=>F=Me),ee=this.injector.get(Wr),pe=this.injector.get(bs);return"disabled"===pe.initialNavigation?(ee.setUpLocationChangeListener(),F(!0)):"enabled"===pe.initialNavigation||"enabledBlocking"===pe.initialNavigation?(ee.hooks.afterPreactivation=()=>this.initNavigation?(0,nt.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ee.initialNavigation()):F(!0),H})}bootstrapListener(b){const F=this.injector.get(bs),H=this.injector.get(Fa),ee=this.injector.get($u),pe=this.injector.get(Wr),Me=this.injector.get(m.z2F);b===Me.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&pe.initialNavigation(),H.setUpPreloading(),ee.init(),pe.resetRootComponentType(Me.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(b){return new(b||M)(m.LFG(m.zs3))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function Jo(M){return M.appInitializer.bind(M)}function sn(M){return M.bootstrapListener.bind(M)}const lt=new m.OlP("Router Initializer")},3942:(Gt,He,V)=>{V.d(He,{Z:()=>tt});var m=V(2090),v=V(4859),_=V(6881),Ee=V(1877);class oe{constructor(Ne,st){this._delegate=Ne,this.firebase=st,(0,_._addComponent)(Ne,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(Ne,st=_._DEFAULT_ENTRY_NAME){var Mt;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(Ne);return!Ft.isInitialized()&&"EXPLICIT"===(null===(Mt=Ft.getComponent())||void 0===Mt?void 0:Mt.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:st})}_removeServiceInstance(Ne,st=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(st)}_addComponent(Ne){(0,_._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,_._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function We(){const Ct=function de(Ct){const Ne={},st={__esModule:!0,initializeApp:function Ge(vt,ge={}){const St=_.initializeApp(vt,ge);if((0,m.r3)(Ne,St.name))return Ne[St.name];const Fe=new Ct(St,st);return Ne[St.name]=Fe,Fe},app:Ft,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function ht(vt){const ge=vt.name,St=ge.replace("-compat","");if(_._registerComponent(vt)&&"PUBLIC"===vt.type){const Fe=(qe=Ft())=>{if("function"!=typeof qe[St])throw Se.create("invalid-app-argument",{appName:ge});return qe[St]()};void 0!==vt.serviceProps&&(0,m.ZB)(Fe,vt.serviceProps),st[St]=Fe,Ct.prototype[St]=function(...qe){return this._getService.bind(this,ge).apply(this,vt.multipleInstances?qe:[])}}return"PUBLIC"===vt.type?st[St]:null},removeApp:function Mt(vt){delete Ne[vt]},useAsService:function nt(vt,ge){return"serverAuth"===ge?null:ge},modularAPIs:_}};function Ft(vt){if(!(0,m.r3)(Ne,vt=vt||_._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:vt});return Ne[vt]}return st.default=st,Object.defineProperty(st,"apps",{get:function Je(){return Object.keys(Ne).map(vt=>Ne[vt])}}),Ft.App=Ct,st}(oe);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function Ne(st){(0,m.ZB)(Ct,st)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Ct}(),he=new Ee.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=ae;!function ct(Ct){(0,_.registerVersion)("@firebase/app-compat","0.2.10",Ct)}()},6881:(Gt,He,V)=>{V.r(He),V.d(He,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>Le,_addOrOverwriteComponent:()=>xt,_apps:()=>xe,_clearComponents:()=>Cn,_components:()=>gt,_getProvider:()=>Xn,_registerComponent:()=>Ot,_removeServiceInstance:()=>On,deleteApp:()=>tn,getApp:()=>Nn,getApps:()=>Pr,initializeApp:()=>dr,onLog:()=>er,registerVersion:()=>Ln,setLogLevel:()=>ai});var m=V(5861),v=V(4859),_=V(1877),Ee=V(2090);let Ae,Se;const ae=new WeakMap,he=new WeakMap,ke=new WeakMap,at=new WeakMap,ct=new WeakMap;let Ne={get(Be,je,Et){if(Be instanceof IDBTransaction){if("done"===je)return he.get(Be);if("objectStoreNames"===je)return Be.objectStoreNames||ke.get(Be);if("store"===je)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return Ge(Be[je])},set:(Be,je,Et)=>(Be[je]=Et,!0),has:(Be,je)=>Be instanceof IDBTransaction&&("done"===je||"store"===je)||je in Be};function Ft(Be){return"function"==typeof Be?function Mt(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...je){return Be.apply(Je(this),je),Ge(ae.get(this))}:function(...je){return Ge(Be.apply(Je(this),je))}:function(je,...Et){const it=Be.call(Je(this),je,...Et);return ke.set(it,je.sort?je.sort():[je]),Ge(it)}}(Be):(Be instanceof IDBTransaction&&function Ct(Be){if(he.has(Be))return;const je=new Promise((Et,it)=>{const jt=()=>{Be.removeEventListener("complete",nn),Be.removeEventListener("error",An),Be.removeEventListener("abort",An)},nn=()=>{Et(),jt()},An=()=>{it(Be.error||new DOMException("AbortError","AbortError")),jt()};Be.addEventListener("complete",nn),Be.addEventListener("error",An),Be.addEventListener("abort",An)});he.set(Be,je)}(Be),((Be,je)=>je.some(Et=>Be instanceof Et))(Be,function de(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,Ne):Be)}function Ge(Be){if(Be instanceof IDBRequest)return function tt(Be){const je=new Promise((Et,it)=>{const jt=()=>{Be.removeEventListener("success",nn),Be.removeEventListener("error",An)},nn=()=>{Et(Ge(Be.result)),jt()},An=()=>{it(Be.error),jt()};Be.addEventListener("success",nn),Be.addEventListener("error",An)});return je.then(Et=>{Et instanceof IDBCursor&&ae.set(Et,Be)}).catch(()=>{}),ct.set(je,Be),je}(Be);if(at.has(Be))return at.get(Be);const je=Ft(Be);return je!==Be&&(at.set(Be,je),ct.set(je,Be)),je}const Je=Be=>ct.get(Be),vt=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],St=new Map;function Fe(Be,je){if(!(Be instanceof IDBDatabase)||je in Be||"string"!=typeof je)return;if(St.get(je))return St.get(je);const Et=je.replace(/FromIndex$/,""),it=je!==Et,jt=ge.includes(Et);if(!(Et in(it?IDBIndex:IDBObjectStore).prototype)||!jt&&!vt.includes(Et))return;const nn=function(){var An=(0,m.Z)(function*(Ur,...ur){const kr=this.transaction(Ur,jt?"readwrite":"readonly");let gr=kr.store;return it&&(gr=gr.index(ur.shift())),(yield Promise.all([gr[Et](...ur),jt&&kr.done]))[0]});return function(ur){return An.apply(this,arguments)}}();return St.set(je,nn),nn}!function st(Be){Ne=Be(Ne)}(Be=>$y(jy({},Be),{get:(je,Et,it)=>Fe(je,Et)||Be.get(je,Et,it),has:(je,Et)=>!!Fe(je,Et)||Be.has(je,Et)}));class qe{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function Ye(Be){const je=Be.getComponent();return"VERSION"===(null==je?void 0:je.type)}(Et)){const it=Et.getImmediate();return`${it.library}/${it.version}`}return null}).filter(Et=>Et).join(" ")}}const dt="@firebase/app",bt=new _.Yd("@firebase/app"),mt="[DEFAULT]",be={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,gt=new Map;function Le(Be,je){try{Be.container.addComponent(je)}catch(Et){bt.debug(`Component ${je.name} failed to register with FirebaseApp ${Be.name}`,Et)}}function xt(Be,je){Be.container.addOrOverwriteComponent(je)}function Ot(Be){const je=Be.name;if(gt.has(je))return bt.debug(`There were multiple attempts to register component ${je}.`),!1;gt.set(je,Be);for(const Et of xe.values())Le(Et,Be);return!0}function Xn(Be,je){const Et=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Be.container.getProvider(je)}function On(Be,je,Et=mt){Xn(Be,je).clearInstance(Et)}function Cn(){gt.clear()}const pr=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(je,Et,it){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Ht="9.22.0";function dr(Be,je={}){let Et=Be;"object"!=typeof je&&(je={name:je});const it=Object.assign({name:mt,automaticDataCollectionEnabled:!1},je),jt=it.name;if("string"!=typeof jt||!jt)throw pr.create("bad-app-name",{appName:String(jt)});if(Et||(Et=(0,Ee.aH)()),!Et)throw pr.create("no-options");const nn=xe.get(jt);if(nn){if((0,Ee.vZ)(Et,nn.options)&&(0,Ee.vZ)(it,nn.config))return nn;throw pr.create("duplicate-app",{appName:jt})}const An=new v.H0(jt);for(const ur of gt.values())An.addComponent(ur);const Ur=new Rn(Et,it,An);return xe.set(jt,Ur),Ur}function Nn(Be=mt){const je=xe.get(Be);if(!je&&Be===mt&&(0,Ee.aH)())return dr();if(!je)throw pr.create("no-app",{appName:Be});return je}function Pr(){return Array.from(xe.values())}function tn(Be){return kn.apply(this,arguments)}function kn(){return(kn=(0,m.Z)(function*(Be){const je=Be.name;xe.has(je)&&(xe.delete(je),yield Promise.all(Be.container.getProviders().map(Et=>Et.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function Ln(Be,je,Et){var it;let jt=null!==(it=be[Be])&&void 0!==it?it:Be;Et&&(jt+=`-${Et}`);const nn=jt.match(/\s|\//),An=je.match(/\s|\//);if(nn||An){const Ur=[`Unable to register library "${jt}" with version "${je}":`];return nn&&Ur.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),nn&&An&&Ur.push("and"),An&&Ur.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void bt.warn(Ur.join(" "))}Ot(new v.wA(`${jt}-version`,()=>({library:jt,version:je}),"VERSION"))}function er(Be,je){if(null!==Be&&"function"!=typeof Be)throw pr.create("invalid-log-argument");(0,_.Am)(Be,je)}function ai(Be){(0,_.Ub)(Be)}const we="firebase-heartbeat-store";let me=null;function ie(){return me||(me=function ht(Be,je,{blocked:Et,upgrade:it,blocking:jt,terminated:nn}={}){const An=indexedDB.open(Be,je),Ur=Ge(An);return it&&An.addEventListener("upgradeneeded",ur=>{it(Ge(An.result),ur.oldVersion,ur.newVersion,Ge(An.transaction),ur)}),Et&&An.addEventListener("blocked",ur=>Et(ur.oldVersion,ur.newVersion,ur)),Ur.then(ur=>{nn&&ur.addEventListener("close",()=>nn()),jt&&ur.addEventListener("versionchange",kr=>jt(kr.oldVersion,kr.newVersion,kr))}).catch(()=>{}),Ur}("firebase-heartbeat-database",1,{upgrade:(Be,je)=>{0===je&&Be.createObjectStore(we)}}).catch(Be=>{throw pr.create("idb-open",{originalErrorMessage:Be.message})})),me}function Y(){return(Y=(0,m.Z)(function*(Be){try{return yield(yield ie()).transaction(we).objectStore(we).get(Bt(Be))}catch(je){if(je instanceof Ee.ZR)bt.warn(je.message);else{const Et=pr.create("idb-get",{originalErrorMessage:null==je?void 0:je.message});bt.warn(Et.message)}}})).apply(this,arguments)}function Re(Be,je){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(function*(Be,je){try{const it=(yield ie()).transaction(we,"readwrite");yield it.objectStore(we).put(je,Bt(Be)),yield it.done}catch(Et){if(Et instanceof Ee.ZR)bt.warn(Et.message);else{const it=pr.create("idb-set",{originalErrorMessage:null==Et?void 0:Et.message});bt.warn(it.message)}}})).apply(this,arguments)}function Bt(Be){return`${Be.name}!${Be.options.appId}`}class Bn{constructor(je){this.container=je,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Tt(Et),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var je=this;return(0,m.Z)(function*(){const it=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=gn();if(null===je._heartbeatsCache&&(je._heartbeatsCache=yield je._heartbeatsCachePromise),je._heartbeatsCache.lastSentHeartbeatDate!==jt&&!je._heartbeatsCache.heartbeats.some(nn=>nn.date===jt))return je._heartbeatsCache.heartbeats.push({date:jt,agent:it}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(nn=>{const An=new Date(nn.date).valueOf();return Date.now()-An<=2592e6}),je._storage.overwrite(je._heartbeatsCache)})()}getHeartbeatsHeader(){var je=this;return(0,m.Z)(function*(){if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null===je._heartbeatsCache||0===je._heartbeatsCache.heartbeats.length)return"";const Et=gn(),{heartbeatsToSend:it,unsentEntries:jt}=function vr(Be,je=1024){const Et=[];let it=Be.slice();for(const jt of Be){const nn=Et.find(An=>An.agent===jt.agent);if(nn){if(nn.dates.push(jt.date),Rt(Et)>je){nn.dates.pop();break}}else if(Et.push({agent:jt.agent,dates:[jt.date]}),Rt(Et)>je){Et.pop();break}it=it.slice(1)}return{heartbeatsToSend:Et,unsentEntries:it}}(je._heartbeatsCache.heartbeats),nn=(0,Ee.L)(JSON.stringify({version:2,heartbeats:it}));return je._heartbeatsCache.lastSentHeartbeatDate=Et,jt.length>0?(je._heartbeatsCache.heartbeats=jt,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),nn})()}}function gn(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,m.Z)(function*(){return(yield je._canUseIndexedDBPromise)&&(yield function se(Be){return Y.apply(this,arguments)}(je.app))||{heartbeats:[]}})()}overwrite(je){var Et=this;return(0,m.Z)(function*(){var it;if(yield Et._canUseIndexedDBPromise){const nn=yield Et.read();return Re(Et.app,{lastSentHeartbeatDate:null!==(it=je.lastSentHeartbeatDate)&&void 0!==it?it:nn.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var Et=this;return(0,m.Z)(function*(){var it;if(yield Et._canUseIndexedDBPromise){const nn=yield Et.read();return Re(Et.app,{lastSentHeartbeatDate:null!==(it=je.lastSentHeartbeatDate)&&void 0!==it?it:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...je.heartbeats]})}})()}}function Rt(Be){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function Qt(Be){Ot(new v.wA("platform-logger",je=>new qe(je),"PRIVATE")),Ot(new v.wA("heartbeat",je=>new Bn(je),"PRIVATE")),Ln(dt,"0.9.10",Be),Ln(dt,"0.9.10","esm2017"),Ln("fire-js","")}("")},4859:(Gt,He,V)=>{V.d(He,{H0:()=>de,wA:()=>_});var m=V(5861),v=V(2090);class _{constructor(ae,he,ke){this.name=ae,this.instanceFactory=he,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const Ee="[DEFAULT]";class oe{constructor(ae,he){this.name=ae,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const he=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(he)){const ke=new v.BH;if(this.instancesDeferred.set(he,ke),this.isInitialized(he)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:he});at&&ke.resolve(at)}catch(at){}}return this.instancesDeferred.get(he).promise}getImmediate(ae){var he;const ke=this.normalizeInstanceIdentifier(null==ae?void 0:ae.identifier),at=null!==(he=null==ae?void 0:ae.optional)&&void 0!==he&&he;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(ct){if(at)return null;throw ct}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Se(We){return"EAGER"===We.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(he){}for(const[he,ke]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(he);try{const ct=this.getOrInitializeService({instanceIdentifier:at});ke.resolve(ct)}catch(ct){}}}}clearInstance(ae=Ee){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,m.Z)(function*(){const he=Array.from(ae.instances.values());yield Promise.all([...he.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...he.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=Ee){return this.instances.has(ae)}getOptions(ae=Ee){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:he={}}=ae,ke=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:ke,options:he});for(const[ct,tt]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(ct)&&tt.resolve(at);return at}onInit(ae,he){var ke;const at=this.normalizeInstanceIdentifier(he),ct=null!==(ke=this.onInitCallbacks.get(at))&&void 0!==ke?ke:new Set;ct.add(ae),this.onInitCallbacks.set(at,ct);const tt=this.instances.get(at);return tt&&ae(tt,at),()=>{ct.delete(ae)}}invokeOnInitCallbacks(ae,he){const ke=this.onInitCallbacks.get(he);if(ke)for(const at of ke)try{at(ae,he)}catch(ct){}}getOrInitializeService({instanceIdentifier:ae,options:he={}}){let ke=this.instances.get(ae);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(We=ae,We===Ee?void 0:We),options:he}),this.instances.set(ae,ke),this.instancesOptions.set(ae,he),this.invokeOnInitCallbacks(ke,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ke)}catch(at){}var We;return ke||null}normalizeInstanceIdentifier(ae=Ee){return this.component?this.component.multipleInstances?ae:Ee:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const he=this.getProvider(ae.name);if(he.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);he.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const he=new oe(ae,this);return this.providers.set(ae,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,He,V)=>{V.d(He,{Am:()=>We,Ub:()=>de,Yd:()=>Se,in:()=>v});const m=[];var v=(()=>{return(ae=v||(v={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",v;var ae})();const _={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},Ee=v.INFO,oe={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Ae=(ae,he,...ke)=>{if(he<ae.logLevel)return;const at=(new Date).toISOString(),ct=oe[he];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ct](`[${at}]  ${ae.name}:`,...ke)};class Se{constructor(he){this.name=he,this._logLevel=Ee,this._logHandler=Ae,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in v))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?_[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...he),this._logHandler(this,v.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...he),this._logHandler(this,v.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,v.INFO,...he),this._logHandler(this,v.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,v.WARN,...he),this._logHandler(this,v.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...he),this._logHandler(this,v.ERROR,...he)}}function de(ae){m.forEach(he=>{he.setLogLevel(ae)})}function We(ae,he){for(const ke of m){let at=null;he&&he.level&&(at=_[he.level]),ke.userLogHandler=null===ae?null:(ct,tt,...Ct)=>{const Ne=Ct.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch(Mt){return null}}).filter(st=>st).join(" ");tt>=(null!=at?at:ct.logLevel)&&ae({level:v[tt].toLowerCase(),message:Ne,args:Ct,type:ct.name})}}}},259:(Gt,He,V)=>{V.d(He,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=V(6881);(0,m.registerVersion)("firebase","9.22.0","app")},9260:(Gt,He,V)=>{V.d(He,{Z:()=>m.Z});var m=V(3942);m.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Gt,He,V)=>{V.r(He);var m=V(5861),v=V(3942),_=V(1389),Ee=V(2090),Se=(V(6881),V(1877),V(4859));function de(){return window}function he(){return(he=(0,m.Z)(function*(ie,se,Y){var Re;const{BuildInfo:Qe}=de();(0,_.as)(se.sessionId,"AuthEvent did not contain a session ID");const Bt=yield st(se.sessionId),In={};return(0,_.at)()?In.ibi=Qe.packageName:(0,_.au)()?In.apn=Qe.packageName:(0,_.av)(ie,"operation-not-supported-in-this-environment"),Qe.displayName&&(In.appDisplayName=Qe.displayName),In.sessionId=Bt,(0,_.aw)(ie,Y,se.type,void 0,null!==(Re=se.eventId)&&void 0!==Re?Re:void 0,In)})).apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(ie){const{BuildInfo:se}=de(),Y={};(0,_.at)()?Y.iosBundleId=se.packageName:(0,_.au)()?Y.androidPackageName=se.packageName:(0,_.av)(ie,"operation-not-supported-in-this-environment"),yield(0,_.ax)(ie,Y)})).apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(ie,se,Y){const{cordova:Re}=de();let Qe=()=>{};try{yield new Promise((Bt,In)=>{let fn=null;function Bn(){var Tt;Bt();const Rt=null===(Tt=Re.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof Rt&&Rt(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function gn(){fn||(fn=window.setTimeout(()=>{In((0,_.az)(ie,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}se.addPassiveListener(Bn),document.addEventListener("resume",gn,!1),(0,_.au)()&&document.addEventListener("visibilitychange",vr,!1),Qe=()=>{se.removePassiveListener(Bn),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",vr,!1),fn&&window.clearTimeout(fn)}})}finally{Qe()}})).apply(this,arguments)}function st(ie){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(ie){const se=Ft(ie),Y=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(Y)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ft(ie){if((0,_.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const se=new ArrayBuffer(ie.length),Y=new Uint8Array(se);for(let Re=0;Re<ie.length;Re++)Y[Re]=ie.charCodeAt(Re);return Y}class Je extends _.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(se)),super.onEvent(se)}initialized(){var se=this;return(0,m.Z)(function*(){yield se.initPromise})()}}function vt(ie){return ge.apply(this,arguments)}function ge(){return(ge=(0,m.Z)(function*(ie){const se=yield qe()._get(Ye(ie));return se&&(yield qe()._remove(Ye(ie))),se})).apply(this,arguments)}function Fe(){const ie=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const Re=Math.floor(Math.random()*se.length);ie.push(se.charAt(Re))}return ie.join("")}function qe(){return(0,_.aC)(_.b)}function Ye(ie){return(0,_.aD)("authEvent",ie.config.apiKey,ie.name)}function bt(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[se,...Y]=ie.split("?");return(0,Ee.zd)(Y.join("?"))}function It(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.az)("no-auth-event")}}function wn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function Tn(ie=(0,Ee.z$)()){return!("file:"!==wn()&&"ionic:"!==wn()&&"capacitor:"!==wn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){try{const ie=self.localStorage,se=_.aL();if(ie)return ie.setItem(se,"1"),ie.removeItem(se),!function wr(ie=(0,Ee.z$)()){return function _r(){return(0,Ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function di(ie=(0,Ee.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,Ee.hl)()}catch(ie){return Kn()&&(0,Ee.hl)()}return!1}function Kn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mr(){return(function Hn(){return"http:"===wn()||"https:"===wn()}()||(0,Ee.ru)()||Tn())&&!function qn(){return(0,Ee.b$)()||(0,Ee.UG)()}()&&br()&&!Kn()}function Vr(){return Tn()&&"undefined"!=typeof document}function Jn(){return(Jn=(0,m.Z)(function*(){return!!Vr()&&new Promise(ie=>{const se=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(se),ie(!0)})})})).apply(this,arguments)}const pn={LOCAL:"local",NONE:"none",SESSION:"session"},ni=_.aA,Mi="persistence";function be(ie){return xe.apply(this,arguments)}function xe(){return(xe=(0,m.Z)(function*(ie){yield ie._initializationPromise;const se=Le(),Y=_.aD(Mi,ie.config.apiKey,ie.name);se&&se.setItem(Y,ie._getPersistence())})).apply(this,arguments)}function Le(){var ie;try{return(null===(ie=function Un(){return"undefined"!=typeof window?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch(se){return null}}const xt=_.aA;class Ot{constructor(){this.browserResolver=_.aC(_.k),this.cordovaResolver=_.aC(class $t{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aE,this._overrideRedirectResult=_.aF}_initialize(se){var Y=this;return(0,m.Z)(function*(){const Re=se._key();let Qe=Y.eventManagers.get(Re);return Qe||(Qe=new Je(se),Y.eventManagers.set(Re,Qe),Y.attachCallbackListeners(se,Qe)),Qe})()}_openPopup(se){(0,_.av)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,Y,Re,Qe){var Bt=this;return(0,m.Z)(function*(){!function Ne(ie){var se,Y,Re,Qe,Bt,In,fn,Bn,gn,vr;const Tt=de();(0,_.aA)("function"==typeof(null===(se=null==Tt?void 0:Tt.universalLinks)||void 0===se?void 0:se.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.aA)(void 0!==(null===(Y=null==Tt?void 0:Tt.BuildInfo)||void 0===Y?void 0:Y.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.aA)("function"==typeof(null===(Bt=null===(Qe=null===(Re=null==Tt?void 0:Tt.cordova)||void 0===Re?void 0:Re.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Bt?void 0:Bt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aA)("function"==typeof(null===(Bn=null===(fn=null===(In=null==Tt?void 0:Tt.cordova)||void 0===In?void 0:In.plugins)||void 0===fn?void 0:fn.browsertab)||void 0===Bn?void 0:Bn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aA)("function"==typeof(null===(vr=null===(gn=null==Tt?void 0:Tt.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===vr?void 0:vr.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const In=yield Bt._initialize(se);yield In.initialized(),In.resetRedirect(),(0,_.aG)(),yield Bt._originValidation(se);const fn=function ht(ie,se,Y=null){return{type:se,eventId:Y,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:ie.tenantId,error:(0,_.az)(ie,"no-auth-event")}}(se,Re,Qe);yield function nt(ie,se){return qe()._set(Ye(ie),se)}(se,fn);const Bn=yield function ae(ie,se,Y){return he.apply(this,arguments)}(se,fn,Y),gn=yield function ct(ie){const{cordova:se}=de();return new Promise(Y=>{se.plugins.browsertab.isAvailable(Re=>{let Qe=null;Re?se.plugins.browsertab.openUrl(ie):Qe=se.InAppBrowser.open(ie,(0,_.ay)()?"_blank":"_system","location=yes"),Y(Qe)})})}(Bn);return function tt(ie,se,Y){return Ct.apply(this,arguments)}(se,In,gn)})()}_isIframeWebStorageSupported(se,Y){throw new Error("Method not implemented.")}_originValidation(se){const Y=se._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function ke(ie){return at.apply(this,arguments)}(se)),this.originValidationPromises[Y]}attachCallbackListeners(se,Y){const{universalLinks:Re,handleOpenURL:Qe,BuildInfo:Bt}=de(),In=setTimeout((0,m.Z)(function*(){yield vt(se),Y.onEvent(It())}),500),fn=function(){var vr=(0,m.Z)(function*(Tt){clearTimeout(In);const Rt=yield vt(se);let Qt=null;Rt&&(null==Tt?void 0:Tt.url)&&(Qt=function St(ie,se){var Y,Re;const Qe=function ut(ie){const se=bt(ie),Y=se.link?decodeURIComponent(se.link):void 0,Re=bt(Y).link,Qe=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return bt(Qe).link||Qe||Re||Y||ie}(se);if(Qe.includes("/__/auth/callback")){const Bt=bt(Qe),In=Bt.firebaseError?function dt(ie){try{return JSON.parse(ie)}catch(se){return null}}(decodeURIComponent(Bt.firebaseError)):null,fn=null===(Re=null===(Y=null==In?void 0:In.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Re?void 0:Re[1],Bn=fn?(0,_.az)(fn):null;return Bn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Bn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Qe,postBody:null}}return null}(Rt,Tt.url)),Y.onEvent(Qt||It())});return function(Rt){return vr.apply(this,arguments)}}();void 0!==Re&&"function"==typeof Re.subscribe&&Re.subscribe(null,fn);const Bn=Qe,gn=`${Bt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var vr=(0,m.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(gn)&&fn({url:Tt}),"function"==typeof Bn)try{Bn(Tt)}catch(Rt){console.error(Rt)}});return function(Tt){return vr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aE,this._overrideRedirectResult=_.aF}_initialize(se){var Y=this;return(0,m.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,Y,Re,Qe){var Bt=this;return(0,m.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openPopup(se,Y,Re,Qe)})()}_openRedirect(se,Y,Re,Qe){var Bt=this;return(0,m.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openRedirect(se,Y,Re,Qe)})()}_isIframeWebStorageSupported(se,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,Y)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return Vr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,m.Z)(function*(){if(se.underlyingResolver)return;const Y=yield function hn(){return Jn.apply(this,arguments)}();se.underlyingResolver=Y?se.cordovaResolver:se.browserResolver})()}}function Xn(ie){return ie.unwrap()}function Cn(ie){return pr(ie)}function pr(ie){const{_tokenResponse:se}=ie instanceof Ee.ZR?ie.customData:ie;if(!se)return null;if(!(ie instanceof Ee.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return _.P.credentialFromResult(ie);const Y=se.providerId;if(!Y||Y===_.p.PASSWORD)return null;let Re;switch(Y){case _.p.GOOGLE:Re=_.V;break;case _.p.FACEBOOK:Re=_.U;break;case _.p.GITHUB:Re=_.W;break;case _.p.TWITTER:Re=_.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:Bt,oauthTokenSecret:In,pendingToken:fn,nonce:Bn}=se;return Bt||In||Qe||fn?fn?Y.startsWith("saml.")?_.aO._create(Y,fn):_.L._fromParams({providerId:Y,signInMethod:Y,pendingToken:fn,idToken:Qe,accessToken:Bt}):new _.X(Y).credential({idToken:Qe,accessToken:Bt,rawNonce:Bn}):null}return ie instanceof Ee.ZR?Re.credentialFromError(ie):Re.credentialFromResult(ie)}function Rn(ie,se){return se.catch(Y=>{throw Y instanceof Ee.ZR&&function Gr(ie,se){var Y;const Re=null===(Y=se.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===(null==se?void 0:se.code))se.resolver=new Nn(ie,_.aq(ie,se));else if(Re){const Qe=pr(se),Bt=se;Qe&&(Bt.credential=Qe,Bt.tenantId=Re.tenantId||void 0,Bt.email=Re.email||void 0,Bt.phoneNumber=Re.phoneNumber||void 0)}}(ie,Y),Y}).then(Y=>{const Qe=Y.user;return{operationType:Y.operationType,credential:Cn(Y),additionalUserInfo:_.ao(Y),user:Pr.getOrCreate(Qe)}})}function Ht(ie,se){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(ie,se){const Y=yield se;return{verificationId:Y.verificationId,confirm:Re=>Rn(ie,Y.confirm(Re))}})).apply(this,arguments)}class Nn{constructor(se,Y){this.resolver=Y,this.auth=function On(ie){return ie.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return Rn(Xn(this.auth),this.resolver.resolveSignIn(se))}}class Pr{constructor(se){this._delegate=se,this.multiFactor=_.ar(se)}static getOrCreate(se){return Pr.USER_MAP.has(se)||Pr.USER_MAP.set(se,new Pr(se)),Pr.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var Y=this;return(0,m.Z)(function*(){return Rn(Y.auth,_.a0(Y._delegate,se))})()}linkWithPhoneNumber(se,Y){var Re=this;return(0,m.Z)(function*(){return Ht(Re.auth,_.l(Re._delegate,se,Y))})()}linkWithPopup(se){var Y=this;return(0,m.Z)(function*(){return Rn(Y.auth,_.d(Y._delegate,se,Ot))})()}linkWithRedirect(se){var Y=this;return(0,m.Z)(function*(){return yield be(_.aH(Y.auth)),_.g(Y._delegate,se,Ot)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var Y=this;return(0,m.Z)(function*(){return Rn(Y.auth,_.a1(Y._delegate,se))})()}reauthenticateWithPhoneNumber(se,Y){return Ht(this.auth,_.r(this._delegate,se,Y))}reauthenticateWithPopup(se){return Rn(this.auth,_.e(this._delegate,se,Ot))}reauthenticateWithRedirect(se){var Y=this;return(0,m.Z)(function*(){return yield be(_.aH(Y.auth)),_.h(Y._delegate,se,Ot)})()}sendEmailVerification(se){return _.ae(this._delegate,se)}unlink(se){var Y=this;return(0,m.Z)(function*(){return yield _.an(Y._delegate,se),Y})()}updateEmail(se){return _.aj(this._delegate,se)}updatePassword(se){return _.ak(this._delegate,se)}updatePhoneNumber(se){return _.u(this._delegate,se)}updateProfile(se){return _.ai(this._delegate,se)}verifyBeforeUpdateEmail(se,Y){return _.af(this._delegate,se,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pr.USER_MAP=new WeakMap;const tn=_.aA;let kn=(()=>{class ie{constructor(Y,Re){if(this.app=Y,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=Y.options;tn(Qe,"invalid-api-key",{appName:Y.name}),tn(Qe,"invalid-api-key",{appName:Y.name});const Bt="undefined"!=typeof window?Ot:void 0;this._delegate=Re.initialize({options:{persistence:er(Qe,Y.name),popupRedirectResolver:Bt}}),this._delegate._updateErrorMap(_.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Re){_.I(this._delegate,Y,Re)}applyActionCode(Y){return _.a5(this._delegate,Y)}checkActionCode(Y){return _.a6(this._delegate,Y)}confirmPasswordReset(Y,Re){return _.a4(this._delegate,Y,Re)}createUserWithEmailAndPassword(Y,Re){var Qe=this;return(0,m.Z)(function*(){return Rn(Qe._delegate,_.a8(Qe._delegate,Y,Re))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return _.ad(this._delegate,Y)}isSignInWithEmailLink(Y){return _.ab(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,m.Z)(function*(){tn(Mr(),Y._delegate,"operation-not-supported-in-this-environment");const Re=yield _.j(Y._delegate,Ot);return Re?Rn(Y._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function Yn(ie,se){(0,_.aH)(ie)._logFramework(se)}(this._delegate,Y)}onAuthStateChanged(Y,Re,Qe){const{next:Bt,error:In,complete:fn}=Ln(Y,Re,Qe);return this._delegate.onAuthStateChanged(Bt,In,fn)}onIdTokenChanged(Y,Re,Qe){const{next:Bt,error:In,complete:fn}=Ln(Y,Re,Qe);return this._delegate.onIdTokenChanged(Bt,In,fn)}sendSignInLinkToEmail(Y,Re){return _.aa(this._delegate,Y,Re)}sendPasswordResetEmail(Y,Re){return _.a3(this._delegate,Y,Re||void 0)}setPersistence(Y){var Re=this;return(0,m.Z)(function*(){let Qe;switch(function mt(ie,se){ni(Object.values(pn).includes(se),ie,"invalid-persistence-type"),(0,Ee.b$)()?ni(se!==pn.SESSION,ie,"unsupported-persistence-type"):(0,Ee.UG)()?ni(se===pn.NONE,ie,"unsupported-persistence-type"):Kn()?ni(se===pn.NONE||se===pn.LOCAL&&(0,Ee.hl)(),ie,"unsupported-persistence-type"):ni(se===pn.NONE||br(),ie,"unsupported-persistence-type")}(Re._delegate,Y),Y){case pn.SESSION:Qe=_.a;break;case pn.LOCAL:Qe=(yield _.aC(_.i)._isAvailable())?_.i:_.b;break;case pn.NONE:Qe=_.N;break;default:return _.av("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Rn(this._delegate,_._(this._delegate))}signInWithCredential(Y){return Rn(this._delegate,_.$(this._delegate,Y))}signInWithCustomToken(Y){return Rn(this._delegate,_.a2(this._delegate,Y))}signInWithEmailAndPassword(Y,Re){return Rn(this._delegate,_.a9(this._delegate,Y,Re))}signInWithEmailLink(Y,Re){return Rn(this._delegate,_.ac(this._delegate,Y,Re))}signInWithPhoneNumber(Y,Re){return Ht(this._delegate,_.s(this._delegate,Y,Re))}signInWithPopup(Y){var Re=this;return(0,m.Z)(function*(){return tn(Mr(),Re._delegate,"operation-not-supported-in-this-environment"),Rn(Re._delegate,_.c(Re._delegate,Y,Ot))})()}signInWithRedirect(Y){var Re=this;return(0,m.Z)(function*(){return tn(Mr(),Re._delegate,"operation-not-supported-in-this-environment"),yield be(Re._delegate),_.f(Re._delegate,Y,Ot)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return _.a7(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=pn,ie})();function Ln(ie,se,Y){let Re=ie;"function"!=typeof ie&&({next:Re,error:se,complete:Y}=ie);const Qe=Re;return{next:In=>Qe(In&&Pr.getOrCreate(In)),error:se,complete:Y}}function er(ie,se){const Y=function gt(ie,se){const Y=Le();if(!Y)return[];const Re=_.aD(Mi,ie,se);switch(Y.getItem(Re)){case pn.NONE:return[_.N];case pn.LOCAL:return[_.i,_.a];case pn.SESSION:return[_.a];default:return[]}}(ie,se);if("undefined"!=typeof self&&!Y.includes(_.i)&&Y.push(_.i),"undefined"!=typeof window)for(const Re of[_.b,_.a])Y.includes(Re)||Y.push(Re);return Y.includes(_.N)||Y.push(_.N),Y}class ai{constructor(){this.providerId="phone",this._delegate=new _.P(Xn(v.Z.auth()))}static credential(se,Y){return _.P.credential(se,Y)}verifyPhoneNumber(se,Y){return this._delegate.verifyPhoneNumber(se,Y)}unwrap(){return this._delegate}}ai.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,ai.PROVIDER_ID=_.P.PROVIDER_ID;const ri=_.aA;class Yr{constructor(se,Y,Re=v.Z.app()){var Qe;ri(null===(Qe=Re.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new _.R(se,Y,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function me(ie){ie.INTERNAL.registerComponent(new Se.wA("auth-compat",se=>{const Y=se.getProvider("app-compat").getImmediate(),Re=se.getProvider("auth");return new kn(Y,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.Q,FacebookAuthProvider:_.U,GithubAuthProvider:_.W,GoogleAuthProvider:_.V,OAuthProvider:_.X,SAMLAuthProvider:_.Y,PhoneAuthProvider:ai,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:Yr,TwitterAuthProvider:_.Z,Auth:kn,AuthCredential:_.J,Error:Ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(v.Z)},5861:(Gt,He,V)=>{function m(_,Ee,oe,Ae,Se,de,We){try{var ae=_[de](We),he=ae.value}catch(ke){return void oe(ke)}ae.done?Ee(he):Promise.resolve(he).then(Ae,Se)}function v(_){return function(){var Ee=this,oe=arguments;return new Promise(function(Ae,Se){var de=_.apply(Ee,oe);function We(he){m(de,Ae,Se,We,ae,"next",he)}function ae(he){m(de,Ae,Se,We,ae,"throw",he)}We(void 0)})}}V.d(He,{Z:()=>v})}},Gt=>{Gt(Gt.s=5316)}]);